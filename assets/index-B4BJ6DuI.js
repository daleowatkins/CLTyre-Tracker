(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Nd={exports:{}},vo={};var R_;function _b(){if(R_)return vo;R_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return vo.Fragment=e,vo.jsx=i,vo.jsxs=i,vo}var x_;function vb(){return x_||(x_=1,Nd.exports=_b()),Nd.exports}var E=vb(),Id={exports:{}},we={};var C_;function Eb(){if(C_)return we;C_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function Q(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,W={};function de(D,K,te){this.props=D,this.context=K,this.refs=W,this.updater=te||H}de.prototype.isReactComponent={},de.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},de.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=de.prototype;function oe(D,K,te){this.props=D,this.context=K,this.refs=W,this.updater=te||H}var ne=oe.prototype=new $;ne.constructor=oe,se(ne,de.prototype),ne.isPureReactComponent=!0;var Te=Array.isArray;function me(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(D,K,te){var ae=te.ref;return{$$typeof:r,type:D,key:K,ref:ae!==void 0?ae:null,props:te}}function V(D,K){return R(D.type,K,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function j(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return K[te]})}var x=/\/+/g;function tt(D,K){return typeof D=="object"&&D!==null&&D.key!=null?j(""+D.key):K.toString(36)}function ut(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(me,me):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,K,te,ae,le){var ce=typeof D;(ce==="undefined"||ce==="boolean")&&(D=null);var Ce=!1;if(D===null)Ce=!0;else switch(ce){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(D.$$typeof){case r:case e:Ce=!0;break;case S:return Ce=D._init,F(Ce(D._payload),K,te,ae,le)}}if(Ce)return le=le(D),Ce=ae===""?"."+tt(D,0):ae,Te(le)?(te="",Ce!=null&&(te=Ce.replace(x,"$&/")+"/"),F(le,K,te,"",function(ni){return ni})):le!=null&&(O(le)&&(le=V(le,te+(le.key==null||D&&D.key===le.key?"":(""+le.key).replace(x,"$&/")+"/")+Ce)),K.push(le)),1;Ce=0;var ft=ae===""?".":ae+":";if(Te(D))for(var We=0;We<D.length;We++)ae=D[We],ce=ft+tt(ae,We),Ce+=F(ae,K,te,ce,le);else if(We=Q(D),typeof We=="function")for(D=We.call(D),We=0;!(ae=D.next()).done;)ae=ae.value,ce=ft+tt(ae,We++),Ce+=F(ae,K,te,ce,le);else if(ce==="object"){if(typeof D.then=="function")return F(ut(D),K,te,ae,le);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function re(D,K,te){if(D==null)return D;var ae=[],le=0;return F(D,ae,"","",function(ce){return K.call(te,ce,le++)}),ae}function ee(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},be={map:re,forEach:function(D,K,te){re(D,function(){K.apply(this,arguments)},te)},count:function(D){var K=0;return re(D,function(){K++}),K},toArray:function(D){return re(D,function(K){return K})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return we.Activity=A,we.Children=be,we.Component=de,we.Fragment=i,we.Profiler=o,we.PureComponent=oe,we.StrictMode=a,we.Suspense=_,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},we.cache=function(D){return function(){return D.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(D,K,te){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=se({},D.props),le=D.key;if(K!=null)for(ce in K.key!==void 0&&(le=""+K.key),K)!w.call(K,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&K.ref===void 0||(ae[ce]=K[ce]);var ce=arguments.length-2;if(ce===1)ae.children=te;else if(1<ce){for(var Ce=Array(ce),ft=0;ft<ce;ft++)Ce[ft]=arguments[ft+2];ae.children=Ce}return R(D.type,le,ae)},we.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},we.createElement=function(D,K,te){var ae,le={},ce=null;if(K!=null)for(ae in K.key!==void 0&&(ce=""+K.key),K)w.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(le[ae]=K[ae]);var Ce=arguments.length-2;if(Ce===1)le.children=te;else if(1<Ce){for(var ft=Array(Ce),We=0;We<Ce;We++)ft[We]=arguments[We+2];le.children=ft}if(D&&D.defaultProps)for(ae in Ce=D.defaultProps,Ce)le[ae]===void 0&&(le[ae]=Ce[ae]);return R(D,ce,le)},we.createRef=function(){return{current:null}},we.forwardRef=function(D){return{$$typeof:g,render:D}},we.isValidElement=O,we.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:ee}},we.memo=function(D,K){return{$$typeof:y,type:D,compare:K===void 0?null:K}},we.startTransition=function(D){var K=N.T,te={};N.T=te;try{var ae=D(),le=N.S;le!==null&&le(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(me,ge)}catch(ce){ge(ce)}finally{K!==null&&te.types!==null&&(K.types=te.types),N.T=K}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(D){return N.H.use(D)},we.useActionState=function(D,K,te){return N.H.useActionState(D,K,te)},we.useCallback=function(D,K){return N.H.useCallback(D,K)},we.useContext=function(D){return N.H.useContext(D)},we.useDebugValue=function(){},we.useDeferredValue=function(D,K){return N.H.useDeferredValue(D,K)},we.useEffect=function(D,K){return N.H.useEffect(D,K)},we.useEffectEvent=function(D){return N.H.useEffectEvent(D)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(D,K,te){return N.H.useImperativeHandle(D,K,te)},we.useInsertionEffect=function(D,K){return N.H.useInsertionEffect(D,K)},we.useLayoutEffect=function(D,K){return N.H.useLayoutEffect(D,K)},we.useMemo=function(D,K){return N.H.useMemo(D,K)},we.useOptimistic=function(D,K){return N.H.useOptimistic(D,K)},we.useReducer=function(D,K,te){return N.H.useReducer(D,K,te)},we.useRef=function(D){return N.H.useRef(D)},we.useState=function(D){return N.H.useState(D)},we.useSyncExternalStore=function(D,K,te){return N.H.useSyncExternalStore(D,K,te)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.3",we}var N_;function _m(){return N_||(N_=1,Id.exports=Eb()),Id.exports}var Re=_m(),Dd={exports:{}},Eo={},Od={exports:{}},Md={};var I_;function Tb(){return I_||(I_=1,(function(r){function e(F,re){var ee=F.length;F.push(re);e:for(;0<ee;){var ge=ee-1>>>1,be=F[ge];if(0<o(be,re))F[ge]=re,F[ee]=be,ee=ge;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var re=F[0],ee=F.pop();if(ee!==re){F[0]=ee;e:for(var ge=0,be=F.length,D=be>>>1;ge<D;){var K=2*(ge+1)-1,te=F[K],ae=K+1,le=F[ae];if(0>o(te,ee))ae<be&&0>o(le,te)?(F[ge]=le,F[ae]=ee,ge=ae):(F[ge]=te,F[K]=ee,ge=K);else if(ae<be&&0>o(le,ee))F[ge]=le,F[ae]=ee,ge=ae;else break e}}return re}function o(F,re){var ee=F.sortIndex-re.sortIndex;return ee!==0?ee:F.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],S=1,A=null,I=3,Q=!1,H=!1,se=!1,W=!1,de=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ne(F){for(var re=i(y);re!==null;){if(re.callback===null)a(y);else if(re.startTime<=F)a(y),re.sortIndex=re.expirationTime,e(_,re);else break;re=i(y)}}function Te(F){if(se=!1,ne(F),!H)if(i(_)!==null)H=!0,me||(me=!0,j());else{var re=i(y);re!==null&&ut(Te,re.startTime-F)}}var me=!1,N=-1,w=5,R=-1;function V(){return W?!0:!(r.unstable_now()-R<w)}function O(){if(W=!1,me){var F=r.unstable_now();R=F;var re=!0;try{e:{H=!1,se&&(se=!1,$(N),N=-1),Q=!0;var ee=I;try{t:{for(ne(F),A=i(_);A!==null&&!(A.expirationTime>F&&V());){var ge=A.callback;if(typeof ge=="function"){A.callback=null,I=A.priorityLevel;var be=ge(A.expirationTime<=F);if(F=r.unstable_now(),typeof be=="function"){A.callback=be,ne(F),re=!0;break t}A===i(_)&&a(_),ne(F)}else a(_);A=i(_)}if(A!==null)re=!0;else{var D=i(y);D!==null&&ut(Te,D.startTime-F),re=!1}}break e}finally{A=null,I=ee,Q=!1}re=void 0}}finally{re?j():me=!1}}}var j;if(typeof oe=="function")j=function(){oe(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,tt=x.port2;x.port1.onmessage=O,j=function(){tt.postMessage(null)}}else j=function(){de(O,0)};function ut(F,re){N=de(function(){F(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(F){switch(I){case 1:case 2:case 3:var re=3;break;default:re=I}var ee=I;I=re;try{return F()}finally{I=ee}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=I;I=F;try{return re()}finally{I=ee}},r.unstable_scheduleCallback=function(F,re,ee){var ge=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ge+ee:ge):ee=ge,F){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ee+be,F={id:S++,callback:re,priorityLevel:F,startTime:ee,expirationTime:be,sortIndex:-1},ee>ge?(F.sortIndex=ee,e(y,F),i(_)===null&&F===i(y)&&(se?($(N),N=-1):se=!0,ut(Te,ee-ge))):(F.sortIndex=be,e(_,F),H||Q||(H=!0,me||(me=!0,j()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var re=I;return function(){var ee=I;I=re;try{return F.apply(this,arguments)}finally{I=ee}}}})(Md)),Md}var D_;function bb(){return D_||(D_=1,Od.exports=Tb()),Od.exports}var Vd={exports:{}},Yt={};var O_;function Sb(){if(O_)return Yt;O_=1;var r=_m();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:_,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,S)},Yt.flushSync=function(_){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=S,a.d.f()}},Yt.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Yt.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Yt.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,A=g(S,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:Q}):S==="script"&&a.d.X(_,{crossOrigin:A,integrity:I,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Yt.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,A=g(S,y.crossOrigin);a.d.L(_,S,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Yt.requestFormReset=function(_){a.d.r(_)},Yt.unstable_batchedUpdates=function(_,y){return _(y)},Yt.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var M_;function Ab(){if(M_)return Vd.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=Sb(),Vd.exports}var V_;function wb(){if(V_)return Eo;V_=1;var r=bb(),e=_m(),i=Ab();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===s){p=!0,s=h,l=f;break}if(T===l){p=!0,l=h,s=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===s){p=!0,s=f,l=h;break}if(T===l){p=!0,l=f,s=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case de:return"Profiler";case W:return"StrictMode";case Te:return"Suspense";case me:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case oe:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case ne:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var ut=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ge=[],be=-1;function D(t){return{current:t}}function K(t){0>be||(t.current=ge[be],ge[be]=null,be--)}function te(t,n){be++,ge[be]=t.current,t.current=n}var ae=D(null),le=D(null),ce=D(null),Ce=D(null);function ft(t,n){switch(te(ce,n),te(le,t),te(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Xy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Xy(n),t=$y(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ae),te(ae,t)}function We(){K(ae),K(le),K(ce)}function ni(t){t.memoizedState!==null&&te(Ce,t);var n=ae.current,s=$y(n,t.type);n!==s&&(te(le,t),te(ae,s))}function dn(t){le.current===t&&(K(ae),K(le)),Ce.current===t&&(K(Ce),po._currentValue=ee)}var Jr,Wr;function ii(t){if(Jr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",Wr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+t+Wr}var ml=!1;function or(t,n){if(!t||ml)return"";ml=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){z=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),P=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{ml=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ii(s):""}function pl(t,n){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return or(t.type,!1);case 11:return or(t.type.render,!1);case 1:return or(t.type,!0);case 31:return ii("Activity");default:return""}}function gl(t){try{var n="",s=null;do n+=pl(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,It=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,Xo=r.unstable_requestPaint,tn=r.unstable_now,ur=r.unstable_getCurrentPriorityLevel,yl=r.unstable_ImmediatePriority,_l=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,Dh=r.unstable_LowPriority,$o=r.unstable_IdlePriority,Zo=r.log,Jo=r.unstable_setDisableYieldValue,Pn=null,Pt=null;function An(t){if(typeof Zo=="function"&&Jo(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Pn,t)}catch{}}var dt=Math.clz32?Math.clz32:eu,Wo=Math.log,ea=Math.LN2;function eu(t){return t>>>=0,t===0?32:31-(Wo(t)/ea|0)|0}var si=256,cr=262144,vt=4194304;function ri(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ri(l):(p&=T,p!==0?h=ri(p):s||(s=T&~t,s!==0&&(h=ri(s))))):(T=l&~f,T!==0?h=ri(T):p!==0?h=ri(p):s||(s=l&~t,s!==0&&(h=ri(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function li(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function hr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,s,l,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(s=p&~s;0<s;){var G=31-dt(s),X=1<<G;T[G]=0,C[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&fr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function fr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-dt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function vl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-dt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function El(t,n){var s=n&-n;return s=(s&42)!==0?1:dr(s),(s&(t.suspendedLanes|n))!==0?0:s}function dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:v_(t.type))}function Bn(t,n){var s=re.p;try{return re.p=t,n()}finally{re.p=s}}var qn=Math.random().toString(36).slice(2),Et="__reactFiber$"+qn,kt="__reactProps$"+qn,oi="__reactContainer$"+qn,ta="__reactEvents$"+qn,Vh="__reactListeners$"+qn,iu="__reactHandles$"+qn,su="__reactResources$"+qn,ui="__reactMarker$"+qn;function na(t){delete t[Et],delete t[kt],delete t[ta],delete t[Vh],delete t[iu]}function ci(t){var n=t[Et];if(n)return n;for(var s=t.parentNode;s;){if(n=s[oi]||s[Et]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=i_(t);t!==null;){if(s=t[Et])return s;t=i_(t)}return n}t=s,s=t.parentNode}return null}function wn(t){if(t=t[Et]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function hi(t){var n=t[su];return n||(n=t[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[ui]=!0}var Tl=new Set,bl={};function fi(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(bl[t]=n,t=0;t<n.length;t++)Tl.add(n[t])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},wl={};function ru(t){return _t.call(wl,t)?!0:_t.call(Al,t)?!1:Sl.test(t)?wl[t]=!0:(Al[t]=!0,!1)}function ia(t,n,s){if(ru(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function pn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function bt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=cs(t)?"checked":"value";t._valueTracker=Rl(t,n,""+t[n])}}function mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=cs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pr=/[\n"\\]/g;function rn(t){return t.replace(pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(t,n,s,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+jt(n)):t.value!==""+jt(n)&&(t.value=""+jt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?xl(t,p,jt(n)):s!=null?xl(t,p,jt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+jt(T):t.removeAttribute("name")}function au(t,n,s,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}s=s!=null?""+jt(s):"",n=n!=null?""+jt(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Qe(t)}function xl(t,n,s){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function hs(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+jt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function lu(t,n,s){if(n!=null&&(n=""+jt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+jt(s):""}function fs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ut(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=jt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Qe(t)}function an(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||ou.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Nl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Cl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Cl(t,f,n[f])}function ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(t){return ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Il=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ms=null,pi=null;function gr(t){var n=wn(t);if(n&&(t=n.stateNode)){var s=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(sa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(a(90));sa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&mr(l)}break e;case"textarea":lu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&hs(t,!!s.multiple,n,!1)}}}var la=!1;function ps(t,n,s){if(la)return t(n,s);la=!0;try{var l=t(n);return l}finally{if(la=!1,(ms!==null||pi!==null)&&(nc(),ms&&(n=ms,t=pi,pi=ms=null,gr(n),t)))for(n=0;n<t.length;n++)gr(t[n])}}function Fn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[kt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(xn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{yr=!1}var gi=null,Dl=null,_r=null;function Ol(){if(_r)return _r;var t,n=Dl,s=n.length,l,h="value"in gi?gi.value:gi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return _r=h.slice(t,1<l?1-l:void 0)}function vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function Gn(){return!1}function zt(t){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=zt(ji),gs=A({},ji,{view:0,detail:0}),Ml=zt(gs),ys,oa,_i,ua=A({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(ys=t.screenX-_i.screenX,oa=t.screenY-_i.screenY):oa=ys=0,_i=t),ys)},movementY:function(t){return"movementY"in t?t.movementY:oa}}),Vl=zt(ua),Er=A({},ua,{dataTransfer:0}),cu=zt(Er),hu=A({},gs,{relatedTarget:0}),Tr=zt(hu),kl=A({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=zt(kl),ca=A({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),du=zt(ca),mu=A({},ji,{data:0}),vi=zt(mu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yu[t])?!!n[t]:!1}function _s(){return _u}var nn=A({},gs,{key:function(t){if(t.key){var n=pu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vu=zt(nn),Eu=A({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=zt(Eu),u=A({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=zt(u),v=A({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=zt(v),U=A({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=zt(U),ie=A({},ji,{newState:0,oldState:0}),Ne=zt(ie),mt=[9,13,27,32],He=xn&&"CompositionEvent"in window,at=null;xn&&"documentMode"in document&&(at=document.documentMode);var Cn=xn&&"TextEvent"in window&&!at,Ei=xn&&(!He||at&&8<at&&11>=at),Qn=" ",Kn=!1;function br(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function qT(t,n){switch(t){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Kn?null:t;default:return null}}function HT(t,n){if(fa)return t==="compositionend"||!He&&br(t,n)?(t=Ol(),_r=Dl=gi=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!FT[t.type]:n==="textarea"}function lp(t,n,s,l){ms?pi?pi.push(l):pi=[l]:ms=l,n=uc(n,"onChange"),0<n.length&&(s=new yi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var jl=null,Ul=null;function GT(t){Hy(t,0)}function Tu(t){var n=mn(t);if(mr(n))return t}function op(t,n){if(t==="change")return n}var up=!1;if(xn){var kh;if(xn){var jh="oninput"in document;if(!jh){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),jh=typeof cp.oninput=="function"}kh=jh}else kh=!1;up=kh&&(!document.documentMode||9<document.documentMode)}function hp(){jl&&(jl.detachEvent("onpropertychange",fp),Ul=jl=null)}function fp(t){if(t.propertyName==="value"&&Tu(Ul)){var n=[];lp(n,Ul,t,Rn(t)),ps(GT,n)}}function QT(t,n,s){t==="focusin"?(hp(),jl=n,Ul=s,jl.attachEvent("onpropertychange",fp)):t==="focusout"&&hp()}function KT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Ul)}function YT(t,n){if(t==="click")return Tu(n)}function XT(t,n){if(t==="input"||t==="change")return Tu(n)}function $T(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:$T;function Ll(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!_t.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mp(t,n){var s=dp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=dp(s)}}function pp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?pp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function gp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=mi(t.document)}return n}function Uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ZT=xn&&"documentMode"in document&&11>=document.documentMode,da=null,Lh=null,Pl=null,Ph=!1;function yp(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||da==null||da!==mi(l)||(l=da,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Ll(Pl,l)||(Pl=l,l=uc(Lh,"onSelect"),0<l.length&&(n=new yi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=da)))}function Sr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ma={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},zh={},_p={};xn&&(_p=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Ar(t){if(zh[t])return zh[t];if(!ma[t])return t;var n=ma[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in _p)return zh[t]=n[s];return t}var vp=Ar("animationend"),Ep=Ar("animationiteration"),Tp=Ar("animationstart"),JT=Ar("transitionrun"),WT=Ar("transitionstart"),e1=Ar("transitioncancel"),bp=Ar("transitionend"),Sp=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Yn(t,n){Sp.set(t,n),fi(n,[t])}var bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],pa=0,qh=0;function Su(){for(var t=pa,n=qh=pa=0;n<t;){var s=Nn[n];Nn[n++]=null;var l=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Ap(s,h,f)}}function Au(t,n,s,l){Nn[pa++]=t,Nn[pa++]=n,Nn[pa++]=s,Nn[pa++]=l,qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hh(t,n,s,l){return Au(t,n,s,l),wu(t)}function wr(t,n){return Au(t,null,null,n),wu(t)}function Ap(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-dt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function wu(t){if(50<lo)throw lo=0,Wf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ga={};function t1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,s,l){return new t1(t,n,s,l)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,n){var s=t.alternate;return s===null?(s=yn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function wp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ru(t,n,s,l,h,f){var p=0;if(l=t,typeof t=="function")Fh(t)&&(p=1);else if(typeof t=="string")p=ab(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=yn(31,s,n,h),t.elementType=R,t.lanes=f,t;case se:return Rr(s.children,h,f,n);case W:p=8,h|=24;break;case de:return t=yn(12,s,n,h|2),t.elementType=de,t.lanes=f,t;case Te:return t=yn(13,s,n,h),t.elementType=Te,t.lanes=f,t;case me:return t=yn(19,s,n,h),t.elementType=me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:p=10;break e;case $:p=9;break e;case ne:p=11;break e;case N:p=14;break e;case w:p=16,l=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=yn(p,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Rr(t,n,s,l){return t=yn(7,t,l,n),t.lanes=s,t}function Gh(t,n,s){return t=yn(6,t,null,n),t.lanes=s,t}function Rp(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function Qh(t,n,s){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xp=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var s=xp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:gl(n)},xp.set(t,n),n)}return{value:t,source:n,stack:gl(n)}}var ya=[],_a=0,xu=null,zl=0,Dn=[],On=0,vs=null,Ti=1,bi="";function Pi(t,n){ya[_a++]=zl,ya[_a++]=xu,xu=t,zl=n}function Cp(t,n,s){Dn[On++]=Ti,Dn[On++]=bi,Dn[On++]=vs,vs=t;var l=Ti;t=bi;var h=32-dt(l)-1;l&=~(1<<h),s+=1;var f=32-dt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ti=1<<32-dt(n)+h|s<<h|l,bi=f+t}else Ti=1<<f|s<<h|l,bi=t}function Kh(t){t.return!==null&&(Pi(t,1),Cp(t,1,0))}function Yh(t){for(;t===xu;)xu=ya[--_a],ya[_a]=null,zl=ya[--_a],ya[_a]=null;for(;t===vs;)vs=Dn[--On],Dn[On]=null,bi=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null}function Np(t,n){Dn[On++]=Ti,Dn[On++]=bi,Dn[On++]=vs,Ti=n.id,bi=n.overflow,vs=t}var Bt=null,nt=null,Pe=!1,Es=null,Mn=!1,Xh=Error(a(519));function Ts(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(In(n,t)),Xh}function Ip(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Et]=t,n[kt]=l,s){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<uo.length;s++)Me(uo[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),au(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),fs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Ky(n.textContent,s)?(l.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),l.onScroll!=null&&Me("scroll",n),l.onScrollEnd!=null&&Me("scrollend",n),l.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||Ts(t,!0)}function Dp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function va(t){if(t!==Bt)return!1;if(!Pe)return Dp(t),Pe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||md(t.type,t.memoizedProps)),s=!s),s&&nt&&Ts(t),Dp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));nt=n_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));nt=n_(t)}else n===27?(n=nt,ks(t.type)?(t=vd,vd=null,nt=t):nt=n):nt=Bt?kn(t.stateNode.nextSibling):null;return!0}function xr(){nt=Bt=null,Pe=!1}function $h(){var t=Es;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Es=null),t}function Bl(t){Es===null?Es=[t]:Es.push(t)}var Zh=D(null),Cr=null,zi=null;function bs(t,n,s){te(Zh,n._currentValue),n._currentValue=s}function Bi(t){t._currentValue=Zh.current,K(Zh)}function Jh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Wh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Jh(f.return,s,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Jh(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ea(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;gn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ce.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(po):t=[po])}h=h.return}t!==null&&Wh(n,t,s,l),n.flags|=262144}function Cu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Nr(t){Cr=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Op(Cr,t)}function Nu(t,n){return Cr===null&&Nr(t),Op(t,n)}function Op(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zi===null){if(t===null)throw Error(a(308));zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zi=zi.next=n;return s}var n1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},i1=r.unstable_scheduleCallback,s1=r.unstable_NormalPriority,St={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new n1,data:new Map,refCount:0}}function ql(t){t.refCount--,t.refCount===0&&i1(s1,function(){t.controller.abort()})}var Hl=null,tf=0,Ta=0,ba=null;function r1(t,n){if(Hl===null){var s=Hl=[];tf=0,Ta=rd(),ba={status:"pending",value:void 0,then:function(l){s.push(l)}}}return tf++,n.then(Mp,Mp),n}function Mp(){if(--tf===0&&Hl!==null){ba!==null&&(ba.status="fulfilled");var t=Hl;Hl=null,Ta=0,ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function a1(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Vp=F.S;F.S=function(t,n){yy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&r1(t,n),Vp!==null&&Vp(t,n)};var Ir=D(null);function nf(){var t=Ir.current;return t!==null?t:et.pooledCache}function Iu(t,n){n===null?te(Ir,Ir.current):te(Ir,n.pool)}function kp(){var t=nf();return t===null?null:{parent:St._currentValue,pool:t}}var Sa=Error(a(460)),sf=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function jp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Up(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Pp(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Pp(t),t}throw Or=n,Sa}}function Dr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Or=s,Sa):s}}var Or=null;function Lp(){if(Or===null)throw Error(a(459));var t=Or;return Or=null,t}function Pp(t){if(t===Sa||t===Du)throw Error(a(483))}var Aa=null,Fl=0;function Mu(t){var n=Fl;return Fl+=1,Aa===null&&(Aa=[]),Up(Aa,t,n)}function Gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zp(t){function n(k,M){if(t){var L=k.deletions;L===null?(k.deletions=[M],k.flags|=16):L.push(M)}}function s(k,M){if(!t)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Li(k,M),k.index=0,k.sibling=null,k}function f(k,M,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<M?(k.flags|=67108866,M):L):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,L,Y){return M===null||M.tag!==6?(M=Gh(L,k.mode,Y),M.return=k,M):(M=h(M,L),M.return=k,M)}function C(k,M,L,Y){var ye=L.type;return ye===se?G(k,M,L.props.children,Y,L.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Dr(ye)===M.type)?(M=h(M,L.props),Gl(M,L),M.return=k,M):(M=Ru(L.type,L.key,L.props,null,k.mode,Y),Gl(M,L),M.return=k,M)}function P(k,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Qh(L,k.mode,Y),M.return=k,M):(M=h(M,L.children||[]),M.return=k,M)}function G(k,M,L,Y,ye){return M===null||M.tag!==7?(M=Rr(L,k.mode,Y,ye),M.return=k,M):(M=h(M,L),M.return=k,M)}function X(k,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Gh(""+M,k.mode,L),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:return L=Ru(M.type,M.key,M.props,null,k.mode,L),Gl(L,M),L.return=k,L;case H:return M=Qh(M,k.mode,L),M.return=k,M;case w:return M=Dr(M),X(k,M,L)}if(ut(M)||j(M))return M=Rr(M,k.mode,L,null),M.return=k,M;if(typeof M.then=="function")return X(k,Mu(M),L);if(M.$$typeof===oe)return X(k,Nu(k,M),L);Vu(k,M)}return null}function z(k,M,L,Y){var ye=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:T(k,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===ye?C(k,M,L,Y):null;case H:return L.key===ye?P(k,M,L,Y):null;case w:return L=Dr(L),z(k,M,L,Y)}if(ut(L)||j(L))return ye!==null?null:G(k,M,L,Y,null);if(typeof L.then=="function")return z(k,M,Mu(L),Y);if(L.$$typeof===oe)return z(k,M,Nu(k,L),Y);Vu(k,L)}return null}function q(k,M,L,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(L)||null,T(M,k,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return k=k.get(Y.key===null?L:Y.key)||null,C(M,k,Y,ye);case H:return k=k.get(Y.key===null?L:Y.key)||null,P(M,k,Y,ye);case w:return Y=Dr(Y),q(k,M,L,Y,ye)}if(ut(Y)||j(Y))return k=k.get(L)||null,G(M,k,Y,ye,null);if(typeof Y.then=="function")return q(k,M,L,Mu(Y),ye);if(Y.$$typeof===oe)return q(k,M,L,Nu(M,Y),ye);Vu(M,Y)}return null}function he(k,M,L,Y){for(var ye=null,Be=null,fe=M,De=M=0,ke=null;fe!==null&&De<L.length;De++){fe.index>De?(ke=fe,fe=null):ke=fe.sibling;var qe=z(k,fe,L[De],Y);if(qe===null){fe===null&&(fe=ke);break}t&&fe&&qe.alternate===null&&n(k,fe),M=f(qe,M,De),Be===null?ye=qe:Be.sibling=qe,Be=qe,fe=ke}if(De===L.length)return s(k,fe),Pe&&Pi(k,De),ye;if(fe===null){for(;De<L.length;De++)fe=X(k,L[De],Y),fe!==null&&(M=f(fe,M,De),Be===null?ye=fe:Be.sibling=fe,Be=fe);return Pe&&Pi(k,De),ye}for(fe=l(fe);De<L.length;De++)ke=q(fe,k,De,L[De],Y),ke!==null&&(t&&ke.alternate!==null&&fe.delete(ke.key===null?De:ke.key),M=f(ke,M,De),Be===null?ye=ke:Be.sibling=ke,Be=ke);return t&&fe.forEach(function(zs){return n(k,zs)}),Pe&&Pi(k,De),ye}function ve(k,M,L,Y){if(L==null)throw Error(a(151));for(var ye=null,Be=null,fe=M,De=M=0,ke=null,qe=L.next();fe!==null&&!qe.done;De++,qe=L.next()){fe.index>De?(ke=fe,fe=null):ke=fe.sibling;var zs=z(k,fe,qe.value,Y);if(zs===null){fe===null&&(fe=ke);break}t&&fe&&zs.alternate===null&&n(k,fe),M=f(zs,M,De),Be===null?ye=zs:Be.sibling=zs,Be=zs,fe=ke}if(qe.done)return s(k,fe),Pe&&Pi(k,De),ye;if(fe===null){for(;!qe.done;De++,qe=L.next())qe=X(k,qe.value,Y),qe!==null&&(M=f(qe,M,De),Be===null?ye=qe:Be.sibling=qe,Be=qe);return Pe&&Pi(k,De),ye}for(fe=l(fe);!qe.done;De++,qe=L.next())qe=q(fe,k,De,qe.value,Y),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?De:qe.key),M=f(qe,M,De),Be===null?ye=qe:Be.sibling=qe,Be=qe);return t&&fe.forEach(function(yb){return n(k,yb)}),Pe&&Pi(k,De),ye}function Je(k,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===se&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:e:{for(var ye=L.key;M!==null;){if(M.key===ye){if(ye=L.type,ye===se){if(M.tag===7){s(k,M.sibling),Y=h(M,L.props.children),Y.return=k,k=Y;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Dr(ye)===M.type){s(k,M.sibling),Y=h(M,L.props),Gl(Y,L),Y.return=k,k=Y;break e}s(k,M);break}else n(k,M);M=M.sibling}L.type===se?(Y=Rr(L.props.children,k.mode,Y,L.key),Y.return=k,k=Y):(Y=Ru(L.type,L.key,L.props,null,k.mode,Y),Gl(Y,L),Y.return=k,k=Y)}return p(k);case H:e:{for(ye=L.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){s(k,M.sibling),Y=h(M,L.children||[]),Y.return=k,k=Y;break e}else{s(k,M);break}else n(k,M);M=M.sibling}Y=Qh(L,k.mode,Y),Y.return=k,k=Y}return p(k);case w:return L=Dr(L),Je(k,M,L,Y)}if(ut(L))return he(k,M,L,Y);if(j(L)){if(ye=j(L),typeof ye!="function")throw Error(a(150));return L=ye.call(L),ve(k,M,L,Y)}if(typeof L.then=="function")return Je(k,M,Mu(L),Y);if(L.$$typeof===oe)return Je(k,M,Nu(k,L),Y);Vu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(s(k,M.sibling),Y=h(M,L),Y.return=k,k=Y):(s(k,M),Y=Gh(L,k.mode,Y),Y.return=k,k=Y),p(k)):s(k,M)}return function(k,M,L,Y){try{Fl=0;var ye=Je(k,M,L,Y);return Aa=null,ye}catch(fe){if(fe===Sa||fe===Du)throw fe;var Be=yn(29,fe,null,k.mode);return Be.lanes=Y,Be.return=k,Be}}}var Mr=zp(!0),Bp=zp(!1),Ss=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function As(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ws(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=wu(t),Ap(t,null,s),n}return Au(t,l,n,s),wu(t)}function Ql(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,vl(t,s)}}function lf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var of=!1;function Kl(){if(of){var t=ba;if(t!==null)throw t}}function Yl(t,n,s,l){of=!1;var h=t.updateQueue;Ss=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,p===null?f=P:p.next=P,p=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,G=P=C=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Ve&z)===z:(l&z)===z){z!==0&&z===Ta&&(of=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,ve=T;z=n;var Je=s;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){X=he.call(Je,X,z);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,z=typeof he=="function"?he.call(Je,X,z):he,z==null)break e;X=A({},X,z);break e;case 2:Ss=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=q,C=X):G=G.next=q,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Is|=p,t.lanes=p,t.memoizedState=X}}function qp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Hp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)qp(s[t],n)}var wa=D(null),ku=D(0);function Fp(t,n){t=$i,te(ku,t),te(wa,n),$i=t|n.baseLanes}function uf(){te(ku,$i),te(wa,wa.current)}function cf(){$i=ku.current,K(wa),K(ku)}var _n=D(null),Vn=null;function Rs(t){var n=t.alternate;te(pt,pt.current&1),te(_n,t),Vn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Vn=t)}function hf(t){te(pt,pt.current),te(_n,t),Vn===null&&(Vn=t)}function Gp(t){t.tag===22?(te(pt,pt.current),te(_n,t),Vn===null&&(Vn=t)):xs()}function xs(){te(pt,pt.current),te(_n,_n.current)}function vn(t){K(_n),Vn===t&&(Vn=null),K(pt)}var pt=D(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,Ie=null,$e=null,At=null,Uu=!1,Ra=!1,Vr=!1,Lu=0,Xl=0,xa=null,l1=0;function ct(){throw Error(a(321))}function ff(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!gn(t[s],n[s]))return!1;return!0}function df(t,n,s,l,h,f){return qi=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Cg:Cf,Vr=!1,f=s(l,h),Vr=!1,Ra&&(f=Kp(n,s,l,h)),Qp(t),f}function Qp(t){F.H=Jl;var n=$e!==null&&$e.next!==null;if(qi=0,At=$e=Ie=null,Uu=!1,Xl=0,xa=null,n)throw Error(a(300));t===null||wt||(t=t.dependencies,t!==null&&Cu(t)&&(wt=!0))}function Kp(t,n,s,l){Ie=t;var h=0;do{if(Ra&&(xa=null),Xl=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,At=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Ng,f=n(s,l)}while(Ra);return f}function o1(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?$l(n):n,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),n}function mf(){var t=Lu!==0;return Lu=0,t}function pf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function gf(t){if(Uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Uu=!1}qi=0,At=$e=Ie=null,Ra=!1,Xl=Lu=0,xa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ie.memoizedState=At=t:At=At.next=t,At}function gt(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var n=At===null?Ie.memoizedState:At.next;if(n!==null)At=n,$e=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?Ie.memoizedState=At=t:At=At.next=t}return At}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(t){var n=Xl;return Xl+=1,xa===null&&(xa=[]),t=Up(xa,t,n),n=Ie,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Cg:Cf),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $l(t);if(t.$$typeof===oe)return qt(t)}throw Error(a(438,String(t)))}function yf(t){var n=null,s=Ie.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pu(),Ie.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function Hi(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=gt();return _f(n,$e,t)}function _f(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,C=null,P=n,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ve&X)===X:(qi&X)===X){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Ta&&(G=!0);else if((qi&z)===z){P=P.next,z===Ta&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=X,p=f):C=C.next=X,Ie.lanes|=z,Is|=z;X=P.action,Vr&&s(f,X),f=P.hasEagerState?P.eagerState:s(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=z,p=f):C=C.next=z,Ie.lanes|=X,Is|=X;P=P.next}while(P!==null&&P!==n);if(C===null?p=f:C.next=T,!gn(f,t.memoizedState)&&(wt=!0,G&&(s=ba,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vf(t){var n=gt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Yp(t,n,s){var l=Ie,h=gt(),f=Pe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!gn(($e||h).memoizedState,s);if(p&&(h.memoizedState=s,wt=!0),h=h.queue,bf(Zp.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},$p.bind(null,l,h,s,n),null),et===null)throw Error(a(349));f||(qi&127)!==0||Xp(l,n,s)}return s}function Xp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ie.updateQueue,n===null?(n=Pu(),Ie.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function $p(t,n,s,l){n.value=s,n.getSnapshot=l,Jp(n)&&Wp(t)}function Zp(t,n,s){return s(function(){Jp(n)&&Wp(t)})}function Jp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!gn(t,s)}catch{return!0}}function Wp(t){var n=wr(t,2);n!==null&&hn(n,t,2)}function Ef(t){var n=sn();if(typeof t=="function"){var s=t;if(t=s(),Vr){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},n}function eg(t,n,s,l){return t.baseState=s,_f(t,$e,typeof l=="function"?l:Hi)}function u1(t,n,s,l,h){if(Fu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,tg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function tg(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=s(h,l),C=F.S;C!==null&&C(p,T),ng(t,n,T)}catch(P){Tf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=s(h,l),ng(t,n,f)}catch(P){Tf(t,n,P)}}function ng(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ig(t,n,l)},function(l){return Tf(t,n,l)}):ig(t,n,s)}function ig(t,n,s){n.status="fulfilled",n.value=s,sg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,tg(t,s)))}function Tf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,sg(n),n=n.next;while(n!==l)}t.action=null}function sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function rg(t,n){return n}function ag(t,n){if(Pe){var s=et.formState;if(s!==null){e:{var l=Ie;if(Pe){if(nt){t:{for(var h=nt,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=kn(h.nextSibling),l=h.data==="F!";break e}}Ts(l)}l=!1}l&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:n},s.queue=l,s=wg.bind(null,Ie,l),l.dispatch=s,l=Ef(!1),f=xf.bind(null,Ie,!1,l.queue),l=sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=u1.bind(null,Ie,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function lg(t){var n=gt();return og(n,$e,t)}function og(t,n,s){if(n=_f(t,n,rg)[0],t=Bu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$l(n)}catch(p){throw p===Sa?Du:p}else l=n;n=gt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ie.flags|=2048,Ca(9,{destroy:void 0},c1.bind(null,h,s),null)),[l,f,t]}function c1(t,n){t.action=n}function ug(t){var n=gt(),s=$e;if(s!==null)return og(n,s,t);gt(),n=n.memoizedState,s=gt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Ca(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Pu(),Ie.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function cg(){return gt().memoizedState}function qu(t,n,s,l){var h=sn();Ie.flags|=t,h.memoizedState=Ca(1|n,{destroy:void 0},s,l===void 0?null:l)}function Hu(t,n,s,l){var h=gt();l=l===void 0?null:l;var f=h.memoizedState.inst;$e!==null&&l!==null&&ff(l,$e.memoizedState.deps)?h.memoizedState=Ca(n,f,s,l):(Ie.flags|=t,h.memoizedState=Ca(1|n,f,s,l))}function hg(t,n){qu(8390656,8,t,n)}function bf(t,n){Hu(2048,8,t,n)}function h1(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Pu(),Ie.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function fg(t){var n=gt().memoizedState;return h1({ref:n,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function dg(t,n){return Hu(4,2,t,n)}function mg(t,n){return Hu(4,4,t,n)}function pg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function gg(t,n,s){s=s!=null?s.concat([t]):null,Hu(4,4,pg.bind(null,n,t),s)}function Sf(){}function yg(t,n){var s=gt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ff(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function _g(t,n){var s=gt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ff(n,l[1]))return l[0];if(l=t(),Vr){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,n],l}function Af(t,n,s){return s===void 0||(qi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=vy(),Ie.lanes|=t,Is|=t,s)}function vg(t,n,s,l){return gn(s,n)?s:wa.current!==null?(t=Af(t,s,l),gn(t,n)||(wt=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(Ve&261930)===0?(wt=!0,t.memoizedState=s):(t=vy(),Ie.lanes|=t,Is|=t,n)}function Eg(t,n,s,l,h){var f=re.p;re.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,xf(t,!1,n,s);try{var C=h(),P=F.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=a1(C,l);Zl(t,n,G,bn(t))}else Zl(t,n,l,bn(t))}catch(X){Zl(t,n,{then:function(){},status:"rejected",reason:X},bn())}finally{re.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function f1(){}function wf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Tg(t).queue;Eg(t,h,n,ee,s===null?f1:function(){return bg(t),s(l)})}function Tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ee},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bg(t){var n=Tg(t);n.next===null&&(n=t.alternate.memoizedState),Zl(t,n.next.queue,{},bn())}function Rf(){return qt(po)}function Sg(){return gt().memoizedState}function Ag(){return gt().memoizedState}function d1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();t=As(s);var l=ws(n,t,s);l!==null&&(hn(l,n,s),Ql(l,n,s)),n={cache:ef()},t.payload=n;return}n=n.return}}function m1(t,n,s){var l=bn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(t)?Rg(n,s):(s=Hh(t,n,s,l),s!==null&&(hn(s,t,l),xg(s,n,l)))}function wg(t,n,s){var l=bn();Zl(t,n,s,l)}function Zl(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))Rg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,s);if(h.hasEagerState=!0,h.eagerState=T,gn(T,p))return Au(t,n,h,0),et===null&&Su(),!1}catch{}if(s=Hh(t,n,h,l),s!==null)return hn(s,t,l),xg(s,n,l),!0}return!1}function xf(t,n,s,l){if(l={lane:2,revertLane:rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(n)throw Error(a(479))}else n=Hh(t,s,l,2),n!==null&&hn(n,t,2)}function Fu(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Rg(t,n){Ra=Uu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function xg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,vl(t,s)}}var Jl={readContext:qt,use:zu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Jl.useEffectEvent=ct;var Cg={readContext:qt,use:zu,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:hg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,qu(4194308,4,pg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return qu(4194308,4,t,n)},useInsertionEffect:function(t,n){qu(4,2,t,n)},useMemo:function(t,n){var s=sn();n=n===void 0?null:n;var l=t();if(Vr){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=sn();if(s!==void 0){var h=s(n);if(Vr){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=m1.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,s=wg.bind(null,Ie,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=sn();return Af(s,t,n)},useTransition:function(){var t=Ef(!1);return t=Eg.bind(null,Ie,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ie,h=sn();if(Pe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),et===null)throw Error(a(349));(Ve&127)!==0||Xp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,hg(Zp.bind(null,l,f,t),[t]),l.flags|=2048,Ca(9,{destroy:void 0},$p.bind(null,l,f,s,n),null),s},useId:function(){var t=sn(),n=et.identifierPrefix;if(Pe){var s=bi,l=Ti;s=(l&~(1<<32-dt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=l1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:ag,useActionState:ag,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=xf.bind(null,Ie,!0,s),s.dispatch=n,[t,n]},useMemoCache:yf,useCacheRefresh:function(){return sn().memoizedState=d1.bind(null,Ie)},useEffectEvent:function(t){var n=sn(),s={impl:t};return n.memoizedState=s,function(){if((Fe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:qt,use:zu,useCallback:yg,useContext:qt,useEffect:bf,useImperativeHandle:gg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:Bu,useRef:cg,useState:function(){return Bu(Hi)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=gt();return vg(s,$e.memoizedState,t,n)},useTransition:function(){var t=Bu(Hi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:$l(t),n]},useSyncExternalStore:Yp,useId:Sg,useHostTransitionStatus:Rf,useFormState:lg,useActionState:lg,useOptimistic:function(t,n){var s=gt();return eg(s,$e,t,n)},useMemoCache:yf,useCacheRefresh:Ag};Cf.useEffectEvent=fg;var Ng={readContext:qt,use:zu,useCallback:yg,useContext:qt,useEffect:bf,useImperativeHandle:gg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:vf,useRef:cg,useState:function(){return vf(Hi)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=gt();return $e===null?Af(s,t,n):vg(s,$e.memoizedState,t,n)},useTransition:function(){var t=vf(Hi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:$l(t),n]},useSyncExternalStore:Yp,useId:Sg,useHostTransitionStatus:Rf,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var s=gt();return $e!==null?eg(s,$e,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Ag};Ng.useEffectEvent=fg;function Nf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var If={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=bn(),h=As(l);h.payload=n,s!=null&&(h.callback=s),n=ws(t,h,l),n!==null&&(hn(n,t,l),Ql(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=bn(),h=As(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ws(t,h,l),n!==null&&(hn(n,t,l),Ql(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=bn(),l=As(s);l.tag=2,n!=null&&(l.callback=n),n=ws(t,l,s),n!==null&&(hn(n,t,s),Ql(n,t,s))}};function Ig(t,n,s,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ll(s,l)||!Ll(h,f):!0}function Dg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&If.enqueueReplaceState(n,n.state,null)}function kr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Og(t){bu(t)}function Mg(t){console.error(t)}function Vg(t){bu(t)}function Gu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function kg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(t,n,s){return s=As(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(t,n)},s}function jg(t){return t=As(t),t.tag=3,t}function Ug(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){kg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){kg(n,s,l),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function p1(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Ea(n,s,h,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?ic():s.alternate===null&&ht===0&&(ht=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),nd(t,l,h)),!1;case 22:return s.flags|=65536,l===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),nd(t,l,h)),!1}throw Error(a(435,s.tag))}return nd(t,l,h),ic(),!1}if(Pe)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Xh&&(t=Error(a(422),{cause:l}),Bl(In(t,s)))):(l!==Xh&&(n=Error(a(423),{cause:l}),Bl(In(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,s),h=Df(t.stateNode,l,h),lf(t,h),ht!==4&&(ht=2)),!1;var f=Error(a(520),{cause:l});if(f=In(f,s),ao===null?ao=[f]:ao.push(f),ht!==4&&(ht=2),n===null)return!0;l=In(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Df(s.stateNode,l,t),lf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=jg(h),Ug(h,t,s,l),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),wt=!1;function Ht(t,n,s,l){n.child=t===null?Bp(n,null,s,l):Mr(n,t.child,s,l)}function Lg(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Nr(n),l=df(t,n,s,p,f,h),T=mf(),t!==null&&!wt?(pf(t,n,h),Fi(t,n,h)):(Pe&&T&&Kh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Pg(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,zg(t,n,f,l,h)):(t=Ru(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ll,s(p,l)&&t.ref===n.ref)return Fi(t,n,h)}return n.flags|=1,t=Li(f,l),t.ref=n.ref,t.return=n,n.child=t}function zg(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Ll(f,l)&&t.ref===n.ref)if(wt=!1,n.pendingProps=l=f,zf(t,h))(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,Fi(t,n,h)}return Mf(t,n,s,l,h)}function Bg(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return qg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Fp(n,f):uf(),Gp(n);else return l=n.lanes=536870912,qg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Iu(n,f.cachePool),Fp(n,f),xs(),n.memoizedState=null):(t!==null&&Iu(n,null),uf(),xs());return Ht(t,n,h,s),n.child}function Wl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qg(t,n,s,l,h){var f=nf();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Iu(n,null),uf(),Gp(n),t!==null&&Ea(t,n,l,!0),n.childLanes=h,null}function Qu(t,n){return n=Yu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Hg(t,n,s){return Mr(n,t.child,null,s),t=Qu(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function g1(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Qu(n,l),n.lanes=536870912,Wl(null,t);if(hf(n),(t=nt)?(t=t_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Rp(t),s.return=n,n.child=s,Bt=n,nt=null)):t=null,t===null)throw Ts(n);return n.lanes=536870912,null}return Qu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=Hg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(wt||Ea(t,n,s,!1),h=(s&t.childLanes)!==0,wt||h){if(l=et,l!==null&&(p=El(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,wr(t,p),hn(l,t,p),Of;ic(),n=Hg(t,n,s)}else t=f.treeContext,nt=kn(p.nextSibling),Bt=n,Pe=!0,Es=null,Mn=!1,t!==null&&Np(n,t),n=Qu(n,l),n.flags|=4096;return n}return t=Li(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ku(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mf(t,n,s,l,h){return Nr(n),s=df(t,n,s,l,void 0,h),l=mf(),t!==null&&!wt?(pf(t,n,h),Fi(t,n,h)):(Pe&&l&&Kh(n),n.flags|=1,Ht(t,n,s,h),n.child)}function Fg(t,n,s,l,h,f){return Nr(n),n.updateQueue=null,s=Kp(n,l,s,h),Qp(t),l=mf(),t!==null&&!wt?(pf(t,n,f),Fi(t,n,f)):(Pe&&l&&Kh(n),n.flags|=1,Ht(t,n,s,f),n.child)}function Gg(t,n,s,l,h){if(Nr(n),n.stateNode===null){var f=ga,p=s.contextType;typeof p=="object"&&p!==null&&(f=qt(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qt(p):ga,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),Yl(n,l,f,h),Kl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=kr(s,T);f.props=C;var P=f.context,G=s.contextType;p=ga,typeof G=="object"&&G!==null&&(p=qt(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==p)&&Dg(n,f,l,p),Ss=!1;var z=n.memoizedState;f.state=z,Yl(n,l,f,h),Kl(),P=n.memoizedState,T||z!==P||Ss?(typeof X=="function"&&(Nf(n,s,X,l),P=n.memoizedState),(C=Ss||Ig(n,s,C,l,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,af(t,n),p=n.memoizedProps,G=kr(s,p),f.props=G,X=n.pendingProps,z=f.context,P=s.contextType,C=ga,typeof P=="object"&&P!==null&&(C=qt(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==C)&&Dg(n,f,l,C),Ss=!1,z=n.memoizedState,f.state=z,Yl(n,l,f,h),Kl();var q=n.memoizedState;p!==X||z!==q||Ss||t!==null&&t.dependencies!==null&&Cu(t.dependencies)?(typeof T=="function"&&(Nf(n,s,T,l),q=n.memoizedState),(G=Ss||Ig(n,s,G,l,z,q,C)||t!==null&&t.dependencies!==null&&Cu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Mr(n,t.child,null,h),n.child=Mr(n,null,s,h)):Ht(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Fi(t,n,h),t}function Qg(t,n,s,l){return xr(),n.flags|=256,Ht(t,n,s,l),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:kp()}}function jf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Tn),t}function Kg(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?Rs(n):xs(),(t=nt)?(t=t_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Rp(t),s.return=n,n.child=s,Bt=n,nt=null)):t=null,t===null)throw Ts(n);return _d(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(xs(),h=n.mode,T=Yu({mode:"hidden",children:T},h),l=Rr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=kf(s),l.childLanes=jf(t,p,s),n.memoizedState=Vf,Wl(null,l)):(Rs(n),Uf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=Lf(t,n,s)):n.memoizedState!==null?(xs(),n.child=t.child,n.flags|=128,n=null):(xs(),T=l.fallback,h=n.mode,l=Yu({mode:"visible",children:l.children},h),T=Rr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Mr(n,t.child,null,s),l=n.child,l.memoizedState=kf(s),l.childLanes=jf(t,p,s),n.memoizedState=Vf,n=Wl(null,l));else if(Rs(n),_d(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Bl({value:l,source:null,stack:null}),n=Lf(t,n,s)}else if(wt||Ea(t,n,s,!1),p=(s&t.childLanes)!==0,wt||p){if(p=et,p!==null&&(l=El(p,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,wr(t,l),hn(p,t,l),Of;yd(T)||ic(),n=Lf(t,n,s)}else yd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,nt=kn(T.nextSibling),Bt=n,Pe=!0,Es=null,Mn=!1,t!==null&&Np(n,t),n=Uf(n,l.children),n.flags|=4096);return n}return h?(xs(),T=l.fallback,h=n.mode,C=t.child,P=C.sibling,l=Li(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=Li(P,T):(T=Rr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Wl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=kf(s):(h=T.cachePool,h!==null?(C=St._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=kp(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=jf(t,p,s),n.memoizedState=Vf,Wl(t.child,l)):(Rs(n),s=t.child,t=s.sibling,s=Li(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Uf(t,n){return n=Yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yu(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function Lf(t,n,s){return Mr(n,t.child,null,s),t=Uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Yg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jh(t.return,n,s)}function Pf(t,n,s,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Xg(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=pt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,te(pt,p),Ht(t,n,l,s),l=Pe?zl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yg(t,s,n);else if(t.tag===19)Yg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&ju(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Pf(n,!0,s,null,f,l);break;case"together":Pf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Fi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Is|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Ea(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Li(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Li(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Cu(t)))}function y1(t,n,s){switch(n.tag){case 3:ft(n,n.stateNode.containerInfo),bs(n,St,t.memoizedState.cache),xr();break;case 27:case 5:ni(n);break;case 4:ft(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Kg(t,n,s):(Rs(n),t=Fi(t,n,s),t!==null?t.sibling:null);Rs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Ea(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Xg(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(pt,pt.current),l)break;return null;case 22:return n.lanes=0,Bg(t,n,s,n.pendingProps);case 24:bs(n,St,t.memoizedState.cache)}return Fi(t,n,s)}function $g(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!zf(t,s)&&(n.flags&128)===0)return wt=!1,y1(t,n,s);wt=(t.flags&131072)!==0}else wt=!1,Pe&&(n.flags&1048576)!==0&&Cp(n,zl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Dr(n.elementType),n.type=t,typeof t=="function")Fh(t)?(l=kr(t,l),n.tag=1,n=Gg(null,n,t,l,s)):(n.tag=0,n=Mf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===ne){n.tag=11,n=Lg(null,n,t,l,s);break e}else if(h===N){n.tag=14,n=Pg(null,n,t,l,s);break e}}throw n=tt(t)||t,Error(a(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=kr(l,n.pendingProps),Gg(t,n,l,h,s);case 3:e:{if(ft(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,af(t,n),Yl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,bs(n,St,l),l!==f.cache&&Wh(n,[St],s,!0),Kl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qg(t,n,l,s);break e}else if(l!==h){h=In(Error(a(424)),n),Bl(h),n=Qg(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=kn(t.firstChild),Bt=n,Pe=!0,Es=null,Mn=!0,s=Bp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(xr(),l===h){n=Fi(t,n,s);break e}Ht(t,n,l,s)}n=n.child}return n;case 26:return Ku(t,n),t===null?(s=l_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pe||(s=n.type,t=n.pendingProps,l=cc(ce.current).createElement(s),l[Et]=n,l[kt]=t,Ft(l,s,t),Tt(l),n.stateNode=l):n.memoizedState=l_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ni(n),t===null&&Pe&&(l=n.stateNode=s_(n.type,n.pendingProps,ce.current),Bt=n,Mn=!0,h=nt,ks(n.type)?(vd=h,nt=kn(l.firstChild)):nt=h),Ht(t,n,n.pendingProps.children,s),Ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=l=nt)&&(l=K1(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,Bt=n,nt=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||Ts(n)),ni(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,md(h,f)?l=null:p!==null&&md(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=df(t,n,o1,null,null,s),po._currentValue=h),Ku(t,n),Ht(t,n,l,s),n.child;case 6:return t===null&&Pe&&((t=s=nt)&&(s=Y1(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,Bt=n,nt=null,t=!0):t=!1),t||Ts(n)),null;case 13:return Kg(t,n,s);case 4:return ft(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Mr(n,null,l,s):Ht(t,n,l,s),n.child;case 11:return Lg(t,n,n.type,n.pendingProps,s);case 7:return Ht(t,n,n.pendingProps,s),n.child;case 8:return Ht(t,n,n.pendingProps.children,s),n.child;case 12:return Ht(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,bs(n,n.type,l.value),Ht(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Nr(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,s),n.child;case 14:return Pg(t,n,n.type,n.pendingProps,s);case 15:return zg(t,n,n.type,n.pendingProps,s);case 19:return Xg(t,n,s);case 31:return g1(t,n,s);case 22:return Bg(t,n,s,n.pendingProps);case 24:return Nr(n),l=qt(St),t===null?(h=nf(),h===null&&(h=et,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},rf(n),bs(n,St,h)):((t.lanes&s)!==0&&(af(t,n),Yl(n,null,null,s),Kl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,St,l)):(l=f.cache,bs(n,St,l),l!==h.cache&&Wh(n,[St],s,!0))),Ht(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(t){t.flags|=4}function Bf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Sy())t.flags|=8192;else throw Or=Ou,sf}else t.flags&=-16777217}function Zg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!f_(n))if(Sy())t.flags|=8192;else throw Or=Ou,sf}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?tu():536870912,t.lanes|=n,Oa|=n)}function eo(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function _1(t,n,s){var l=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Bi(St),We(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(va(n)?Gi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Gi(n),f!==null?(it(n),Zg(n,f)):(it(n),Bf(n,h,null,l,s))):f?f!==t.memoizedState?(Gi(n),it(n),Zg(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Gi(n),it(n),Bf(n,h,t,l,s)),null;case 27:if(dn(n),s=ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}t=ae.current,va(n)?Ip(n):(t=s_(h,l,s),n.stateNode=t,Gi(n))}return it(n),null;case 5:if(dn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}if(f=ae.current,va(n))Ip(n);else{var p=cc(ce.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Et]=n,f[kt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Gi(n)}}return it(n),Bf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ce.current,va(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ky(t.nodeValue,s)),t||Ts(n,!0)}else t=cc(t).createTextNode(l),t[Et]=n,n.stateNode=t}return it(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=va(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Et]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else s=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=va(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Et]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),it(n),null);case 4:return We(),t===null&&ud(n.stateNode.containerInfo),it(n),null;case 10:return Bi(n.type),it(n),null;case 19:if(K(pt),l=n.memoizedState,l===null)return it(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)eo(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ju(t),f!==null){for(n.flags|=128,eo(l,!1),t=f.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)wp(s,t),s=s.sibling;return te(pt,pt.current&1|2),Pe&&Pi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>ec&&(n.flags|=128,h=!0,eo(l,!1),n.lanes=4194304)}else{if(!h)if(t=ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),eo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return it(n),null}else 2*tn()-l.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,eo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,s=pt.current,te(pt,h?s&1|2:s&1),Pe&&Pi(n,l.treeForkCount),t):(it(n),null);case 22:case 23:return vn(n),cf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&K(Ir),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bi(St),it(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function v1(t,n){switch(Yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Bi(St),We(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return dn(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(pt),null;case 4:return We(),null;case 10:return Bi(n.type),null;case 22:case 23:return vn(n),cf(),t!==null&&K(Ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Bi(St),null;case 25:return null;default:return null}}function Jg(t,n){switch(Yh(n),n.tag){case 3:Bi(St),We();break;case 26:case 27:case 5:dn(n);break;case 4:We();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:K(pt);break;case 10:Bi(n.type);break;case 22:case 23:vn(n),cf(),t!==null&&K(Ir);break;case 24:Bi(St)}}function to(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(T){Ye(n,n.return,T)}}function Cs(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=s,P=T;try{P()}catch(G){Ye(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){Ye(n,n.return,G)}}function Wg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Hp(n,s)}catch(l){Ye(t,t.return,l)}}}function ey(t,n,s){s.props=kr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ye(t,n,l)}}function no(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ye(t,n,h)}}function Si(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ye(t,n,h)}else s.current=null}function ty(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ye(t,t.return,h)}}function qf(t,n,s){try{var l=t.stateNode;B1(l,t.type,s,n),l[kt]=n}catch(h){Ye(t,t.return,h)}}function ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ks(t.type)||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(l!==4&&(l===27&&ks(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,s),t=t.sibling;t!==null;)Ff(t,n,s),t=t.sibling}function $u(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ks(t.type)&&(s=t.stateNode),t=t.child,t!==null))for($u(t,n,s),t=t.sibling;t!==null;)$u(t,n,s),t=t.sibling}function iy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,s),n[Et]=t,n[kt]=s}catch(f){Ye(t,t.return,f)}}var Qi=!1,Rt=!1,Gf=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function E1(t,n){if(t=t.containerInfo,fd=yc,t=gp(t),Uh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,T=-1,C=-1,P=0,G=0,X=t,z=null;t:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(T=p+h),X!==f||l!==0&&X.nodeType!==3||(C=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===t)break t;if(z===s&&++P===h&&(T=p),z===f&&++G===l&&(C=p),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:t,selectionRange:s},yc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var he=kr(s.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ye(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)gd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function ry(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Yi(t,s),l&4&&to(5,s);break;case 1:if(Yi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){Ye(s,s.return,p)}else{var h=kr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Ye(s,s.return,p)}}l&64&&Wg(s),l&512&&no(s,s.return);break;case 3:if(Yi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Hp(t,n)}catch(p){Ye(s,s.return,p)}}break;case 27:n===null&&l&4&&iy(s);case 26:case 5:Yi(t,s),n===null&&l&4&&ty(s),l&512&&no(s,s.return);break;case 12:Yi(t,s);break;case 31:Yi(t,s),l&4&&oy(t,s);break;case 13:Yi(t,s),l&4&&uy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=N1.bind(null,s),X1(t,s))));break;case 22:if(l=s.memoizedState!==null||Qi,!l){n=n!==null&&n.memoizedState!==null||Rt,h=Qi;var f=Rt;Qi=l,(Rt=n)&&!f?Xi(t,s,(s.subtreeFlags&8772)!==0):Yi(t,s),Qi=h,Rt=f}break;case 30:break;default:Yi(t,s)}}function ay(t){var n=t.alternate;n!==null&&(t.alternate=null,ay(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&na(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function Ki(t,n,s){for(s=s.child;s!==null;)ly(t,n,s),s=s.sibling}function ly(t,n,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:Rt||Si(s,n),Ki(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Rt||Si(s,n);var l=lt,h=ln;ks(s.type)&&(lt=s.stateNode,ln=!1),Ki(t,n,s),ho(s.stateNode),lt=l,ln=h;break;case 5:Rt||Si(s,n);case 6:if(l=lt,h=ln,lt=null,Ki(t,n,s),lt=l,ln=h,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(f){Ye(s,n,f)}else try{lt.removeChild(s.stateNode)}catch(f){Ye(s,n,f)}break;case 18:lt!==null&&(ln?(t=lt,Wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),za(t)):Wy(lt,s.stateNode));break;case 4:l=lt,h=ln,lt=s.stateNode.containerInfo,ln=!0,Ki(t,n,s),lt=l,ln=h;break;case 0:case 11:case 14:case 15:Cs(2,s,n),Rt||Cs(4,s,n),Ki(t,n,s);break;case 1:Rt||(Si(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ey(s,n,l)),Ki(t,n,s);break;case 21:Ki(t,n,s);break;case 22:Rt=(l=Rt)||s.memoizedState!==null,Ki(t,n,s),Rt=l;break;default:Ki(t,n,s)}}function oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{za(t)}catch(s){Ye(n,n.return,s)}}}function uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{za(t)}catch(s){Ye(n,n.return,s)}}function T1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new sy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new sy),n;default:throw Error(a(435,t.tag))}}function Zu(t,n){var s=T1(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=I1.bind(null,t,l);l.then(h,h)}})}function on(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(ks(T.type)){lt=T.stateNode,ln=!1;break e}break;case 5:lt=T.stateNode,ln=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(lt===null)throw Error(a(160));ly(f,p,h),lt=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cy(n,t),n=n.sibling}var Xn=null;function cy(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Cs(3,t,t.return),to(3,t),Cs(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(Rt||s===null||Si(s,s.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Xn;if(on(n,t),un(t),l&512&&(Rt||s===null||Si(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,s),f[Et]=t,Tt(f),l=f;break e;case"link":var p=c_("link","href",h).get(l+(s.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),Ft(f,l,s),h.head.appendChild(f);break;case"meta":if(p=c_("meta","content",h).get(l+(s.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(T,1);break t}}f=h.createElement(l),Ft(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Et]=t,Tt(f),l=f}t.stateNode=l}else h_(h,t.type,t.stateNode);else t.stateNode=u_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?h_(h,t.type,t.stateNode):u_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qf(t,t.memoizedProps,s.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(Rt||s===null||Si(s,s.return)),s!==null&&l&4&&qf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(Rt||s===null||Si(s,s.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Gf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(dc=null,h=Xn,Xn=hc(n.containerInfo),on(n,t),Xn=h,un(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(he){Ye(t,t.return,he)}Gf&&(Gf=!1,hy(t));break;case 4:l=Xn,Xn=hc(t.stateNode.containerInfo),on(n,t),un(t),Xn=l;break;case 12:on(n,t),un(t);break;case 31:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,P=Qi,G=Rt;if(Qi=P||h,Rt=G||C,on(n,t),Rt=G,Qi=P,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Qi||Rt||jr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){Ye(C,C.return,he)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){Ye(C,C.return,he)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?e_(q,!0):e_(C.stateNode,!1)}catch(he){Ye(C,C.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Zu(t,s))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(ny(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(t);$u(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(an(p,""),s.flags&=-33);var T=Hf(t);$u(t,T,p);break;case 3:case 4:var C=s.stateNode.containerInfo,P=Hf(t);Ff(t,P,C);break;default:throw Error(a(161))}}catch(G){Ye(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ry(t,n.alternate,n),n=n.sibling}function jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),jr(n);break;case 1:Si(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ey(n,n.return,s),jr(n);break;case 27:ho(n.stateNode);case 26:case 5:Si(n,n.return),jr(n);break;case 22:n.memoizedState===null&&jr(n);break;case 30:jr(n);break;default:jr(n)}t=t.sibling}}function Xi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,s),to(4,f);break;case 1:if(Xi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ye(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)qp(C[h],T)}catch(P){Ye(l,l.return,P)}}s&&p&64&&Wg(f),no(f,f.return);break;case 27:iy(f);case 26:case 5:Xi(h,f,s),s&&l===null&&p&4&&ty(f),no(f,f.return);break;case 12:Xi(h,f,s);break;case 31:Xi(h,f,s),s&&p&4&&oy(h,f);break;case 13:Xi(h,f,s),s&&p&4&&uy(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,s),no(f,f.return);break;case 30:break;default:Xi(h,f,s)}n=n.sibling}}function Qf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ql(s))}function Kf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ql(t))}function $n(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fy(t,n,s,l),n=n.sibling}function fy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,s,l),h&2048&&to(9,n);break;case 1:$n(t,n,s,l);break;case 3:$n(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ql(t)));break;case 12:if(h&2048){$n(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(n,n.return,C)}}else $n(t,n,s,l);break;case 31:$n(t,n,s,l);break;case 13:$n(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,s,l):io(t,n):f._visibility&2?$n(t,n,s,l):(f._visibility|=2,Na(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(p,n);break;case 24:$n(t,n,s,l),h&2048&&Kf(n.alternate,n);break;default:$n(t,n,s,l)}}function Na(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=s,C=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Na(f,p,T,C,h),to(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Na(f,p,T,C,h):io(f,p):(G._visibility|=2,Na(f,p,T,C,h)),h&&P&2048&&Qf(p.alternate,p);break;case 24:Na(f,p,T,C,h),h&&P&2048&&Kf(p.alternate,p);break;default:Na(f,p,T,C,h)}n=n.sibling}}function io(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:io(s,l),h&2048&&Qf(l.alternate,l);break;case 24:io(s,l),h&2048&&Kf(l.alternate,l);break;default:io(s,l)}n=n.sibling}}var so=8192;function Ia(t,n,s){if(t.subtreeFlags&so)for(t=t.child;t!==null;)dy(t,n,s),t=t.sibling}function dy(t,n,s){switch(t.tag){case 26:Ia(t,n,s),t.flags&so&&t.memoizedState!==null&&lb(s,Xn,t.memoizedState,t.memoizedProps);break;case 5:Ia(t,n,s);break;case 3:case 4:var l=Xn;Xn=hc(t.stateNode.containerInfo),Ia(t,n,s),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=so,so=16777216,Ia(t,n,s),so=l):Ia(t,n,s));break;default:Ia(t,n,s)}}function my(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ro(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ut=l,gy(l,t)}my(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 0:case 11:case 15:ro(t),t.flags&2048&&Cs(9,t,t.return);break;case 3:ro(t);break;case 12:ro(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ju(t)):ro(t);break;default:ro(t)}}function Ju(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ut=l,gy(l,t)}my(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),Ju(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ju(n));break;default:Ju(n)}t=t.sibling}}function gy(t,n){for(;Ut!==null;){var s=Ut;switch(s.tag){case 0:case 11:case 15:Cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ql(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ut=l;else e:for(s=t;Ut!==null;){l=Ut;var h=l.sibling,f=l.return;if(ay(l),l===s){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var b1={getCacheForType:function(t){var n=qt(St),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return qt(St).controller.signal}},S1=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Oe=null,Ve=0,Ke=0,En=null,Ns=!1,Da=!1,Yf=!1,$i=0,ht=0,Is=0,Ur=0,Xf=0,Tn=0,Oa=0,ao=null,cn=null,$f=!1,Wu=0,yy=0,ec=1/0,tc=null,Ds=null,Dt=0,Os=null,Ma=null,Zi=0,Zf=0,Jf=null,_y=null,lo=0,Wf=null;function bn(){return(Fe&2)!==0&&Ve!==0?Ve&-Ve:F.T!==null?rd():nu()}function vy(){if(Tn===0)if((Ve&536870912)===0||Pe){var t=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,n,s){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Ms(t,Ve,Tn,!1)),hr(t,s),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Ur|=s),ht===4&&Ms(t,Ve,Tn,!1)),Ai(t))}function Ey(t,n,s){if((Fe&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),h=l?R1(t,n):td(t,n,!0),f=l;do{if(h===0){Da&&!l&&Ms(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!A1(s)){h=td(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=ao;var C=T.current.memoizedState.isDehydrated;if(C&&(Va(T,p).flags|=256),p=td(T,p,!1),p!==2){if(Yf&&!C){T.errorRecoveryDisabledLanes|=f,Ur|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Va(t,0),Ms(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ms(l,n,Tn,!Ns);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-tn(),10<h)){if(Ms(l,n,Tn,!Ns),ai(l,0,!0)!==0)break e;Zi=n,l.timeoutHandle=Zy(Ty.bind(null,l,s,cn,tc,$f,n,Tn,Ur,Oa,Ns,f,"Throttled",-0,0),h);break e}Ty(l,s,cn,tc,$f,n,Tn,Ur,Oa,Ns,f,null,-0,0)}}break}while(!0);Ai(t)}function Ty(t,n,s,l,h,f,p,T,C,P,G,X,z,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},dy(n,f,X);var he=(f&62914560)===f?Wu-tn():(f&4194048)===f?yy-tn():0;if(he=ob(X,he),he!==null){Zi=f,t.cancelPendingCommit=he(Ny.bind(null,t,n,f,s,l,h,p,T,C,G,X,null,z,q)),Ms(t,f,p,!P);return}}Ny(t,n,f,s,l,h,p,T,C)}function A1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,s,l){n&=~Xf,n&=~Ur,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&fr(t,s,n)}function nc(){return(Fe&6)===0?(oo(0),!1):!0}function ed(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,zi=Cr=null,gf(t),Aa=null,Fl=0,t=Oe;for(;t!==null;)Jg(t.alternate,t),t=t.return;Oe=null}}function Va(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,F1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Zi=0,ed(),et=t,Oe=s=Li(t.current,null),Ve=n,Ke=0,En=null,Ns=!1,Da=zn(t,n),Yf=!1,Oa=Tn=Xf=Ur=Is=ht=0,cn=ao=null,$f=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-dt(l),f=1<<h;n|=t[h],l&=~f}return $i=n,Su(),s}function by(t,n){Ie=null,F.H=Jl,n===Sa||n===Du?(n=Lp(),Ke=3):n===sf?(n=Lp(),Ke=4):Ke=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Oe===null&&(ht=1,Gu(t,In(n,t.current)))}function Sy(){var t=_n.current;return t===null?!0:(Ve&4194048)===Ve?Vn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Vn:!1}function Ay(){var t=F.H;return F.H=Jl,t===null?Jl:t}function wy(){var t=F.A;return F.A=b1,t}function ic(){ht=4,Ns||(Ve&4194048)!==Ve&&_n.current!==null||(Da=!0),(Is&134217727)===0&&(Ur&134217727)===0||et===null||Ms(et,Ve,Tn,!1)}function td(t,n,s){var l=Fe;Fe|=2;var h=Ay(),f=wy();(et!==t||Ve!==n)&&(tc=null,Va(t,n)),n=!1;var p=ht;e:do try{if(Ke!==0&&Oe!==null){var T=Oe,C=En;switch(Ke){case 8:ed(),p=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var P=Ke;if(Ke=0,En=null,ka(t,T,C,P),s&&Da){p=0;break e}break;default:P=Ke,Ke=0,En=null,ka(t,T,C,P)}}w1(),p=ht;break}catch(G){by(t,G)}while(!0);return n&&t.shellSuspendCounter++,zi=Cr=null,Fe=l,F.H=h,F.A=f,Oe===null&&(et=null,Ve=0,Su()),p}function w1(){for(;Oe!==null;)Ry(Oe)}function R1(t,n){var s=Fe;Fe|=2;var l=Ay(),h=wy();et!==t||Ve!==n?(tc=null,ec=tn()+500,Va(t,n)):Da=zn(t,n);e:do try{if(Ke!==0&&Oe!==null){n=Oe;var f=En;t:switch(Ke){case 1:Ke=0,En=null,ka(t,n,f,1);break;case 2:case 9:if(jp(f)){Ke=0,En=null,xy(n);break}n=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),Ai(t)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:jp(f)?(Ke=0,En=null,xy(n)):(Ke=0,En=null,ka(t,n,f,7));break;case 5:var p=null;switch(Oe.tag){case 26:p=Oe.memoizedState;case 5:case 27:var T=Oe;if(p?f_(p):T.stateNode.complete){Ke=0,En=null;var C=T.sibling;if(C!==null)Oe=C;else{var P=T.return;P!==null?(Oe=P,sc(P)):Oe=null}break t}}Ke=0,En=null,ka(t,n,f,5);break;case 6:Ke=0,En=null,ka(t,n,f,6);break;case 8:ed(),ht=6;break e;default:throw Error(a(462))}}x1();break}catch(G){by(t,G)}while(!0);return zi=Cr=null,F.H=l,F.A=h,Fe=s,Oe!==null?0:(et=null,Ve=0,Su(),ht)}function x1(){for(;Oe!==null&&!Ih();)Ry(Oe)}function Ry(t){var n=$g(t.alternate,t,$i);t.memoizedProps=t.pendingProps,n===null?sc(t):Oe=n}function xy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Fg(s,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=Fg(s,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:gf(n);default:Jg(s,n),n=Oe=wp(n,$i),n=$g(s,n,$i)}t.memoizedProps=t.pendingProps,n===null?sc(t):Oe=n}function ka(t,n,s,l){zi=Cr=null,gf(n),Aa=null,Fl=0;var h=n.return;try{if(p1(t,h,n,s,Ve)){ht=1,Gu(t,In(s,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;ht=1,Gu(t,In(s,t.current)),Oe=null;return}n.flags&32768?(Pe||l===1?t=!0:Da||(Ve&536870912)!==0?t=!1:(Ns=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cy(n,t)):sc(n)}function sc(t){var n=t;do{if((n.flags&32768)!==0){Cy(n,Ns);return}t=n.return;var s=_1(n.alternate,n,$i);if(s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);ht===0&&(ht=5)}function Cy(t,n){do{var s=v1(t.alternate,t);if(s!==null){s.flags&=32767,Oe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=s}while(t!==null);ht=6,Oe=null}function Ny(t,n,s,l,h,f,p,T,C){t.cancelPendingCommit=null;do rc();while(Dt!==0);if((Fe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Mh(t,s,f,p,T,C),t===et&&(Oe=et=null,Ve=0),Ma=n,Os=t,Zi=s,Zf=f,Jf=h,_y=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,D1(us,function(){return Vy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=re.p,re.p=2,p=Fe,Fe|=4;try{E1(t,n,s)}finally{Fe=p,re.p=h,F.T=l}}Dt=1,Iy(),Dy(),Oy()}}function Iy(){if(Dt===1){Dt=0;var t=Os,n=Ma,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=re.p;re.p=2;var h=Fe;Fe|=4;try{cy(n,t);var f=dd,p=gp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&pp(T.ownerDocument.documentElement,T)){if(C!==null&&Uh(T)){var P=C.start,G=C.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),he=T.textContent.length,ve=Math.min(C.start,he),Je=C.end===void 0?ve:Math.min(C.end,he);!q.extend&&ve>Je&&(p=Je,Je=ve,ve=p);var k=mp(T,ve),M=mp(T,Je);if(k&&M&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var L=X.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),ve>Je?(q.addRange(L),q.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),q.addRange(L))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}yc=!!fd,dd=fd=null}finally{Fe=h,re.p=l,F.T=s}}t.current=n,Dt=2}}function Dy(){if(Dt===2){Dt=0;var t=Os,n=Ma,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=re.p;re.p=2;var h=Fe;Fe|=4;try{ry(t,n.alternate,n)}finally{Fe=h,re.p=l,F.T=s}}Dt=3}}function Oy(){if(Dt===4||Dt===3){Dt=0,Xo();var t=Os,n=Ma,s=Zi,l=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Ma=Os=null,My(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ds=null),Vi(s),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=re.p,re.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,re.p=h}}(Zi&3)!==0&&rc(),Ai(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Wf?lo++:(lo=0,Wf=t):lo=0,oo(0)}}function My(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ql(n)))}function rc(){return Iy(),Dy(),Oy(),Vy()}function Vy(){if(Dt!==5)return!1;var t=Os,n=Zf;Zf=0;var s=Vi(Zi),l=F.T,h=re.p;try{re.p=32>s?32:s,F.T=null,s=Jf,Jf=null;var f=Os,p=Zi;if(Dt=0,Ma=Os=null,Zi=0,(Fe&6)!==0)throw Error(a(331));var T=Fe;if(Fe|=4,py(f.current),fy(f,f.current,p,s),Fe=T,oo(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{re.p=h,F.T=l,My(t,n)}}function ky(t,n,s){n=In(s,n),n=Df(t.stateNode,n,2),t=ws(t,n,2),t!==null&&(hr(t,2),Ai(t))}function Ye(t,n,s){if(t.tag===3)ky(t,t,s);else for(;n!==null;){if(n.tag===3){ky(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ds===null||!Ds.has(l))){t=In(s,t),s=jg(2),l=ws(n,s,2),l!==null&&(Ug(s,l,n,t),hr(l,2),Ai(l));break}}n=n.return}}function nd(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new S1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Yf=!0,h.add(s),t=C1.bind(null,t,n,s),n.then(t,t))}function C1(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,et===t&&(Ve&s)===s&&(ht===4||ht===3&&(Ve&62914560)===Ve&&300>tn()-Wu?(Fe&2)===0&&Va(t,0):Xf|=s,Oa===Ve&&(Oa=0)),Ai(t)}function jy(t,n){n===0&&(n=tu()),t=wr(t,n),t!==null&&(hr(t,n),Ai(t))}function N1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),jy(t,s)}function I1(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),jy(t,s)}function D1(t,n){return It(t,n)}var ac=null,ja=null,id=!1,lc=!1,sd=!1,Vs=0;function Ai(t){t!==ja&&t.next===null&&(ja===null?ac=ja=t:ja=ja.next=t),lc=!0,id||(id=!0,M1())}function oo(t,n){if(!sd&&lc){sd=!0;do for(var s=!1,l=ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,zy(l,f))}else f=Ve,f=ai(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(s=!0,zy(l,f));l=l.next}while(s);sd=!1}}function O1(){Uy()}function Uy(){lc=id=!1;var t=0;Vs!==0&&H1()&&(t=Vs);for(var n=tn(),s=null,l=ac;l!==null;){var h=l.next,f=Ly(l,n);f===0?(l.next=null,s===null?ac=h:s.next=h,h===null&&(ja=s)):(s=l,(t!==0||(f&3)!==0)&&(lc=!0)),l=h}Dt!==0&&Dt!==5||oo(t),Vs!==0&&(Vs=0)}function Ly(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-dt(f),T=1<<p,C=h[p];C===-1?((T&s)===0||(T&l)!==0)&&(h[p]=Oh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=et,s=Ve,s=ai(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&os(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||zn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&os(l),Vi(s)){case 2:case 8:s=_l;break;case 32:s=us;break;case 268435456:s=$o;break;default:s=us}return l=Py.bind(null,t),s=It(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&os(l),t.callbackPriority=2,t.callbackNode=null,2}function Py(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(rc()&&t.callbackNode!==s)return null;var l=Ve;return l=ai(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ey(t,l,n),Ly(t,tn()),t.callbackNode!=null&&t.callbackNode===s?Py.bind(null,t):null)}function zy(t,n){if(rc())return null;Ey(t,n,!0)}function M1(){G1(function(){(Fe&6)!==0?It(yl,O1):Uy()})}function rd(){if(Vs===0){var t=Ta;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Vs=t}return Vs}function By(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:aa(""+t)}function qy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function V1(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=By((h[kt]||null).action),p=l.submitter;p&&(n=(n=p[kt]||null)?By(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new yi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var C=p?qy(h,p):new FormData(h);wf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?qy(h,p):new FormData(h),wf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var ld=Bh[ad],k1=ld.toLowerCase(),j1=ld[0].toUpperCase()+ld.slice(1);Yn(k1,"on"+j1)}Yn(vp,"onAnimationEnd"),Yn(Ep,"onAnimationIteration"),Yn(Tp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(JT,"onTransitionRun"),Yn(WT,"onTransitionStart"),Yn(e1,"onTransitionCancel"),Yn(bp,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function Hy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(T=l[p],C=T.instance,P=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=C}}}}function Me(t,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var l=t+"__bubble";s.has(l)||(Fy(n,t,2,!1),s.add(l))}function od(t,n,s){var l=0;n&&(l|=4),Fy(s,t,l,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[oc]){t[oc]=!0,Tl.forEach(function(s){s!=="selectionchange"&&(U1.has(s)||od(s,!1,t),od(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[oc]||(n[oc]=!0,od("selectionchange",!1,n))}}function Fy(t,n,s,l){switch(v_(n)){case 2:var h=hb;break;case 8:h=fb;break;default:h=Ad}s=h.bind(null,n,s,t),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function cd(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=ci(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue e}T=T.parentNode}}l=l.return}ps(function(){var P=f,G=Rn(s),X=[];e:{var z=Sp.get(t);if(z!==void 0){var q=yi,he=t;switch(t){case"keypress":if(vr(s)===0)break e;case"keydown":case"keyup":q=vu;break;case"focusin":he="focus",q=Tr;break;case"focusout":he="blur",q=Tr;break;case"beforeblur":case"afterblur":q=Tr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case vp:case Ep:case Tp:q=fu;break;case bp:q=b;break;case"scroll":case"scrollend":q=Ml;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ui;break;case"toggle":case"beforetoggle":q=Ne}var ve=(n&4)!==0,Je=!ve&&(t==="scroll"||t==="scrollend"),k=ve?z!==null?z+"Capture":null:z;ve=[];for(var M=P,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||k===null||(Y=Fn(M,k),Y!=null&&ve.push(co(M,Y,L))),Je)break;M=M.return}0<ve.length&&(z=new q(z,he,null,s,G),X.push({event:z,listeners:ve}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==Il&&(he=s.relatedTarget||s.fromElement)&&(ci(he)||he[oi]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(he=s.relatedTarget||s.toElement,q=P,he=he?ci(he):null,he!==null&&(Je=c(he),ve=he.tag,he!==Je||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(q=null,he=P),q!==he)){if(ve=Vl,Y="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ui,Y="onPointerLeave",k="onPointerEnter",M="pointer"),Je=q==null?z:mn(q),L=he==null?z:mn(he),z=new ve(Y,M+"leave",q,s,G),z.target=Je,z.relatedTarget=L,Y=null,ci(G)===P&&(ve=new ve(k,M+"enter",he,s,G),ve.target=L,ve.relatedTarget=Je,Y=ve),Je=Y,q&&he)t:{for(ve=L1,k=q,M=he,L=0,Y=k;Y;Y=ve(Y))L++;Y=0;for(var ye=M;ye;ye=ve(ye))Y++;for(;0<L-Y;)k=ve(k),L--;for(;0<Y-L;)M=ve(M),Y--;for(;L--;){if(k===M||M!==null&&k===M.alternate){ve=k;break t}k=ve(k),M=ve(M)}ve=null}else ve=null;q!==null&&Gy(X,z,q,ve,!1),he!==null&&Je!==null&&Gy(X,Je,he,ve,!0)}}e:{if(z=P?mn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Be=op;else if(ap(z))if(up)Be=XT;else{Be=KT;var fe=QT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ra(P.elementType)&&(Be=op):Be=YT;if(Be&&(Be=Be(t,P))){lp(X,Be,s,G);break e}fe&&fe(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&xl(z,"number",z.value)}switch(fe=P?mn(P):window,t){case"focusin":(ap(fe)||fe.contentEditable==="true")&&(da=fe,Lh=P,Pl=null);break;case"focusout":Pl=Lh=da=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,yp(X,s,G);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":yp(X,s,G)}var De;if(He)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else fa?br(t,s)&&(ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(Ei&&s.locale!=="ko"&&(fa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&fa&&(De=Ol()):(gi=G,Dl="value"in gi?gi.value:gi.textContent,fa=!0)),fe=uc(P,ke),0<fe.length&&(ke=new vi(ke,t,null,s,G),X.push({event:ke,listeners:fe}),De?ke.data=De:(De=ha(s),De!==null&&(ke.data=De)))),(De=Cn?qT(t,s):HT(t,s))&&(ke=uc(P,"onBeforeInput"),0<ke.length&&(fe=new vi("onBeforeInput","beforeinput",null,s,G),X.push({event:fe,listeners:ke}),fe.data=De)),V1(X,t,P,s,G)}Hy(X,n)})}function co(t,n,s){return{instance:t,listener:n,currentTarget:s}}function uc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(t,s),h!=null&&l.unshift(co(t,h,f)),h=Fn(t,n),h!=null&&l.push(co(t,h,f))),t.tag===3)return l;t=t.return}return[]}function L1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gy(t,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var T=s,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=Fn(s,f),P!=null&&p.unshift(co(s,P,C))):h||(P=Fn(s,f),P!=null&&p.push(co(s,P,C)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var P1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(P1,`
`).replace(z1,"")}function Ky(t,n){return n=Qy(n),Qy(t)===n}function Ze(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,s,l);break;case"style":Nl(t,l,f);break;case"data":if(n!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=aa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ze(t,n,"name",h.name,h,null),Ze(t,n,"formEncType",h.formEncType,h,null),Ze(t,n,"formMethod",h.formMethod,h,null),Ze(t,n,"formTarget",h.formTarget,h,null)):(Ze(t,n,"encType",h.encType,h,null),Ze(t,n,"method",h.method,h,null),Ze(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=aa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ia(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,ia(t,s,l))}}function hd(t,n,s,l,h,f){switch(s){case"style":Nl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[kt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ia(t,s,l)}}}function Ft(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ze(t,n,f,p,s,null)}}h&&Ze(t,n,"srcSet",s.srcSet,s,null),l&&Ze(t,n,"src",s.src,s,null);return;case"input":Me("invalid",t);var T=f=p=h=null,C=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":C=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ze(t,n,l,G,s,null)}}au(t,f,T,C,P,p,h,!1);return;case"select":Me("invalid",t),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:Ze(t,n,h,T,s,null)}n=f,s=p,t.multiple=!!l,n!=null?hs(t,!!l,n,!1):s!=null&&hs(t,!!l,s,!0);return;case"textarea":Me("invalid",t),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(T=s[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ze(t,n,p,T,s,null)}fs(t,l,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,n,C,l,s,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<uo.length;l++)Me(uo[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ze(t,n,P,l,s,null)}return;default:if(ra(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&hd(t,n,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Ze(t,n,T,l,s,null))}function B1(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,P=null,G=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(q)||Ze(t,n,q,null,l,X)}}for(var z in l){var q=l[z];if(X=s[z],l.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&Ze(t,n,z,q,l,X)}}sa(t,p,T,C,P,G,f,h);return;case"select":q=p=T=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||Ze(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&Ze(t,n,h,f,l,C)}n=T,s=p,l=q,z!=null?hs(t,!!s,z,!1):!!l!=!!s&&(n!=null?hs(t,!!s,n,!0):hs(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Ze(t,n,p,h,l,f)}lu(t,z,q);return;case"option":for(var he in s)if(z=s[he],s.hasOwnProperty(he)&&z!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Ze(t,n,he,null,l,z)}for(C in l)if(z=l[C],q=s[C],l.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ze(t,n,C,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)z=s[ve],s.hasOwnProperty(ve)&&z!=null&&!l.hasOwnProperty(ve)&&Ze(t,n,ve,null,l,z);for(P in l)if(z=l[P],q=s[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Ze(t,n,P,z,l,q)}return;default:if(ra(n)){for(var Je in s)z=s[Je],s.hasOwnProperty(Je)&&z!==void 0&&!l.hasOwnProperty(Je)&&hd(t,n,Je,void 0,l,z);for(G in l)z=l[G],q=s[G],!l.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||hd(t,n,G,z,l,q);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Ze(t,n,k,null,l,z);for(X in l)z=l[X],q=s[X],!l.hasOwnProperty(X)||z===q||z==null&&q==null||Ze(t,n,X,z,l,q)}function Yy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&Yy(p)){for(p=0,T=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],P=C.startTime;if(P>T)break;var G=C.transferSize,X=C.initiatorType;G&&Yy(X)&&(C=C.responseEnd,p+=G*(C<T?1:(T-P)/(C-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fd=null,dd=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function Xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function H1(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(Q1)}:Zy;function Q1(t){setTimeout(function(){throw t})}function ks(t){return t==="head"}function Wy(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),za(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ho(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ho(s);for(var f=s.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&ho(t.ownerDocument.body);s=h}while(s);za(n)}function e_(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function gd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function K1(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function Y1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=kn(t.nextSibling),t===null))return null;return t}function t_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=kn(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$?"||t.data==="$~"}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function X1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var vd=null;function n_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return kn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function i_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function s_(t,n,s){switch(n=cc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ho(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);na(t)}var jn=new Map,r_=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=re.d;re.d={f:$1,r:Z1,D:J1,C:W1,L:eb,m:tb,X:ib,S:nb,M:sb};function $1(){var t=Ji.f(),n=nc();return t||n}function Z1(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?bg(n):Ji.r(t)}var Ua=typeof document>"u"?null:document;function a_(t,n,s){var l=Ua;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),r_.has(h)||(r_.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),Tt(n),l.head.appendChild(n)))}}function J1(t){Ji.D(t),a_("dns-prefetch",t,null)}function W1(t,n){Ji.C(t,n),a_("preconnect",t,n)}function eb(t,n,s){Ji.L(t,n,s);var l=Ua;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=La(t);break;case"script":f=Pa(t)}jn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),jn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(fo(f))||n==="script"&&l.querySelector(mo(f))||(n=l.createElement("link"),Ft(n,"link",t),Tt(n),l.head.appendChild(n)))}}function tb(t,n){Ji.m(t,n);var s=Ua;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(t)}if(!jn.has(f)&&(t=A({rel:"modulepreload",href:t},n),jn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(mo(f)))return}l=s.createElement("link"),Ft(l,"link",t),Tt(l),s.head.appendChild(l)}}}function nb(t,n,s){Ji.S(t,n,s);var l=Ua;if(l&&t){var h=hi(l).hoistableStyles,f=La(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(fo(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=jn.get(f))&&Ed(t,s);var C=p=l.createElement("link");Tt(C),Ft(C,"link",t),C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function ib(t,n){Ji.X(t,n);var s=Ua;if(s&&t){var l=hi(s).hoistableScripts,h=Pa(t),f=l.get(h);f||(f=s.querySelector(mo(h)),f||(t=A({src:t,async:!0},n),(n=jn.get(h))&&Td(t,n),f=s.createElement("script"),Tt(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function sb(t,n){Ji.M(t,n);var s=Ua;if(s&&t){var l=hi(s).hoistableScripts,h=Pa(t),f=l.get(h);f||(f=s.querySelector(mo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=jn.get(h))&&Td(t,n),f=s.createElement("script"),Tt(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function l_(t,n,s,l){var h=(h=ce.current)?hc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=La(s.href),s=hi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=La(s.href);var f=hi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(fo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),jn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(t,s),f||rb(h,t,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=hi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function La(t){return'href="'+rn(t)+'"'}function fo(t){return'link[rel="stylesheet"]['+t+"]"}function o_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function rb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",s),Tt(n),t.head.appendChild(n))}function Pa(t){return'[src="'+rn(t)+'"]'}function mo(t){return"script[async]"+t}function u_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(s.href)+'"]');if(l)return n.instance=l,Tt(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Ft(l,"style",h),fc(l,s.precedence,t),n.instance=l;case"stylesheet":h=La(s.href);var f=t.querySelector(fo(h));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;l=o_(s),(h=jn.get(h))&&Ed(l,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),Ft(f,"link",l),n.state.loading|=4,fc(f,s.precedence,t),n.instance=f;case"script":return f=Pa(s.src),(h=t.querySelector(mo(f)))?(n.instance=h,Tt(h),h):(l=s,(h=jn.get(f))&&(l=A({},s),Td(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fc(l,s.precedence,t));return n.instance}function fc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var dc=null;function c_(t,n,s){if(dc===null){var l=new Map,h=dc=new Map;h.set(s,l)}else h=dc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[ui]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function h_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function ab(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function f_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lb(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=La(l.href),f=n.querySelector(fo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=mc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Tt(f);return}f=n.ownerDocument||n,l=o_(l),(h=jn.get(h))&&Ed(l,h),f=f.createElement("link"),Tt(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),Ft(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=mc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var bd=0;function ob(t,n){return t.stylesheets&&t.count===0&&gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&gc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&bd===0&&(bd=62500*q1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&gc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>bd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pc=null;function gc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pc=new Map,n.forEach(ub,t),pc=null,mc.call(t))}function ub(t,n){if(!(n.state.loading&4)){var s=pc.get(t);if(s)var l=s.get(null);else{s=new Map,pc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var po={$$typeof:oe,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function cb(t,n,s,l,h,f,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function d_(t,n,s,l,h,f,p,T,C,P,G,X){return t=new cb(t,n,s,p,C,P,G,X,T),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=ef(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},rf(f),t}function m_(t){return t?(t=ga,t):ga}function p_(t,n,s,l,h,f){h=m_(h),l.context===null?l.context=h:l.pendingContext=h,l=As(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ws(t,l,n),s!==null&&(hn(s,t,n),Ql(s,t,n))}function g_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sd(t,n){g_(t,n),(t=t.alternate)&&g_(t,n)}function y_(t){if(t.tag===13||t.tag===31){var n=wr(t,67108864);n!==null&&hn(n,t,67108864),Sd(t,67108864)}}function __(t){if(t.tag===13||t.tag===31){var n=bn();n=dr(n);var s=wr(t,n);s!==null&&hn(s,t,n),Sd(t,n)}}var yc=!0;function hb(t,n,s,l){var h=F.T;F.T=null;var f=re.p;try{re.p=2,Ad(t,n,s,l)}finally{re.p=f,F.T=h}}function fb(t,n,s,l){var h=F.T;F.T=null;var f=re.p;try{re.p=8,Ad(t,n,s,l)}finally{re.p=f,F.T=h}}function Ad(t,n,s,l){if(yc){var h=wd(l);if(h===null)cd(t,n,l,_c,s),E_(t,l);else if(mb(h,t,n,s,l))l.stopPropagation();else if(E_(t,l),n&4&&-1<db.indexOf(t)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ri(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-dt(p);T.entanglements[1]|=C,p&=~C}Ai(f),(Fe&6)===0&&(ec=tn()+500,oo(0))}}break;case 31:case 13:T=wr(f,2),T!==null&&hn(T,f,2),nc(),Sd(f,2)}if(f=wd(l),f===null&&cd(t,n,l,_c,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else cd(t,n,l,null,s)}}function wd(t){return t=Rn(t),Rd(t)}var _c=null;function Rd(t){if(_c=null,t=ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _c=t,null}function v_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case yl:return 2;case _l:return 8;case us:case Dh:return 32;case $o:return 268435456;default:return 32}default:return 32}}var xd=!1,js=null,Us=null,Ls=null,go=new Map,yo=new Map,Ps=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(t,n){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":go.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(n.pointerId)}}function _o(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&y_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function mb(t,n,s,l,h){switch(n){case"focusin":return js=_o(js,t,n,s,l,h),!0;case"dragenter":return Us=_o(Us,t,n,s,l,h),!0;case"mouseover":return Ls=_o(Ls,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return go.set(f,_o(go.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,yo.set(f,_o(yo.get(f)||null,t,n,s,l,h)),!0}return!1}function T_(t){var n=ci(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Bn(t.priority,function(){__(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,Bn(t.priority,function(){__(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Il=l,s.target.dispatchEvent(l),Il=null}else return n=wn(s),n!==null&&y_(n),t.blockedOn=s,!1;n.shift()}return!0}function b_(t,n,s){vc(t)&&s.delete(n)}function pb(){xd=!1,js!==null&&vc(js)&&(js=null),Us!==null&&vc(Us)&&(Us=null),Ls!==null&&vc(Ls)&&(Ls=null),go.forEach(b_),yo.forEach(b_)}function Ec(t,n){t.blockedOn===n&&(t.blockedOn=null,xd||(xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pb)))}var Tc=null;function S_(t){Tc!==t&&(Tc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===t&&(Tc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Rd(l||s)===null)continue;break}var f=wn(s);f!==null&&(t.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function za(t){function n(C){return Ec(C,t)}js!==null&&Ec(js,t),Us!==null&&Ec(Us,t),Ls!==null&&Ec(Ls,t),go.forEach(n),yo.forEach(n);for(var s=0;s<Ps.length;s++){var l=Ps[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ps.length&&(s=Ps[0],s.blockedOn===null);)T_(s),s.blockedOn===null&&Ps.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[kt]||null;if(typeof f=="function")p||S_(s);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[kt]||null)T=p.formAction;else if(Rd(h)!==null)continue}else T=p.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),S_(s)}}}function A_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(t){this._internalRoot=t}bc.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=bn();p_(s,l,t,n,null,null)},bc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;p_(t.current,2,null,t,null,null),nc(),n[oi]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var n=nu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ps.length&&n!==0&&n<Ps[s].priority;s++);Ps.splice(s,0,t),s===0&&T_(t)}};var w_=e.version;if(w_!=="19.2.3")throw Error(a(527,w_,"19.2.3"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var gb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Pn=Sc.inject(gb),Pt=Sc}catch{}}return Eo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Og,f=Mg,p=Vg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=d_(t,1,!1,null,null,s,l,null,h,f,p,A_),t[oi]=n.current,ud(t),new Cd(n)},Eo.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Og,p=Mg,T=Vg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=d_(t,1,!0,n,s??null,l,h,C,f,p,T,A_),n.context=m_(null),s=n.current,l=bn(),l=dr(l),h=As(l),h.callback=null,ws(s,h,l),s=l,n.current.lanes=s,hr(n,s),Ai(n),t[oi]=n.current,ud(t),new bc(n)},Eo.version="19.2.3",Eo}var k_;function Rb(){if(k_)return Dd.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dd.exports=wb(),Dd.exports}var xb=Rb();const Cb=()=>{};var j_={};const h0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Nb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,S=c>>2,A=(c&3)<<4|g>>4;let I=(g&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(I=64)),a.push(i[S],i[A],i[I],i[Q])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(h0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Nb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||A==null)throw new Ib;const I=c<<2|g>>4;if(a.push(I),y!==64){const Q=g<<4&240|y>>2;if(a.push(Q),A!==64){const H=y<<6&192|A;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ib extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Db=function(r){const e=h0(r);return f0.encodeByteArray(e,!0)},qc=function(r){return Db(r).replace(/\./g,"")},d0=function(r){try{return f0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Mb=()=>Ob().__FIREBASE_DEFAULTS__,Vb=()=>{if(typeof process>"u"||typeof j_>"u")return;const r=j_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&d0(r[1]);return e&&JSON.parse(e)},hh=()=>{try{return Cb()||Mb()||Vb()||kb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},m0=r=>hh()?.emulatorHosts?.[r],jb=r=>{const e=m0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},p0=()=>hh()?.config,g0=r=>hh()?.[`_${r}`];class Ub{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function ll(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y0(r){return(await fetch(r,{credentials:"include"})).ok}function Lb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const wo={};function Pb(){const r={prod:[],emulator:[]};for(const e of Object.keys(wo))wo[e]?r.emulator.push(e):r.prod.push(e);return r}function zb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let U_=!1;function _0(r,e){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||wo[r]===e||wo[r]||U_)return;wo[r]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",c=Pb().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,Q){I.setAttribute("width","24"),I.setAttribute("id",Q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{U_=!0,d()},I}function S(I,Q){I.setAttribute("id",Q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=zb(a),Q=i("text"),H=document.getElementById(Q)||document.createElement("span"),se=i("learnmore"),W=document.getElementById(se)||document.createElement("a"),de=i("preprendIcon"),$=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const oe=I.element;g(oe),S(W,se);const ne=y();_($,de),oe.append($,H,W,ne),document.body.appendChild(oe)}c?(H.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function qb(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qb(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Kb(){return!qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yb(){try{return typeof indexedDB=="object"}catch{return!1}}function Xb(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const $b="FirebaseError";class ls extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=$b,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?Zb(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ls(o,g,a)}}function Zb(r,e){return r.replace(Jb,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Jb=/\{\$([^}]+)}/g;function Wb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Hr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(L_(c)&&L_(d)){if(!Hr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function L_(r){return r!==null&&typeof r=="object"}function zo(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function eS(r,e){const i=new tS(r,e);return i.subscribe.bind(i)}class tS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");nS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=kd),o.error===void 0&&(o.error=kd),o.complete===void 0&&(o.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function Sn(r){return r&&r._delegate?r._delegate:r}class Fr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lr="[DEFAULT]";class iS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Ub;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rS(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:sS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(r){return r===Lr?void 0:r}function rS(r){return r.instantiationMode==="EAGER"}class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new iS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const lS={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},oS=je.INFO,uS={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},cS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=uS[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=oS,this._logHandler=cS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const hS=(r,e)=>e.some(i=>r instanceof i);let P_,z_;function fS(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,Yd=new WeakMap,E0=new WeakMap,jd=new WeakMap,Em=new WeakMap;function mS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ys(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&v0.set(i,r)}).catch(()=>{}),Em.set(e,r),e}function pS(r){if(Yd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,e)}let Xd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Yd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||E0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function gS(r){Xd=r(Xd)}function yS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Ud(this),e,...i);return E0.set(a,e.sort?e.sort():[e]),Ys(a)}:dS().includes(r)?function(...e){return r.apply(Ud(this),e),Ys(v0.get(this))}:function(...e){return Ys(r.apply(Ud(this),e))}}function _S(r){return typeof r=="function"?yS(r):(r instanceof IDBTransaction&&pS(r),hS(r,fS())?new Proxy(r,Xd):r)}function Ys(r){if(r instanceof IDBRequest)return mS(r);if(jd.has(r))return jd.get(r);const e=_S(r);return e!==r&&(jd.set(r,e),Em.set(e,r)),e}const Ud=r=>Em.get(r);function vS(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=Ys(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ys(d.result),_.oldVersion,_.newVersion,Ys(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const ES=["get","getKey","getAll","getAllKeys","count"],TS=["put","add","delete","clear"],Ld=new Map;function B_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=TS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||ES.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Ld.set(e,c),c}gS(r=>({...r,get:(e,i,a)=>B_(e,i)||r.get(e,i,a),has:(e,i)=>!!B_(e,i)||r.has(e,i)}));class bS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(SS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function SS(r){return r.getComponent()?.type==="VERSION"}const $d="@firebase/app",q_="0.14.6";const ns=new vm("@firebase/app"),AS="@firebase/app-compat",wS="@firebase/analytics-compat",RS="@firebase/analytics",xS="@firebase/app-check-compat",CS="@firebase/app-check",NS="@firebase/auth",IS="@firebase/auth-compat",DS="@firebase/database",OS="@firebase/data-connect",MS="@firebase/database-compat",VS="@firebase/functions",kS="@firebase/functions-compat",jS="@firebase/installations",US="@firebase/installations-compat",LS="@firebase/messaging",PS="@firebase/messaging-compat",zS="@firebase/performance",BS="@firebase/performance-compat",qS="@firebase/remote-config",HS="@firebase/remote-config-compat",FS="@firebase/storage",GS="@firebase/storage-compat",QS="@firebase/firestore",KS="@firebase/ai",YS="@firebase/firestore-compat",XS="firebase",$S="12.6.0";const Zd="[DEFAULT]",ZS={[$d]:"fire-core",[AS]:"fire-core-compat",[RS]:"fire-analytics",[wS]:"fire-analytics-compat",[CS]:"fire-app-check",[xS]:"fire-app-check-compat",[NS]:"fire-auth",[IS]:"fire-auth-compat",[DS]:"fire-rtdb",[OS]:"fire-data-connect",[MS]:"fire-rtdb-compat",[VS]:"fire-fn",[kS]:"fire-fn-compat",[jS]:"fire-iid",[US]:"fire-iid-compat",[LS]:"fire-fcm",[PS]:"fire-fcm-compat",[zS]:"fire-perf",[BS]:"fire-perf-compat",[qS]:"fire-rc",[HS]:"fire-rc-compat",[FS]:"fire-gcs",[GS]:"fire-gcs-compat",[QS]:"fire-fst",[YS]:"fire-fst-compat",[KS]:"fire-vertex","fire-js":"fire-js",[XS]:"fire-js-all"};const Hc=new Map,JS=new Map,Jd=new Map;function H_(r,e){try{r.container.addComponent(e)}catch(i){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const e=r.name;if(Jd.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,r);for(const i of Hc.values())H_(i,r);for(const i of JS.values())H_(i,r);return!0}function Tm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Jn(r){return r==null?!1:r.settings!==void 0}const WS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Po("app","Firebase",WS);class eA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const ol=$S;function T0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Zd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(i||(i=p0()),!i)throw Xs.create("no-options");const c=Hc.get(o);if(c){if(Hr(i,c.options)&&Hr(a,c.config))return c;throw Xs.create("duplicate-app",{appName:o})}const d=new aS(o);for(const _ of Jd.values())d.addComponent(_);const g=new eA(i,a,d);return Hc.set(o,g),g}function b0(r=Zd){const e=Hc.get(r);if(!e&&r===Zd&&p0())return T0();if(!e)throw Xs.create("no-app",{appName:r});return e}function $s(r,e,i){let a=ZS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}Wa(new Fr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const tA="firebase-heartbeat-database",nA=1,Do="firebase-heartbeat-store";let Pd=null;function S0(){return Pd||(Pd=vS(tA,nA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Do)}catch(i){console.warn(i)}}}}).catch(r=>{throw Xs.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function iA(r){try{const i=(await S0()).transaction(Do),a=await i.objectStore(Do).get(A0(r));return await i.done,a}catch(e){if(e instanceof ls)ns.warn(e.message);else{const i=Xs.create("idb-get",{originalErrorMessage:e?.message});ns.warn(i.message)}}}async function F_(r,e){try{const a=(await S0()).transaction(Do,"readwrite");await a.objectStore(Do).put(e,A0(r)),await a.done}catch(i){if(i instanceof ls)ns.warn(i.message);else{const a=Xs.create("idb-set",{originalErrorMessage:i?.message});ns.warn(a.message)}}}function A0(r){return`${r.name}!${r.options.appId}`}const sA=1024,rA=30;class aA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new oA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>rA){const o=uA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G_(),{heartbeatsToSend:i,unsentEntries:a}=lA(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ns.warn(e),""}}}function G_(){return new Date().toISOString().substring(0,10)}function lA(r,e=sA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Q_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Q_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class oA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yb()?Xb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await iA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Q_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function uA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function cA(r){Wa(new Fr("platform-logger",e=>new bS(e),"PRIVATE")),Wa(new Fr("heartbeat",e=>new aA(e),"PRIVATE")),$s($d,q_,r),$s($d,q_,"esm2020"),$s("fire-js","")}cA("");var hA="firebase",fA="12.7.0";$s(hA,fA,"app");function w0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dA=w0,R0=new Po("auth","Firebase",w0());const Fc=new vm("@firebase/auth");function mA(r,...e){Fc.logLevel<=je.WARN&&Fc.warn(`Auth (${ol}): ${r}`,...e)}function Oc(r,...e){Fc.logLevel<=je.ERROR&&Fc.error(`Auth (${ol}): ${r}`,...e)}function is(r,...e){throw bm(r,...e)}function Ri(r,...e){return bm(r,...e)}function x0(r,e,i){const a={...dA(),[e]:i};return new Po("auth","Firebase",a).create(e,{appName:r.name})}function Zs(r){return x0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return R0.create(r,...e)}function Se(r,e,...i){if(!r)throw bm(e,...i)}function es(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function ss(r,e){r||es(e)}function Wd(){return typeof self<"u"&&self.location?.href||""}function pA(){return K_()==="http:"||K_()==="https:"}function K_(){return typeof self<"u"&&self.location?.protocol||null}function gA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pA()||Fb()||"connection"in navigator)?navigator.onLine:!0}function yA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Bo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ss(i>e,"Short delay should be less than long delay!"),this.isMobile=Bb()||Gb()}get(){return gA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sm(r,e){ss(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class C0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EA=new Bo(3e4,6e4);function fh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ul(r,e,i,a,o={}){return N0(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=zo({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...c};return Hb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ll(r.emulatorConfig.host)&&(y.credentials="include"),C0.fetch()(await D0(r,r.config.apiHost,i,g),y)})}async function N0(r,e,i){r._canInitEmulator=!1;const a={..._A,...e};try{const o=new TA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ac(r,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw x0(r,S,y);is(r,S)}}catch(o){if(o instanceof ls)throw o;is(r,"network-request-failed",{message:String(o)})}}async function I0(r,e,i,a,o={}){const c=await ul(r,e,i,a,o);return"mfaPendingCredential"in c&&is(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function D0(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Sm(r.config,o):`${r.config.apiScheme}://${o}`;return vA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class TA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ri(this.auth,"network-request-failed")),EA.get())})}}function Ac(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ri(r,e,a);return o.customData._tokenResponse=i,o}async function bA(r,e){return ul(r,"POST","/v1/accounts:delete",e)}async function Gc(r,e){return ul(r,"POST","/v1/accounts:lookup",e)}function Ro(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SA(r,e=!1){const i=Sn(r),a=await i.getIdToken(e),o=Am(a);Se(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ro(zd(o.auth_time)),issuedAtTime:Ro(zd(o.iat)),expirationTime:Ro(zd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function Am(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=d0(i);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Y_(r){const e=Am(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Oo(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ls&&AA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function AA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class wA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const e=r.auth,i=await r.getIdToken(),a=await Oo(r,Gc(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?O0(o.providerUserInfo):[],d=xA(r.providerData,c),g=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,y=g?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function RA(r){const e=Sn(r);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function O0(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function CA(r,e){const i=await N0(r,{},async()=>{const a=zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await D0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&ll(r.emulatorConfig.host)&&(_.credentials="include"),C0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function NA(r,e){return ul(r,"POST","/v2/accounts:revokeToken",fh(r,e))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=Y_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await CA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ya;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return es("not implemented")}}function Bs(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new wA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return SA(this,e)}reload(){return RA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await Oo(this,bA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:Q,providerData:H,stsTokenManager:se}=i;Se(A&&se,e,"internal-error");const W=Ya.fromJSON(this.name,se);Se(typeof A=="string",e,"internal-error"),Bs(a,e.name),Bs(o,e.name),Se(typeof I=="boolean",e,"internal-error"),Se(typeof Q=="boolean",e,"internal-error"),Bs(c,e.name),Bs(d,e.name),Bs(g,e.name),Bs(_,e.name),Bs(y,e.name),Bs(S,e.name);const de=new Wn({uid:A,auth:e,email:o,emailVerified:I,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:S});return H&&Array.isArray(H)&&(de.providerData=H.map($=>({...$}))),_&&(de._redirectEventId=_),de}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ya;o.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?O0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Ya;g.updateFromIdToken(a);const _=new Wn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const X_=new Map;function ts(r){ss(r instanceof Function,"Expected a class definition");let e=X_.get(r);return e?(ss(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,X_.set(r,e),e)}class M0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}M0.type="NONE";const $_=M0;function Mc(r,e,i){return`firebase:${r}:${e}:${i}`}class Xa{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Mc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Gc(this.auth,{idToken:e}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Xa(ts($_),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ts($_);const d=Mc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let A;if(typeof S=="string"){const I=await Gc(e,{idToken:S}).catch(()=>{});if(!I)break;A=await Wn._fromGetAccountInfoResponse(e,I,S)}else A=Wn._fromJSON(e,S);y!==c&&(g=A),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Xa(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,e,a))}}function Z_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P0(e))return"Blackberry";if(z0(e))return"Webos";if(k0(e))return"Safari";if((e.includes("chrome/")||j0(e))&&!e.includes("edge/"))return"Chrome";if(L0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function V0(r=en()){return/firefox\//i.test(r)}function k0(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j0(r=en()){return/crios\//i.test(r)}function U0(r=en()){return/iemobile/i.test(r)}function L0(r=en()){return/android/i.test(r)}function P0(r=en()){return/blackberry/i.test(r)}function z0(r=en()){return/webos/i.test(r)}function wm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function IA(r=en()){return wm(r)&&!!window.navigator?.standalone}function DA(){return Qb()&&document.documentMode===10}function B0(r=en()){return wm(r)||L0(r)||z0(r)||P0(r)||/windows phone/i.test(r)||U0(r)}function q0(r,e=[]){let i;switch(r){case"Browser":i=Z_(en());break;case"Worker":i=`${Z_(en())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ol}/${a}`}class OA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function MA(r,e={}){return ul(r,"GET","/v2/passwordPolicy",fh(r,e))}const VA=6;class kA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??VA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class jA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new OA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Gc(this,{idToken:e}),a=await Wn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Zs(this));const i=e?Sn(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MA(this),i=new kA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await NA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ts(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function dh(r){return Sn(r)}class J_{constructor(e){this.auth=e,this.observer=null,this.addObserver=eS(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UA(r){Rm=r}function LA(r){return Rm.loadJS(r)}function PA(){return Rm.gapiScript}function zA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function BA(r,e){const i=Tm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Hr(c,e??{}))return o;is(o,"already-initialized")}return i.initialize({options:e})}function qA(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ts);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function HA(r,e,i){const a=dh(r);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=H0(e),{host:d,port:g}=FA(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(Hr(y,a.config.emulator)&&Hr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,ll(d)?(y0(`${c}//${d}${_}`),_0("Auth",!0)):GA()}function H0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function FA(r){const e=H0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:W_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:W_(d)}}}function W_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function GA(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class F0{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,i){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function $a(r,e){return I0(r,"POST","/v1/accounts:signInWithIdp",fh(r,e))}const QA="http://localhost";class Gr extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Gr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return $a(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,$a(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,$a(e,i)}buildRequest(){const e={requestUri:QA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=zo(i)}return e}}class G0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qo extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hs extends qo{constructor(){super("facebook.com")}static credential(e){return Gr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class Fs extends qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Gr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Gs extends qo{constructor(){super("github.com")}static credential(e){return Gr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Qs extends qo{constructor(){super("twitter.com")}static credential(e,i){return Gr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";async function KA(r,e){return I0(r,"POST","/v1/accounts:signUp",fh(r,e))}class tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Wn._fromIdTokenResponse(e,a,o),d=ev(a);return new tr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=ev(a);return new tr({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function YA(r){if(Jn(r.app))return Promise.reject(Zs(r));const e=dh(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new tr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await KA(e,{returnSecureToken:!0}),a=await tr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Kc extends ls{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Kc(e,i,a,o)}}function Q0(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,e,a):c})}async function XA(r,e,i=!1){const a=await Oo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return tr._forOperation(r,"link",a)}async function $A(r,e,i=!1){const{auth:a}=r;if(Jn(a.app))return Promise.reject(Zs(a));const o="reauthenticate";try{const c=await Oo(r,Q0(a,o,e,r),i);Se(c.idToken,a,"internal-error");const d=Am(c.idToken);Se(d,a,"internal-error");const{sub:g}=d;return Se(r.uid===g,a,"user-mismatch"),tr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&is(a,"user-mismatch"),c}}async function ZA(r,e,i=!1){if(Jn(r.app))return Promise.reject(Zs(r));const a="signIn",o=await Q0(r,a,e),c=await tr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function JA(r,e,i,a){return Sn(r).onIdTokenChanged(e,i,a)}function WA(r,e,i){return Sn(r).beforeAuthStateChanged(e,i)}function e2(r,e,i,a){return Sn(r).onAuthStateChanged(e,i,a)}const Yc="__sak";class K0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const t2=1e3,n2=10;class Y0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);DA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,n2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},t2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y0.type="LOCAL";const i2=Y0;class X0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}X0.type="SESSION";const $0=X0;function s2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new mh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await s2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];function xm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class r2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=xm("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const I=A;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(I.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function a2(r){xi().location.href=r}function Z0(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function l2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o2(){return navigator?.serviceWorker?.controller||null}function u2(){return Z0()?self:null}const J0="firebaseLocalStorageDb",c2=1,Xc="firebaseLocalStorage",W0="fbase_key";class Ho{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(r,e){return r.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function h2(){const r=indexedDB.deleteDatabase(J0);return new Ho(r).toPromise()}function tm(){const r=indexedDB.open(J0,c2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:W0})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?e(a):(a.close(),await h2(),e(await tm()))})})}async function tv(r,e,i){const a=ph(r,!0).put({[W0]:e,value:i});return new Ho(a).toPromise()}async function f2(r,e){const i=ph(r,!1).get(e),a=await new Ho(i).toPromise();return a===void 0?null:a.value}function nv(r,e){const i=ph(r,!0).delete(e);return new Ho(i).toPromise()}const d2=800,m2=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>m2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(u2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await l2(),!this.activeServiceWorker)return;this.sender=new r2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tm();return await tv(e,Yc,"1"),await nv(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>tv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>f2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>nv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ph(o,!1).getAll();return new Ho(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const p2=eE;new Bo(3e4,6e4);function g2(r,e){return e?ts(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Cm extends F0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,i){return $a(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function y2(r){return ZA(r.auth,new Cm(r),r.bypassAuthState)}function _2(r){const{auth:e,user:i}=r;return Se(i,e,"internal-error"),$A(i,new Cm(r),r.bypassAuthState)}async function v2(r){const{auth:e,user:i}=r;return Se(i,e,"internal-error"),XA(i,new Cm(r),r.bypassAuthState)}class tE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y2;case"linkViaPopup":case"linkViaRedirect":return v2;case"reauthViaPopup":case"reauthViaRedirect":return _2;default:is(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const E2=new Bo(2e3,1e4);class Ka extends tE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E2.get())};e()}}Ka.currentPopupAction=null;const T2="pendingRedirect",Vc=new Map;class b2 extends tE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const a=await S2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S2(r,e){const i=R2(e),a=w2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function A2(r,e){Vc.set(r._key(),e)}function w2(r){return ts(r._redirectPersistence)}function R2(r){return Mc(T2,r.config.apiKey,r.name)}async function x2(r,e,i=!1){if(Jn(r.app))return Promise.reject(Zs(r));const a=dh(r),o=g2(a,e),d=await new b2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const C2=600*1e3;class N2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!nE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C2&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(e))}saveEventToCache(e){this.cachedEventUids.add(iv(e)),this.lastProcessedEventTime=Date.now()}}function iv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function nE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function I2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(r);default:return!1}}async function D2(r,e={}){return ul(r,"GET","/v1/projects",e)}const O2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M2=/^https?/;async function V2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await D2(r);for(const i of e)try{if(k2(i))return}catch{}is(r,"unauthorized-domain")}function k2(r){const e=Wd(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!M2.test(i))return!1;if(O2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const j2=new Bo(3e4,6e4);function sv(){const r=xi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function U2(r){return new Promise((e,i)=>{function a(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),i(Ri(r,"network-request-failed"))},timeout:j2.get()})}if(xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xi().gapi?.load)a();else{const o=zA("iframefcb");return xi()[o]=()=>{gapi.load?a():i(Ri(r,"network-request-failed"))},LA(`${PA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw kc=null,e})}let kc=null;function L2(r){return kc=kc||U2(r),kc}const P2=new Bo(5e3,15e3),z2="__/auth/iframe",B2="emulator/auth/iframe",q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Sm(e,B2):`https://${r.config.authDomain}/${z2}`,a={apiKey:e.apiKey,appName:r.name,v:ol},o=H2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zo(a).slice(1)}`}async function G2(r){const e=await L2(r),i=xi().gapi;return Se(i,r,"internal-error"),e.open({where:document.body,url:F2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),g=xi().setTimeout(()=>{c(d)},P2.get());function _(){xi().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const Q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K2=500,Y2=600,X2="_blank",$2="http://localhost";class rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z2(r,e,i,a=K2,o=Y2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...Q2,width:a.toString(),height:o.toString(),top:c,left:d},y=en().toLowerCase();i&&(g=j0(y)?X2:i),V0(y)&&(e=e||$2,_.scrollbars="yes");const S=Object.entries(_).reduce((I,[Q,H])=>`${I}${Q}=${H},`,"");if(IA(y)&&g!=="_self")return J2(e||"",g),new rv(null);const A=window.open(e||"",g,S);Se(A,r,"popup-blocked");try{A.focus()}catch{}return new rv(A)}function J2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const W2="__/auth/handler",ew="emulator/auth/handler",tw=encodeURIComponent("fac");async function av(r,e,i,a,o,c){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ol,eventId:o};if(e instanceof G0){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",Wb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof qo){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await r._getAppCheckToken(),y=_?`#${tw}=${encodeURIComponent(_)}`:"";return`${nw(r)}?${zo(g).slice(1)}${y}`}function nw({config:r}){return r.emulator?Sm(r,ew):`https://${r.authDomain}/${W2}`}const Bd="webStorageSupport";class iw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=x2,this._overrideRedirectResult=A2}async _openPopup(e,i,a,o){ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await av(e,i,a,Wd(),o);return Z2(e,c,xm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await av(e,i,a,Wd(),o);return a2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await G2(e),a=new N2(e);return i.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Bd,{type:Bd},o=>{const c=o?.[0]?.[Bd];c!==void 0&&i(!!c),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=V2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return B0()||k0()||wm()}}const sw=iw;var lv="@firebase/auth",ov="1.12.0";class rw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lw(r){Wa(new Fr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q0(r)},y=new jA(a,o,c,_);return qA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Wa(new Fr("auth-internal",e=>{const i=dh(e.getProvider("auth").getImmediate());return(a=>new rw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(lv,ov,aw(r)),$s(lv,ov,"esm2020")}const ow=300,uw=g0("authIdTokenMaxAge")||ow;let uv=null;const cw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>uw)return;const o=i?.token;uv!==o&&(uv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hw(r=b0()){const e=Tm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=BA(r,{popupRedirectResolver:sw,persistence:[p2,i2,$0]}),a=g0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=cw(c.toString());WA(i,d,()=>d(i.currentUser)),JA(i,g=>d(g))}}const o=m0("auth");return o&&HA(i,`http://${o}`),i}function fw(){return document.getElementsByTagName("head")?.[0]??document}UA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=Ri("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",fw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lw("Browser");var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,iE;(function(){var r;function e(N,w){function R(){}R.prototype=w.prototype,N.F=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,O,j){for(var x=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)x[tt-2]=arguments[tt];return w.prototype[O].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],O=N.g[2];let j=N.g[3],x;x=w+(j^R&(O^j))+V[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(O^w&(R^O))+V[1]+3905402710&4294967295,j=w+(x<<12&4294967295|x>>>20),x=O+(R^j&(w^R))+V[2]+606105819&4294967295,O=j+(x<<17&4294967295|x>>>15),x=R+(w^O&(j^w))+V[3]+3250441966&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(j^R&(O^j))+V[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(O^w&(R^O))+V[5]+1200080426&4294967295,j=w+(x<<12&4294967295|x>>>20),x=O+(R^j&(w^R))+V[6]+2821735955&4294967295,O=j+(x<<17&4294967295|x>>>15),x=R+(w^O&(j^w))+V[7]+4249261313&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(j^R&(O^j))+V[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(O^w&(R^O))+V[9]+2336552879&4294967295,j=w+(x<<12&4294967295|x>>>20),x=O+(R^j&(w^R))+V[10]+4294925233&4294967295,O=j+(x<<17&4294967295|x>>>15),x=R+(w^O&(j^w))+V[11]+2304563134&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(j^R&(O^j))+V[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(O^w&(R^O))+V[13]+4254626195&4294967295,j=w+(x<<12&4294967295|x>>>20),x=O+(R^j&(w^R))+V[14]+2792965006&4294967295,O=j+(x<<17&4294967295|x>>>15),x=R+(w^O&(j^w))+V[15]+1236535329&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(O^j&(R^O))+V[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^O&(w^R))+V[6]+3225465664&4294967295,j=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(j^w))+V[11]+643717713&4294967295,O=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(O^j))+V[0]+3921069994&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^j&(R^O))+V[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^O&(w^R))+V[10]+38016083&4294967295,j=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(j^w))+V[15]+3634488961&4294967295,O=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(O^j))+V[4]+3889429448&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^j&(R^O))+V[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^O&(w^R))+V[14]+3275163606&4294967295,j=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(j^w))+V[3]+4107603335&4294967295,O=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(O^j))+V[8]+1163531501&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^j&(R^O))+V[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^O&(w^R))+V[2]+4243563512&4294967295,j=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(j^w))+V[7]+1735328473&4294967295,O=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(O^j))+V[12]+2368359562&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(R^O^j)+V[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^O)+V[8]+2272392833&4294967295,j=w+(x<<11&4294967295|x>>>21),x=O+(j^w^R)+V[11]+1839030562&4294967295,O=j+(x<<16&4294967295|x>>>16),x=R+(O^j^w)+V[14]+4259657740&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^j)+V[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^O)+V[4]+1272893353&4294967295,j=w+(x<<11&4294967295|x>>>21),x=O+(j^w^R)+V[7]+4139469664&4294967295,O=j+(x<<16&4294967295|x>>>16),x=R+(O^j^w)+V[10]+3200236656&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^j)+V[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^O)+V[0]+3936430074&4294967295,j=w+(x<<11&4294967295|x>>>21),x=O+(j^w^R)+V[3]+3572445317&4294967295,O=j+(x<<16&4294967295|x>>>16),x=R+(O^j^w)+V[6]+76029189&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^j)+V[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^O)+V[12]+3873151461&4294967295,j=w+(x<<11&4294967295|x>>>21),x=O+(j^w^R)+V[15]+530742520&4294967295,O=j+(x<<16&4294967295|x>>>16),x=R+(O^j^w)+V[2]+3299628645&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(O^(R|~j))+V[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~O))+V[7]+1126891415&4294967295,j=w+(x<<10&4294967295|x>>>22),x=O+(w^(j|~R))+V[14]+2878612391&4294967295,O=j+(x<<15&4294967295|x>>>17),x=R+(j^(O|~w))+V[5]+4237533241&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~j))+V[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~O))+V[3]+2399980690&4294967295,j=w+(x<<10&4294967295|x>>>22),x=O+(w^(j|~R))+V[10]+4293915773&4294967295,O=j+(x<<15&4294967295|x>>>17),x=R+(j^(O|~w))+V[1]+2240044497&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~j))+V[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~O))+V[15]+4264355552&4294967295,j=w+(x<<10&4294967295|x>>>22),x=O+(w^(j|~R))+V[6]+2734768916&4294967295,O=j+(x<<15&4294967295|x>>>17),x=R+(j^(O|~w))+V[13]+1309151649&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~j))+V[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~O))+V[11]+3174756917&4294967295,j=w+(x<<10&4294967295|x>>>22),x=O+(w^(j|~R))+V[2]+718787259&4294967295,O=j+(x<<15&4294967295|x>>>17),x=R+(j^(O|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+j&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const R=w-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<w;){if(O==0)for(;j<=R;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<w;)if(V[O++]=N.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<w;)if(V[O++]=N[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[w++]=this.g[R]>>>V&255;return N};function c(N,w){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function d(N,w){this.h=w;const R=[];let V=!0;for(let O=N.length-1;O>=0;O--){const j=N[O]|0;V&&j==w||(R[O]=j,V=!1)}this.g=R}var g={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return W(y(-N));const w=[];let R=1;for(let V=0;N>=R;V++)w[V]=N/R|0,R*=4294967296;return new d(w,0)}function S(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return W(S(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let V=A;for(let j=0;j<N.length;j+=8){var O=Math.min(8,N.length-j);const x=parseInt(N.substring(j,j+O),w);O<8?(O=y(Math.pow(w,O)),V=V.j(O).add(y(x))):(V=V.j(R),V=V.add(y(x)))}return V}var A=_(0),I=_(1),Q=_(16777216);r=d.prototype,r.m=function(){if(se(this))return-W(this).m();let N=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(se(this))return"-"+W(this).toString(N);const w=y(Math.pow(N,6));var R=this;let V="";for(;;){const O=ne(R,w).g;R=de(R,O.j(w));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,H(R))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function se(N){return N.h==-1}r.l=function(N){return N=de(this,N),se(N)?-1:H(N)?0:1};function W(N){const w=N.g.length,R=[];for(let V=0;V<w;V++)R[V]=~N.g[V];return new d(R,~N.h).add(I)}r.abs=function(){return se(this)?W(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let O=0;O<=w;O++){let j=V+(this.i(O)&65535)+(N.i(O)&65535),x=(j>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=x>>>16,j&=65535,x&=65535,R[O]=x<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function de(N,w){return N.add(W(w))}r.j=function(N){if(H(this)||H(N))return A;if(se(this))return se(N)?W(this).j(W(N)):W(W(this).j(N));if(se(N))return W(this.j(W(N)));if(this.l(Q)<0&&N.l(Q)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const j=this.i(V)>>>16,x=this.i(V)&65535,tt=N.i(O)>>>16,ut=N.i(O)&65535;R[2*V+2*O]+=x*ut,$(R,2*V+2*O),R[2*V+2*O+1]+=j*ut,$(R,2*V+2*O+1),R[2*V+2*O+1]+=x*tt,$(R,2*V+2*O+1),R[2*V+2*O+2]+=j*tt,$(R,2*V+2*O+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new d(R,0)};function $(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function oe(N,w){this.g=N,this.h=w}function ne(N,w){if(H(w))throw Error("division by zero");if(H(N))return new oe(A,A);if(se(N))return w=ne(W(N),w),new oe(W(w.g),W(w.h));if(se(w))return w=ne(N,W(w)),new oe(W(w.g),w.h);if(N.g.length>30){if(se(N)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var R=I,V=w;V.l(N)<=0;)R=Te(R),V=Te(V);var O=me(R,1),j=me(V,1);for(V=me(V,2),R=me(R,2);!H(V);){var x=j.add(V);x.l(N)<=0&&(O=O.add(R),j=x),V=me(V,1),R=me(R,1)}return w=de(N,O.j(w)),new oe(O,w)}for(O=A;N.l(w)>=0;){for(R=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=y(R),x=j.j(w);se(x)||x.l(N)>0;)R-=V,j=y(R),x=j.j(w);H(j)&&(j=I),O=O.add(j),N=de(N,x)}return new oe(O,N)}r.B=function(N){return ne(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&N.i(V);return new d(R,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|N.i(V);return new d(R,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^N.i(V);return new d(R,this.h^N.h)};function Te(N){const w=N.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(R,N.h)}function me(N,w){const R=w>>5;w%=32;const V=N.g.length-R,O=[];for(let j=0;j<V;j++)O[j]=w>0?N.i(j+R)>>>w|N.i(j+R+1)<<32-w:N.i(j+R);return new d(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,iE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Js=d}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sE,To,rE,jc,nm,aE,lE,oE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var ie=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ie[Ne-2]=arguments[Ne];return m.prototype[U].apply(b,ie)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function H(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let ie=0;ie<B;ie++)u[v+ie]=U[ie]}else u.push(U)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function de(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ${constructor(){this.h=this.g=null}add(m,v){const b=oe.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var oe=new se(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,me=!1,N=new $,w=()=>{const u=Promise.resolve(void 0);Te=()=>{u.then(R)}};function R(){for(var u;u=de();){try{u.h.call(u.g)}catch(v){W(v)}var m=oe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function tt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(tt,O),tt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),F=0;function re(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++F,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ge(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function be(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ie=ce(u,m,b,U);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new re(m,this.src,B,!!b,U),m.fa=v,u.push(m)),m};function le(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(ee(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ce(u,m,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),ft={};function We(u,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)We(u,m[B],v,b,U);return null}return v=gl(v),u&&u[ut]?u.J(m,v,g(b)?!!b.capture:!1,U):ni(u,m,v,!1,b,U)}function ni(u,m,v,b,U,B){if(!m)throw Error("Invalid event type");const ie=g(U)?!!U.capture:!!U;let Ne=or(u);if(Ne||(u[Ce]=Ne=new ae(u)),v=Ne.add(m,v,b,ie,B),v.proxy)return v;if(b=dn(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)j||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(ii(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dn(){function u(v){return m.call(u.src,u.listener,v)}const m=ml;return u}function Jr(u,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Jr(u,m[B],v,b,U);else b=g(b)?!!b.capture:!!b,v=gl(v),u&&u[ut]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=ce(m,v,b,U),v>-1&&(ee(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=or(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ce(m,v,b,U)),(v=u>-1?m[u]:null)&&Wr(v))}function Wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ut])le(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ii(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=or(m))?(le(v,u),v.h==0&&(v.src=null,m[Ce]=null)):ee(u)}}}function ii(u){return u in ft?ft[u]:ft[u]="on"+u}function ml(u,m){if(u.da)u=!0;else{m=new tt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Wr(u),u=v.call(b,m)}return u}function or(u){return u=u[Ce],u instanceof ae?u:null}var pl="__closure_events_fn_"+(Math.random()*1e9>>>0);function gl(u){return typeof u=="function"?u:(u[pl]||(u[pl]=function(m){return u.handleEvent(m)}),u[pl])}function _t(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}A(_t,V),_t.prototype[ut]=!0,_t.prototype.removeEventListener=function(u,m,v,b){Jr(this,u,m,v,b)};function It(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(b,u),te(m,U)}U=!0;let B,ie;if(v)for(ie=v.length-1;ie>=0;ie--)B=m.g=v[ie],U=os(B,b,!0,m)&&U;if(B=m.g=u,U=os(B,b,!0,m)&&U,U=os(B,b,!1,m)&&U,v)for(ie=0;ie<v.length;ie++)B=m.g=v[ie],U=os(B,b,!1,m)&&U}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ee(v[b]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},_t.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function os(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const ie=m[B];if(ie&&!ie.da&&ie.capture==v){const Ne=ie.listener,mt=ie.ha||ie.src;ie.fa&&le(u.i,ie),U=Ne.call(mt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xo(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Xo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){V.call(this),this.h=u,this.g={}}A(ur,V);var yl=[];function _l(u){ge(u.g,function(m,v){this.g.hasOwnProperty(v)&&Wr(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),_l(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=d.JSON.stringify,Dh=d.JSON.parse,$o=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zo(){}function Jo(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){O.call(this,"d")}A(Pt,O);function An(){O.call(this,"c")}A(An,O);var dt={},Wo=null;function ea(){return Wo=Wo||new _t}dt.Ia="serverreachability";function eu(u){O.call(this,dt.Ia,u)}A(eu,O);function si(u){const m=ea();It(m,new eu(m))}dt.STAT_EVENT="statevent";function cr(u,m){O.call(this,dt.STAT_EVENT,u),this.stat=m}A(cr,O);function vt(u){const m=ea();It(m,new cr(m,u))}dt.Ja="timingevent";function ri(u,m){O.call(this,dt.Ja,u),this.size=m}A(ri,O);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,b,U,B){u.info(function(){if(u.g)if(B){var ie="",Ne=B.split("&");for(let He=0;He<Ne.length;He++){var mt=Ne[He].split("=");if(mt.length>1){const at=mt[0];mt=mt[1];const Cn=at.split("_");ie=Cn.length>=2&&Cn[1]=="type"?ie+(at+"="+mt+"&"):ie+(at+"=redacted&")}}}else ie=null;else ie=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+ie})}function tu(u,m,v,b,U,B,ie){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+ie})}function li(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(b?" "+b:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<b.length;ie++)b[ie]=""}}}}return us(B)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function dr(){}A(dr,Zo),dr.prototype.g=function(){return new XMLHttpRequest},El=new dr;function Vi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function oi(u,m,v){u.M=1,u.A=mr(bt(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),ui(u),u.B=bt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ra(v.i,"t",b),u.C=0,v=u.j.L,u.h=new qn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(yl[0]=U.toString()),U=yl);for(let B=0;B<U.length;B++){const ie=We(v,U[B],b||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Gn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Ne!=4||mt==7||(mt==8||He<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var B=b;break t}}B=null}if(u=B)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,vt(12),mn(this),wn(this);break e}}if(this.R){u=!0;let at;for(;!this.K&&this.C<v.length;)if(at=su(this,v),at==kt){Ne==4&&(this.m=4,vt(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),li(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,at,null),hi(this,at);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),kl(ie),ie.P=!0,vt(11))}}else li(this.i,this.l,v,null),hi(this,v);Ne==4&&mn(this),this.o&&!this.K&&(Ne==4?du(this.j,this):(this.o=!1,ui(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),wn(this)}}}catch{}};function Vh(u){if(!iu(u))return u.g.la();const m=zt(u.g);if(m==="")return"";let v="";const b=m.length,U=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?kt:(v=Number(m.substring(v,b)),isNaN(v)?Et:(b+=1,b+v>m.length?kt:(m=m.slice(b,b+v),u.C=b+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function ui(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(si(),vt(17)),mn(this),this.m=2,wn(this)):na(this,this.T-u)};function wn(u){u.j.I==0||u.K||du(u.j,u)}function mn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_l(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),ys(v);else break e;Tr(v),vt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&ca(v),!x(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let He=U[m];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Cn=He[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const Ei=He[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Qn=He[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(b=1.5*Qn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Kn=u.g;if(Kn){const br=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var B=b.h;B.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Sl(B,B.h),B.h=null))}if(b.G){const ha=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(b.wa=ha,Qe(b.J,b.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ie=u;if(b.na=gu(b,b.L?b.ba:null,b.W),ie.L){Al(b.h,ie);var Ne=ie,mt=b.O;mt&&(Ne.H=mt),Ne.D&&(ci(Ne),ui(Ne)),b.g=ie}else hu(b);v.i.length>0&&_i(v)}else He[0]!="stop"&&He[0]!="close"||vi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?vi(v,7):Ml(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}si(4)}catch{}}var Tt=class{constructor(u,m){this.g=u,this.map=m}};function Tl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sl(u,m){u.g?u.g.add(m):u.h=m}function Al(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Tl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,jt(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,Rl(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,jt(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),cs(this,m[4]),this.h=mi(m[5]||"",!0),Rl(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(pr(m,sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pr(m,sa,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(pr(v,v.charAt(0)=="/"?xl:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",pr(v,lu)),u.join("")},pn.prototype.resolve=function(u){const m=bt(this);let v=!!u.j;v?jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)cs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let ie=0;ie<U.length;){const Ne=U[ie++];Ne=="."?b&&ie==U.length&&B.push(""):Ne==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ie==U.length&&B.push("")):(B.push(Ne),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Rl(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function bt(u){return new pn(u)}function jt(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Rl(u,m,v){m instanceof fs?(u.i=m,aa(u.i,u.l)):(v||(m=pr(m,hs)),u.i=new fs(m,u.l))}function Qe(u,m,v){u.i.set(m,v)}function mr(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,au=/[#\?:]/g,xl=/[#\?]/g,hs=/[#\?@]/g,lu=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fs.prototype,r.add=function(u,m){an(this),this.i=null,u=ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ou(u,m){an(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Cl(u,m){return an(u),m=ds(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Nl(u,m){an(u);let v=[];if(typeof m=="string")Cl(u,m)&&(v=v.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=ds(this,u),Cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Nl(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){ou(u,m),v.length>0&&(u.i=null,u.g.set(ds(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Vi(v);v=Nl(this,v);for(let B=0;B<v.length;B++){let ie=U;v[B]!==""&&(ie+="="+Vi(v[B])),u.push(ie)}}return this.i=u.join("&")};function uu(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(ou(this,b),ra(this,U,v))},u)),u.j=m}function Hn(u,m){const v=new zn;if(d.Image){const b=new Image;b.onload=S(Rn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Rn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(Rn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Rn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Il(u,m){const v=new zn,b=new AbortController,U=setTimeout(()=>{b.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function ms(){this.g=new $o}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(pi,Zo),pi.prototype.g=function(){return new gr(this.i,this.h)};function gr(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(gr,_t),r=gr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):Fn(this),this.readyState==3&&la(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},r.Na=function(u){this.g&&(this.response=u,ps(this))},r.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return ge(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=xn(v),typeof u=="string"?v!=null&&Vi(v):Qe(u,m,v))}function Xe(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,_t);var gi=/^https?$/i,Dl=["POST","PUT"];r=Xe.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){_r(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Dl,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of v)this.g.setRequestHeader(B,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){_r(this,B)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ol(u),ki(u)}function Ol(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ie=String(u.D).match(ru)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),b=!gi.test(ie?ie.toLowerCase():"")}v=b}if(v)It(u,"complete"),It(u,"success");else{u.o=6;try{var U=Gn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ol(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||It(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=nu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}be(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){vt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=gu(this,null,this.W),_i(this)};function Ml(u){if(oa(u),u.I==3){var m=u.V++,v=bt(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),Er(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=mr(bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}pu(u)}function ys(u){u.g&&(kl(u),u.g.cancel(),u.g=null)}function oa(u){ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!bl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Te||w(),me||(Te(),me=!0),N.add(m,u),u.D=0}}function ua(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),te(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=cu(this,U,m),v=bt(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Er(this,v),B&&(this.R?m="headers="+Vi(xn(B))+"&"+m:this.u&&yr(v,this.u,B)),Sl(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),U.U=!0,oi(U,v,null)):oi(U,v,m),this.I=2}}else this.I==3&&(u?Vl(this,u):this.i.length==0||bl(this.h)||Vl(this))};function Vl(u,m){var v;m?v=m.l:v=u.V++;const b=bt(u.J);Qe(b,"SID",u.M),Qe(b,"RID",v),Qe(b,"AID",u.K),Er(u,b),u.u&&u.o&&yr(b,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Sl(u.h,v),oi(v,b,m)}function Er(u,m){u.H&&ge(u.H,function(v,b){Qe(m,b,v)}),u.l&&ge({},function(v,b){Qe(m,b,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ne=-1;for(;;){const mt=["count="+v];Ne==-1?v>0?(Ne=U[0].g,mt.push("ofs="+Ne)):Ne=0:mt.push("ofs="+Ne);let He=!0;for(let at=0;at<v;at++){var B=U[at].g;const Cn=U[at].map;if(B-=Ne,B<0)Ne=Math.max(0,U[at].g-100),He=!1;else try{B="req"+B+"_"||"";try{var ie=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ei,Qn]of ie){let Kn=Qn;g(Qn)&&(Kn=us(Qn)),mt.push(B+Ei+"="+encodeURIComponent(Kn))}}catch(Ei){throw mt.push(B+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(Cn)}}if(He){ie=mt.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Te||w(),me||(Te(),me=!0),N.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),ys(this),fu(this))};function kl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=bt(u.na);Qe(m,"RID","rpc"),Qe(m,"SID",u.M),Qe(m,"AID",u.K),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(m,"TO",u.ia),Qe(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(bt(m)),v.u=null,v.R=!0,ta(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ys(this),Tr(this),vt(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){ca(u),kl(u),u.g=null;var b=2}else if(di(u.h,m))v=m.G,Al(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=ea(),It(b,new ri(b,v)),_i(u)}else hu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&ua(u,m)||b==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const U=!b;b=new pn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jt(b,"https"),mr(b),U?Hn(b.toString(),v):Il(b.toString(),v)}else vt(2);u.I=0,u.l&&u.l.pa(m),pu(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=wl(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,v){var b=v instanceof pn?bt(v):new pn(v);if(b.g!="")m&&(b.g=m+"."+b.g),cs(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new pn(null);b&&jt(B,b),m&&(B.g=m),U&&cs(B,U),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Qe(b,v,m),Qe(b,"VER",u.ka),Er(u,b),b}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xe(new pi({ab:v})):new Xe(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _s(){}_s.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){_t.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}A(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ml(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=us(u),u=v);m.i.push(new Tt(m.Ya++,u)),m.I==3&&_i(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,nn.Z.N.call(this)};function vu(u){Pt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(vu,Pt);function Eu(){An.call(this),this.status=1}A(Eu,An);function Ui(u){this.g=u}A(Ui,_u),Ui.prototype.ra=function(){It(this.g,"a")},Ui.prototype.qa=function(u){It(this.g,new vu(u))},Ui.prototype.pa=function(u){It(this.g,new Eu)},Ui.prototype.oa=function(){It(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,oE=function(){return new _s},lE=function(){return ea()},aE=dt,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,jc=fr,vl.COMPLETE="complete",rE=vl,Jo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,To=Jo,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,sE=Xe}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const hv="@firebase/firestore",fv="4.9.3";let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let cl="12.7.0";const Qr=new vm("@firebase/firestore");function Ha(){return Qr.logLevel}function ue(r,...e){if(Qr.logLevel<=je.DEBUG){const i=e.map(Nm);Qr.debug(`Firestore (${cl}): ${r}`,...i)}}function rs(r,...e){if(Qr.logLevel<=je.ERROR){const i=e.map(Nm);Qr.error(`Firestore (${cl}): ${r}`,...i)}}function el(r,...e){if(Qr.logLevel<=je.WARN){const i=e.map(Nm);Qr.warn(`Firestore (${cl}): ${r}`,...i)}}function Nm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Ee(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,uE(r,a,i)}function uE(r,e,i){let a=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw rs(a),new Error(a)}function Ge(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||uE(e,o,a)}function xe(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ls{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class cE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class mw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class pw{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ge(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Br,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Br)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ge(typeof a.accessToken=="string",31837,{l:a}),new cE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class gw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new gw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _w{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ge(this.o===void 0,3512);const a=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ge(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new dv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Im{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=vw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Ue(r,e){return r<e?-1:r>e?1:0}function im(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return qd(o)===qd(c)?Ue(o,c):qd(o)?1:-1}return Ue(r.length,e.length)}const Ew=55296,Tw=57343;function qd(r){const e=r.charCodeAt(0);return e>=Ew&&e<=Tw}function tl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const mv="__name__";class wi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=wi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ue(e.length,i.length)}static compareSegments(e,i){const a=wi.isNumericId(e),o=wi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?wi.extractNumericId(e).compare(wi.extractNumericId(i)):im(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class st extends wi{construct(e,i,a){return new st(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new st(i)}static emptyPath(){return new st([])}}const bw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends wi{construct(e,i,a){return new Qt(e,i,a)}static isValidIdentifier(e){return bw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mv}static keyField(){return new Qt([mv])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return st.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}function hE(r,e,i){if(!i)throw new pe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Sw(r,e,i,a){if(e===!0&&a===!0)throw new pe(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function pv(r){if(!_e.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gv(r){if(_e.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Ws(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(r);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ct(r,e){const i={typeString:r};return e&&(i.value=e),i}function Fo(r,e){if(!fE(r))throw new pe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new pe(J.INVALID_ARGUMENT,i);return!0}const yv=-62135596800,_v=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*_v);return new rt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<yv)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fo(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new rt(0,0))}static max(){return new Ae(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mo=-1;function Aw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(a===1e9?new rt(i+1,0):new rt(i,a));return new nr(o,_e.empty(),e)}function ww(r){return new nr(r.readTime,r.key,Mo)}class nr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new nr(Ae.min(),_e.empty(),Mo)}static max(){return new nr(Ae.max(),_e.empty(),Mo)}}function Rw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(r.documentKey,e.documentKey),i!==0?i:Ue(r.largestBatchId,e.largestBatchId))}const xw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==xw)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((S=>{d[y]=S,++g,g===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Nw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fl(r){return r.name==="IndexedDbTransactionError"}class gh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;const Om=-1;function yh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function Iw(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const dE="";function Dw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=vv(e)),e=Ow(r.get(i),e);return vv(e)}function Ow(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case dE:i+="";break;default:i+=c}}return i}function vv(r){return r+dE+""}function Ev(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Yr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function mE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ot{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new ot(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Gt.RED,this.left=o??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Gt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(e){return new Tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class Tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new ei([])}unionWith(e){let i=new Vt(Qt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new ei(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const Mw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const i=Mw.exec(r);if(Ge(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function sr(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}const gE="server_timestamp",yE="__type__",_E="__previous_value__",vE="__local_write_time__";function Mm(r){return(r?.mapValue?.fields||{})[yE]?.stringValue===gE}function _h(r){const e=r.mapValue.fields[_E];return Mm(e)?_h(e):e}function Vo(r){const e=ir(r.mapValue.fields[vE].timestampValue);return new rt(e.seconds,e.nanos)}class Vw{constructor(e,i,a,o,c,d,g,_,y,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S}}const Zc="(default)";class ko{constructor(e,i){this.projectId=e,this.database=i||Zc}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}const EE="__type__",kw="__max__",xc={mapValue:{}},TE="__vector__",Jc="value";function rr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:Uw(r)?9007199254740991:jw(r)?10:11:Ee(28295,{value:r})}function Oi(r,e){if(r===e)return!0;const i=rr(r);if(i!==rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vo(r).isEqual(Vo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ir(o.timestampValue),g=ir(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return sr(o.bytesValue).isEqual(sr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return yt(o.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return yt(o.integerValue)===yt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=yt(o.doubleValue),g=yt(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return tl(r.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Ev(d)!==Ev(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Oi(d[_],g[_])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function jo(r,e){return(r.values||[]).find((i=>Oi(i,e)))!==void 0}function nl(r,e){if(r===e)return 0;const i=rr(r),a=rr(e);if(i!==a)return Ue(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=yt(c.integerValue||c.doubleValue),_=yt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return bv(r.timestampValue,e.timestampValue);case 4:return bv(Vo(r),Vo(e));case 5:return im(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=sr(c),_=sr(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const S=Ue(g[y],_[y]);if(S!==0)return S}return Ue(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ue(yt(c.latitude),yt(d.latitude));return g!==0?g:Ue(yt(c.longitude),yt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Sv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Jc]?.arrayValue,S=_[Jc]?.arrayValue,A=Ue(y?.values?.length||0,S?.values?.length||0);return A!==0?A:Sv(y,S)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let A=0;A<_.length&&A<S.length;++A){const I=im(_[A],S[A]);if(I!==0)return I;const Q=nl(g[_[A]],y[S[A]]);if(Q!==0)return Q}return Ue(_.length,S.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function bv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const i=ir(r),a=ir(e),o=Ue(i.seconds,a.seconds);return o!==0?o:Ue(i.nanos,a.nanos)}function Sv(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=nl(i[o],a[o]);if(c)return c}return Ue(i.length,a.length)}function il(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ir(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return sr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return _e.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=sm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${sm(i.fields[d])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function Uc(r){switch(rr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(r);return e?16+Uc(e):16;case 5:return 2*r.stringValue.length;case 6:return sr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Yr(a.fields,((c,d)=>{o+=c.length+Uc(d)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function rm(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function Av(r){return!!r&&"nullValue"in r}function wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function jw(r){return(r?.mapValue?.fields||{})[EE]?.stringValue===TE}function xo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Yr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=xo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xo(r.arrayValue.values[i]);return e}return{...r}}function Uw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kw}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xo(i)}setAll(e){let i=Qt.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=xo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Yr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Un(xo(this.value))}}function bE(r){const e=[];return Yr(r.fields,((i,a)=>{const o=new Qt([i]);if(Lc(a)){const c=bE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new ei(e)}class Wt{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),Un.empty(),0)}static newFoundDocument(e,i,a,o){return new Wt(e,1,i,Ae.min(),a,o,0)}static newNoDocument(e,i){return new Wt(e,2,i,Ae.min(),Ae.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,Ae.min(),Ae.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(e,i){this.position=e,this.inclusive=i}}function Rv(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),i.key):a=nl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function xv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],e.position[i]))return!1;return!0}class eh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Lw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class SE{}class Ot extends SE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new zw(e,i,a):i==="array-contains"?new Hw(e,a):i==="in"?new Fw(e,a):i==="not-in"?new Gw(e,a):i==="array-contains-any"?new Qw(e,a):new Ot(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Bw(e,a):new qw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(nl(i,this.value)):i!==null&&rr(this.value)===rr(i)&&this.matchesComparison(nl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends SE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Mi(e,i)}matches(e){return AE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AE(r){return r.op==="and"}function wE(r){return Pw(r)&&AE(r)}function Pw(r){for(const e of r.filters)if(e instanceof Mi)return!1;return!0}function am(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+il(r.value);if(wE(r))return r.filters.map((e=>am(e))).join(",");{const e=r.filters.map((i=>am(i))).join(",");return`${r.op}(${e})`}}function RE(r,e){return r instanceof Ot?(function(a,o){return o instanceof Ot&&a.op===o.op&&a.field.isEqual(o.field)&&Oi(a.value,o.value)})(r,e):r instanceof Mi?(function(a,o){return o instanceof Mi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&RE(d,o.filters[g])),!0):!1})(r,e):void Ee(19439)}function xE(r){return r instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${il(i.value)}`})(r):r instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(xE).join(" ,")+"}"})(r):"Filter"}class zw extends Ot{constructor(e,i,a){super(e,i,a),this.key=_e.fromName(a.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class Bw extends Ot{constructor(e,i){super(e,"in",i),this.keys=CE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class qw extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=CE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function CE(r,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class Hw extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vm(i)&&jo(i.arrayValue,this.value)}}class Fw extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&jo(this.value.arrayValue,i)}}class Gw extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jo(this.value.arrayValue,i)}}class Qw extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jo(this.value.arrayValue,a)))}}class Kw{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Cv(r,e=null,i=[],a=[],o=null,c=null,d=null){return new Kw(r,e,i,a,o,c,d)}function km(r){const e=xe(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>am(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),yh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>il(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>il(a))).join(",")),e.Te=i}return e.Te}function jm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Lw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!RE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!xv(r.startAt,e.startAt)&&xv(r.endAt,e.endAt)}function lm(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class vh{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yw(r,e,i,a,o,c,d,g){return new vh(r,e,i,a,o,c,d,g)}function Um(r){return new vh(r)}function Nv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Xw(r){return r.collectionGroup!==null}function Co(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Vt(Qt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eh(c,a))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new eh(Qt.keyField(),a))}return e.Ie}function Ci(r){const e=xe(r);return e.Ee||(e.Ee=$w(e,Co(r))),e.Ee}function $w(r,e){if(r.limitType==="F")return Cv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eh(o.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return Cv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function om(r,e,i){return new vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Eh(r,e){return jm(Ci(r),Ci(e))&&r.limitType===e.limitType}function NE(r){return`${km(Ci(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>xE(o))).join(", ")}]`),yh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>il(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>il(o))).join(",")),`Target(${a})`})(Ci(r))}; limitType=${r.limitType})`}function Th(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_e.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Co(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=Rv(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Co(a),o)||a.endAt&&!(function(d,g,_){const y=Rv(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Co(a),o))})(r,e)}function Zw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function IE(r){return(e,i)=>{let a=!1;for(const o of Co(r)){const c=Jw(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Jw(r,e,i){const a=r.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?nl(_,y):Ee(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:r.dir})}}class Xr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}const Ww=new ot(_e.comparator);function as(){return Ww}const DE=new ot(_e.comparator);function bo(...r){let e=DE;for(const i of r)e=e.insert(i.key,i);return e}function OE(r){let e=DE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Pr(){return No()}function ME(){return No()}function No(){return new Xr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const eR=new ot(_e.comparator),tR=new Vt(_e.comparator);function Le(...r){let e=tR;for(const i of r)e=e.add(i);return e}const nR=new Vt(Ue);function iR(){return nR}function Lm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function VE(r){return{integerValue:""+r}}function sR(r,e){return Iw(e)?VE(e):Lm(r,e)}class bh{constructor(){this._=void 0}}function rR(r,e,i){return r instanceof th?(function(o,c){const d={fields:{[yE]:{stringValue:gE},[vE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Mm(c)&&(c=_h(c)),c&&(d.fields[_E]=c),{mapValue:d}})(i,e):r instanceof Uo?jE(r,e):r instanceof Lo?UE(r,e):(function(o,c){const d=kE(o,c),g=Iv(d)+Iv(o.Ae);return rm(d)&&rm(o.Ae)?VE(g):Lm(o.serializer,g)})(r,e)}function aR(r,e,i){return r instanceof Uo?jE(r,e):r instanceof Lo?UE(r,e):i}function kE(r,e){return r instanceof nh?(function(a){return rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class th extends bh{}class Uo extends bh{constructor(e){super(),this.elements=e}}function jE(r,e){const i=LE(e);for(const a of r.elements)i.some((o=>Oi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Lo extends bh{constructor(e){super(),this.elements=e}}function UE(r,e){let i=LE(e);for(const a of r.elements)i=i.filter((o=>!Oi(o,a)));return{arrayValue:{values:i}}}class nh extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Iv(r){return yt(r.integerValue||r.doubleValue)}function LE(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function lR(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Uo&&o instanceof Uo||a instanceof Lo&&o instanceof Lo?tl(a.elements,o.elements,Oi):a instanceof nh&&o instanceof nh?Oi(a.Ae,o.Ae):a instanceof th&&o instanceof th})(r.transform,e.transform)}class oR{constructor(e,i){this.version=e,this.transformResults=i}}class ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sh{}function PE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Pm(r.key,ti.none()):new Go(r.key,r.data,ti.none());{const i=r.data,a=Un.empty();let o=new Vt(Qt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new $r(r.key,a,new ei(o.toArray()),ti.none())}}function uR(r,e,i){r instanceof Go?(function(o,c,d){const g=o.value.clone(),_=Ov(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof $r?(function(o,c,d){if(!Pc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Ov(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(zE(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Io(r,e,i,a){return r instanceof Go?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),S=Mv(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,a):r instanceof $r?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=Mv(c.fieldTransforms,_,d),S=d.data;return S.setAll(zE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function cR(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=kE(a.transform,o||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function Dv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&tl(a,o,((c,d)=>lR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Go extends Sh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $r extends Sh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function Ov(r,e,i){const a=new Map;Ge(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,aR(d,g,i[o]))}return a}function Mv(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,rR(c,d,e))}return a}class Pm extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hR extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&uR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Io(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Io(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ME();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=PE(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Le())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,((i,a)=>Dv(i,a)))&&tl(this.baseMutations,e.baseMutations,((i,a)=>Dv(i,a)))}}class zm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ge(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return eR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new zm(e,i,a,o)}}class dR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mR{constructor(e,i){this.count=e,this.unchangedNames=i}}var xt,ze;function pR(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function BE(r){if(r===void 0)return rs("GRPC error has no .code"),J.UNKNOWN;switch(r){case xt.OK:return J.OK;case xt.CANCELLED:return J.CANCELLED;case xt.UNKNOWN:return J.UNKNOWN;case xt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xt.INTERNAL:return J.INTERNAL;case xt.UNAVAILABLE:return J.UNAVAILABLE;case xt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xt.NOT_FOUND:return J.NOT_FOUND;case xt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xt.ABORTED:return J.ABORTED;case xt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(ze=xt||(xt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function gR(){return new TextEncoder}const yR=new Js([4294967295,4294967295],0);function Vv(r){const e=gR().encode(r),i=new iE;return i.update(e),new Uint8Array(i.digest())}function kv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Js([i,a],0),new Js([o,c],0)]}class Bm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new So(`Invalid padding: ${i}`);if(a<0)throw new So(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new So(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Js.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Js.fromNumber(a)));return o.compare(yR)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Vv(e),[a,o]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Bm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Vv(e),[a,o]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Qo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ah(Ae.min(),o,new ot(Ue),as(),Le())}}class Qo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Qo(a,i,Le(),Le(),Le())}}class zc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class qE{constructor(e,i){this.targetId=e,this.Ce=i}}class HE{constructor(e,i,a=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class jv{constructor(){this.ve=0,this.Fe=Uv(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),i=Le(),a=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ee(38017,{changeType:c})}})),new Qo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Uv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _R{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.Je=Cc(),this.He=Cc(),this.Ye=new ot(Ue)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(lm(c))if(a===0){const d=new _e(c.path);this.et(i,d,Wt.newNoDocument(d,Ae.min()))}else Ge(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=sr(a).toUint8Array()}catch(_){if(_ instanceof pE)return el("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Bm(d,o,c)}catch(_){return el(_ instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&lm(g.target)){const _=new _e(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Wt.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Le();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ah(e,i,this.Ye,this.je,a);return this.je=as(),this.Je=Cc(),this.He=Cc(),this.Ye=new ot(Ue),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new jv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Vt(Ue),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Vt(Ue),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Cc(){return new ot(_e.comparator)}function Uv(){return new ot(_e.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},ER={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TR={and:"AND",or:"OR"};class bR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function um(r,e){return r.useProto3Json||yh(e)?e:{value:e}}function ih(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function SR(r,e){return ih(r,e.toTimestamp())}function Ni(r){return Ge(!!r,49232),Ae.fromTimestamp((function(i){const a=ir(i);return new rt(a.seconds,a.nanos)})(r))}function qm(r,e){return cm(r,e).canonicalString()}function cm(r,e){const i=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function GE(r){const e=st.fromString(r);return Ge($E(e),10190,{key:e.toString()}),e}function hm(r,e){return qm(r.databaseId,e.path)}function Hd(r,e){const i=GE(e);if(i.get(1)!==r.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new _e(KE(i))}function QE(r,e){return qm(r.databaseId,e)}function AR(r){const e=GE(r);return e.length===4?st.emptyPath():KE(e)}function fm(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KE(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Lv(r,e,i){return{name:hm(r,e),fields:i.value.mapValue.fields}}function wR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Ge(S===void 0||typeof S=="string",58123),Kt.fromBase64String(S||"")):(Ge(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Kt.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?J.UNKNOWN:BE(y.code);return new pe(S,y.message||"")})(d);i=new HE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Hd(r,a.document.name),c=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):Ae.min(),g=new Un({mapValue:{fields:a.document.fields}}),_=Wt.newFoundDocument(o,c,d,g),y=a.targetIds||[],S=a.removedTargetIds||[];i=new zc(y,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Hd(r,a.document),c=a.readTime?Ni(a.readTime):Ae.min(),d=Wt.newNoDocument(o,c),g=a.removedTargetIds||[];i=new zc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Hd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new mR(o,c),g=a.targetId;i=new qE(g,d)}}return i}function RR(r,e){let i;if(e instanceof Go)i={update:Lv(r,e.key,e.value)};else if(e instanceof Pm)i={delete:hm(r,e.key)};else if(e instanceof $r)i={update:Lv(r,e.key,e.data),updateMask:kR(e.fieldMask)};else{if(!(e instanceof hR))return Ee(16599,{Vt:e.type});i={verify:hm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:SR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(r,e.precondition)),i}function xR(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Ni(o.updateTime):Ni(c);return d.isEqual(Ae.min())&&(d=Ni(c)),new oR(d,o.transformResults||[])})(i,e)))):[]}function CR(r,e){return{documents:[QE(r,e.path)]}}function NR(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=QE(r,o);const c=(function(y){if(y.length!==0)return XE(Mi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(I){return{field:Ga(I.field),direction:OR(I.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=um(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function IR(r){let e=AR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ge(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const I=YE(A);return I instanceof Mi&&wE(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((I=>(function(H){return new eh(Qa(H.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(I)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let I;return I=typeof A=="object"?A.value:A,yh(I)?null:I})(i.limit));let _=null;i.startAt&&(_=(function(A){const I=!!A.before,Q=A.values||[];return new Wc(Q,I)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const I=!A.before,Q=A.values||[];return new Wc(Q,I)})(i.endAt)),Yw(e,o,d,c,g,"F",_,y)}function DR(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function YE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(i.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ot.create(Qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((a=>YE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(r):Ee(30097,{filter:r})}function OR(r){return vR[r]}function MR(r){return ER[r]}function VR(r){return TR[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Qt.fromServerFormat(r.fieldPath)}function XE(r){return r instanceof Ot?(function(i){if(i.op==="=="){if(wv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(Av(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(Av(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:MR(i.op),value:i.value}}})(r):r instanceof Mi?(function(i){const a=i.getFilters().map((o=>XE(o)));return a.length===1?a[0]:{compositeFilter:{op:VR(i.op),filters:a}}})(r):Ee(54877,{filter:r})}function kR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function $E(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ks{constructor(e,i,a,o,c=Ae.min(),d=Ae.min(),g=Kt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jR{constructor(e){this.yt=e}}function UR(r){const e=IR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(e,e.limit,"L"):e}class LR{constructor(){this.Cn=new PR}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(nr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class PR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Vt(st.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Vt(st.comparator)).toArray()}}const Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(ZE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}const zv="LruGarbageCollector",zR=1048576;function Bv([r,e],[i,a]){const o=Ue(r,i);return o===0?Ue(e,a):o}class BR{constructor(e){this.Ir=e,this.buffer=new Vt(Bv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Bv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fl(i)?ue(zv,"Ignoring IndexedDB error during garbage collection: ",i):await hl(i)}await this.Vr(3e5)}))}}class HR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(gh.ce);const a=new BR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Pv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,_,y;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(y=Date.now(),Ha()<=je.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function FR(r,e){return new HR(r,e)}class GR{constructor(){this.changes=new Xr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class KR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Io(a.mutation,o,ei.empty(),rt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Le()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Le()){const o=Pr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=bo();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Pr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Le())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=as();const d=No(),g=(function(){return No()})();return i.forEach(((_,y)=>{const S=a.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof $r)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Io(S.mutation,y,S.mutation.getFieldMask(),rt.now())):d.set(y.key,ei.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new QR(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=No();let o=new ot(((d,g)=>d-g)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=a.get(_)||ei.empty();S=g.applyToLocalView(y,S),a.set(_,S);const A=(o.get(g.batchId)||Le()).add(_);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,S=_.value,A=ME();S.forEach((I=>{if(!c.has(I)){const Q=PE(i.get(I),a.get(I));Q!==null&&A.set(I,Q),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Xw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(Pr());let g=Mo,_=c;return d.next((y=>Z.forEach(y,((S,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((I=>{_=_.insert(S,I)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Le()))).next((S=>({batchId:g,changes:OE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((a=>{let o=bo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=bo();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(_=>{const y=(function(A,I){return new vh(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((S=>{S.forEach(((A,I)=>{d=d.insert(A,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Wt.newInvalidDocument(S)))}));let g=bo();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Io(S.mutation,y,ei.empty(),rt.now()),Th(i,y)&&(g=g.insert(_,y))})),g}))}}class YR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:UR(o.bundledQuery),readTime:Ni(o.readTime)}})(i)),Z.resolve()}}class XR{constructor(){this.overlays=new ot(_e.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Pr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=Pr(),c=i.length+1,d=new _e(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new ot(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Pr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Pr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new dR(i,a));let c=this.qr.get(i);c===void 0&&(c=Le(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class $R{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Hm{constructor(){this.Qr=new Vt(Lt.$r),this.Ur=new Vt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Lt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Lt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new _e(new st([])),a=new Lt(i,e),o=new Lt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new st([])),a=new Lt(i,e),o=new Lt(i,e+1);let c=Le();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Lt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Lt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Ue(e.Yr,i.Yr)}static Kr(e,i){return Ue(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class ZR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Lt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Lt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Lt(i,0),o=new Lt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Vt(Ue);return i.forEach((o=>{const c=new Lt(o,0),d=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;_e.isDocumentKey(c)||(c=c.child(""));const d=new Lt(new _e(c),0);let g=new Vt(Ue);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ge(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Lt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Lt(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class JR{constructor(e){this.ri=e,this.docs=(function(){return new ot(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let a=as();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Wt.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=as();const d=i.path,g=new _e(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Rw(ww(S),a)<=0||(o.has(S.key)||Th(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ee(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new WR(this)}getSize(e){return Z.resolve(this.size)}}class WR extends GR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class ex{constructor(e){this.persistence=e,this.si=new Xr((i=>km(i)),jm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new sl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class JE{constructor(e,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new $R,this.referenceDelegate=e(this),this.Pi=new ex(this),this.indexManager=new LR,this.remoteDocumentCache=(function(o){return new JR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new jR(i),this.Ii=new YR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new XR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new ZR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ue("MemoryPersistence","Starting transaction:",e);const o=new tx(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class tx extends Cw{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Ri=new Hm,this.Vi=null}static mi(e){return new Fm(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=_e.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class sh{constructor(e,i){this.persistence=e,this.pi=new Xr((a=>Dw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=FR(this,i)}static mi(e,i){return new sh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Le(),o=Le();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Gm(e,i.fromCache,a,o)}}class nx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ix{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kb()?8:Nw(en())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new nx;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ha()<=je.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ha()<=je.DEBUG&&ue("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ha()<=je.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(i))):Z.resolve())}ys(e,i){if(Nv(i))return Z.resolve(null);let a=Ci(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=om(i,null,"F"),a=Ci(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Le(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,om(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,o){return Nv(i)||o.isEqual(Ae.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(Ha()<=je.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(i)),this.vs(e,d,i,Aw(o,Mo)).next((g=>g)))}))}Ds(e,i){let a=new Vt(IE(e));return i.forEach(((o,c)=>{Th(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Ha()<=je.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(e,i,nr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Qm="LocalStore",sx=3e8;class rx{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ot(Ue),this.xs=new Xr((c=>km(c)),jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function ax(r,e,i,a){return new rx(r,e,i,a)}async function WE(r,e){const i=xe(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Le();for(const y of o){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function lx(r,e){const i=xe(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,S){const A=y.batch,I=A.keys();let Q=Z.resolve();return I.forEach((H=>{Q=Q.next((()=>S.getEntry(_,H))).next((se=>{const W=y.docVersions.get(H);Ge(W!==null,48541),se.version.compareTo(W)<0&&(A.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),S.addEntry(se)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Le();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function eT(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function ox(r,e){const i=xe(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((S,A)=>{const I=o.get(A);if(!I)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let Q=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Q=Q.withResumeToken(Kt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,a)),o=o.insert(A,Q),(function(se,W,de){return se.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=sx?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(I,Q,S)&&g.push(i.Pi.updateTargetData(c,Q))}));let _=as(),y=Le();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(ux(c,d,e.documentUpdates).next((S=>{_=S.ks,y=S.qs}))),!a.isEqual(Ae.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function ux(r,e,i){let a=Le(),o=Le();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=as();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Ae.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ue(Qm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function cx(r,e){const i=xe(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Om),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function hx(r,e){const i=xe(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Ks(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function dm(r,e,i){const a=xe(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!fl(d))throw d;ue(Qm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function qv(r,e,i){const a=xe(r);let o=Ae.min(),c=Le();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const A=xe(_),I=A.xs.get(S);return I!==void 0?Z.resolve(A.Ms.get(I)):A.Pi.getTargetData(y,S)})(a,d,Ci(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Ae.min(),i?c:Le()))).next((g=>(fx(a,Zw(e),g),{documents:g,Qs:c})))))}function fx(r,e,i){let a=r.Os.get(e)||Ae.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class Hv{constructor(){this.activeTargetIds=iR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dx{constructor(){this.Mo=new Hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mx{Oo(e){}shutdown(){}}const Fv="ConnectivityMonitor";class Gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function mm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Fd="RestConnection",px={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=mm(),g=this.zo(e,i.toUriEncodedString());ue(Fd,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(g),S=ll(y);return this.Jo(e,g,_,a,S).then((A=>(ue(Fd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw el(Fd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=px[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class yx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class _x extends gx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=mm();return new Promise(((g,_)=>{const y=new sE;y.setWithCredentials(!0),y.listenOnce(rE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case jc.NO_ERROR:const A=y.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case jc.TIMEOUT:ue(Xt,`RPC '${e}' ${d} timed out`),_(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const I=y.getStatus();if(ue(Xt,`RPC '${e}' ${d} failed with status:`,I,"response text:",y.getResponseText()),I>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const H=Q?.error;if(H&&H.status&&H.message){const se=(function(de){const $=de.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN})(H.status);_(new pe(se,H.message))}else _(new pe(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ue(Xt,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=oE(),g=lE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=c.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${S}`,_);const A=d.createWebChannel(S,_);this.I_(A);let I=!1,Q=!1;const H=new yx({Yo:W=>{Q?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(I||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),I=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,W),A.send(W))},Zo:()=>A.close()}),se=(W,de,$)=>{W.listen(de,(oe=>{try{$(oe)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return se(A,To.EventType.OPEN,(()=>{Q||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),se(A,To.EventType.CLOSE,(()=>{Q||(Q=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(A))})),se(A,To.EventType.ERROR,(W=>{Q||(Q=!0,el(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),H.a_(new pe(J.UNAVAILABLE,"The operation could not be completed")))})),se(A,To.EventType.MESSAGE,(W=>{if(!Q){const de=W.data[0];Ge(!!de,16349);const $=de,oe=$?.error||$[0]?.error;if(oe){ue(Xt,`RPC '${e}' stream ${o} received error:`,oe);const ne=oe.status;let Te=(function(w){const R=xt[w];if(R!==void 0)return BE(R)})(ne),me=oe.message;Te===void 0&&(Te=J.INTERNAL,me="Unknown error status: "+ne+" with message "+oe.message),Q=!0,H.a_(new pe(Te,me)),A.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,de),H.u_(de)}})),se(g,aE.STAT_EVENT,(W=>{W.stat===nm.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===nm.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Gd(){return typeof document<"u"?document:null}function wh(r){return new bR(r,!0)}class tT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Qv="PersistentStream";class nT{constructor(e,i,a,o,c,d,g,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vx extends nT{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=wR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Ni(d.readTime):Ae.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=lm(_)?{documents:CR(c,_)}:{query:NR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=FE(c,d.resumeToken);const y=um(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ae.min())>0){g.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=um(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=DR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=fm(this.serializer),i.removeTarget=e,this.q_(i)}}class Ex extends nT{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=xR(e.writeResults,e.commitTime),a=Ni(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=fm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>RR(this.serializer,a)))};this.q_(i)}}class Tx{}class bx extends Tx{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,cm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(J.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,cm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Sx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class Ax{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Zr(this)&&(ue(Kr,"Restarting streams for network reachability change."),await(async function(_){const y=xe(_);y.Ea.add(4),await Ko(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Rh(y)})(this))}))})),this.Ra=new Sx(a,o)}}async function Rh(r){if(Zr(r))for(const e of r.da)await e(!0)}async function Ko(r){for(const e of r.da)await e(!1)}function iT(r,e){const i=xe(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),$m(i)?Xm(i):dl(i).O_()&&Ym(i,e))}function Km(r,e){const i=xe(r),a=dl(i);i.Ia.delete(e),a.O_()&&sT(i,e),i.Ia.size===0&&(a.O_()?a.L_():Zr(i)&&i.Ra.set("Unknown"))}function Ym(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}dl(r).Y_(e)}function sT(r,e){r.Va.Ue(e),dl(r).Z_(e)}function Xm(r){r.Va=new _R({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),dl(r).start(),r.Ra.ua()}function $m(r){return Zr(r)&&!dl(r).x_()&&r.Ia.size>0}function Zr(r){return xe(r).Ea.size===0}function rT(r){r.Va=void 0}async function wx(r){r.Ra.set("Online")}async function Rx(r){r.Ia.forEach(((e,i)=>{Ym(r,e)}))}async function xx(r,e){rT(r),$m(r)?(r.Ra.ha(e),Xm(r)):r.Ra.set("Unknown")}async function Cx(r,e,i){if(r.Ra.set("Online"),e instanceof HE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(a){ue(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await rh(r,a)}else if(e instanceof zc?r.Va.Ze(e):e instanceof qE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ae.min()))try{const a=await eT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Kt.EMPTY_BYTE_STRING,S.snapshotVersion)),sT(c,_);const A=new Ks(S.target,_,y,S.sequenceNumber);Ym(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ue(Kr,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,e,i){if(!fl(e))throw e;r.Ea.add(1),await Ko(r),r.Ra.set("Offline"),i||(i=()=>eT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(Kr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rh(r)}))}function aT(r,e){return e().catch((i=>rh(r,i,e)))}async function xh(r){const e=xe(r),i=ar(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Om;for(;Nx(e);)try{const o=await cx(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,Ix(e,o)}catch(o){await rh(e,o)}lT(e)&&oT(e)}function Nx(r){return Zr(r)&&r.Ta.length<10}function Ix(r,e){r.Ta.push(e);const i=ar(r);i.O_()&&i.X_&&i.ea(e.mutations)}function lT(r){return Zr(r)&&!ar(r).x_()&&r.Ta.length>0}function oT(r){ar(r).start()}async function Dx(r){ar(r).ra()}async function Ox(r){const e=ar(r);for(const i of r.Ta)e.ea(i.mutations)}async function Mx(r,e,i){const a=r.Ta.shift(),o=zm.from(a,e,i);await aT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await xh(r)}async function Vx(r,e){e&&ar(r).X_&&await(async function(a,o){if((function(d){return pR(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();ar(a).B_(),await aT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await xh(a)}})(r,e),lT(r)&&oT(r)}async function Kv(r,e){const i=xe(r);i.asyncQueue.verifyOperationInProgress(),ue(Kr,"RemoteStore received new credentials");const a=Zr(i);i.Ea.add(3),await Ko(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function kx(r,e){const i=xe(r);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await Ko(i),i.Ra.set("Unknown"))}function dl(r){return r.ma||(r.ma=(function(i,a,o){const c=xe(i);return c.sa(),new vx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:wx.bind(null,r),t_:Rx.bind(null,r),r_:xx.bind(null,r),H_:Cx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),$m(r)?Xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),rT(r))}))),r.ma}function ar(r){return r.fa||(r.fa=(function(i,a,o){const c=xe(i);return c.sa(),new Ex(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Dx.bind(null,r),r_:Vx.bind(null,r),ta:Ox.bind(null,r),na:Mx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(Kr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zm{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new Zm(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,e){if(rs("AsyncQueue",`${e}: ${r}`),fl(r))return new pe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||_e.comparator(i.key,a.key):(i,a)=>_e.comparator(i.key,a.key),this.keyedMap=bo(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Za;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Yv{constructor(){this.ga=new ot(_e.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class rl{constructor(e,i,a,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new rl(e,i,Za.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class jx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Ux{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=xe(i),c=o.queries;o.queries=Xv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function Xv(){return new Xr((r=>NE(r)),Eh)}async function Lx(r,e){const i=xe(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new jx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Jm(d,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Wm(i)}async function Px(r,e){const i=xe(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function zx(r,e){const i=xe(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Wm(i)}function Bx(r,e,i){const a=xe(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function Wm(r){r.Ca.forEach((e=>{e.next()}))}var pm,$v;($v=pm||(pm={})).Ma="default",$v.Cache="cache";class qx{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new rl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pm.Cache}}class uT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class Hx{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=IE(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Yv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,A)=>{const I=o.get(S),Q=Th(this.query,A)?A:null,H=!!I&&this.mutatedKeys.has(I.key),se=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;I&&Q?I.data.isEqual(Q.data)?H!==se&&(a.track({type:3,doc:Q}),W=!0):this.su(I,Q)||(a.track({type:2,doc:Q}),W=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(g=!0)):!I&&Q?(a.track({type:0,doc:Q}),W=!0):I&&!Q&&(a.track({type:1,doc:I}),W=!0,(_||y)&&(g=!0)),W&&(Q?(d=d.add(Q),c=se?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(Q,H){const se=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:W})}};return se(Q)-se(H)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new rl(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new cT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new uT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Le();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ep="SyncEngine";class Fx{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class Gx{constructor(e){this.key=e,this.hu=!1}}class Qx{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xr((g=>NE(g)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new ot(_e.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kx(r,e,i=!0){const a=gT(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await hT(a,e,i,!0),o}async function Yx(r,e){const i=gT(r);await hT(i,e,!0,!1)}async function hT(r,e,i,a){const o=await hx(r.localStore,Ci(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await Xx(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&iT(r.remoteStore,o),g}async function Xx(r,e,i,a,o){r.pu=(A,I,Q)=>(async function(se,W,de,$){let oe=W.view.ru(de);oe.Cs&&(oe=await qv(se.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,oe))));const ne=$&&$.targetChanges.get(W.targetId),Te=$&&$.targetMismatches.get(W.targetId)!=null,me=W.view.applyChanges(oe,se.isPrimaryClient,ne,Te);return Jv(se,W.targetId,me.au),me.snapshot})(r,A,I,Q);const c=await qv(r.localStore,e,!0),d=new Hx(e,c.Qs),g=d.ru(c.documents),_=Qo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,_);Jv(r,i,y.au);const S=new Fx(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function $x(r,e,i){const a=xe(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Eh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Km(a.remoteStore,o.targetId),gm(a,o.targetId)})).catch(hl)):(gm(a,o.targetId),await dm(a.localStore,o.targetId,!0))}async function Zx(r,e){const i=xe(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function Jx(r,e,i){const a=rC(r);try{const o=await(function(d,g){const _=xe(d),y=rt.now(),S=g.reduce(((Q,H)=>Q.add(H.key)),Le());let A,I;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let H=as(),se=Le();return _.Ns.getEntries(Q,S).next((W=>{H=W,H.forEach(((de,$)=>{$.isValidDocument()||(se=se.add(de))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,H))).next((W=>{A=W;const de=[];for(const $ of g){const oe=cR($,A.get($.key).overlayedDocument);oe!=null&&de.push(new $r($.key,oe,bE(oe.value.mapValue),ti.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,de,g)})).next((W=>{I=W;const de=W.applyToLocalDocumentSet(A,se);return _.documentOverlayCache.saveOverlays(Q,W.batchId,de)}))})).then((()=>({batchId:I.batchId,changes:OE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ot(Ue)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Yo(a,o.changes),await xh(a.remoteStore)}catch(o){const c=Jm(o,"Failed to persist write");i.reject(c)}}async function fT(r,e){const i=xe(r);try{const a=await ox(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ge(d.hu,14607):o.removedDocuments.size>0&&(Ge(d.hu,42227),d.hu=!1))})),await Yo(i,a,e)}catch(a){await hl(a)}}function Zv(r,e,i){const a=xe(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=xe(d);_.onlineState=g;let y=!1;_.queries.forEach(((S,A)=>{for(const I of A.Sa)I.va(g)&&(y=!0)})),y&&Wm(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Wx(r,e,i){const a=xe(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new ot(_e.comparator);d=d.insert(c,Wt.newNoDocument(c,Ae.min()));const g=Le().add(c),_=new Ah(Ae.min(),new Map,new ot(Ue),d,g);await fT(a,_),a.du=a.du.remove(c),a.Au.delete(e),tp(a)}else await dm(a.localStore,e,!1).then((()=>gm(a,e,i))).catch(hl)}async function eC(r,e){const i=xe(r),a=e.batch.batchId;try{const o=await lx(i.localStore,e);mT(i,a,null),dT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yo(i,o)}catch(o){await hl(o)}}async function tC(r,e,i){const a=xe(r);try{const o=await(function(d,g){const _=xe(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Ge(A!==null,37113),S=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(a.localStore,e);mT(a,e,i),dT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Yo(a,o)}catch(o){await hl(o)}}function dT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function mT(r,e,i){const a=xe(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function gm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||pT(r,a)}))}function pT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Km(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),tp(r))}function Jv(r,e,i){for(const a of i)a instanceof uT?(r.Ru.addReference(a.key,e),nC(r,a)):a instanceof cT?(ue(ep,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||pT(r,a.key)):Ee(19791,{wu:a})}function nC(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ue(ep,"New document in limbo: "+i),r.Eu.add(a),tp(r))}function tp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new _e(st.fromString(e)),a=r.fu.next();r.Au.set(a,new Gx(i)),r.du=r.du.insert(i,a),iT(r.remoteStore,new Ks(Ci(Um(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function Yo(r,e,i){const a=xe(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Gm.As(_.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const S=xe(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(y,(I=>Z.forEach(I.Es,(Q=>S.persistence.referenceDelegate.addReference(A,I.targetId,Q))).next((()=>Z.forEach(I.ds,(Q=>S.persistence.referenceDelegate.removeReference(A,I.targetId,Q)))))))))}catch(A){if(!fl(A))throw A;ue(Qm,"Failed to update sequence numbers: "+A)}for(const A of y){const I=A.targetId;if(!A.fromCache){const Q=S.Ms.get(I),H=Q.snapshotVersion,se=Q.withLastLimboFreeSnapshotVersion(H);S.Ms=S.Ms.insert(I,se)}}})(a.localStore,c))}async function iC(r,e){const i=xe(r);if(!i.currentUser.isEqual(e)){ue(ep,"User change. New user:",e.toKey());const a=await WE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new pe(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Yo(i,a.Ls)}}function sC(r,e){const i=xe(r),a=i.Au.get(e);if(a&&a.hu)return Le().add(a.key);{let o=Le();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function gT(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wx.bind(null,e),e.Pu.H_=zx.bind(null,e.eventManager),e.Pu.yu=Bx.bind(null,e.eventManager),e}function rC(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tC.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return ax(this.persistence,new ix,e.initialUser,this.serializer)}Cu(e){return new JE(Fm.mi,this.serializer)}Du(e){return new dx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class aC extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ge(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new qR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new JE((a=>sh.mi(a,i)),this.serializer)}}class ym{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=iC.bind(null,this.syncEngine),await kx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ux})()}createDatastore(e){const i=wh(e.databaseInfo.databaseId),a=(function(c){return new _x(c)})(e.databaseInfo);return(function(c,d,g,_){return new bx(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new Ax(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Zv(this.syncEngine,i,0)),(function(){return Gv.v()?new Gv:new mx})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,S){const A=new Qx(o,c,d,g,_,y);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);ue(Kr,"RemoteStore shutting down."),a.Ea.add(5),await Ko(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class lC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const lr="FirestoreClient";class oC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ue(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Qd(r,e){r.asyncQueue.verifyOperationInProgress(),ue(lr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await WE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Wv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await uC(r);ue(lr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Kv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Kv(e.remoteStore,o))),r._onlineComponents=e}async function uC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(lr,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;el("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new ah)}}else ue(lr,"Using default OfflineComponentProvider"),await Qd(r,new aC(void 0));return r._offlineComponents}async function yT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(lr,"Using user provided OnlineComponentProvider"),await Wv(r,r._uninitializedComponentsProvider._online)):(ue(lr,"Using default OnlineComponentProvider"),await Wv(r,new ym))),r._onlineComponents}function cC(r){return yT(r).then((e=>e.syncEngine))}async function e0(r){const e=await yT(r),i=e.eventManager;return i.onListen=Kx.bind(null,e.syncEngine),i.onUnlisten=$x.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Yx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Zx.bind(null,e.syncEngine),i}function _T(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const t0=new Map;const vT="firestore.googleapis.com",n0=!0;class i0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=n0}else this.host=e.host,this.ssl=e.ssl??n0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zR)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new dw;switch(a.type){case"firstParty":return new yw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=t0.get(i);a&&(ue("ComponentProvider","Removing Datastore"),t0.delete(i),a.terminate())})(this),Promise.resolve()}}function hC(r,e,i,a={}){r=Ws(r,Ch);const o=ll(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(y0(`https://${g}`),_0("Firestore",!0)),c.host!==vT&&c.host!==g&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!Hr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=Jt.MOCK_USER;else{y=Lb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Jt(A)}r._authCredentials=new mw(new cE(y,S))}}class Nh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Mt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Fo(i,Mt._jsonSchema))return new Mt(e,a||null,new _e(st.fromString(i.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Ct("string",Mt._jsonSchemaVersion),referencePath:Ct("string")};class er extends Nh{constructor(e,i,a){super(e,i,Um(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new _e(e))}withConverter(e){return new er(this.firestore,e,this._path)}}function qs(r,e,...i){if(r=Sn(r),hE("collection","path",e),r instanceof Ch){const a=st.fromString(e,...i);return gv(a),new er(r,null,a)}{if(!(r instanceof Mt||r instanceof er))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(st.fromString(e,...i));return gv(a),new er(r.firestore,null,a)}}function Wi(r,e,...i){if(r=Sn(r),arguments.length===1&&(e=Im.newId()),hE("doc","path",e),r instanceof Ch){const a=st.fromString(e,...i);return pv(a),new Mt(r,null,new _e(a))}{if(!(r instanceof Mt||r instanceof er))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(st.fromString(e,...i));return pv(a),new Mt(r.firestore,r instanceof er?r.converter:null,new _e(a))}}const s0="AsyncQueue";class r0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tT(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&ue(s0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;ue(s0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",a0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Zm.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:a0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function a0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function l0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class al extends Ch{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new r0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r0(e),this._firestoreClient=void 0,await e}}}function fC(r,e){const i=typeof r=="object"?r:b0(),a=typeof r=="string"?r:Zc,o=Tm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=jb("firestore");c&&hC(o,...c)}return o}function ET(r){if(r._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dC(r),r._firestoreClient}function dC(r){const e=r._freezeSettings(),i=(function(o,c,d,g){return new Vw(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,_T(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new oC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Kt.fromBase64String(e))}catch(i){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fo(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ct("string",Ln._jsonSchemaVersion),bytes:Ct("string")};class np{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class TT{constructor(e){this._methodName=e}}class Ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(Fo(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ct("string",Ii._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fo(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Di(e.vectorValues);throw new pe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Ct("string",Di._jsonSchemaVersion),vectorValues:Ct("object")};const mC=/^__.*__$/;class pC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,i,this.fieldTransforms):new Go(e,this.data,i,this.fieldTransforms)}}function bT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class ip{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ip({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bT(this.Ac)&&mC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||wh(e)}Cc(e,i,a,o=!1){return new ip({Ac:e,methodName:i,Dc:a,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ST(r){const e=r._freezeSettings(),i=wh(r._databaseId);return new gC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function AT(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);CT("Data must be an object, but it was:",d,a);const g=RT(a,d);let _,y;if(c.merge)_=new ei(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const I=yC(e,A,i);if(!d.contains(I))throw new pe(J.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);vC(S,I)||S.push(I)}_=new ei(S),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new pC(new Un(g),_,y)}function wT(r,e){if(xT(r=Sn(r)))return CT("Unsupported field value:",e,r),RT(r,e);if(r instanceof TT)return(function(a,o){if(!bT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=wT(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=rt.fromDate(a);return{timestampValue:ih(o.serializer,c)}}if(a instanceof rt){const c=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(a instanceof Ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:FE(o.serializer,a._byteString)};if(a instanceof Mt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Di)return(function(d,g){return{mapValue:{fields:{[EE]:{stringValue:TE},[Jc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Lm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Dm(a)}`)})(r,e)}function RT(r,e){const i={};return mE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(r,((a,o)=>{const c=wT(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function xT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Ii||r instanceof Ln||r instanceof Mt||r instanceof TT||r instanceof Di)}function CT(r,e,i){if(!xT(i)||!fE(i)){const a=Dm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function yC(r,e,i){if((e=Sn(e))instanceof np)return e._internalPath;if(typeof e=="string")return NT(r,e);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const _C=new RegExp("[~\\*/\\[\\]]");function NT(r,e,i){if(e.search(_C)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new np(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new pe(J.INVALID_ARGUMENT,g+r+_)}function vC(r,e){return r.some((i=>i.isEqual(e)))}class IT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(DT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class EC extends IT{data(){return super.data()}}function DT(r,e){return typeof e=="string"?NT(r,e):e instanceof np?e._internalPath:e._delegate._internalPath}function TC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bC{convertValue(e,i="none"){switch(rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Yr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Jc].arrayValue?.values?.map((a=>yt(a.doubleValue)));return new Di(i)}convertGeoPoint(e){return new Ii(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=_h(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vo(e));default:return null}}convertTimestamp(e){const i=ir(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=st.fromString(e);Ge($E(a),9688,{name:e});const o=new ko(a.get(1),a.get(3)),c=new _e(a.popFirst(5));return o.isEqual(i)||rs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function OT(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class Ao{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qr extends IT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(DT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Ct("string",qr._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Bc extends qr{data(e={}){return super.data(e)}}class Ja{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ao(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Ao(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ao(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ao(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:SC(g.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Ct("string",Ja._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class MT extends bC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,i)}}function Ic(r,e,i){r=Ws(r,Mt);const a=Ws(r.firestore,al),o=OT(r.converter,e,i);return sp(a,[AT(ST(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ti.none())])}function Dc(r){return sp(Ws(r.firestore,al),[new Pm(r._key,ti.none())])}function Zn(r,e){const i=Ws(r.firestore,al),a=Wi(r),o=OT(r.converter,e);return sp(i,[AT(ST(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,ti.exists(!1))]).then((()=>a))}function Ba(r,...e){r=Sn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||l0(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(l0(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof Mt)d=Ws(r.firestore,al),g=Um(r._key.path),c={next:_=>{e[a]&&e[a](AC(d,r,_))},error:e[a+1],complete:e[a+2]};else{const _=Ws(r,Nh);d=Ws(_.firestore,al),g=_._query;const y=new MT(d);c={next:S=>{e[a]&&e[a](new Ja(d,y,_,S))},error:e[a+1],complete:e[a+2]},TC(r._query)}return(function(y,S,A,I){const Q=new lC(I),H=new qx(S,Q,A);return y.asyncQueue.enqueueAndForget((async()=>Lx(await e0(y),H))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>Px(await e0(y),H)))}})(ET(d),g,o,c)}function sp(r,e){return(function(a,o){const c=new Br;return a.asyncQueue.enqueueAndForget((async()=>Jx(await cC(a),o,c))),c.promise})(ET(r),e)}function AC(r,e,i){const a=i.docs.get(e._key),o=new MT(r);return new qr(r,o,e._key,a,new Ao(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){cl=o})(ol),Wa(new Fr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new al(new pw(a.getProvider("auth-internal")),new _w(d,a.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(y.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(hv,fv,e),$s(hv,fv,"esm2020")})();const wC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),o0=r=>{const e=RC(r);return e.charAt(0).toUpperCase()+e.slice(1)},VT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),xC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var CC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const NC=Re.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>Re.createElement("svg",{ref:_,...CC,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:VT("lucide",o),...!c&&!xC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>Re.createElement(y,S)),...Array.isArray(c)?c:[c]]));const Nt=(r,e)=>{const i=Re.forwardRef(({className:a,...o},c)=>Re.createElement(NC,{ref:c,iconNode:e,className:VT(`lucide-${wC(o0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=o0(r),i};const IC=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],DC=Nt("camera",IC);const OC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],MC=Nt("clipboard-list",OC);const VC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],u0=Nt("database",VC);const kC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jC=Nt("download",kC);const UC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],kT=Nt("file-spreadsheet",UC);const LC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],PC=Nt("history",LC);const zC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],BC=Nt("lock",zC);const qC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HC=Nt("log-out",qC);const FC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jT=Nt("plus",FC);const GC=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],QC=Nt("printer",GC);const KC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],YC=Nt("save",KC);const XC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$C=Nt("search",XC);const ZC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rp=Nt("settings",ZC);const JC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],UT=Nt("trash-2",JC);const WC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LT=Nt("triangle-alert",WC);const eN=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],oh=Nt("truck",eN);const tN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nN=Nt("user",tN);const iN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sN=Nt("users",iN);const rN=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],PT=Nt("wrench",rN);const aN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uh=Nt("x",aN),lN={apiKey:"AIzaSyAWELn6lSPNa5WIjG_wFLv4nkzk1CaLxq8",authDomain:"tyre-tracker-ccbd1.firebaseapp.com",projectId:"tyre-tracker-ccbd1",storageBucket:"tyre-tracker-ccbd1.firebasestorage.app",messagingSenderId:"90986714992",appId:"1:90986714992:web:388e83080de978ec68e1b5",measurementId:"G-VEVZFGKE16"},zT=T0(lN),c0=hw(zT),$t=fC(zT),Zt="tyre-tracker-ccbd1",oN=()=>"8"+Math.floor(1e7+Math.random()*9e7).toString(),uN=r=>{if(!r||r.length!==4)return"Unknown Age";const e=parseInt(r.substring(0,2)),i=parseInt("20"+r.substring(2,4)),a=new Date,o=a.getFullYear(),c=Math.floor((a-new Date(o,0,1))/(10080*60*1e3));let d=(o-i)*52+(c-e);return d<0&&(d=0),d<52?`${d} weeks old`:`${(d/52).toFixed(1)} years old`},ch=r=>r.startsWith("F")?"front":r.startsWith("D")?"drive":r.startsWith("T")?"tag":r.startsWith("R")&&(r.includes("S")||r==="RL"||r==="RR")?"rear_steer":r.startsWith("R")?"rear":"front",cN=r=>{switch(r){case"front":return"Steer Axle";case"drive":return"Drive Axle";case"tag":return"Tag Axle";case"rear_steer":return"Rear Steer Axle";case"rear":return"Rear Axle";default:return"Axle"}},zr=r=>({FL:"Front Left",FR:"Front Right",RL:"Rear Left",RR:"Rear Right",RLO:"Rear Left Outer",RLI:"Rear Left Inner",RRO:"Rear Right Outer",RRI:"Rear Right Inner",DLO:"Drive Left Outer",DLI:"Drive Left Inner",DRO:"Drive Right Outer",DRI:"Drive Right Inner",RSL:"Rear Steer Left",RSR:"Rear Steer Right"})[r]||r,hN=[{id:"t1",brand:"Michelin",model:"X Multi Z",size:"295/80R22.5",barcode:"88239101",status:"In Stock",dot:"1023"},{id:"t2",brand:"Bridgestone",model:"R-Steer",size:"295/80R22.5",barcode:"88239103",status:"In Stock",dot:"4522"},{id:"t3",brand:"Michelin",model:"X Coach",size:"295/80R22.5",barcode:"88239105",status:"In Stock",dot:"0224"},{id:"t4",brand:"Continental",model:"VanContact",size:"235/65R16",barcode:"88239106",status:"In Stock",dot:"2023"},{id:"t5",brand:"Goodyear",model:"Cargo Vector",size:"235/65R16",barcode:"88239107",status:"In Stock",dot:"1523"}],fN=[{id:"v1",reg:"K26 CLN",type:"Luton Box Van",layout:"2-axle-dual",specs:{front:{torque:180,pressure:55},rear:{torque:180,pressure:60}},wheels:{}},{id:"v2",reg:"L10 NC",type:"2-Axle Coach",layout:"2-axle-dual",specs:{front:{torque:600,pressure:120},rear:{torque:600,pressure:115}},wheels:{}},{id:"v3",reg:"L1 CLN",type:"Tri-Axle Coach",layout:"3-axle-rear-steer",specs:{front:{torque:650,pressure:125},drive:{torque:600,pressure:115},rear_steer:{torque:650,pressure:125}},wheels:{}}],dN=[{id:"s1",name:"295/80R22.5"},{id:"s2",name:"315/80R22.5"},{id:"s3",name:"385/65R22.5"},{id:"s4",name:"235/65R16"},{id:"s5",name:"215/75R16"},{id:"s6",name:"205/65R16"}],mN=[{id:"u1",initials:"ADM",pin:"0000",role:"Admin"},{id:"u2",initials:"MGR",pin:"1111",role:"Manager"},{id:"u3",initials:"FIT",pin:"2222",role:"Fitter"}];function pN(){const[r,e]=Re.useState(null),[i,a]=Re.useState(null),[o,c]=Re.useState("fit"),[d,g]=Re.useState([]),[_,y]=Re.useState([]),[S,A]=Re.useState([]),[I,Q]=Re.useState([]),[H,se]=Re.useState([]),[W,de]=Re.useState([]);Re.useEffect(()=>((async()=>{try{await YA(c0)}catch(ge){console.error("Auth Failed:",ge)}})(),e2(c0,e)),[]),Re.useEffect(()=>{if(!r)return;const ee=le=>qs($t,"artifacts",Zt,"public","data",le),ge=Ba(ee("inventory"),le=>g(le.docs.map(ce=>({...ce.data(),id:ce.id}))),le=>console.error("Inv error",le)),be=Ba(ee("vehicles"),le=>y(le.docs.map(ce=>({...ce.data(),id:ce.id}))),le=>console.error("Veh error",le)),D=Ba(ee("retorques"),le=>A(le.docs.map(ce=>({...ce.data(),id:ce.id})).sort((ce,Ce)=>new Date(ce.dueDate)-new Date(Ce.dueDate))),le=>console.error("Ret error",le)),K=Ba(ee("sizes"),le=>Q(le.docs.map(ce=>({...ce.data(),id:ce.id}))),le=>console.error("Sizes error",le)),te=Ba(ee("history"),le=>se(le.docs.map(ce=>({...ce.data(),id:ce.id})).sort((ce,Ce)=>new Date(Ce.fitDate)-new Date(ce.fitDate))),le=>console.error("Hist error",le)),ae=Ba(ee("users"),le=>de(le.docs.map(ce=>({...ce.data(),id:ce.id}))),le=>console.error("Users error",le));return()=>{ge(),be(),D(),K(),te(),ae()}},[r]);const $=async()=>{if(!confirm("This will populate the database with demo data. Continue?"))return;const ee=[],ge=be=>qs($t,"artifacts",Zt,"public","data",be);hN.forEach(be=>ee.push(Zn(ge("inventory"),be))),fN.forEach(be=>ee.push(Zn(ge("vehicles"),be))),dN.forEach(be=>ee.push(Zn(ge("sizes"),be))),mN.forEach(be=>ee.push(Zn(ge("users"),be))),await Promise.all(ee),alert("Database seeded!")},oe=async(ee,ge)=>{const be=[],D=qs($t,"artifacts",Zt,"public","data","inventory");for(let K=0;K<ge;K++)be.push(Zn(D,{...ee,barcode:oN(),status:"In Stock"}));await Promise.all(be)},ne=async ee=>{window.prompt("Type 'DELETE' to confirm removing this record permanently.")==="DELETE"&&await Dc(Wi($t,"artifacts",Zt,"public","data","inventory",ee))},Te=async ee=>{await Zn(qs($t,"artifacts",Zt,"public","data","vehicles"),{...ee,wheels:{}})},me=async ee=>{const{id:ge,...be}=ee;await Ic(Wi($t,"artifacts",Zt,"public","data","vehicles",ge),be)},N=async ee=>{ee&&await Zn(qs($t,"artifacts",Zt,"public","data","sizes"),{name:ee})},w=async ee=>{window.confirm("Remove this size?")&&await Dc(Wi($t,"artifacts",Zt,"public","data","sizes",ee))},R=async ee=>{await Zn(qs($t,"artifacts",Zt,"public","data","users"),ee)},V=async ee=>{window.confirm("Remove this user?")&&await Dc(Wi($t,"artifacts",Zt,"public","data","users",ee))},O=async ee=>{const ge=Wi($t,"artifacts",Zt,"public","data","retorques",ee);await Ic(ge,{status:"Completed",completedDate:new Date().toISOString()},{merge:!0})},j=async(ee,ge,be,D,K)=>{const te=d.find(dn=>dn.barcode===be&&dn.status==="In Stock");if(!te){alert("Tyre not found or not in stock!");return}const ae=_.find(dn=>dn.id===ee),le=ch(ge),ce=ae.specs[le]||{torque:0},Ce=ae.wheels[ge],ft={...ae.wheels,[ge]:{...te,dateFitted:D}};if(await Ic(Wi($t,"artifacts",Zt,"public","data","vehicles",ee),{wheels:ft},{merge:!0}),Ce&&Ce.id)try{await Dc(Wi($t,"artifacts",Zt,"public","data","inventory",Ce.id))}catch(dn){console.log("Old tyre cleanup error",dn)}await Ic(Wi($t,"artifacts",Zt,"public","data","inventory",te.id),{status:"Fitted",vehicleId:ee,positionId:ge,vehicleReg:ae.reg},{merge:!0}),await Zn(qs($t,"artifacts",Zt,"public","data","history"),{fitDate:D,barcode:te.barcode,brand:te.brand,model:te.model,size:te.size,dot:te.dot,vehicleReg:ae.reg,position:ge,fitter:K});const We=new Date(D).getTime(),ni=qs($t,"artifacts",Zt,"public","data","retorques");await Zn(ni,{vehicleReg:ae.reg,positionId:ge,fitmentDate:D,dueDate:new Date(We+1800*1e3).toISOString(),status:"Pending",type:"30m Check",torqueSpec:ce.torque,fitter:K}),await Zn(ni,{vehicleReg:ae.reg,positionId:ge,fitmentDate:D,dueDate:new Date(We+1440*60*1e3).toISOString(),status:"Pending",type:"24h Check",torqueSpec:ce.torque,fitter:K}),alert("Tyre fitted successfully! Database updated."),c("retorque")},x=S.filter(ee=>ee.status==="Pending").length;if(!r)return E.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-500",children:"Connecting..."});if(!i)return E.jsx(gN,{users:W,onLogin:a});const tt=["Admin","Manager"].includes(i.role),ut=["Admin","Manager"].includes(i.role),F=["Admin","Fitter"].includes(i.role),re=i.role==="Admin";return E.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900",children:[E.jsxs("div",{className:"bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50",children:[E.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[E.jsxs("h1",{className:"text-xl font-bold flex items-center gap-3",children:[E.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:E.jsx(oh,{className:"w-6 h-6 text-white"})}),"CLion Workshop ",E.jsx("span",{className:"text-blue-400 font-light",children:"Tyre Tracker"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"text-right hidden md:block",children:[E.jsx("div",{className:"text-sm font-bold text-white",children:i.initials}),E.jsx("div",{className:"text-xs text-slate-400 uppercase",children:i.role})]}),E.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",title:"Logout",children:E.jsx(HC,{className:"w-5 h-5"})})]})]}),E.jsx("div",{className:"max-w-6xl mx-auto mt-4",children:E.jsxs("nav",{className:"flex bg-slate-800 p-1 rounded-lg overflow-x-auto",children:[E.jsx(qa,{label:"Vehicles",icon:oh,active:o==="vehicles",onClick:()=>c("vehicles")}),F&&E.jsx(qa,{label:"Fit Tyre",icon:PT,active:o==="fit",onClick:()=>c("fit")}),E.jsx(qa,{label:"Inventory",icon:MC,active:o==="inventory",onClick:()=>c("inventory")}),E.jsx(qa,{label:"Retorques",icon:LT,active:o==="retorque",onClick:()=>c("retorque"),badge:x}),ut&&E.jsx(qa,{label:"Reports",icon:kT,active:o==="reports",onClick:()=>c("reports")}),re&&E.jsx(qa,{label:"Settings",icon:rp,active:o==="settings",onClick:()=>c("settings")})]})})]}),E.jsxs("main",{className:"max-w-6xl mx-auto p-4 md:p-6",children:[o==="vehicles"&&E.jsx(yN,{vehicles:_,onAdd:Te,onUpdate:me,retorqueRegister:S}),o==="fit"&&F&&E.jsx(_N,{vehicles:_,inventory:d,onFit:j,currentUser:i}),o==="inventory"&&E.jsx(vN,{inventory:d,onAddBatch:oe,onDelete:ne,availableSizes:I,canAdd:tt}),o==="retorque"&&E.jsx(EN,{tasks:S,onComplete:O}),o==="reports"&&ut&&E.jsx(TN,{history:H,retorques:S}),o==="settings"&&re&&E.jsx(bN,{sizes:I,onAddSize:N,onRemoveSize:w,onSeed:$,users:W,onAddUser:R,onRemoveUser:V})]})]})}function gN({users:r,onLogin:e}){const[i,a]=Re.useState(""),[o,c]=Re.useState(""),[d,g]=Re.useState(""),_=y=>{if(y.preventDefault(),r.length===0&&i==="ADM"&&o==="0000"){e({initials:"ADM",role:"Admin"});return}const S=r.find(A=>A.initials.toUpperCase()===i.toUpperCase()&&A.pin===o);S?e(S):g("Invalid Credentials")};return E.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:E.jsx(oh,{className:"w-8 h-8 text-white"})}),E.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"CLion Workshop"}),E.jsx("p",{className:"text-slate-500",children:"Tyre Tracking System"})]}),E.jsxs("form",{onSubmit:_,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Initials"}),E.jsxs("div",{className:"relative",children:[E.jsx(nN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),E.jsx("input",{autoFocus:!0,className:"w-full pl-10 p-3 border rounded-xl bg-slate-50 uppercase font-bold tracking-widest text-center",maxLength:3,value:i,onChange:y=>a(y.target.value.toUpperCase())})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"PIN"}),E.jsxs("div",{className:"relative",children:[E.jsx(BC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),E.jsx("input",{type:"password",className:"w-full pl-10 p-3 border rounded-xl bg-slate-50 text-center font-bold tracking-widest",maxLength:4,value:o,onChange:y=>c(y.target.value)})]})]}),d&&E.jsx("div",{className:"text-red-500 text-sm text-center font-bold",children:d}),E.jsx("button",{className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-200 hover:bg-blue-700 transition",children:"LOGIN"})]}),E.jsx("p",{className:"text-center text-xs text-slate-300 mt-6",children:"Default: ADM / 0000"})]})})}function yN({vehicles:r,onAdd:e,onUpdate:i,retorqueRegister:a}){const[o,c]=Re.useState(null),[d,g]=Re.useState(null),[_,y]=Re.useState(!1),[S,A]=Re.useState(null),[I,Q]=Re.useState({reg:"",type:"Van",layout:"2-axle-dual"}),H=ne=>{const Te={torque:600,pressure:120},me={torque:180,pressure:55};return ne.includes("van")||ne==="2-axle-single"?{front:me,rear:me}:ne==="3-axle-rigid"?{front:Te,drive:Te,tag:Te}:ne==="3-axle-rear-steer"?{front:Te,drive:Te,rear_steer:Te}:{front:Te,rear:Te}},se=ne=>{ne.preventDefault(),e({...I,specs:H(I.layout)}),y(!1),Q({reg:"",type:"Van",layout:"2-axle-dual"})},W=ne=>{A({...ne}),c(null)},de=()=>{i(S),A(null)},$=(ne,Te,me)=>{A({...S,specs:{...S.specs,[ne]:{...S.specs[ne],[Te]:parseInt(me)||0}}})},oe=o&&d?{id:d,axleGroup:ch(d),spec:o.specs[ch(d)],tyre:o.wheels[d]}:null;return E.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"md:col-span-1 space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Fleet List"}),E.jsx("button",{onClick:()=>y(!_),className:"p-2 bg-blue-100 text-blue-700 rounded-lg",children:E.jsx(jT,{className:"w-5 h-5"})})]}),_&&E.jsxs("form",{onSubmit:se,className:"bg-white p-4 rounded-xl shadow space-y-3",children:[E.jsx("input",{required:!0,placeholder:"Reg",className:"w-full p-2 border rounded",value:I.reg,onChange:ne=>Q({...I,reg:ne.target.value})}),E.jsxs("select",{className:"w-full p-2 border rounded",value:I.layout,onChange:ne=>Q({...I,layout:ne.target.value}),children:[E.jsx("option",{value:"2-axle-dual",children:"2 Axle (Dual Rear)"}),E.jsx("option",{value:"3-axle-rear-steer",children:"3 Axle (Rear Steer)"}),E.jsx("option",{value:"3-axle-rigid",children:"3 Axle Rigid"}),E.jsx("option",{value:"2-axle-single",children:"2 Axle (Single Rear)"})]}),E.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded",children:"Save"})]}),E.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:r.map(ne=>E.jsxs("div",{onClick:()=>{c(ne),g(null),A(null)},className:`p-4 cursor-pointer flex justify-between items-center hover:bg-slate-50 ${o?.id===ne.id?"bg-blue-50 border-l-4 border-blue-500":""}`,children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-lg",children:ne.reg}),E.jsx("div",{className:"text-xs text-slate-500",children:ne.type})]}),E.jsx("button",{onClick:Te=>{Te.stopPropagation(),W(ne)},className:"p-2 text-slate-400 hover:text-blue-600",children:E.jsx(rp,{className:"w-5 h-5"})})]},ne.id))})]}),E.jsx("div",{className:"md:col-span-2 relative",children:S?E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col",children:[E.jsxs("div",{className:"flex justify-between mb-4",children:[E.jsxs("h2",{className:"text-xl font-bold",children:["Configure ",S.reg]}),E.jsx("button",{onClick:()=>A(null),children:E.jsx(uh,{className:"w-6 h-6 text-slate-400"})})]}),E.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{className:"border p-2 rounded",value:S.reg,onChange:ne=>A({...S,reg:ne.target.value})}),E.jsx("input",{className:"border p-2 rounded",value:S.type,onChange:ne=>A({...S,type:ne.target.value})})]}),E.jsx("div",{className:"space-y-4",children:Object.keys(S.specs).map(ne=>E.jsxs("div",{className:"bg-slate-50 p-4 rounded border",children:[E.jsx("h4",{className:"font-bold text-xs uppercase mb-2",children:cN(ne)}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-slate-500",children:"Torque (Nm)"}),E.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:S.specs[ne].torque,onChange:Te=>$(ne,"torque",Te.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-slate-500",children:"Pressure (PSI)"}),E.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:S.specs[ne].pressure,onChange:Te=>$(ne,"pressure",Te.target.value)})]})]})]},ne))})]}),E.jsx("div",{className:"mt-4 pt-4 border-t text-right",children:E.jsxs("button",{onClick:de,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2 ml-auto",children:[E.jsx(YC,{className:"w-4 h-4"})," Save Changes"]})})]}):o?E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col",children:[E.jsxs("div",{className:"mb-4 border-b pb-4",children:[E.jsx("h2",{className:"text-2xl font-black",children:o.reg}),E.jsx("p",{className:"text-slate-500",children:o.type})]}),E.jsxs("div",{className:"flex-1 relative min-h-[400px]",children:[E.jsx(BT,{vehicle:o,retorques:a,mode:"view",onSelect:g}),oe&&E.jsxs("div",{className:"absolute top-10 right-0 md:right-10 w-72 bg-slate-800 text-white p-5 rounded-xl shadow-2xl z-20",children:[E.jsxs("div",{className:"flex justify-between mb-4",children:[E.jsx("h3",{className:"font-bold text-lg text-blue-400",children:zr(oe.id)}),E.jsx("button",{onClick:()=>g(null),children:E.jsx(uh,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-slate-700/50 p-3 rounded text-center grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-xs text-slate-400",children:"Torque"}),E.jsx("div",{className:"font-bold text-xl",children:oe.spec?.torque})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs text-slate-400",children:"Pressure"}),E.jsx("div",{className:"font-bold text-xl",children:oe.spec?.pressure})]})]}),oe.tyre?E.jsxs("div",{className:"text-sm space-y-1",children:[E.jsx("div",{className:"font-bold border-b border-slate-700 pb-1 mb-2",children:"FITTED TYRE"}),E.jsxs("div",{children:[oe.tyre.brand," ",oe.tyre.model]}),E.jsx("div",{className:"text-slate-400",children:oe.tyre.size}),E.jsx("div",{className:"bg-slate-900 p-2 rounded text-center font-mono text-xs mt-2",children:oe.tyre.barcode}),E.jsxs("div",{className:"text-xs mt-2 text-blue-300",children:["DOT: ",oe.tyre.dot]})]}):E.jsx("div",{className:"text-center text-slate-500 py-4 border-2 border-dashed border-slate-600 rounded",children:"Empty"})]})]})]})]}):E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 bg-slate-100 rounded-xl border-2 border-dashed border-slate-200 p-10",children:[E.jsx(oh,{className:"w-16 h-16 mb-4 opacity-50"}),E.jsx("p",{children:"Select a vehicle"})]})})]})}function _N({vehicles:r,inventory:e,onFit:i,currentUser:a}){const[o,c]=Re.useState(1),[d,g]=Re.useState(null),[_,y]=Re.useState(null),[S,A]=Re.useState(""),[I,Q]=Re.useState(a.initials),[H,se]=Re.useState(new Date().toISOString().slice(0,16)),[W,de]=Re.useState(!1),$=Re.useRef(null),oe=d&&_?d.specs[ch(_)]:null,ne=()=>{if(!("BarcodeDetector"in window)){alert("Barcode Detector API not supported by this browser. Please type manually.");return}de(!0)};Re.useEffect(()=>{let me=null,N=null;if(W){const w=new window.BarcodeDetector({formats:["code_128","ean_13","code_39"]});navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(R=>{me=R,$.current&&($.current.srcObject=me,$.current.play(),N=setInterval(async()=>{try{if($.current&&$.current.readyState===4){const V=await w.detect($.current);if(V.length>0){const O=V[0].rawValue;A(O),de(!1)}}}catch{}},200))}).catch(R=>{alert("Camera access denied or error: "+R),de(!1)})}return()=>{me&&me.getTracks().forEach(w=>w.stop()),N&&clearInterval(N)}},[W]);const Te=()=>{!S||!H||!I||(i(d.id,_,S,H,I),c(1),g(null),y(null),A(""))};return E.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[E.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[E.jsx(Kd,{num:1,label:"Vehicle",active:o>=1}),E.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:E.jsx("div",{className:`h-full bg-blue-600 transition-all ${o>=2?"w-full":"w-0"}`})}),E.jsx(Kd,{num:2,label:"Wheel",active:o>=2}),E.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:E.jsx("div",{className:`h-full bg-blue-600 transition-all ${o>=3?"w-full":"w-0"}`})}),E.jsx(Kd,{num:3,label:"Details",active:o>=3})]}),E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-200 min-h-[400px]",children:[o===1&&E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.map(me=>E.jsxs("button",{onClick:()=>{g(me),c(2)},className:"p-6 text-left border-2 rounded-xl hover:border-blue-500 hover:bg-blue-50",children:[E.jsx("div",{className:"font-bold text-xl",children:me.reg}),E.jsx("div",{className:"text-sm text-slate-400",children:me.type})]},me.id))}),o===2&&E.jsxs("div",{className:"text-center",children:[E.jsx("h3",{className:"font-bold mb-6",children:"Select Wheel Position"}),E.jsx(BT,{vehicle:d,mode:"select",onSelect:me=>{y(me),c(3)}}),E.jsx("button",{onClick:()=>c(1),className:"mt-8 text-slate-400 underline",children:"Back"})]}),o===3&&E.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h3",{className:"text-xl font-bold",children:d.reg}),E.jsx("div",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-bold mt-2",children:zr(_)})]}),E.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 p-4 rounded-xl text-center grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-3xl font-black",children:oe?.torque}),E.jsx("div",{className:"text-xs font-bold text-amber-700",children:"TORQUE (Nm)"})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-3xl font-black",children:oe?.pressure}),E.jsx("div",{className:"text-xs font-bold text-amber-700",children:"PRESSURE (PSI)"})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{type:"datetime-local",value:H,onChange:me=>se(me.target.value),className:"w-full p-3 border rounded"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{value:S,onChange:me=>A(me.target.value),className:"flex-1 p-3 border rounded font-mono",placeholder:"Scan Barcode",autoFocus:!0}),E.jsx("button",{onClick:ne,className:"bg-slate-200 px-4 rounded hover:bg-slate-300",title:"Open Camera",children:E.jsx(DC,{className:"w-6 h-6 text-slate-700"})})]}),W&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:E.jsxs("div",{className:"relative w-full max-w-sm bg-black rounded-xl overflow-hidden",children:[E.jsx("video",{ref:$,className:"w-full h-auto"}),E.jsx("button",{onClick:()=>de(!1),className:"absolute top-4 right-4 bg-white/20 p-2 rounded-full text-white",children:E.jsx(uh,{className:"w-6 h-6"})}),E.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center text-white text-sm",children:"Point camera at barcode"})]})}),E.jsx("input",{value:I,readOnly:!0,className:"w-full p-3 border rounded text-center uppercase tracking-widest font-bold bg-slate-100 text-slate-500",placeholder:"Fitter Initials"})]}),E.jsx("button",{onClick:Te,disabled:!S,className:"w-full bg-green-600 text-white p-4 rounded-xl font-bold hover:bg-green-700 disabled:opacity-50",children:"CONFIRM FITMENT"})]})]})]})}function vN({inventory:r,onAddBatch:e,onDelete:i,availableSizes:a,canAdd:o}){const[c,d]=Re.useState({brand:"",model:"",size:a[0]?.name||"",qty:1,dot:""}),[g,_]=Re.useState(""),[y,S]=Re.useState(null),A=H=>{H.preventDefault(),e({brand:c.brand,model:c.model,size:c.size,dot:c.dot},parseInt(c.qty)),d({...c,qty:1,dot:""})},I=()=>{const H=window.open("","_blank","width=400,height=600");H.document.write(`
      <html>
        <head>
          <title>Print Label</title>
          <link href="https://fonts.googleapis.com/css2?family=Libre+Barcode+39+Text&display=swap" rel="stylesheet">
          <style>
            body { font-family: sans-serif; text-align: center; padding: 20px; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
            .label { border: 2px solid black; padding: 20px; width: 300px; height: 450px; display: flex; flex-direction: column; justify-content: space-between; align-items: center; }
            .barcode { font-family: 'Libre Barcode 39 Text', cursive; font-size: 48px; margin: 10px 0; }
            .meta { font-size: 14px; font-weight: bold; }
            .brand { font-size: 28px; font-weight: 900; text-transform: uppercase; }
            .model { font-size: 18px; margin-bottom: 10px; }
            .size { font-size: 32px; font-weight: bold; border: 2px solid black; padding: 5px 15px; border-radius: 8px; }
          </style>
        </head>
        <body>
          <div class="label">
            <div>
              <div class="brand">${y.brand}</div>
              <div class="model">${y.model}</div>
            </div>
            <div class="size">${y.size}</div>
            <div class="barcode">*${y.barcode}*</div>
            <div class="meta">
              <div>S/N: ${y.barcode}</div>
              <div style="margin-top:5px">DOT: ${y.dot}</div>
            </div>
          </div>
          <script>
            window.onload = function() { window.print(); }
          <\/script>
        </body>
      </html>
    `),H.document.close()},Q=r.filter(H=>H.barcode.includes(g)||H.brand.toLowerCase().includes(g.toLowerCase())||H.size.includes(g));return E.jsxs("div",{className:"space-y-8",children:[o&&E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[E.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[E.jsx(jT,{className:"w-5 h-5 text-green-600"})," Batch Add Stock"]}),E.jsxs("form",{onSubmit:A,className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[E.jsx("input",{required:!0,placeholder:"Brand",className:"p-2 border rounded",value:c.brand,onChange:H=>d({...c,brand:H.target.value})}),E.jsx("input",{required:!0,placeholder:"Model",className:"p-2 border rounded",value:c.model,onChange:H=>d({...c,model:H.target.value})}),E.jsx("select",{required:!0,className:"p-2 border rounded bg-white",value:c.size,onChange:H=>d({...c,size:H.target.value}),children:a.map(H=>E.jsx("option",{value:H.name,children:H.name},H.id))}),E.jsx("input",{required:!0,placeholder:"DOT (e.g 1024)",maxLength:"4",className:"p-2 border rounded",value:c.dot,onChange:H=>d({...c,dot:H.target.value})}),E.jsx("input",{type:"number",min:"1",max:"50",required:!0,placeholder:"Qty",className:"p-2 border rounded",value:c.qty,onChange:H=>d({...c,qty:H.target.value})}),E.jsx("button",{className:"bg-slate-900 text-white rounded font-medium",children:"Add"})]})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[E.jsxs("div",{className:"p-4 bg-slate-50 border-b flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold",children:"Serialized Inventory"}),E.jsxs("div",{className:"relative",children:[E.jsx($C,{className:"absolute left-2 top-2 w-4 h-4 text-slate-400"}),E.jsx("input",{placeholder:"Search...",className:"pl-8 p-1 border rounded",value:g,onChange:H=>_(H.target.value)})]})]}),E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-3",children:"Barcode"}),E.jsx("th",{className:"p-3",children:"Details"}),E.jsx("th",{className:"p-3",children:"Age"}),E.jsx("th",{className:"p-3",children:"Status"}),E.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y",children:Q.map(H=>E.jsxs("tr",{children:[E.jsx("td",{className:"p-3 font-mono font-bold",children:H.barcode}),E.jsxs("td",{className:"p-3",children:[E.jsxs("div",{className:"font-medium",children:[H.brand," ",H.model]}),E.jsx("div",{className:"text-xs text-slate-500",children:H.size})]}),E.jsxs("td",{className:"p-3",children:[E.jsx("div",{className:"text-xs",children:uN(H.dot)}),E.jsxs("div",{className:"text-xs text-slate-400",children:["DOT: ",H.dot]})]}),E.jsxs("td",{className:"p-3",children:[E.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${H.status==="In Stock"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:H.status}),H.status==="Fitted"&&E.jsx("div",{className:"text-xs mt-1",children:H.vehicleReg})]}),E.jsx("td",{className:"p-3 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>S(H),className:"p-2 text-slate-400 hover:text-blue-600",children:E.jsx(QC,{className:"w-4 h-4"})}),o&&E.jsx("button",{onClick:()=>i(H.id),className:"p-2 text-red-400 hover:text-red-600",children:E.jsx(UT,{className:"w-4 h-4"})})]})})]},H.id))})]})]}),y&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 text-center",children:[E.jsx("h3",{className:"font-bold text-xl mb-4",children:y.brand}),E.jsx("div",{className:"font-mono text-3xl font-black bg-slate-100 p-4 mb-4",children:y.barcode}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>S(null),className:"flex-1 py-2 border rounded",children:"Cancel"}),E.jsx("button",{onClick:I,className:"flex-1 py-2 bg-blue-600 text-white rounded",children:"Print Now"})]})]})})]})}function EN({tasks:r,onComplete:e}){return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[E.jsx(LT,{className:"w-5 h-5 text-amber-500"})," Outstanding"]}),r.filter(i=>i.status==="Pending").length===0?E.jsx("div",{className:"p-8 bg-green-50 text-green-800 text-center rounded",children:"All compliant"}):r.filter(i=>i.status==="Pending").map(i=>E.jsxs("div",{className:"bg-white p-4 rounded shadow border-l-4 border-amber-500 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex gap-2 mb-1",children:[E.jsx("span",{className:`px-2 text-xs font-bold rounded text-white ${i.type.includes("30")?"bg-red-500":"bg-blue-500"}`,children:i.type}),E.jsxs("span",{className:"text-xs text-slate-400",children:["Fitter: ",i.fitter]})]}),E.jsx("div",{className:"font-black",children:i.vehicleReg}),E.jsx("div",{className:"text-sm",children:zr(i.positionId)}),E.jsxs("div",{className:"text-xs font-bold text-amber-600 mt-1",children:["Due: ",new Date(i.dueDate).toLocaleString()]})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("div",{className:"text-xs text-slate-400 mb-2",children:[i.torqueSpec," Nm"]}),E.jsx("button",{onClick:()=>e(i.id),className:"bg-slate-900 text-white px-4 py-2 rounded text-sm hover:bg-slate-800",children:"Confirm"})]})]},i.id))]}),E.jsxs("div",{children:[E.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[E.jsx(PC,{className:"w-5 h-5"})," History"]}),E.jsx("div",{className:"bg-white rounded shadow overflow-hidden",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-3",children:"Completed"}),E.jsx("th",{className:"p-3",children:"Type"}),E.jsx("th",{className:"p-3",children:"Vehicle"}),E.jsx("th",{className:"p-3",children:"Fitter"}),E.jsx("th",{className:"p-3 text-right",children:"Status"})]})}),E.jsx("tbody",{children:r.filter(i=>i.status==="Completed").map(i=>E.jsxs("tr",{children:[E.jsx("td",{className:"p-3",children:new Date(i.completedDate).toLocaleDateString()}),E.jsx("td",{className:"p-3",children:i.type}),E.jsx("td",{className:"p-3 font-bold",children:i.vehicleReg}),E.jsx("td",{className:"p-3",children:i.fitter}),E.jsx("td",{className:"p-3 text-right text-green-600 font-bold",children:"VERIFIED"})]},i.id))})]})})]})]})}function TN({history:r,retorques:e}){const[i,a]=Re.useState(new Date().toISOString().slice(0,10)),[o,c]=Re.useState(new Date().toISOString().slice(0,10)),[d,g]=Re.useState("fitment"),[_,y]=Re.useState(""),[S,A]=Re.useState(""),I=[...new Set([...r.map($=>$.vehicleReg),...e.map($=>$.vehicleReg)])].sort(),Q=[...new Set([...r.map($=>$.fitter),...e.map($=>$.fitter)])].sort(),H=($,oe)=>{const ne=$[oe].split("T")[0],Te=ne>=i&&ne<=o,me=_?$.vehicleReg===_:!0,N=S?$.fitter===S:!0;return Te&&me&&N},se=r.filter($=>H($,"fitDate")),W=e.filter($=>H($,"fitmentDate")),de=()=>{let $="";d==="fitment"?$=`Date,Barcode,Brand,Size,DOT,Vehicle,Pos,Fitter
`+se.map(ne=>`${ne.fitDate},${ne.barcode},${ne.brand},${ne.size},${ne.dot},${ne.vehicleReg},${zr(ne.position)},${ne.fitter}`).join(`
`):$=`Fitment Date,Due Date,Type,Vehicle,Position,Status,Fitter
`+W.map(ne=>`${ne.fitmentDate},${ne.dueDate},${ne.type},${ne.vehicleReg},${zr(ne.positionId)},${ne.status},${ne.fitter}`).join(`
`);const oe=document.createElement("a");oe.href="data:text/csv;charset=utf-8,"+encodeURI($),oe.download=`${d}_report.csv`,oe.click()};return E.jsxs("div",{className:"space-y-6 bg-white p-6 rounded shadow",children:[E.jsxs("div",{className:"flex items-center gap-4 border-b pb-4 mb-4",children:[E.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 flex-1",children:[E.jsx(kT,{className:"w-5 h-5 text-blue-600"})," Reports"]}),E.jsxs("div",{className:"flex bg-slate-100 p-1 rounded",children:[E.jsx("button",{onClick:()=>g("fitment"),className:`px-4 py-1 rounded text-sm font-medium transition ${d==="fitment"?"bg-white shadow text-blue-600":"text-slate-500"}`,children:"Fitment History"}),E.jsx("button",{onClick:()=>g("retorque"),className:`px-4 py-1 rounded text-sm font-medium transition ${d==="retorque"?"bg-white shadow text-blue-600":"text-slate-500"}`,children:"Retorque Logs"})]})]}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 items-end mb-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"From"}),E.jsx("input",{type:"date",value:i,onChange:$=>a($.target.value),className:"border p-2 rounded w-full"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"To"}),E.jsx("input",{type:"date",value:o,onChange:$=>c($.target.value),className:"border p-2 rounded w-full"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"Vehicle"}),E.jsxs("select",{value:_,onChange:$=>y($.target.value),className:"border p-2 rounded w-full bg-white",children:[E.jsx("option",{value:"",children:"All Vehicles"}),I.map($=>E.jsx("option",{value:$,children:$},$))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"Fitter"}),E.jsxs("select",{value:S,onChange:$=>A($.target.value),className:"border p-2 rounded w-full bg-white",children:[E.jsx("option",{value:"",children:"All Fitters"}),Q.map($=>E.jsx("option",{value:$,children:$},$))]})]}),E.jsxs("button",{onClick:de,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center justify-center gap-2",children:[E.jsx(jC,{className:"w-4 h-4"})," Export CSV"]})]}),E.jsx("div",{className:"overflow-x-auto border rounded",children:d==="fitment"?E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-3",children:"Date"}),E.jsx("th",{className:"p-3",children:"Barcode"}),E.jsx("th",{className:"p-3",children:"Brand"}),E.jsx("th",{className:"p-3",children:"Size"}),E.jsx("th",{className:"p-3",children:"DOT"}),E.jsx("th",{className:"p-3",children:"Vehicle"}),E.jsx("th",{className:"p-3",children:"Pos"}),E.jsx("th",{className:"p-3",children:"Fitter"})]})}),E.jsx("tbody",{children:se.map($=>E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"p-3",children:new Date($.fitDate).toLocaleDateString()}),E.jsx("td",{className:"p-3 font-mono",children:$.barcode}),E.jsx("td",{className:"p-3",children:$.brand}),E.jsx("td",{className:"p-3",children:$.size}),E.jsx("td",{className:"p-3",children:$.dot}),E.jsx("td",{className:"p-3 font-bold",children:$.vehicleReg}),E.jsx("td",{className:"p-3",children:zr($.position)}),E.jsx("td",{className:"p-3 font-bold",children:$.fitter})]},$.id))})]}):E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-3",children:"Fit Date"}),E.jsx("th",{className:"p-3",children:"Due Date"}),E.jsx("th",{className:"p-3",children:"Type"}),E.jsx("th",{className:"p-3",children:"Vehicle"}),E.jsx("th",{className:"p-3",children:"Position"}),E.jsx("th",{className:"p-3",children:"Status"}),E.jsx("th",{className:"p-3",children:"Completed"}),E.jsx("th",{className:"p-3",children:"Fitter"})]})}),E.jsx("tbody",{children:W.map($=>E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"p-3 text-slate-500",children:new Date($.fitmentDate).toLocaleDateString()}),E.jsx("td",{className:"p-3 font-bold",children:new Date($.dueDate).toLocaleString()}),E.jsx("td",{className:"p-3",children:E.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold text-white ${$.type.includes("30")?"bg-blue-500":"bg-purple-500"}`,children:$.type})}),E.jsx("td",{className:"p-3 font-bold",children:$.vehicleReg}),E.jsx("td",{className:"p-3",children:zr($.positionId)}),E.jsx("td",{className:"p-3",children:E.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${$.status==="Completed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:$.status})}),E.jsx("td",{className:"p-3",children:$.completedDate?new Date($.completedDate).toLocaleString():"-"}),E.jsx("td",{className:"p-3 font-bold",children:$.fitter})]},$.id))})]})})]})}function bN({sizes:r,onAddSize:e,onRemoveSize:i,onSeed:a,users:o,onAddUser:c,onRemoveUser:d}){const[g,_]=Re.useState(""),[y,S]=Re.useState({initials:"",pin:"",role:"Fitter"}),A=I=>{I.preventDefault(),y.initials&&y.pin&&(c({...y,initials:y.initials.toUpperCase()}),S({initials:"",pin:"",role:"Fitter"}))};return E.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[E.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[E.jsx(rp,{className:"w-5 h-5"})," Tyre Configuration"]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h4",{className:"font-bold text-sm mb-2",children:"Tyre Sizes"}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map(I=>E.jsxs("span",{className:"bg-slate-100 px-3 py-1 rounded-full text-sm flex gap-2 items-center",children:[I.name,E.jsx("button",{onClick:()=>i(I.id),className:"text-red-400 hover:text-red-600",children:E.jsx(uh,{className:"w-3 h-3"})})]},I.id))}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{className:"border p-2 rounded flex-1",placeholder:"New Size",value:g,onChange:I=>_(I.target.value)}),E.jsx("button",{onClick:()=>{e(g),_("")},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add"})]})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[E.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[E.jsx(u0,{className:"w-5 h-5"})," System Actions"]}),E.jsx("p",{className:"text-xs text-red-600 font-bold mb-4",children:"If you are not Dale - DO NOT press this button"}),E.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-slate-800 text-white px-4 py-2 rounded hover:bg-slate-900 w-full justify-center",children:[E.jsx(u0,{className:"w-4 h-4"})," Initialize Database"]})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded shadow h-fit",children:[E.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[E.jsx(sN,{className:"w-5 h-5"})," User Management"]}),E.jsxs("form",{onSubmit:A,className:"bg-slate-50 p-4 rounded mb-6 border",children:[E.jsx("h4",{className:"font-bold text-sm mb-3",children:"Add New User"}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[E.jsx("input",{className:"border p-2 rounded uppercase",placeholder:"Initials",maxLength:3,value:y.initials,onChange:I=>S({...y,initials:I.target.value}),required:!0}),E.jsx("input",{className:"border p-2 rounded",placeholder:"PIN",maxLength:4,type:"password",value:y.pin,onChange:I=>S({...y,pin:I.target.value}),required:!0})]}),E.jsxs("select",{className:"w-full border p-2 rounded mb-2",value:y.role,onChange:I=>S({...y,role:I.target.value}),children:[E.jsx("option",{value:"Admin",children:"Admin"}),E.jsx("option",{value:"Manager",children:"Manager"}),E.jsx("option",{value:"Fitter",children:"Fitter"})]}),E.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded font-bold",children:"Create User"})]}),E.jsx("div",{className:"space-y-2",children:o.map(I=>E.jsxs("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-slate-50",children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-bold",children:I.initials}),E.jsx("div",{className:"text-xs text-slate-500",children:I.role})]}),E.jsx("button",{onClick:()=>d(I.id),className:"text-red-400 hover:text-red-600",children:E.jsx(UT,{className:"w-4 h-4"})})]},I.id))})]})]})}function BT({vehicle:r,retorques:e=[],mode:i="view",onSelect:a}){const{layout:o,wheels:c}=r,d=(_,y)=>{const S=c[_],A=e.find(I=>I.vehicleReg===r.reg&&I.positionId===_&&I.status==="Pending");return E.jsxs("button",{onClick:a?()=>a(_):void 0,className:`relative flex flex-col items-center p-2 rounded border-2 transition-all w-24 hover:scale-105 hover:border-blue-500 ${S?"bg-slate-50 border-slate-300":"bg-slate-100 border-dashed"} ${A?"ring-2 ring-amber-500":""}`,children:[E.jsx("div",{className:`w-8 h-12 rounded bg-gradient-to-r from-slate-700 to-slate-900 mb-2 border-l-2 border-r-2 border-slate-600 ${!S&&"opacity-20"}`}),E.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:y}),i==="view"&&A&&E.jsx("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white rounded-full p-1 animate-pulse",children:E.jsx(PT,{className:"w-3 h-3"})})]},_)},g=_=>E.jsxs("div",{className:"flex justify-between items-center w-full max-w-lg mx-auto my-4 relative px-4",children:[E.jsx("div",{className:"h-2 bg-slate-300 absolute w-full top-1/2 -translate-y-1/2 -z-10 rounded left-0"}),_]});return E.jsxs("div",{className:"flex flex-col items-center py-8",children:[E.jsxs("div",{className:"mb-4 text-slate-300 flex flex-col items-center",children:[E.jsx("div",{className:"w-0 h-0 border-l-[20px] border-l-transparent border-r-[20px] border-r-transparent border-b-[30px] border-b-slate-200"}),E.jsx("span",{className:"text-xs font-bold mt-1",children:"FRONT"})]}),g([d("FL","Front L"),d("FR","Front R")]),E.jsx("div",{className:"h-16 border-l-4 border-slate-200 border-dashed my-2"}),o==="2-axle-dual"&&g([E.jsxs("div",{className:"flex gap-1",children:[d("RLO","Outer"),d("RLI","Inner")]},"al"),E.jsxs("div",{className:"flex gap-1",children:[d("RRI","Inner"),d("RRO","Outer")]},"ar")]),o==="2-axle-single"&&g([d("RL","Rear L"),d("RR","Rear R")]),o==="3-axle-rigid"&&E.jsxs(E.Fragment,{children:[g([E.jsxs("div",{className:"flex gap-1",children:[d("DLO","Dr L-Out"),d("DLI","Dr L-In")]},"dl"),E.jsxs("div",{className:"flex gap-1",children:[d("DRI","Dr R-In"),d("DRO","Dr R-Out")]},"dr")]),E.jsx("div",{className:"h-8 border-l-4 border-slate-200 border-dashed my-2"}),g([d("TL","Tag L"),d("TR","Tag R")])]}),o==="3-axle-rear-steer"&&E.jsxs(E.Fragment,{children:[g([E.jsxs("div",{className:"flex gap-1",children:[d("DLO","Dr L-Out"),d("DLI","Dr L-In")]},"dl"),E.jsxs("div",{className:"flex gap-1",children:[d("DRI","Dr R-In"),d("DRO","Dr R-Out")]},"dr")]),g([d("RSL","R-Steer L"),d("RSR","R-Steer R")])]})]})}const qa=({label:r,icon:e,active:i,onClick:a,badge:o})=>E.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-4 py-2 rounded-md transition text-sm font-medium whitespace-nowrap ${i?"bg-slate-700 text-white shadow":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[E.jsxs("div",{className:"relative",children:[E.jsx(e,{className:"w-4 h-4"}),o>0&&E.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full",children:o})]}),E.jsx("span",{className:"hidden md:inline",children:r})]}),Kd=({num:r,label:e,active:i})=>E.jsxs("div",{className:`flex items-center gap-2 ${i?"text-blue-600":"text-slate-300"}`,children:[E.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 ${i?"border-blue-600 bg-blue-50":"border-slate-200"}`,children:r}),E.jsx("span",{className:"hidden md:inline font-medium text-sm",children:e})]});xb.createRoot(document.getElementById("root")).render(E.jsx(Re.StrictMode,{children:E.jsx(pN,{})}));
