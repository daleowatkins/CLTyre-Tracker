function zE(s,e){for(var i=0;i<e.length;i++){const a=e[i];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in s)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function qE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pd={exports:{}},Co={};var G_;function BE(){if(G_)return Co;G_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Co.Fragment=e,Co.jsx=i,Co.jsxs=i,Co}var Q_;function HE(){return Q_||(Q_=1,Pd.exports=BE()),Pd.exports}var p=HE(),zd={exports:{}},Ne={};var K_;function FE(){if(K_)return Ne;K_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ee={};function oe(M,K,ne){this.props=M,this.context=K,this.refs=ee,this.updater=ne||H}oe.prototype.isReactComponent={},oe.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},oe.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=oe.prototype;function ce(M,K,ne){this.props=M,this.context=K,this.refs=ee,this.updater=ne||H}var Ie=ce.prototype=new $;Ie.constructor=ce,te(Ie,oe.prototype),Ie.isPureReactComponent=!0;var xe=Array.isArray;function ge(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(M,K,ne){var re=ne.ref;return{$$typeof:s,type:M,key:K,ref:re!==void 0?re:null,props:ne}}function D(M,K){return x(M.type,K,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return K[ne]})}var R=/\/+/g;function et(M,K){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):K.toString(36)}function Le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ge,ge):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function j(M,K,ne,re,Ee){var Oe=typeof M;(Oe==="undefined"||Oe==="boolean")&&(M=null);var qe=!1;if(M===null)qe=!0;else switch(Oe){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(M.$$typeof){case s:case e:qe=!0;break;case E:return qe=M._init,j(qe(M._payload),K,ne,re,Ee)}}if(qe)return Ee=Ee(M),qe=re===""?"."+et(M,0):re,xe(Ee)?(ne="",qe!=null&&(ne=qe.replace(R,"$&/")+"/"),j(Ee,K,ne,"",function(_i){return _i})):Ee!=null&&(O(Ee)&&(Ee=D(Ee,ne+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+qe)),K.push(Ee)),1;qe=0;var Ct=re===""?".":re+":";if(xe(M))for(var it=0;it<M.length;it++)re=M[it],Oe=Ct+et(re,it),qe+=j(re,K,ne,Oe,Ee);else if(it=q(M),typeof it=="function")for(M=it.call(M),it=0;!(re=M.next()).done;)re=re.value,Oe=Ct+et(re,it++),qe+=j(re,K,ne,Oe,Ee);else if(Oe==="object"){if(typeof M.then=="function")return j(Le(M),K,ne,re,Ee);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return qe}function W(M,K,ne){if(M==null)return M;var re=[],Ee=0;return j(M,re,"","",function(Oe){return K.call(ne,Oe,Ee++)}),re}function ue(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var se=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},De={map:W,forEach:function(M,K,ne){W(M,function(){K.apply(this,arguments)},ne)},count:function(M){var K=0;return W(M,function(){K++}),K},toArray:function(M){return W(M,function(K){return K})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ne.Activity=w,Ne.Children=De,Ne.Component=oe,Ne.Fragment=i,Ne.Profiler=o,Ne.PureComponent=ce,Ne.StrictMode=a,Ne.Suspense=v,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(M,K,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=te({},M.props),Ee=M.key;if(K!=null)for(Oe in K.key!==void 0&&(Ee=""+K.key),K)!S.call(K,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&K.ref===void 0||(re[Oe]=K[Oe]);var Oe=arguments.length-2;if(Oe===1)re.children=ne;else if(1<Oe){for(var qe=Array(Oe),Ct=0;Ct<Oe;Ct++)qe[Ct]=arguments[Ct+2];re.children=qe}return x(M.type,Ee,re)},Ne.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ne.createElement=function(M,K,ne){var re,Ee={},Oe=null;if(K!=null)for(re in K.key!==void 0&&(Oe=""+K.key),K)S.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=K[re]);var qe=arguments.length-2;if(qe===1)Ee.children=ne;else if(1<qe){for(var Ct=Array(qe),it=0;it<qe;it++)Ct[it]=arguments[it+2];Ee.children=Ct}if(M&&M.defaultProps)for(re in qe=M.defaultProps,qe)Ee[re]===void 0&&(Ee[re]=qe[re]);return x(M,Oe,Ee)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:y,render:M}},Ne.isValidElement=O,Ne.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ue}},Ne.memo=function(M,K){return{$$typeof:g,type:M,compare:K===void 0?null:K}},Ne.startTransition=function(M){var K=N.T,ne={};N.T=ne;try{var re=M(),Ee=N.S;Ee!==null&&Ee(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ge,se)}catch(Oe){se(Oe)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),N.T=K}},Ne.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ne.use=function(M){return N.H.use(M)},Ne.useActionState=function(M,K,ne){return N.H.useActionState(M,K,ne)},Ne.useCallback=function(M,K){return N.H.useCallback(M,K)},Ne.useContext=function(M){return N.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},Ne.useEffect=function(M,K){return N.H.useEffect(M,K)},Ne.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ne.useId=function(){return N.H.useId()},Ne.useImperativeHandle=function(M,K,ne){return N.H.useImperativeHandle(M,K,ne)},Ne.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},Ne.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},Ne.useMemo=function(M,K){return N.H.useMemo(M,K)},Ne.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},Ne.useReducer=function(M,K,ne){return N.H.useReducer(M,K,ne)},Ne.useRef=function(M){return N.H.useRef(M)},Ne.useState=function(M){return N.H.useState(M)},Ne.useSyncExternalStore=function(M,K,ne){return N.H.useSyncExternalStore(M,K,ne)},Ne.useTransition=function(){return N.H.useTransition()},Ne.version="19.2.3",Ne}var Y_;function Mm(){return Y_||(Y_=1,zd.exports=FE()),zd.exports}var fr=Mm();const GE=qE(fr),QE=zE({__proto__:null,default:GE},[fr]);var qd={exports:{}},Io={},Bd={exports:{}},Hd={};var X_;function KE(){return X_||(X_=1,(function(s){function e(j,W){var ue=j.length;j.push(W);e:for(;0<ue;){var se=ue-1>>>1,De=j[se];if(0<o(De,W))j[se]=W,j[ue]=De,ue=se;else break e}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var W=j[0],ue=j.pop();if(ue!==W){j[0]=ue;e:for(var se=0,De=j.length,M=De>>>1;se<M;){var K=2*(se+1)-1,ne=j[K],re=K+1,Ee=j[re];if(0>o(ne,ue))re<De&&0>o(Ee,ne)?(j[se]=Ee,j[re]=ue,se=re):(j[se]=ne,j[K]=ue,se=K);else if(re<De&&0>o(Ee,ue))j[se]=Ee,j[re]=ue,se=re;else break e}}return W}function o(j,W){var ue=j.sortIndex-W.sortIndex;return ue!==0?ue:j.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],g=[],E=1,w=null,I=3,q=!1,H=!1,te=!1,ee=!1,oe=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Ie(j){for(var W=i(g);W!==null;){if(W.callback===null)a(g);else if(W.startTime<=j)a(g),W.sortIndex=W.expirationTime,e(v,W);else break;W=i(g)}}function xe(j){if(te=!1,Ie(j),!H)if(i(v)!==null)H=!0,ge||(ge=!0,k());else{var W=i(g);W!==null&&Le(xe,W.startTime-j)}}var ge=!1,N=-1,S=5,x=-1;function D(){return ee?!0:!(s.unstable_now()-x<S)}function O(){if(ee=!1,ge){var j=s.unstable_now();x=j;var W=!0;try{e:{H=!1,te&&(te=!1,$(N),N=-1),q=!0;var ue=I;try{t:{for(Ie(j),w=i(v);w!==null&&!(w.expirationTime>j&&D());){var se=w.callback;if(typeof se=="function"){w.callback=null,I=w.priorityLevel;var De=se(w.expirationTime<=j);if(j=s.unstable_now(),typeof De=="function"){w.callback=De,Ie(j),W=!0;break t}w===i(v)&&a(v),Ie(j)}else a(v);w=i(v)}if(w!==null)W=!0;else{var M=i(g);M!==null&&Le(xe,M.startTime-j),W=!1}}break e}finally{w=null,I=ue,q=!1}W=void 0}}finally{W?k():ge=!1}}}var k;if(typeof ce=="function")k=function(){ce(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,et=R.port2;R.port1.onmessage=O,k=function(){et.postMessage(null)}}else k=function(){oe(O,0)};function Le(j,W){N=oe(function(){j(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(j){switch(I){case 1:case 2:case 3:var W=3;break;default:W=I}var ue=I;I=W;try{return j()}finally{I=ue}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ue=I;I=j;try{return W()}finally{I=ue}},s.unstable_scheduleCallback=function(j,W,ue){var se=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?se+ue:se):ue=se,j){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ue+De,j={id:E++,callback:W,priorityLevel:j,startTime:ue,expirationTime:De,sortIndex:-1},ue>se?(j.sortIndex=ue,e(g,j),i(v)===null&&j===i(g)&&(te?($(N),N=-1):te=!0,Le(xe,ue-se))):(j.sortIndex=De,e(v,j),H||q||(H=!0,ge||(ge=!0,k()))),j},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(j){var W=I;return function(){var ue=I;I=W;try{return j.apply(this,arguments)}finally{I=ue}}}})(Hd)),Hd}var $_;function YE(){return $_||($_=1,Bd.exports=KE()),Bd.exports}var Fd={exports:{}},hn={};var Z_;function XE(){if(Z_)return hn;Z_=1;var s=Mm();function e(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:g,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hn.createPortal=function(v,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(v,g,null,E)},hn.flushSync=function(v){var g=d.T,E=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=g,a.p=E,a.d.f()}},hn.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(v,g))},hn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},hn.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var E=g.as,w=y(E,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,q=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:q}):E==="script"&&a.d.X(v,{crossOrigin:w,integrity:I,fetchPriority:q,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=y(g.as,g.crossOrigin);a.d.M(v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(v)},hn.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=y(E,g.crossOrigin);a.d.L(v,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(v,g){if(typeof v=="string")if(g){var E=y(g.as,g.crossOrigin);a.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(v)},hn.requestFormReset=function(v){a.d.r(v)},hn.unstable_batchedUpdates=function(v,g){return v(g)},hn.useFormState=function(v,g,E){return d.H.useFormState(v,g,E)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var J_;function $E(){if(J_)return Fd.exports;J_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fd.exports=XE(),Fd.exports}var W_;function ZE(){if(W_)return Io;W_=1;var s=YE(),e=Mm(),i=$E();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(a(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===r){_=!0,r=h,l=f;break}if(T===l){_=!0,l=h,r=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===r){_=!0,r=f,l=h;break}if(T===l){_=!0,l=f,r=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,I=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case oe:return"Profiler";case ee:return"StrictMode";case xe:return"Suspense";case ge:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ce:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case Ie:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:et(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return et(t(n))}catch{}}return null}var Le=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},se=[],De=-1;function M(t){return{current:t}}function K(t){0>De||(t.current=se[De],se[De]=null,De--)}function ne(t,n){De++,se[De]=t.current,t.current=n}var re=M(null),Ee=M(null),Oe=M(null),qe=M(null);function Ct(t,n){switch(ne(Oe,n),ne(Ee,t),ne(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?m_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=m_(n),t=p_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(re),ne(re,t)}function it(){K(re),K(Ee),K(Oe)}function _i(t){t.memoizedState!==null&&ne(qe,t);var n=re.current,r=p_(n,t.type);n!==r&&(ne(Ee,t),ne(re,r))}function $i(t){Ee.current===t&&(K(re),K(Ee)),qe.current===t&&(K(qe),wo._currentValue=ue)}var Zi,ae;function me(t){if(Zi===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Zi=n&&n[1]||"",ae=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zi+t+ae}var ye=!1;function Xe(t,n){if(!t||ye)return"";ye=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var B=G}Reflect.construct(t,[],X)}else{try{X.call()}catch(G){B=G}t.call(X.prototype)}}else{try{throw Error()}catch(G){B=G}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var C=_.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?me(r):""}function Et(t,n){switch(t.tag){case 26:case 27:case 5:return me(t.type);case 16:return me("Lazy");case 13:return t.child!==n&&n!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return Xe(t.type,!1);case 11:return Xe(t.type.render,!1);case 1:return Xe(t.type,!0);case 31:return me("Activity");default:return""}}function st(t){try{var n="",r=null;do n+=Et(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ue=Object.prototype.hasOwnProperty,Se=s.unstable_scheduleCallback,Ae=s.unstable_cancelCallback,je=s.unstable_shouldYield,St=s.unstable_requestPaint,At=s.unstable_now,zn=s.unstable_getCurrentPriorityLevel,ni=s.unstable_ImmediatePriority,Ji=s.unstable_UserBlockingPriority,xt=s.unstable_NormalPriority,gn=s.unstable_LowPriority,Wi=s.unstable_IdlePriority,ii=s.log,Ns=s.unstable_setDisableYieldValue,Cn=null,en=null;function qn(t){if(typeof ii=="function"&&Ns(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Cn,t)}catch{}}var It=Math.clz32?Math.clz32:ou,lu=Math.log,_a=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(lu(t)/_a|0)|0}var vi=256,Ir=262144,kt=4194304;function bi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=bi(l):(_&=T,_!==0?h=bi(_):r||(r=T&~t,r!==0&&(h=bi(r))))):(T=l&~f,T!==0?h=bi(T):_!==0?h=bi(_):r||(r=l&~t,r!==0&&(h=bi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function si(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function Ei(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hh(t,n,r,l,h,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(r=_&~r;0<r;){var Q=31-It(r),X=1<<Q;T[Q]=0,C[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var G=B[Q];G!==null&&(G.lane&=-536870913)}r&=~X}l!==0&&Or(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Or(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-It(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Cl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-It(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Il(t,n){var r=n&-n;return r=(r&42)!==0?1:Mr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:U_(t.type))}function ri(t,n){var r=W.p;try{return W.p=t,n()}finally{W.p=r}}var ai=Math.random().toString(36).slice(2),jt="__reactFiber$"+ai,Xt="__reactProps$"+ai,Si="__reactContainer$"+ai,va="__reactEvents$"+ai,Fh="__reactListeners$"+ai,hu="__reactHandles$"+ai,fu="__reactResources$"+ai,Ai="__reactMarker$"+ai;function ba(t){delete t[jt],delete t[Xt],delete t[va],delete t[Fh],delete t[hu]}function wi(t){var n=t[jt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Si]||r[jt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=E_(t);t!==null;){if(r=t[jt])return r;t=E_(t)}return n}t=r,r=t.parentNode}return null}function Bn(t){if(t=t[jt]||t[Si]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function In(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function xi(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[Ai]=!0}var Dl=new Set,Ol={};function Ri(t,n){Ni(t,n),Ni(t+"Capture",n)}function Ni(t,n){for(Ol[t]=n,t=0;t<n.length;t++)Dl.add(n[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},kl={};function du(t){return Ue.call(kl,t)?!0:Ue.call(Vl,t)?!1:Ml.test(t)?kl[t]=!0:(Vl[t]=!0,!1)}function Ta(t,n,r){if(du(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Dn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ut(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=Cs(t)?"checked":"value";t._valueTracker=jl(t,n,""+t[n])}}function Vr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Cs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kr=/[\n"\\]/g;function vn(t){return t.replace(kr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ea(t,n,r,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ll(t,_,$t(n)):r!=null?Ll(t,_,$t(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+$t(T):t.removeAttribute("name")}function mu(t,n,r,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}r=r!=null?""+$t(r):"",n=n!=null?""+$t(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),rt(t)}function Ll(t,n,r){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Is(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$t(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,r){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$t(r):""}function Ds(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Le(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$t(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),rt(t)}function bn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||gu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Pl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ul(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ul(t,f,n[f])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var zl=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ii=null;function jr(t){var n=Bn(t);if(n&&(t=n.stateNode)){var r=t[Xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ea(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Xt]||null;if(!h)throw Error(a(90));Ea(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Vr(l)}break e;case"textarea":pu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Is(t,!!r.multiple,n,!1)}}}var wa=!1;function Vs(t,n,r){if(wa)return t(n,r);wa=!0;try{var l=t(n);return l}finally{if(wa=!1,(Ms!==null||Ii!==null)&&(cc(),Ms&&(n=Ms,t=Ii,Ii=Ms=null,jr(n),t)))for(n=0;n<t.length;n++)jr(t[n])}}function oi(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Xt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Fn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Lr=!1}var Di=null,ql=null,Ur=null;function Bl(){if(Ur)return Ur;var t,n=ql,r=n.length,l,h="value"in Di?Di.value:Di.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===h[f-l];l++);return Ur=h.slice(t,1<l?1-l:void 0)}function Pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function ui(){return!1}function tn(t){function n(r,l,h,f,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:ui,this.isPropagationStopped=ui,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=tn(ns),ks=w({},ns,{view:0,detail:0}),Hl=tn(ks),js,xa,Mi,Ra=w({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(js=t.screenX-Mi.screenX,xa=t.screenY-Mi.screenY):xa=js=0,Mi=t),js)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Fl=tn(Ra),zr=w({},Ra,{dataTransfer:0}),_u=tn(zr),vu=w({},ks,{relatedTarget:0}),qr=tn(vu),Gl=w({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=tn(Gl),Na=w({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=tn(Na),Eu=w({},ns,{data:0}),Vi=tn(Eu),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Ls(){return xu}var yn=w({},ks,{key:function(t){if(t.key){var n=Su[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=tn(yn),Nu=w({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=tn(Nu),u=w({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),m=tn(u),b=w({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=tn(b),U=w({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=tn(U),ie=w({},ns,{newState:0,oldState:0}),Me=tn(ie),Dt=[9,13,27,32],Je=Fn&&"CompositionEvent"in window,bt=null;Fn&&"documentMode"in document&&(bt=document.documentMode);var Gn=Fn&&"TextEvent"in window&&!bt,ki=Fn&&(!Je||bt&&8<bt&&11>=bt),ci=" ",hi=!1;function Br(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function cT(t,n){switch(t){case"compositionend":return Ca(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return t=n.data,t===ci&&hi?null:t;default:return null}}function hT(t,n){if(Ia)return t==="compositionend"||!Je&&Br(t,n)?(t=Bl(),Ur=ql=Di=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!fT[t.type]:n==="textarea"}function xp(t,n,r,l){Ms?Ii?Ii.push(l):Ii=[l]:Ms=l,n=yc(n,"onChange"),0<n.length&&(r=new Oi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ql=null,Kl=null;function dT(t){o_(t,0)}function Cu(t){var n=In(t);if(Vr(n))return t}function Rp(t,n){if(t==="change")return n}var Np=!1;if(Fn){var Gh;if(Fn){var Qh="oninput"in document;if(!Qh){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Qh=typeof Cp.oninput=="function"}Gh=Qh}else Gh=!1;Np=Gh&&(!document.documentMode||9<document.documentMode)}function Ip(){Ql&&(Ql.detachEvent("onpropertychange",Dp),Kl=Ql=null)}function Dp(t){if(t.propertyName==="value"&&Cu(Kl)){var n=[];xp(n,Kl,t,Hn(t)),Vs(dT,n)}}function mT(t,n,r){t==="focusin"?(Ip(),Ql=n,Kl=r,Ql.attachEvent("onpropertychange",Dp)):t==="focusout"&&Ip()}function pT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Kl)}function gT(t,n){if(t==="click")return Cu(n)}function yT(t,n){if(t==="input"||t==="change")return Cu(n)}function _T(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:_T;function Yl(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Ue.call(n,h)||!On(t[h],n[h]))return!1}return!0}function Op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mp(t,n){var r=Op(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Op(r)}}function Vp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ci(t.document)}return n}function Kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var vT=Fn&&"documentMode"in document&&11>=document.documentMode,Da=null,Yh=null,Xl=null,Xh=!1;function jp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xh||Da==null||Da!==Ci(l)||(l=Da,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Yl(Xl,l)||(Xl=l,l=yc(Yh,"onSelect"),0<l.length&&(n=new Oi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function Hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},$h={},Lp={};Fn&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Fr(t){if($h[t])return $h[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Lp)return $h[t]=n[r];return t}var Up=Fr("animationend"),Pp=Fr("animationiteration"),zp=Fr("animationstart"),bT=Fr("transitionrun"),TT=Fr("transitionstart"),ET=Fr("transitioncancel"),qp=Fr("transitionend"),Bp=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function fi(t,n){Bp.set(t,n),Ri(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],Ma=0,Jh=0;function Du(){for(var t=Ma,n=Jh=Ma=0;n<t;){var r=Qn[n];Qn[n++]=null;var l=Qn[n];Qn[n++]=null;var h=Qn[n];Qn[n++]=null;var f=Qn[n];if(Qn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Hp(r,h,f)}}function Ou(t,n,r,l){Qn[Ma++]=t,Qn[Ma++]=n,Qn[Ma++]=r,Qn[Ma++]=l,Jh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,n,r,l){return Ou(t,n,r,l),Mu(t)}function Gr(t,n){return Ou(t,null,null,n),Mu(t)}function Hp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-It(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Mu(t){if(50<_o)throw _o=0,ud=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function ST(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,r,l){return new ST(t,n,r,l)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,n){var r=t.alternate;return r===null?(r=Mn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Fp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,r,l,h,f){var _=0;if(l=t,typeof t=="function")ef(t)&&(_=1);else if(typeof t=="string")_=NE(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Mn(31,r,n,h),t.elementType=x,t.lanes=f,t;case te:return Qr(r.children,h,f,n);case ee:_=8,h|=24;break;case oe:return t=Mn(12,r,n,h|2),t.elementType=oe,t.lanes=f,t;case xe:return t=Mn(13,r,n,h),t.elementType=xe,t.lanes=f,t;case ge:return t=Mn(19,r,n,h),t.elementType=ge,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:_=10;break e;case $:_=9;break e;case Ie:_=11;break e;case N:_=14;break e;case S:_=16,l=null;break e}_=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Mn(_,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Qr(t,n,r,l){return t=Mn(7,t,l,n),t.lanes=r,t}function tf(t,n,r){return t=Mn(6,t,null,n),t.lanes=r,t}function Gp(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function nf(t,n,r){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qp=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var r=Qp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:st(n)},Qp.set(t,n),n)}return{value:t,source:n,stack:st(n)}}var ka=[],ja=0,ku=null,$l=0,Yn=[],Xn=0,Us=null,ji=1,Li="";function rs(t,n){ka[ja++]=$l,ka[ja++]=ku,ku=t,$l=n}function Kp(t,n,r){Yn[Xn++]=ji,Yn[Xn++]=Li,Yn[Xn++]=Us,Us=t;var l=ji;t=Li;var h=32-It(l)-1;l&=~(1<<h),r+=1;var f=32-It(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ji=1<<32-It(n)+h|r<<h|l,Li=f+t}else ji=1<<f|r<<h|l,Li=t}function sf(t){t.return!==null&&(rs(t,1),Kp(t,1,0))}function rf(t){for(;t===ku;)ku=ka[--ja],ka[ja]=null,$l=ka[--ja],ka[ja]=null;for(;t===Us;)Us=Yn[--Xn],Yn[Xn]=null,Li=Yn[--Xn],Yn[Xn]=null,ji=Yn[--Xn],Yn[Xn]=null}function Yp(t,n){Yn[Xn++]=ji,Yn[Xn++]=Li,Yn[Xn++]=Us,ji=n.id,Li=n.overflow,Us=t}var nn=null,pt=null,Ke=!1,Ps=null,$n=!1,af=Error(a(519));function zs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Kn(n,t)),af}function Xp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[jt]=t,n[Xt]=l,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(r=0;r<bo.length;r++)ze(bo[r],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),mu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Ds(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||f_(n.textContent,r)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||zs(t,!0)}function $p(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:nn=nn.return}}function La(t){if(t!==nn)return!1;if(!Ke)return $p(t),Ke=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ad(t.type,t.memoizedProps)),r=!r),r&&pt&&zs(t),$p(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=T_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=T_(t)}else n===27?(n=pt,er(t.type)?(t=Cd,Cd=null,pt=t):pt=n):pt=nn?Jn(t.stateNode.nextSibling):null;return!0}function Kr(){pt=nn=null,Ke=!1}function lf(){var t=Ps;return t!==null&&(An===null?An=t:An.push.apply(An,t),Ps=null),t}function Zl(t){Ps===null?Ps=[t]:Ps.push(t)}var of=M(null),Yr=null,as=null;function qs(t,n,r){ne(of,n._currentValue),n._currentValue=r}function ls(t){t._currentValue=of.current,K(of)}function uf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function cf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),uf(f.return,r,t),l||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),uf(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ua(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;On(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===qe.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&cf(n,t,r,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Yr=t,as=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Zp(Yr,t)}function Lu(t,n){return Yr===null&&Xr(t),Zp(t,n)}function Zp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},as===null){if(t===null)throw Error(a(308));as=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else as=as.next=n;return r}var AT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},wT=s.unstable_scheduleCallback,xT=s.unstable_NormalPriority,Pt={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new AT,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&wT(xT,function(){t.controller.abort()})}var Wl=null,ff=0,Pa=0,za=null;function RT(t,n){if(Wl===null){var r=Wl=[];ff=0,Pa=pd(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ff++,n.then(Jp,Jp),n}function Jp(){if(--ff===0&&Wl!==null){za!==null&&(za.status="fulfilled");var t=Wl;Wl=null,Pa=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function NT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Wp=j.S;j.S=function(t,n){jy=At(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RT(t,n),Wp!==null&&Wp(t,n)};var $r=M(null);function df(){var t=$r.current;return t!==null?t:ft.pooledCache}function Uu(t,n){n===null?ne($r,$r.current):ne($r,n.pool)}function eg(){var t=df();return t===null?null:{parent:Pt._currentValue,pool:t}}var qa=Error(a(460)),mf=Error(a(474)),Pu=Error(a(542)),zu={then:function(){}};function tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ng(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(li,li),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sg(t),t;default:if(typeof n.status=="string")n.then(li,li);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sg(t),t}throw Jr=n,qa}}function Zr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Jr=r,qa):r}}var Jr=null;function ig(){if(Jr===null)throw Error(a(459));var t=Jr;return Jr=null,t}function sg(t){if(t===qa||t===Pu)throw Error(a(483))}var Ba=null,eo=0;function qu(t){var n=eo;return eo+=1,Ba===null&&(Ba=[]),ng(Ba,t,n)}function to(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){function n(L,V){if(t){var P=L.deletions;P===null?(L.deletions=[V],L.flags|=16):P.push(V)}}function r(L,V){if(!t)return null;for(;V!==null;)n(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=ss(L,V),L.index=0,L.sibling=null,L}function f(L,V,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<V?(L.flags|=67108866,V):P):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,P,Y){return V===null||V.tag!==6?(V=tf(P,L.mode,Y),V.return=L,V):(V=h(V,P),V.return=L,V)}function C(L,V,P,Y){var pe=P.type;return pe===te?Q(L,V,P.props.children,Y,P.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Zr(pe)===V.type)?(V=h(V,P.props),to(V,P),V.return=L,V):(V=Vu(P.type,P.key,P.props,null,L.mode,Y),to(V,P),V.return=L,V)}function z(L,V,P,Y){return V===null||V.tag!==4||V.stateNode.containerInfo!==P.containerInfo||V.stateNode.implementation!==P.implementation?(V=nf(P,L.mode,Y),V.return=L,V):(V=h(V,P.children||[]),V.return=L,V)}function Q(L,V,P,Y,pe){return V===null||V.tag!==7?(V=Qr(P,L.mode,Y,pe),V.return=L,V):(V=h(V,P),V.return=L,V)}function X(L,V,P){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=tf(""+V,L.mode,P),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case q:return P=Vu(V.type,V.key,V.props,null,L.mode,P),to(P,V),P.return=L,P;case H:return V=nf(V,L.mode,P),V.return=L,V;case S:return V=Zr(V),X(L,V,P)}if(Le(V)||k(V))return V=Qr(V,L.mode,P,null),V.return=L,V;if(typeof V.then=="function")return X(L,qu(V),P);if(V.$$typeof===ce)return X(L,Lu(L,V),P);Bu(L,V)}return null}function B(L,V,P,Y){var pe=V!==null?V.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:T(L,V,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===pe?C(L,V,P,Y):null;case H:return P.key===pe?z(L,V,P,Y):null;case S:return P=Zr(P),B(L,V,P,Y)}if(Le(P)||k(P))return pe!==null?null:Q(L,V,P,Y,null);if(typeof P.then=="function")return B(L,V,qu(P),Y);if(P.$$typeof===ce)return B(L,V,Lu(L,P),Y);Bu(L,P)}return null}function G(L,V,P,Y,pe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(P)||null,T(V,L,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return L=L.get(Y.key===null?P:Y.key)||null,C(V,L,Y,pe);case H:return L=L.get(Y.key===null?P:Y.key)||null,z(V,L,Y,pe);case S:return Y=Zr(Y),G(L,V,P,Y,pe)}if(Le(Y)||k(Y))return L=L.get(P)||null,Q(V,L,Y,pe,null);if(typeof Y.then=="function")return G(L,V,P,qu(Y),pe);if(Y.$$typeof===ce)return G(L,V,P,Lu(V,Y),pe);Bu(V,Y)}return null}function he(L,V,P,Y){for(var pe=null,$e=null,de=V,ke=V=0,He=null;de!==null&&ke<P.length;ke++){de.index>ke?(He=de,de=null):He=de.sibling;var Ze=B(L,de,P[ke],Y);if(Ze===null){de===null&&(de=He);break}t&&de&&Ze.alternate===null&&n(L,de),V=f(Ze,V,ke),$e===null?pe=Ze:$e.sibling=Ze,$e=Ze,de=He}if(ke===P.length)return r(L,de),Ke&&rs(L,ke),pe;if(de===null){for(;ke<P.length;ke++)de=X(L,P[ke],Y),de!==null&&(V=f(de,V,ke),$e===null?pe=de:$e.sibling=de,$e=de);return Ke&&rs(L,ke),pe}for(de=l(de);ke<P.length;ke++)He=G(de,L,ke,P[ke],Y),He!==null&&(t&&He.alternate!==null&&de.delete(He.key===null?ke:He.key),V=f(He,V,ke),$e===null?pe=He:$e.sibling=He,$e=He);return t&&de.forEach(function(rr){return n(L,rr)}),Ke&&rs(L,ke),pe}function be(L,V,P,Y){if(P==null)throw Error(a(151));for(var pe=null,$e=null,de=V,ke=V=0,He=null,Ze=P.next();de!==null&&!Ze.done;ke++,Ze=P.next()){de.index>ke?(He=de,de=null):He=de.sibling;var rr=B(L,de,Ze.value,Y);if(rr===null){de===null&&(de=He);break}t&&de&&rr.alternate===null&&n(L,de),V=f(rr,V,ke),$e===null?pe=rr:$e.sibling=rr,$e=rr,de=He}if(Ze.done)return r(L,de),Ke&&rs(L,ke),pe;if(de===null){for(;!Ze.done;ke++,Ze=P.next())Ze=X(L,Ze.value,Y),Ze!==null&&(V=f(Ze,V,ke),$e===null?pe=Ze:$e.sibling=Ze,$e=Ze);return Ke&&rs(L,ke),pe}for(de=l(de);!Ze.done;ke++,Ze=P.next())Ze=G(de,L,ke,Ze.value,Y),Ze!==null&&(t&&Ze.alternate!==null&&de.delete(Ze.key===null?ke:Ze.key),V=f(Ze,V,ke),$e===null?pe=Ze:$e.sibling=Ze,$e=Ze);return t&&de.forEach(function(PE){return n(L,PE)}),Ke&&rs(L,ke),pe}function ht(L,V,P,Y){if(typeof P=="object"&&P!==null&&P.type===te&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var pe=P.key;V!==null;){if(V.key===pe){if(pe=P.type,pe===te){if(V.tag===7){r(L,V.sibling),Y=h(V,P.props.children),Y.return=L,L=Y;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Zr(pe)===V.type){r(L,V.sibling),Y=h(V,P.props),to(Y,P),Y.return=L,L=Y;break e}r(L,V);break}else n(L,V);V=V.sibling}P.type===te?(Y=Qr(P.props.children,L.mode,Y,P.key),Y.return=L,L=Y):(Y=Vu(P.type,P.key,P.props,null,L.mode,Y),to(Y,P),Y.return=L,L=Y)}return _(L);case H:e:{for(pe=P.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===P.containerInfo&&V.stateNode.implementation===P.implementation){r(L,V.sibling),Y=h(V,P.children||[]),Y.return=L,L=Y;break e}else{r(L,V);break}else n(L,V);V=V.sibling}Y=nf(P,L.mode,Y),Y.return=L,L=Y}return _(L);case S:return P=Zr(P),ht(L,V,P,Y)}if(Le(P))return he(L,V,P,Y);if(k(P)){if(pe=k(P),typeof pe!="function")throw Error(a(150));return P=pe.call(P),be(L,V,P,Y)}if(typeof P.then=="function")return ht(L,V,qu(P),Y);if(P.$$typeof===ce)return ht(L,V,Lu(L,P),Y);Bu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,V!==null&&V.tag===6?(r(L,V.sibling),Y=h(V,P),Y.return=L,L=Y):(r(L,V),Y=tf(P,L.mode,Y),Y.return=L,L=Y),_(L)):r(L,V)}return function(L,V,P,Y){try{eo=0;var pe=ht(L,V,P,Y);return Ba=null,pe}catch(de){if(de===qa||de===Pu)throw de;var $e=Mn(29,de,null,L.mode);return $e.lanes=Y,$e.return=L,$e}}}var Wr=rg(!0),ag=rg(!1),Bs=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Mu(t),Hp(t,null,r),n}return Ou(t,l,n,r),Mu(t)}function no(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cl(t,r)}}function yf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var _f=!1;function io(){if(_f){var t=za;if(t!==null)throw t}}function so(t,n,r,l){_f=!1;var h=t.updateQueue;Bs=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,_===null?f=z:_.next=z,_=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;_=0,Q=z=C=null,T=f;do{var B=T.lane&-536870913,G=B!==T.lane;if(G?(Be&B)===B:(l&B)===B){B!==0&&B===Pa&&(_f=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,be=T;B=n;var ht=r;switch(be.tag){case 1:if(he=be.payload,typeof he=="function"){X=he.call(ht,X,B);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=be.payload,B=typeof he=="function"?he.call(ht,X,B):he,B==null)break e;X=w({},X,B);break e;case 2:Bs=!0}}B=T.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=G,C=X):Q=Q.next=G,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Xs|=_,t.lanes=_,t.memoizedState=X}}function lg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function og(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)lg(r[t],n)}var Ha=M(null),Hu=M(0);function ug(t,n){t=gs,ne(Hu,t),ne(Ha,n),gs=t|n.baseLanes}function vf(){ne(Hu,gs),ne(Ha,Ha.current)}function bf(){gs=Hu.current,K(Ha),K(Hu)}var Vn=M(null),Zn=null;function Gs(t){var n=t.alternate;ne(Ot,Ot.current&1),ne(Vn,t),Zn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Zn=t)}function Tf(t){ne(Ot,Ot.current),ne(Vn,t),Zn===null&&(Zn=t)}function cg(t){t.tag===22?(ne(Ot,Ot.current),ne(Vn,t),Zn===null&&(Zn=t)):Qs()}function Qs(){ne(Ot,Ot.current),ne(Vn,Vn.current)}function kn(t){K(Vn),Zn===t&&(Zn=null),K(Ot)}var Ot=M(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Rd(r)||Nd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var os=0,Ve=null,ut=null,zt=null,Gu=!1,Fa=!1,ea=!1,Qu=0,ro=0,Ga=null,CT=0;function Rt(){throw Error(a(321))}function Ef(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!On(t[r],n[r]))return!1;return!0}function Sf(t,n,r,l,h,f){return os=f,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?Kg:Uf,ea=!1,f=r(l,h),ea=!1,Fa&&(f=fg(n,r,l,h)),hg(t),f}function hg(t){j.H=oo;var n=ut!==null&&ut.next!==null;if(os=0,zt=ut=Ve=null,Gu=!1,ro=0,Ga=null,n)throw Error(a(300));t===null||qt||(t=t.dependencies,t!==null&&ju(t)&&(qt=!0))}function fg(t,n,r,l){Ve=t;var h=0;do{if(Fa&&(Ga=null),ro=0,Fa=!1,25<=h)throw Error(a(301));if(h+=1,zt=ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=Yg,f=n(r,l)}while(Fa);return f}function IT(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?ao(n):n,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Ve.flags|=1024),n}function Af(){var t=Qu!==0;return Qu=0,t}function wf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function xf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}os=0,zt=ut=Ve=null,Fa=!1,ro=Qu=0,Ga=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ve.memoizedState=zt=t:zt=zt.next=t,zt}function Mt(){if(ut===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var n=zt===null?Ve.memoizedState:zt.next;if(n!==null)zt=n,ut=t;else{if(t===null)throw Ve.alternate===null?Error(a(467)):Error(a(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},zt===null?Ve.memoizedState=zt=t:zt=zt.next=t}return zt}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var n=ro;return ro+=1,Ga===null&&(Ga=[]),t=ng(Ga,t,n),n=Ve,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Kg:Uf),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===ce)return sn(t)}throw Error(a(438,String(t)))}function Rf(t){var n=null,r=Ve.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ku(),Ve.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=D;return n.index++,r}function us(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=Mt();return Nf(n,ut,t)}function Nf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,C=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Be&X)===X:(os&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Pa&&(Q=!0);else if((os&B)===B){z=z.next,B===Pa&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=X,_=f):C=C.next=X,Ve.lanes|=B,Xs|=B;X=z.action,ea&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=B,_=f):C=C.next=B,Ve.lanes|=X,Xs|=X;z=z.next}while(z!==null&&z!==n);if(C===null?_=f:C.next=T,!On(f,t.memoizedState)&&(qt=!0,Q&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var n=Mt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);On(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function dg(t,n,r){var l=Ve,h=Mt(),f=Ke;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var _=!On((ut||h).memoizedState,r);if(_&&(h.memoizedState=r,qt=!0),h=h.queue,Of(gg.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,Qa(9,{destroy:void 0},pg.bind(null,l,h,r,n),null),ft===null)throw Error(a(349));f||(os&127)!==0||mg(l,n,r)}return r}function mg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ve.updateQueue,n===null?(n=Ku(),Ve.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function pg(t,n,r,l){n.value=r,n.getSnapshot=l,yg(n)&&_g(t)}function gg(t,n,r){return r(function(){yg(n)&&_g(t)})}function yg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!On(t,r)}catch{return!0}}function _g(t){var n=Gr(t,2);n!==null&&wn(n,t,2)}function If(t){var n=_n();if(typeof t=="function"){var r=t;if(t=r(),ea){qn(!0);try{r()}finally{qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},n}function vg(t,n,r,l){return t.baseState=r,Nf(t,ut,typeof l=="function"?l:us)}function DT(t,n,r,l,h){if(Ju(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,bg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function bg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=j.T,_={};j.T=_;try{var T=r(h,l),C=j.S;C!==null&&C(_,T),Tg(t,n,T)}catch(z){Df(t,n,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),j.T=f}}else try{f=r(h,l),Tg(t,n,f)}catch(z){Df(t,n,z)}}function Tg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Eg(t,n,l)},function(l){return Df(t,n,l)}):Eg(t,n,r)}function Eg(t,n,r){n.status="fulfilled",n.value=r,Sg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,bg(t,r)))}function Df(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Sg(n),n=n.next;while(n!==l)}t.action=null}function Sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ag(t,n){return n}function wg(t,n){if(Ke){var r=ft.formState;if(r!==null){e:{var l=Ve;if(Ke){if(pt){t:{for(var h=pt,f=$n;h.nodeType!==8;){if(!f){h=null;break t}if(h=Jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=Jn(h.nextSibling),l=h.data==="F!";break e}}zs(l)}l=!1}l&&(n=r[0])}}return r=_n(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:n},r.queue=l,r=Fg.bind(null,Ve,l),l.dispatch=r,l=If(!1),f=Lf.bind(null,Ve,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=DT.bind(null,Ve,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function xg(t){var n=Mt();return Rg(n,ut,t)}function Rg(t,n,r){if(n=Nf(t,n,Ag)[0],t=Xu(us)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ao(n)}catch(_){throw _===qa?Pu:_}else l=n;n=Mt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ve.flags|=2048,Qa(9,{destroy:void 0},OT.bind(null,h,r),null)),[l,f,t]}function OT(t,n){t.action=n}function Ng(t){var n=Mt(),r=ut;if(r!==null)return Rg(n,r,t);Mt(),n=n.memoizedState,r=Mt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ve.updateQueue,n===null&&(n=Ku(),Ve.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Cg(){return Mt().memoizedState}function $u(t,n,r,l){var h=_n();Ve.flags|=t,h.memoizedState=Qa(1|n,{destroy:void 0},r,l===void 0?null:l)}function Zu(t,n,r,l){var h=Mt();l=l===void 0?null:l;var f=h.memoizedState.inst;ut!==null&&l!==null&&Ef(l,ut.memoizedState.deps)?h.memoizedState=Qa(n,f,r,l):(Ve.flags|=t,h.memoizedState=Qa(1|n,f,r,l))}function Ig(t,n){$u(8390656,8,t,n)}function Of(t,n){Zu(2048,8,t,n)}function MT(t){Ve.flags|=4;var n=Ve.updateQueue;if(n===null)n=Ku(),Ve.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Dg(t){var n=Mt().memoizedState;return MT({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Og(t,n){return Zu(4,2,t,n)}function Mg(t,n){return Zu(4,4,t,n)}function Vg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kg(t,n,r){r=r!=null?r.concat([t]):null,Zu(4,4,Vg.bind(null,n,t),r)}function Mf(){}function jg(t,n){var r=Mt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Lg(t,n){var r=Mt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),ea){qn(!0);try{t()}finally{qn(!1)}}return r.memoizedState=[l,n],l}function Vf(t,n,r){return r===void 0||(os&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Uy(),Ve.lanes|=t,Xs|=t,r)}function Ug(t,n,r,l){return On(r,n)?r:Ha.current!==null?(t=Vf(t,r,l),On(t,n)||(qt=!0),t):(os&42)===0||(os&1073741824)!==0&&(Be&261930)===0?(qt=!0,t.memoizedState=r):(t=Uy(),Ve.lanes|=t,Xs|=t,n)}function Pg(t,n,r,l,h){var f=W.p;W.p=f!==0&&8>f?f:8;var _=j.T,T={};j.T=T,Lf(t,!1,n,r);try{var C=h(),z=j.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=NT(C,l);lo(t,n,Q,Un(t))}else lo(t,n,l,Un(t))}catch(X){lo(t,n,{then:function(){},status:"rejected",reason:X},Un())}finally{W.p=f,_!==null&&T.types!==null&&(_.types=T.types),j.T=_}}function VT(){}function kf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=zg(t).queue;Pg(t,h,n,ue,r===null?VT:function(){return qg(t),r(l)})}function zg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ue},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qg(t){var n=zg(t);n.next===null&&(n=t.alternate.memoizedState),lo(t,n.next.queue,{},Un())}function jf(){return sn(wo)}function Bg(){return Mt().memoizedState}function Hg(){return Mt().memoizedState}function kT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Un();t=Hs(r);var l=Fs(n,t,r);l!==null&&(wn(l,n,r),no(l,n,r)),n={cache:hf()},t.payload=n;return}n=n.return}}function jT(t,n,r){var l=Un();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ju(t)?Gg(n,r):(r=Wh(t,n,r,l),r!==null&&(wn(r,t,l),Qg(r,n,l)))}function Fg(t,n,r){var l=Un();lo(t,n,r,l)}function lo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))Gg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,r);if(h.hasEagerState=!0,h.eagerState=T,On(T,_))return Ou(t,n,h,0),ft===null&&Du(),!1}catch{}if(r=Wh(t,n,h,l),r!==null)return wn(r,t,l),Qg(r,n,l),!0}return!1}function Lf(t,n,r,l){if(l={lane:2,revertLane:pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(a(479))}else n=Wh(t,r,l,2),n!==null&&wn(n,t,2)}function Ju(t){var n=t.alternate;return t===Ve||n!==null&&n===Ve}function Gg(t,n){Fa=Gu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Qg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cl(t,r)}}var oo={readContext:sn,use:Yu,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};oo.useEffectEvent=Rt;var Kg={readContext:sn,use:Yu,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:Ig,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,$u(4194308,4,Vg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var r=_n();n=n===void 0?null:n;var l=t();if(ea){qn(!0);try{t()}finally{qn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=_n();if(r!==void 0){var h=r(n);if(ea){qn(!0);try{r(n)}finally{qn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=jT.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,r=Fg.bind(null,Ve,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Mf,useDeferredValue:function(t,n){var r=_n();return Vf(r,t,n)},useTransition:function(){var t=If(!1);return t=Pg.bind(null,Ve,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ve,h=_n();if(Ke){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ft===null)throw Error(a(349));(Be&127)!==0||mg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ig(gg.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,{destroy:void 0},pg.bind(null,l,f,r,n),null),r},useId:function(){var t=_n(),n=ft.identifierPrefix;if(Ke){var r=Li,l=ji;r=(l&~(1<<32-It(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=CT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:jf,useFormState:wg,useActionState:wg,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Lf.bind(null,Ve,!0,r),r.dispatch=n,[t,n]},useMemoCache:Rf,useCacheRefresh:function(){return _n().memoizedState=kT.bind(null,Ve)},useEffectEvent:function(t){var n=_n(),r={impl:t};return n.memoizedState=r,function(){if((We&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Uf={readContext:sn,use:Yu,useCallback:jg,useContext:sn,useEffect:Of,useImperativeHandle:kg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Lg,useReducer:Xu,useRef:Cg,useState:function(){return Xu(us)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=Mt();return Ug(r,ut.memoizedState,t,n)},useTransition:function(){var t=Xu(us)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:dg,useId:Bg,useHostTransitionStatus:jf,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var r=Mt();return vg(r,ut,t,n)},useMemoCache:Rf,useCacheRefresh:Hg};Uf.useEffectEvent=Dg;var Yg={readContext:sn,use:Yu,useCallback:jg,useContext:sn,useEffect:Of,useImperativeHandle:kg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Lg,useReducer:Cf,useRef:Cg,useState:function(){return Cf(us)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=Mt();return ut===null?Vf(r,t,n):Ug(r,ut.memoizedState,t,n)},useTransition:function(){var t=Cf(us)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:dg,useId:Bg,useHostTransitionStatus:jf,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,n){var r=Mt();return ut!==null?vg(r,ut,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Hg};Yg.useEffectEvent=Dg;function Pf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Un(),h=Hs(l);h.payload=n,r!=null&&(h.callback=r),n=Fs(t,h,l),n!==null&&(wn(n,t,l),no(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Un(),h=Hs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Fs(t,h,l),n!==null&&(wn(n,t,l),no(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Un(),l=Hs(r);l.tag=2,n!=null&&(l.callback=n),n=Fs(t,l,r),n!==null&&(wn(n,t,r),no(n,t,r))}};function Xg(t,n,r,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Yl(r,l)||!Yl(h,f):!0}function $g(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&zf.enqueueReplaceState(n,n.state,null)}function ta(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Zg(t){Iu(t)}function Jg(t){console.error(t)}function Wg(t){Iu(t)}function Wu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ey(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(t,n,r){return r=Hs(r),r.tag=3,r.payload={element:null},r.callback=function(){Wu(t,n)},r}function ty(t){return t=Hs(t),t.tag=3,t}function ny(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ey(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ey(n,r,l),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function LT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ua(n,r,h,!0),r=Vn.current,r!==null){switch(r.tag){case 31:case 13:return Zn===null?hc():r.alternate===null&&Nt===0&&(Nt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===zu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),fd(t,l,h)),!1;case 22:return r.flags|=65536,l===zu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),fd(t,l,h)),!1}throw Error(a(435,r.tag))}return fd(t,l,h),hc(),!1}if(Ke)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==af&&(t=Error(a(422),{cause:l}),Zl(Kn(t,r)))):(l!==af&&(n=Error(a(423),{cause:l}),Zl(Kn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Kn(l,r),h=qf(t.stateNode,l,h),yf(t,h),Nt!==4&&(Nt=2)),!1;var f=Error(a(520),{cause:l});if(f=Kn(f,r),yo===null?yo=[f]:yo.push(f),Nt!==4&&(Nt=2),n===null)return!0;l=Kn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=qf(r.stateNode,l,t),yf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ty(h),ny(h,t,r,l),yf(r,h),!1}r=r.return}while(r!==null);return!1}var Bf=Error(a(461)),qt=!1;function rn(t,n,r,l){n.child=t===null?ag(n,null,r,l):Wr(n,t.child,r,l)}function iy(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Xr(n),l=Sf(t,n,r,_,f,h),T=Af(),t!==null&&!qt?(wf(t,n,h),cs(t,n,h)):(Ke&&T&&sf(n),n.flags|=1,rn(t,n,l,h),n.child)}function sy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ry(t,n,f,l,h)):(t=Vu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!$f(t,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yl,r(_,l)&&t.ref===n.ref)return cs(t,n,h)}return n.flags|=1,t=ss(f,l),t.ref=n.ref,t.return=n,n.child=t}function ry(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Yl(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,$f(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,cs(t,n,h)}return Hf(t,n,r,l,h)}function ay(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ly(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?ug(n,f):vf(),cg(n);else return l=n.lanes=536870912,ly(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Uu(n,f.cachePool),ug(n,f),Qs(),n.memoizedState=null):(t!==null&&Uu(n,null),vf(),Qs());return rn(t,n,h,r),n.child}function uo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ly(t,n,r,l,h){var f=df();return f=f===null?null:{parent:Pt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Uu(n,null),vf(),cg(n),t!==null&&Ua(t,n,l,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function oy(t,n,r){return Wr(n,t.child,null,r),t=ec(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function UT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=ec(n,l),n.lanes=536870912,uo(null,t);if(Tf(n),(t=pt)?(t=b_(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:ji,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Gp(t),r.return=n,n.child=r,nn=n,pt=null)):t=null,t===null)throw zs(n);return n.lanes=536870912,null}return ec(n,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=oy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||Ua(t,n,r,!1),h=(r&t.childLanes)!==0,qt||h){if(l=ft,l!==null&&(_=Il(l,r),_!==0&&_!==f.retryLane))throw f.retryLane=_,Gr(t,_),wn(l,t,_),Bf;hc(),n=oy(t,n,r)}else t=f.treeContext,pt=Jn(_.nextSibling),nn=n,Ke=!0,Ps=null,$n=!1,t!==null&&Yp(n,t),n=ec(n,l),n.flags|=4096;return n}return t=ss(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Hf(t,n,r,l,h){return Xr(n),r=Sf(t,n,r,l,void 0,h),l=Af(),t!==null&&!qt?(wf(t,n,h),cs(t,n,h)):(Ke&&l&&sf(n),n.flags|=1,rn(t,n,r,h),n.child)}function uy(t,n,r,l,h,f){return Xr(n),n.updateQueue=null,r=fg(n,l,r,h),hg(t),l=Af(),t!==null&&!qt?(wf(t,n,f),cs(t,n,f)):(Ke&&l&&sf(n),n.flags|=1,rn(t,n,r,f),n.child)}function cy(t,n,r,l,h){if(Xr(n),n.stateNode===null){var f=Va,_=r.contextType;typeof _=="object"&&_!==null&&(f=sn(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},pf(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?sn(_):Va,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Pf(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&zf.enqueueReplaceState(f,f.state,null),so(n,l,f,h),io(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=ta(r,T);f.props=C;var z=f.context,Q=r.contextType;_=Va,typeof Q=="object"&&Q!==null&&(_=sn(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==_)&&$g(n,f,l,_),Bs=!1;var B=n.memoizedState;f.state=B,so(n,l,f,h),io(),z=n.memoizedState,T||B!==z||Bs?(typeof X=="function"&&(Pf(n,r,X,l),z=n.memoizedState),(C=Bs||Xg(n,r,C,l,B,z,_))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,gf(t,n),_=n.memoizedProps,Q=ta(r,_),f.props=Q,X=n.pendingProps,B=f.context,z=r.contextType,C=Va,typeof z=="object"&&z!==null&&(C=sn(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==X||B!==C)&&$g(n,f,l,C),Bs=!1,B=n.memoizedState,f.state=B,so(n,l,f,h),io();var G=n.memoizedState;_!==X||B!==G||Bs||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof T=="function"&&(Pf(n,r,T,l),G=n.memoizedState),(Q=Bs||Xg(n,r,Q,l,B,G,C)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=C,l=Q):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,tc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Wr(n,t.child,null,h),n.child=Wr(n,null,r,h)):rn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=cs(t,n,h),t}function hy(t,n,r,l){return Kr(),n.flags|=256,rn(t,n,r,l),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:eg()}}function Qf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Ln),t}function fy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?Gs(n):Qs(),(t=pt)?(t=b_(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:ji,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Gp(t),r.return=n,n.child=r,nn=n,pt=null)):t=null,t===null)throw zs(n);return Nd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Qs(),h=n.mode,T=nc({mode:"hidden",children:T},h),l=Qr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Gf(r),l.childLanes=Qf(t,_,r),n.memoizedState=Ff,uo(null,l)):(Gs(n),Kf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Gs(n),n.flags&=-257,n=Yf(t,n,r)):n.memoizedState!==null?(Qs(),n.child=t.child,n.flags|=128,n=null):(Qs(),T=l.fallback,h=n.mode,l=nc({mode:"visible",children:l.children},h),T=Qr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Wr(n,t.child,null,r),l=n.child,l.memoizedState=Gf(r),l.childLanes=Qf(t,_,r),n.memoizedState=Ff,n=uo(null,l));else if(Gs(n),Nd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(a(419)),l.stack="",l.digest=_,Zl({value:l,source:null,stack:null}),n=Yf(t,n,r)}else if(qt||Ua(t,n,r,!1),_=(r&t.childLanes)!==0,qt||_){if(_=ft,_!==null&&(l=Il(_,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Gr(t,l),wn(_,t,l),Bf;Rd(T)||hc(),n=Yf(t,n,r)}else Rd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,pt=Jn(T.nextSibling),nn=n,Ke=!0,Ps=null,$n=!1,t!==null&&Yp(n,t),n=Kf(n,l.children),n.flags|=4096);return n}return h?(Qs(),T=l.fallback,h=n.mode,C=t.child,z=C.sibling,l=ss(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=ss(z,T):(T=Qr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,uo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Gf(r):(h=T.cachePool,h!==null?(C=Pt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=eg(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Qf(t,_,r),n.memoizedState=Ff,uo(t.child,l)):(Gs(n),r=t.child,t=r.sibling,r=ss(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function Kf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Yf(t,n,r){return Wr(n,t.child,null,r),t=Kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),uf(t.return,n,r)}function Xf(t,n,r,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=h,_.treeForkCount=f)}function my(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=Ot.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,ne(Ot,_),rn(t,n,l,r),l=Ke?$l:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,r,n);else if(t.tag===19)dy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Fu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Xf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Xf(n,!0,r,null,f,l);break;case"together":Xf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function cs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Xs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ua(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ss(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ss(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function $f(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function PT(t,n,r){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),qs(n,Pt,t.memoizedState.cache),Kr();break;case 27:case 5:_i(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:qs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?fy(t,n,r):(Gs(n),t=cs(t,n,r),t!==null?t.sibling:null);Gs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ua(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return my(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Ot,Ot.current),l)break;return null;case 22:return n.lanes=0,ay(t,n,r,n.pendingProps);case 24:qs(n,Pt,t.memoizedState.cache)}return cs(t,n,r)}function py(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!$f(t,r)&&(n.flags&128)===0)return qt=!1,PT(t,n,r);qt=(t.flags&131072)!==0}else qt=!1,Ke&&(n.flags&1048576)!==0&&Kp(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Zr(n.elementType),n.type=t,typeof t=="function")ef(t)?(l=ta(t,l),n.tag=1,n=cy(null,n,t,l,r)):(n.tag=0,n=Hf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ie){n.tag=11,n=iy(null,n,t,l,r);break e}else if(h===N){n.tag=14,n=sy(null,n,t,l,r);break e}}throw n=et(t)||t,Error(a(306,n,""))}}return n;case 0:return Hf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ta(l,n.pendingProps),cy(t,n,l,h,r);case 3:e:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,gf(t,n),so(n,l,null,r);var _=n.memoizedState;if(l=_.cache,qs(n,Pt,l),l!==f.cache&&cf(n,[Pt],r,!0),io(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hy(t,n,l,r);break e}else if(l!==h){h=Kn(Error(a(424)),n),Zl(h),n=hy(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=Jn(t.firstChild),nn=n,Ke=!0,Ps=null,$n=!0,r=ag(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Kr(),l===h){n=cs(t,n,r);break e}rn(t,n,l,r)}n=n.child}return n;case 26:return tc(t,n),t===null?(r=x_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ke||(r=n.type,t=n.pendingProps,l=_c(Oe.current).createElement(r),l[jt]=n,l[Xt]=t,an(l,r,t),Lt(l),n.stateNode=l):n.memoizedState=x_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return _i(n),t===null&&Ke&&(l=n.stateNode=S_(n.type,n.pendingProps,Oe.current),nn=n,$n=!0,h=pt,er(n.type)?(Cd=h,pt=Jn(l.firstChild)):pt=h),rn(t,n,n.pendingProps.children,r),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=l=pt)&&(l=pE(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,nn=n,pt=Jn(l.firstChild),$n=!1,h=!0):h=!1),h||zs(n)),_i(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Ad(h,f)?l=null:_!==null&&Ad(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Sf(t,n,IT,null,null,r),wo._currentValue=h),tc(t,n),rn(t,n,l,r),n.child;case 6:return t===null&&Ke&&((t=r=pt)&&(r=gE(r,n.pendingProps,$n),r!==null?(n.stateNode=r,nn=n,pt=null,t=!0):t=!1),t||zs(n)),null;case 13:return fy(t,n,r);case 4:return Ct(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Wr(n,null,l,r):rn(t,n,l,r),n.child;case 11:return iy(t,n,n.type,n.pendingProps,r);case 7:return rn(t,n,n.pendingProps,r),n.child;case 8:return rn(t,n,n.pendingProps.children,r),n.child;case 12:return rn(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,qs(n,n.type,l.value),rn(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Xr(n),h=sn(h),l=l(h),n.flags|=1,rn(t,n,l,r),n.child;case 14:return sy(t,n,n.type,n.pendingProps,r);case 15:return ry(t,n,n.type,n.pendingProps,r);case 19:return my(t,n,r);case 31:return UT(t,n,r);case 22:return ay(t,n,r,n.pendingProps);case 24:return Xr(n),l=sn(Pt),t===null?(h=df(),h===null&&(h=ft,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},pf(n),qs(n,Pt,h)):((t.lanes&r)!==0&&(gf(t,n),so(n,null,null,r),io()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),qs(n,Pt,l)):(l=f.cache,qs(n,Pt,l),l!==h.cache&&cf(n,[Pt],r,!0))),rn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function hs(t){t.flags|=4}function Zf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(By())t.flags|=8192;else throw Jr=zu,mf}else t.flags&=-16777217}function gy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D_(n))if(By())t.flags|=8192;else throw Jr=zu,mf}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uu():536870912,t.lanes|=n,$a|=n)}function co(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function zT(t,n,r){var l=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ls(Pt),it(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(La(n)?hs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lf())),gt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(hs(n),f!==null?(gt(n),gy(n,f)):(gt(n),Zf(n,h,null,l,r))):f?f!==t.memoizedState?(hs(n),gt(n),gy(n,f)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&hs(n),gt(n),Zf(n,h,t,l,r)),null;case 27:if($i(n),r=Oe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return gt(n),null}t=re.current,La(n)?Xp(n):(t=S_(h,l,r),n.stateNode=t,hs(n))}return gt(n),null;case 5:if($i(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return gt(n),null}if(f=re.current,La(n))Xp(n);else{var _=_c(Oe.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[jt]=n,f[Xt]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(an(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hs(n)}}return gt(n),Zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&hs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Oe.current,La(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||f_(t.nodeValue,r)),t||zs(n,!0)}else t=_c(t).createTextNode(l),t[jt]=n,n.stateNode=t}return gt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=La(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[jt]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else r=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return gt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[jt]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ic(n,n.updateQueue),gt(n),null);case 4:return it(),t===null&&vd(n.stateNode.containerInfo),gt(n),null;case 10:return ls(n.type),gt(n),null;case 19:if(K(Ot),l=n.memoizedState,l===null)return gt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)co(l,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,co(l,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Fp(r,t),r=r.sibling;return ne(Ot,Ot.current&1|2),Ke&&rs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&At()>oc&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),co(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ke)return gt(n),null}else 2*At()-l.renderingStartTime>oc&&r!==536870912&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=At(),t.sibling=null,r=Ot.current,ne(Ot,h?r&1|2:r&1),Ke&&rs(n,l.treeForkCount),t):(gt(n),null);case 22:case 23:return kn(n),bf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),r=n.updateQueue,r!==null&&ic(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&K($r),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ls(Pt),gt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function qT(t,n){switch(rf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ls(Pt),it(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return $i(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(a(340));Kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Ot),null;case 4:return it(),null;case 10:return ls(n.type),null;case 22:case 23:return kn(n),bf(),t!==null&&K($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ls(Pt),null;case 25:return null;default:return null}}function yy(t,n){switch(rf(n),n.tag){case 3:ls(Pt),it();break;case 26:case 27:case 5:$i(n);break;case 4:it();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:K(Ot);break;case 10:ls(n.type);break;case 22:case 23:kn(n),bf(),t!==null&&K($r);break;case 24:ls(Pt)}}function ho(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==h)}}catch(T){lt(n,n.return,T)}}function Ks(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var C=r,z=T;try{z()}catch(Q){lt(h,C,Q)}}}l=l.next}while(l!==f)}}catch(Q){lt(n,n.return,Q)}}function _y(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{og(n,r)}catch(l){lt(t,t.return,l)}}}function vy(t,n,r){r.props=ta(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){lt(t,n,l)}}function fo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){lt(t,n,h)}}function Ui(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){lt(t,n,h)}else r.current=null}function by(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){lt(t,t.return,h)}}function Jf(t,n,r){try{var l=t.stateNode;uE(l,t.type,r,n),l[Xt]=n}catch(h){lt(t,t.return,h)}}function Ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ed(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=li));else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ed(t,n,r),t=t.sibling;t!==null;)ed(t,n,r),t=t.sibling}function sc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(sc(t,n,r),t=t.sibling;t!==null;)sc(t,n,r),t=t.sibling}function Ey(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,l,r),n[jt]=t,n[Xt]=r}catch(f){lt(t,t.return,f)}}var fs=!1,Bt=!1,td=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function BT(t,n){if(t=t.containerInfo,Ed=wc,t=kp(t),Kh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var _=0,T=-1,C=-1,z=0,Q=0,X=t,B=null;t:for(;;){for(var G;X!==r||h!==0&&X.nodeType!==3||(T=_+h),X!==f||l!==0&&X.nodeType!==3||(C=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(G=X.firstChild)!==null;)B=X,X=G;for(;;){if(X===t)break t;if(B===r&&++z===h&&(T=_),B===f&&++Q===l&&(C=_),(G=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=G}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sd={focusedElem:t,selectionRange:r},wc=!1,Zt=n;Zt!==null;)if(n=Zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Zt=t;else for(;Zt!==null;){switch(n=Zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var he=ta(r.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){lt(r,r.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)xd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Zt=t;break}Zt=n.return}}function Ay(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ms(t,r),l&4&&ho(5,r);break;case 1:if(ms(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){lt(r,r.return,_)}else{var h=ta(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){lt(r,r.return,_)}}l&64&&_y(r),l&512&&fo(r,r.return);break;case 3:if(ms(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{og(t,n)}catch(_){lt(r,r.return,_)}}break;case 27:n===null&&l&4&&Ey(r);case 26:case 5:ms(t,r),n===null&&l&4&&by(r),l&512&&fo(r,r.return);break;case 12:ms(t,r);break;case 31:ms(t,r),l&4&&Ry(t,r);break;case 13:ms(t,r),l&4&&Ny(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ZT.bind(null,r),yE(t,r))));break;case 22:if(l=r.memoizedState!==null||fs,!l){n=n!==null&&n.memoizedState!==null||Bt,h=fs;var f=Bt;fs=l,(Bt=n)&&!f?ps(t,r,(r.subtreeFlags&8772)!==0):ms(t,r),fs=h,Bt=f}break;case 30:break;default:ms(t,r)}}function wy(t){var n=t.alternate;n!==null&&(t.alternate=null,wy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ba(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,Tn=!1;function ds(t,n,r){for(r=r.child;r!==null;)xy(t,n,r),r=r.sibling}function xy(t,n,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Cn,r)}catch{}switch(r.tag){case 26:Bt||Ui(r,n),ds(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Bt||Ui(r,n);var l=Tt,h=Tn;er(r.type)&&(Tt=r.stateNode,Tn=!1),ds(t,n,r),Eo(r.stateNode),Tt=l,Tn=h;break;case 5:Bt||Ui(r,n);case 6:if(l=Tt,h=Tn,Tt=null,ds(t,n,r),Tt=l,Tn=h,Tt!==null)if(Tn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(r.stateNode)}catch(f){lt(r,n,f)}else try{Tt.removeChild(r.stateNode)}catch(f){lt(r,n,f)}break;case 18:Tt!==null&&(Tn?(t=Tt,__(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),sl(t)):__(Tt,r.stateNode));break;case 4:l=Tt,h=Tn,Tt=r.stateNode.containerInfo,Tn=!0,ds(t,n,r),Tt=l,Tn=h;break;case 0:case 11:case 14:case 15:Ks(2,r,n),Bt||Ks(4,r,n),ds(t,n,r);break;case 1:Bt||(Ui(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&vy(r,n,l)),ds(t,n,r);break;case 21:ds(t,n,r);break;case 22:Bt=(l=Bt)||r.memoizedState!==null,ds(t,n,r),Bt=l;break;default:ds(t,n,r)}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(r){lt(n,n.return,r)}}}function Ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(r){lt(n,n.return,r)}}function HT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sy),n;default:throw Error(a(435,t.tag))}}function rc(t,n){var r=HT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=JT.bind(null,t,l);l.then(h,h)}})}function En(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(er(T.type)){Tt=T.stateNode,Tn=!1;break e}break;case 5:Tt=T.stateNode,Tn=!1;break e;case 3:case 4:Tt=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(Tt===null)throw Error(a(160));xy(f,_,h),Tt=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,t),n=n.sibling}var di=null;function Cy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),Sn(t),l&4&&(Ks(3,t,t.return),ho(3,t),Ks(5,t,t.return));break;case 1:En(n,t),Sn(t),l&512&&(Bt||r===null||Ui(r,r.return)),l&64&&fs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=di;if(En(n,t),Sn(t),l&512&&(Bt||r===null||Ui(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,l,r),f[jt]=t,Lt(f),l=f;break e;case"link":var _=C_("link","href",h).get(l+(r.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(l),an(f,l,r),h.head.appendChild(f);break;case"meta":if(_=C_("meta","content",h).get(l+(r.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(T,1);break t}}f=h.createElement(l),an(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[jt]=t,Lt(f),l=f}t.stateNode=l}else I_(h,t.type,t.stateNode);else t.stateNode=N_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?I_(h,t.type,t.stateNode):N_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,r.memoizedProps)}break;case 27:En(n,t),Sn(t),l&512&&(Bt||r===null||Ui(r,r.return)),r!==null&&l&4&&Jf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(En(n,t),Sn(t),l&512&&(Bt||r===null||Ui(r,r.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(he){lt(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(td=!0);break;case 6:if(En(n,t),Sn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){lt(t,t.return,he)}}break;case 3:if(Tc=null,h=di,di=vc(n.containerInfo),En(n,t),di=h,Sn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(he){lt(t,t.return,he)}td&&(td=!1,Iy(t));break;case 4:l=di,di=vc(t.stateNode.containerInfo),En(n,t),Sn(t),di=l;break;case 12:En(n,t),Sn(t);break;case 31:En(n,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 13:En(n,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(lc=At()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,z=fs,Q=Bt;if(fs=z||h,Bt=Q||C,En(n,t),Bt=Q,fs=z,Sn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||fs||Bt||na(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){lt(C,C.return,he)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){lt(C,C.return,he)}}}else if(n.tag===18){if(r===null){C=n;try{var G=C.stateNode;h?v_(G,!0):v_(C.stateNode,!1)}catch(he){lt(C,C.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,rc(t,r))));break;case 19:En(n,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 30:break;case 21:break;default:En(n,t),Sn(t)}}function Sn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ty(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Wf(t);sc(t,f,h);break;case 5:var _=r.stateNode;r.flags&32&&(bn(_,""),r.flags&=-33);var T=Wf(t);sc(t,T,_);break;case 3:case 4:var C=r.stateNode.containerInfo,z=Wf(t);ed(t,z,C);break;default:throw Error(a(161))}}catch(Q){lt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ms(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ay(t,n.alternate,n),n=n.sibling}function na(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),na(n);break;case 1:Ui(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&vy(n,n.return,r),na(n);break;case 27:Eo(n.stateNode);case 26:case 5:Ui(n,n.return),na(n);break;case 22:n.memoizedState===null&&na(n);break;case 30:na(n);break;default:na(n)}t=t.sibling}}function ps(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:ps(h,f,r),ho(4,f);break;case 1:if(ps(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){lt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)lg(C[h],T)}catch(z){lt(l,l.return,z)}}r&&_&64&&_y(f),fo(f,f.return);break;case 27:Ey(f);case 26:case 5:ps(h,f,r),r&&l===null&&_&4&&by(f),fo(f,f.return);break;case 12:ps(h,f,r);break;case 31:ps(h,f,r),r&&_&4&&Ry(h,f);break;case 13:ps(h,f,r),r&&_&4&&Ny(h,f);break;case 22:f.memoizedState===null&&ps(h,f,r),fo(f,f.return);break;case 30:break;default:ps(h,f,r)}n=n.sibling}}function nd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Jl(r))}function id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t))}function mi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(t,n,r,l),n=n.sibling}function Dy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,r,l),h&2048&&ho(9,n);break;case 1:mi(t,n,r,l);break;case 3:mi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t)));break;case 12:if(h&2048){mi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){lt(n,n.return,C)}}else mi(t,n,r,l);break;case 31:mi(t,n,r,l);break;case 13:mi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,r,l):mo(t,n):f._visibility&2?mi(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(_,n);break;case 24:mi(t,n,r,l),h&2048&&id(n.alternate,n);break;default:mi(t,n,r,l)}}function Ka(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,T=r,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(f,_,T,C,h),ho(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Ka(f,_,T,C,h):mo(f,_):(Q._visibility|=2,Ka(f,_,T,C,h)),h&&z&2048&&nd(_.alternate,_);break;case 24:Ka(f,_,T,C,h),h&&z&2048&&id(_.alternate,_);break;default:Ka(f,_,T,C,h)}n=n.sibling}}function mo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:mo(r,l),h&2048&&nd(l.alternate,l);break;case 24:mo(r,l),h&2048&&id(l.alternate,l);break;default:mo(r,l)}n=n.sibling}}var po=8192;function Ya(t,n,r){if(t.subtreeFlags&po)for(t=t.child;t!==null;)Oy(t,n,r),t=t.sibling}function Oy(t,n,r){switch(t.tag){case 26:Ya(t,n,r),t.flags&po&&t.memoizedState!==null&&CE(r,di,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,n,r);break;case 3:case 4:var l=di;di=vc(t.stateNode.containerInfo),Ya(t,n,r),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=po,po=16777216,Ya(t,n,r),po=l):Ya(t,n,r));break;default:Ya(t,n,r)}}function My(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function go(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Zt=l,ky(l,t)}My(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):go(t);break;default:go(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Zt=l,ky(l,t)}My(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),ac(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function ky(t,n){for(;Zt!==null;){var r=Zt;switch(r.tag){case 0:case 11:case 15:Ks(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Zt=l;else e:for(r=t;Zt!==null;){l=Zt;var h=l.sibling,f=l.return;if(wy(l),l===r){Zt=null;break e}if(h!==null){h.return=f,Zt=h;break e}Zt=f}}}var FT={getCacheForType:function(t){var n=sn(Pt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return sn(Pt).controller.signal}},GT=typeof WeakMap=="function"?WeakMap:Map,We=0,ft=null,Pe=null,Be=0,at=0,jn=null,Ys=!1,Xa=!1,sd=!1,gs=0,Nt=0,Xs=0,ia=0,rd=0,Ln=0,$a=0,yo=null,An=null,ad=!1,lc=0,jy=0,oc=1/0,uc=null,$s=null,Gt=0,Zs=null,Za=null,ys=0,ld=0,od=null,Ly=null,_o=0,ud=null;function Un(){return(We&2)!==0&&Be!==0?Be&-Be:j.T!==null?pd():cu()}function Uy(){if(Ln===0)if((Be&536870912)===0||Ke){var t=Ir;Ir<<=1,(Ir&3932160)===0&&(Ir=262144),Ln=t}else Ln=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Ln}function wn(t,n,r){(t===ft&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Js(t,Be,Ln,!1)),Dr(t,r),((We&2)===0||t!==ft)&&(t===ft&&((We&2)===0&&(ia|=r),Nt===4&&Js(t,Be,Ln,!1)),Pi(t))}function Py(t,n,r){if((We&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||si(t,n),h=l?YT(t,n):hd(t,n,!0),f=l;do{if(h===0){Xa&&!l&&Js(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!QT(r)){h=hd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=t;h=yo;var C=T.current.memoizedState.isDehydrated;if(C&&(Ja(T,_).flags|=256),_=hd(T,_,!1),_!==2){if(sd&&!C){T.errorRecoveryDisabledLanes|=f,ia|=f,h=4;break e}f=An,An=h,f!==null&&(An===null?An=f:An.push.apply(An,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),Js(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Js(l,n,Ln,!Ys);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=lc+300-At(),10<h)){if(Js(l,n,Ln,!Ys),Ti(l,0,!0)!==0)break e;ys=n,l.timeoutHandle=g_(zy.bind(null,l,r,An,uc,ad,n,Ln,ia,$a,Ys,f,"Throttled",-0,0),h);break e}zy(l,r,An,uc,ad,n,Ln,ia,$a,Ys,f,null,-0,0)}}break}while(!0);Pi(t)}function zy(t,n,r,l,h,f,_,T,C,z,Q,X,B,G){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},Oy(n,f,X);var he=(f&62914560)===f?lc-At():(f&4194048)===f?jy-At():0;if(he=IE(X,he),he!==null){ys=f,t.cancelPendingCommit=he(Yy.bind(null,t,n,f,r,l,h,_,T,C,Q,X,null,B,G)),Js(t,f,_,!z);return}}Yy(t,n,f,r,l,h,_,T,C)}function QT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Js(t,n,r,l){n&=~rd,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-It(h),_=1<<f;l[f]=-1,h&=~_}r!==0&&Or(t,r,n)}function cc(){return(We&6)===0?(vo(0),!1):!0}function cd(){if(Pe!==null){if(at===0)var t=Pe.return;else t=Pe,as=Yr=null,xf(t),Ba=null,eo=0,t=Pe;for(;t!==null;)yy(t.alternate,t),t=t.return;Pe=null}}function Ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,fE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ys=0,cd(),ft=t,Pe=r=ss(t.current,null),Be=n,at=0,jn=null,Ys=!1,Xa=si(t,n),sd=!1,$a=Ln=rd=ia=Xs=Nt=0,An=yo=null,ad=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-It(l),f=1<<h;n|=t[h],l&=~f}return gs=n,Du(),r}function qy(t,n){Ve=null,j.H=oo,n===qa||n===Pu?(n=ig(),at=3):n===mf?(n=ig(),at=4):at=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,Pe===null&&(Nt=1,Wu(t,Kn(n,t.current)))}function By(){var t=Vn.current;return t===null?!0:(Be&4194048)===Be?Zn===null:(Be&62914560)===Be||(Be&536870912)!==0?t===Zn:!1}function Hy(){var t=j.H;return j.H=oo,t===null?oo:t}function Fy(){var t=j.A;return j.A=FT,t}function hc(){Nt=4,Ys||(Be&4194048)!==Be&&Vn.current!==null||(Xa=!0),(Xs&134217727)===0&&(ia&134217727)===0||ft===null||Js(ft,Be,Ln,!1)}function hd(t,n,r){var l=We;We|=2;var h=Hy(),f=Fy();(ft!==t||Be!==n)&&(uc=null,Ja(t,n)),n=!1;var _=Nt;e:do try{if(at!==0&&Pe!==null){var T=Pe,C=jn;switch(at){case 8:cd(),_=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=at;if(at=0,jn=null,Wa(t,T,C,z),r&&Xa){_=0;break e}break;default:z=at,at=0,jn=null,Wa(t,T,C,z)}}KT(),_=Nt;break}catch(Q){qy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,as=Yr=null,We=l,j.H=h,j.A=f,Pe===null&&(ft=null,Be=0,Du()),_}function KT(){for(;Pe!==null;)Gy(Pe)}function YT(t,n){var r=We;We|=2;var l=Hy(),h=Fy();ft!==t||Be!==n?(uc=null,oc=At()+500,Ja(t,n)):Xa=si(t,n);e:do try{if(at!==0&&Pe!==null){n=Pe;var f=jn;t:switch(at){case 1:at=0,jn=null,Wa(t,n,f,1);break;case 2:case 9:if(tg(f)){at=0,jn=null,Qy(n);break}n=function(){at!==2&&at!==9||ft!==t||(at=7),Pi(t)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:tg(f)?(at=0,jn=null,Qy(n)):(at=0,jn=null,Wa(t,n,f,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var T=Pe;if(_?D_(_):T.stateNode.complete){at=0,jn=null;var C=T.sibling;if(C!==null)Pe=C;else{var z=T.return;z!==null?(Pe=z,fc(z)):Pe=null}break t}}at=0,jn=null,Wa(t,n,f,5);break;case 6:at=0,jn=null,Wa(t,n,f,6);break;case 8:cd(),Nt=6;break e;default:throw Error(a(462))}}XT();break}catch(Q){qy(t,Q)}while(!0);return as=Yr=null,j.H=l,j.A=h,We=r,Pe!==null?0:(ft=null,Be=0,Du(),Nt)}function XT(){for(;Pe!==null&&!je();)Gy(Pe)}function Gy(t){var n=py(t.alternate,t,gs);t.memoizedProps=t.pendingProps,n===null?fc(t):Pe=n}function Qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=uy(r,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=uy(r,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:xf(n);default:yy(r,n),n=Pe=Fp(n,gs),n=py(r,n,gs)}t.memoizedProps=t.pendingProps,n===null?fc(t):Pe=n}function Wa(t,n,r,l){as=Yr=null,xf(n),Ba=null,eo=0;var h=n.return;try{if(LT(t,h,n,r,Be)){Nt=1,Wu(t,Kn(r,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;Nt=1,Wu(t,Kn(r,t.current)),Pe=null;return}n.flags&32768?(Ke||l===1?t=!0:Xa||(Be&536870912)!==0?t=!1:(Ys=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ky(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){Ky(n,Ys);return}t=n.return;var r=zT(n.alternate,n,gs);if(r!==null){Pe=r;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=t}while(n!==null);Nt===0&&(Nt=5)}function Ky(t,n){do{var r=qT(t.alternate,t);if(r!==null){r.flags&=32767,Pe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=r}while(t!==null);Nt=6,Pe=null}function Yy(t,n,r,l,h,f,_,T,C){t.cancelPendingCommit=null;do dc();while(Gt!==0);if((We&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Jh,Hh(t,r,f,_,T,C),t===ft&&(Pe=ft=null,Be=0),Za=n,Zs=t,ys=r,ld=f,od=h,Ly=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WT(xt,function(){return Wy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,h=W.p,W.p=2,_=We,We|=4;try{BT(t,n,r)}finally{We=_,W.p=h,j.T=l}}Gt=1,Xy(),$y(),Zy()}}function Xy(){if(Gt===1){Gt=0;var t=Zs,n=Za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=W.p;W.p=2;var h=We;We|=4;try{Cy(n,t);var f=Sd,_=kp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Vp(T.ownerDocument.documentElement,T)){if(C!==null&&Kh(T)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var G=B.getSelection(),he=T.textContent.length,be=Math.min(C.start,he),ht=C.end===void 0?be:Math.min(C.end,he);!G.extend&&be>ht&&(_=ht,ht=be,be=_);var L=Mp(T,be),V=Mp(T,ht);if(L&&V&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var P=X.createRange();P.setStart(L.node,L.offset),G.removeAllRanges(),be>ht?(G.addRange(P),G.extend(V.node,V.offset)):(P.setEnd(V.node,V.offset),G.addRange(P))}}}}for(X=[],G=T;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}wc=!!Ed,Sd=Ed=null}finally{We=h,W.p=l,j.T=r}}t.current=n,Gt=2}}function $y(){if(Gt===2){Gt=0;var t=Zs,n=Za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=W.p;W.p=2;var h=We;We|=4;try{Ay(t,n.alternate,n)}finally{We=h,W.p=l,j.T=r}}Gt=3}}function Zy(){if(Gt===4||Gt===3){Gt=0,St();var t=Zs,n=Za,r=ys,l=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Gt=5:(Gt=0,Za=Zs=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),es(r),n=n.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Cn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,h=W.p,W.p=2,j.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{j.T=n,W.p=h}}(ys&3)!==0&&dc(),Pi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ud?_o++:(_o=0,ud=t):_o=0,vo(0)}}function Jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Jl(n)))}function dc(){return Xy(),$y(),Zy(),Wy()}function Wy(){if(Gt!==5)return!1;var t=Zs,n=ld;ld=0;var r=es(ys),l=j.T,h=W.p;try{W.p=32>r?32:r,j.T=null,r=od,od=null;var f=Zs,_=ys;if(Gt=0,Za=Zs=null,ys=0,(We&6)!==0)throw Error(a(331));var T=We;if(We|=4,Vy(f.current),Dy(f,f.current,_,r),We=T,vo(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Cn,f)}catch{}return!0}finally{W.p=h,j.T=l,Jy(t,n)}}function e_(t,n,r){n=Kn(r,n),n=qf(t.stateNode,n,2),t=Fs(t,n,2),t!==null&&(Dr(t,2),Pi(t))}function lt(t,n,r){if(t.tag===3)e_(t,t,r);else for(;n!==null;){if(n.tag===3){e_(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($s===null||!$s.has(l))){t=Kn(r,t),r=ty(2),l=Fs(n,r,2),l!==null&&(ny(r,l,n,t),Dr(l,2),Pi(l));break}}n=n.return}}function fd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new GT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(sd=!0,h.add(r),t=$T.bind(null,t,n,r),n.then(t,t))}function $T(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ft===t&&(Be&r)===r&&(Nt===4||Nt===3&&(Be&62914560)===Be&&300>At()-lc?(We&2)===0&&Ja(t,0):rd|=r,$a===Be&&($a=0)),Pi(t)}function t_(t,n){n===0&&(n=uu()),t=Gr(t,n),t!==null&&(Dr(t,n),Pi(t))}function ZT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),t_(t,r)}function JT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),t_(t,r)}function WT(t,n){return Se(t,n)}var mc=null,el=null,dd=!1,pc=!1,md=!1,Ws=0;function Pi(t){t!==el&&t.next===null&&(el===null?mc=el=t:el=el.next=t),pc=!0,dd||(dd=!0,tE())}function vo(t,n){if(!md&&pc){md=!0;do for(var r=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-It(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,r_(l,f))}else f=Be,f=Ti(l,l===ft?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||si(l,f)||(r=!0,r_(l,f));l=l.next}while(r);md=!1}}function eE(){n_()}function n_(){pc=dd=!1;var t=0;Ws!==0&&hE()&&(t=Ws);for(var n=At(),r=null,l=mc;l!==null;){var h=l.next,f=i_(l,n);f===0?(l.next=null,r===null?mc=h:r.next=h,h===null&&(el=r)):(r=l,(t!==0||(f&3)!==0)&&(pc=!0)),l=h}Gt!==0&&Gt!==5||vo(t),Ws!==0&&(Ws=0)}function i_(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-It(f),T=1<<_,C=h[_];C===-1?((T&r)===0||(T&l)!==0)&&(h[_]=Bh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=ft,r=Be,r=Ti(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ae(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||si(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ae(l),es(r)){case 2:case 8:r=Ji;break;case 32:r=xt;break;case 268435456:r=Wi;break;default:r=xt}return l=s_.bind(null,t),r=Se(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ae(l),t.callbackPriority=2,t.callbackNode=null,2}function s_(t,n){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(dc()&&t.callbackNode!==r)return null;var l=Be;return l=Ti(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Py(t,l,n),i_(t,At()),t.callbackNode!=null&&t.callbackNode===r?s_.bind(null,t):null)}function r_(t,n){if(dc())return null;Py(t,n,!0)}function tE(){dE(function(){(We&6)!==0?Se(ni,eE):n_()})}function pd(){if(Ws===0){var t=Pa;t===0&&(t=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Ws=t}return Ws}function a_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function l_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function nE(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=a_((h[Xt]||null).action),_=l.submitter;_&&(n=(n=_[Xt]||null)?a_(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new Oi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ws!==0){var C=_?l_(h,_):new FormData(h);kf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=_?l_(h,_):new FormData(h),kf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var gd=0;gd<Zh.length;gd++){var yd=Zh[gd],iE=yd.toLowerCase(),sE=yd[0].toUpperCase()+yd.slice(1);fi(iE,"on"+sE)}fi(Up,"onAnimationEnd"),fi(Pp,"onAnimationIteration"),fi(zp,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(bT,"onTransitionRun"),fi(TT,"onTransitionStart"),fi(ET,"onTransitionCancel"),fi(qp,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function o_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=C}}}}function ze(t,n){var r=n[va];r===void 0&&(r=n[va]=new Set);var l=t+"__bubble";r.has(l)||(u_(n,t,2,!1),r.add(l))}function _d(t,n,r){var l=0;n&&(l|=4),u_(r,t,l,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[gc]){t[gc]=!0,Dl.forEach(function(r){r!=="selectionchange"&&(rE.has(r)||_d(r,!1,t),_d(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,_d("selectionchange",!1,n))}}function u_(t,n,r,l){switch(U_(n)){case 2:var h=ME;break;case 8:h=VE;break;default:h=Vd}r=h.bind(null,n,r,t),h=void 0,!Lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function bd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=wi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue e}T=T.parentNode}}l=l.return}Vs(function(){var z=f,Q=Hn(r),X=[];e:{var B=Bp.get(t);if(B!==void 0){var G=Oi,he=t;switch(t){case"keypress":if(Pr(r)===0)break e;case"keydown":case"keyup":G=Ru;break;case"focusin":he="focus",G=qr;break;case"focusout":he="blur",G=qr;break;case"beforeblur":case"afterblur":G=qr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Up:case Pp:case zp:G=bu;break;case qp:G=A;break;case"scroll":case"scrollend":G=Hl;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=is;break;case"toggle":case"beforetoggle":G=Me}var be=(n&4)!==0,ht=!be&&(t==="scroll"||t==="scrollend"),L=be?B!==null?B+"Capture":null:B;be=[];for(var V=z,P;V!==null;){var Y=V;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||L===null||(Y=oi(V,L),Y!=null&&be.push(To(V,Y,P))),ht)break;V=V.return}0<be.length&&(B=new G(B,he,null,r,Q),X.push({event:B,listeners:be}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&r!==zl&&(he=r.relatedTarget||r.fromElement)&&(wi(he)||he[Si]))break e;if((G||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,G?(he=r.relatedTarget||r.toElement,G=z,he=he?wi(he):null,he!==null&&(ht=c(he),be=he.tag,he!==ht||be!==5&&be!==27&&be!==6)&&(he=null)):(G=null,he=z),G!==he)){if(be=Fl,Y="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(be=is,Y="onPointerLeave",L="onPointerEnter",V="pointer"),ht=G==null?B:In(G),P=he==null?B:In(he),B=new be(Y,V+"leave",G,r,Q),B.target=ht,B.relatedTarget=P,Y=null,wi(Q)===z&&(be=new be(L,V+"enter",he,r,Q),be.target=P,be.relatedTarget=ht,Y=be),ht=Y,G&&he)t:{for(be=aE,L=G,V=he,P=0,Y=L;Y;Y=be(Y))P++;Y=0;for(var pe=V;pe;pe=be(pe))Y++;for(;0<P-Y;)L=be(L),P--;for(;0<Y-P;)V=be(V),Y--;for(;P--;){if(L===V||V!==null&&L===V.alternate){be=L;break t}L=be(L),V=be(V)}be=null}else be=null;G!==null&&c_(X,B,G,be,!1),he!==null&&ht!==null&&c_(X,ht,he,be,!0)}}e:{if(B=z?In(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var $e=Rp;else if(wp(B))if(Np)$e=yT;else{$e=pT;var de=mT}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Sa(z.elementType)&&($e=Rp):$e=gT;if($e&&($e=$e(t,z))){xp(X,$e,r,Q);break e}de&&de(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ll(B,"number",B.value)}switch(de=z?In(z):window,t){case"focusin":(wp(de)||de.contentEditable==="true")&&(Da=de,Yh=z,Xl=null);break;case"focusout":Xl=Yh=Da=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,jp(X,r,Q);break;case"selectionchange":if(vT)break;case"keydown":case"keyup":jp(X,r,Q)}var ke;if(Je)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ia?Br(t,r)&&(He="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(He="onCompositionStart");He&&(ki&&r.locale!=="ko"&&(Ia||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ia&&(ke=Bl()):(Di=Q,ql="value"in Di?Di.value:Di.textContent,Ia=!0)),de=yc(z,He),0<de.length&&(He=new Vi(He,t,null,r,Q),X.push({event:He,listeners:de}),ke?He.data=ke:(ke=Ca(r),ke!==null&&(He.data=ke)))),(ke=Gn?cT(t,r):hT(t,r))&&(He=yc(z,"onBeforeInput"),0<He.length&&(de=new Vi("onBeforeInput","beforeinput",null,r,Q),X.push({event:de,listeners:He}),de.data=ke)),nE(X,t,z,r,Q)}o_(X,n)})}function To(t,n,r){return{instance:t,listener:n,currentTarget:r}}function yc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(t,r),h!=null&&l.unshift(To(t,h,f)),h=oi(t,n),h!=null&&l.push(To(t,h,f))),t.tag===3)return l;t=t.return}return[]}function aE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function c_(t,n,r,l,h){for(var f=n._reactName,_=[];r!==null&&r!==l;){var T=r,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=oi(r,f),z!=null&&_.unshift(To(r,z,C))):h||(z=oi(r,f),z!=null&&_.push(To(r,z,C)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var lE=/\r\n?/g,oE=/\u0000|\uFFFD/g;function h_(t){return(typeof t=="string"?t:""+t).replace(lE,`
`).replace(oE,"")}function f_(t,n){return n=h_(n),h_(t)===n}function ct(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,r,l);break;case"style":Pl(t,l,f);break;case"data":if(n!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ct(t,n,"name",h.name,h,null),ct(t,n,"formEncType",h.formEncType,h,null),ct(t,n,"formMethod",h.formMethod,h,null),ct(t,n,"formTarget",h.formTarget,h,null)):(ct(t,n,"encType",h.encType,h,null),ct(t,n,"method",h.method,h,null),ct(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=li);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yu.get(r)||r,Ta(t,r,l))}}function Td(t,n,r,l,h,f){switch(r){case"style":Pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Xt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ta(t,r,l)}}}function an(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(t,n,f,_,r,null)}}h&&ct(t,n,"srcSet",r.srcSet,r,null),l&&ct(t,n,"src",r.src,r,null);return;case"input":ze("invalid",t);var T=f=_=h=null,C=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ct(t,n,l,Q,r,null)}}mu(t,f,T,C,z,_,h,!1);return;case"select":ze("invalid",t),l=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ct(t,n,h,T,r,null)}n=f,r=_,t.multiple=!!l,n!=null?Is(t,!!l,n,!1):r!=null&&Is(t,!!l,r,!0);return;case"textarea":ze("invalid",t),f=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(T=r[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ct(t,n,_,T,r,null)}Ds(t,l,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(t,n,C,l,r,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<bo.length;l++)ze(bo[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(t,n,z,l,r,null)}return;default:if(Sa(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&Td(t,n,Q,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&ct(t,n,T,l,r,null))}function uE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,C=null,z=null,Q=null;for(G in r){var X=r[G];if(r.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(G)||ct(t,n,G,null,l,X)}}for(var B in l){var G=l[B];if(X=r[B],l.hasOwnProperty(B)&&(G!=null||X!=null))switch(B){case"type":f=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==X&&ct(t,n,B,G,l,X)}}Ea(t,_,T,C,z,Q,f,h);return;case"select":G=_=T=B=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(f)||ct(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==C&&ct(t,n,h,f,l,C)}n=T,r=_,l=G,B!=null?Is(t,!!r,B,!1):!!l!=!!r&&(n!=null?Is(t,!!r,n,!0):Is(t,!!r,r?[]:"",!1));return;case"textarea":G=B=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ct(t,n,T,null,l,h)}for(_ in l)if(h=l[_],f=r[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ct(t,n,_,h,l,f)}pu(t,B,G);return;case"option":for(var he in r)if(B=r[he],r.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:ct(t,n,he,null,l,B)}for(C in l)if(B=l[C],G=r[C],l.hasOwnProperty(C)&&B!==G&&(B!=null||G!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ct(t,n,C,B,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in r)B=r[be],r.hasOwnProperty(be)&&B!=null&&!l.hasOwnProperty(be)&&ct(t,n,be,null,l,B);for(z in l)if(B=l[z],G=r[z],l.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ct(t,n,z,B,l,G)}return;default:if(Sa(n)){for(var ht in r)B=r[ht],r.hasOwnProperty(ht)&&B!==void 0&&!l.hasOwnProperty(ht)&&Td(t,n,ht,void 0,l,B);for(Q in l)B=l[Q],G=r[Q],!l.hasOwnProperty(Q)||B===G||B===void 0&&G===void 0||Td(t,n,Q,B,l,G);return}}for(var L in r)B=r[L],r.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&ct(t,n,L,null,l,B);for(X in l)B=l[X],G=r[X],!l.hasOwnProperty(X)||B===G||B==null&&G==null||ct(t,n,X,B,l,G)}function d_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&d_(_)){for(_=0,T=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],z=C.startTime;if(z>T)break;var Q=C.transferSize,X=C.initiatorType;Q&&d_(X)&&(C=C.responseEnd,_+=Q*(C<T?1:(T-z)/(C-z)))}if(--l,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Sd=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function m_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ad(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function hE(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(t){return y_.resolve(null).then(t).catch(mE)}:g_;function mE(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function __(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Eo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Eo(r);for(var f=r.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[Ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=_}}else r==="body"&&Eo(t.ownerDocument.body);r=h}while(r);sl(n)}function v_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":xd(r),ba(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function pE(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function gE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Jn(t.nextSibling),t===null))return null;return t}function b_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jn(t.nextSibling),t===null))return null;return t}function Rd(t){return t.data==="$?"||t.data==="$~"}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yE(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cd=null;function T_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Jn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function E_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function S_(t,n,r){switch(n=_c(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Eo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ba(t)}var Wn=new Map,A_=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _s=W.d;W.d={f:_E,r:vE,D:bE,C:TE,L:EE,m:SE,X:wE,S:AE,M:xE};function _E(){var t=_s.f(),n=cc();return t||n}function vE(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?qg(n):_s.r(t)}var tl=typeof document>"u"?null:document;function w_(t,n,r){var l=tl;if(l&&typeof n=="string"&&n){var h=vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),A_.has(h)||(A_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),an(n,"link",t),Lt(n),l.head.appendChild(n)))}}function bE(t){_s.D(t),w_("dns-prefetch",t,null)}function TE(t,n){_s.C(t,n),w_("preconnect",t,n)}function EE(t,n,r){_s.L(t,n,r);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+vn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+vn(r.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}Wn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Wn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(So(f))||n==="script"&&l.querySelector(Ao(f))||(n=l.createElement("link"),an(n,"link",t),Lt(n),l.head.appendChild(n)))}}function SE(t,n){_s.m(t,n);var r=tl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!Wn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Wn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ao(f)))return}l=r.createElement("link"),an(l,"link",t),Lt(l),r.head.appendChild(l)}}}function AE(t,n,r){_s.S(t,n,r);var l=tl;if(l&&t){var h=xi(l).hoistableStyles,f=nl(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(So(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Wn.get(f))&&Id(t,r);var C=_=l.createElement("link");Lt(C),an(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function wE(t,n){_s.X(t,n);var r=tl;if(r&&t){var l=xi(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(Ao(h)),f||(t=w({src:t,async:!0},n),(n=Wn.get(h))&&Dd(t,n),f=r.createElement("script"),Lt(f),an(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function xE(t,n){_s.M(t,n);var r=tl;if(r&&t){var l=xi(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(Ao(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Wn.get(h))&&Dd(t,n),f=r.createElement("script"),Lt(f),an(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function x_(t,n,r,l){var h=(h=Oe.current)?vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=nl(r.href),r=xi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=nl(r.href);var f=xi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(So(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Wn.set(t,r),f||RE(h,t,r,_.state))),n&&l===null)throw Error(a(528,""));return _}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=xi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+vn(t)+'"'}function So(t){return'link[rel="stylesheet"]['+t+"]"}function R_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function RE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),an(n,"link",r),Lt(n),t.head.appendChild(n))}function il(t){return'[src="'+vn(t)+'"]'}function Ao(t){return"script[async]"+t}function N_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+vn(r.href)+'"]');if(l)return n.instance=l,Lt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),an(l,"style",h),bc(l,r.precedence,t),n.instance=l;case"stylesheet":h=nl(r.href);var f=t.querySelector(So(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;l=R_(r),(h=Wn.get(h))&&Id(l,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var _=f;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),an(f,"link",l),n.state.loading|=4,bc(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(h=t.querySelector(Ao(f)))?(n.instance=h,Lt(h),h):(l=r,(h=Wn.get(f))&&(l=w({},r),Dd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),an(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,r.precedence,t));return n.instance}function bc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tc=null;function C_(t,n,r){if(Tc===null){var l=new Map,h=Tc=new Map;h.set(r,l)}else h=Tc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ai]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function I_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function NE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function CE(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=nl(l.href),f=n.querySelector(So(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Lt(f);return}f=n.ownerDocument||n,l=R_(l),(h=Wn.get(h))&&Id(l,h),f=f.createElement("link"),Lt(f);var _=f;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),an(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ec.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Od=0;function IE(t,n){return t.stylesheets&&t.count===0&&Ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Od===0&&(Od=62500*cE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Od?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function Ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,n.forEach(DE,t),Sc=null,Ec.call(t))}function DE(t,n){if(!(n.state.loading&4)){var r=Sc.get(t);if(r)var l=r.get(null);else{r=new Map,Sc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,h),r.set(_,h),this.count++,l=Ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wo={$$typeof:ce,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function OE(t,n,r,l,h,f,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function O_(t,n,r,l,h,f,_,T,C,z,Q,X){return t=new OE(t,n,r,_,C,z,Q,X,T),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=hf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},pf(f),t}function M_(t){return t?(t=Va,t):Va}function V_(t,n,r,l,h,f){h=M_(h),l.context===null?l.context=h:l.pendingContext=h,l=Hs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Fs(t,l,n),r!==null&&(wn(r,t,n),no(r,t,n))}function k_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Md(t,n){k_(t,n),(t=t.alternate)&&k_(t,n)}function j_(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&wn(n,t,67108864),Md(t,67108864)}}function L_(t){if(t.tag===13||t.tag===31){var n=Un();n=Mr(n);var r=Gr(t,n);r!==null&&wn(r,t,n),Md(t,n)}}var wc=!0;function ME(t,n,r,l){var h=j.T;j.T=null;var f=W.p;try{W.p=2,Vd(t,n,r,l)}finally{W.p=f,j.T=h}}function VE(t,n,r,l){var h=j.T;j.T=null;var f=W.p;try{W.p=8,Vd(t,n,r,l)}finally{W.p=f,j.T=h}}function Vd(t,n,r,l){if(wc){var h=kd(l);if(h===null)bd(t,n,l,xc,r),P_(t,l);else if(jE(h,t,n,r,l))l.stopPropagation();else if(P_(t,l),n&4&&-1<kE.indexOf(t)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=bi(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-It(_);T.entanglements[1]|=C,_&=~C}Pi(f),(We&6)===0&&(oc=At()+500,vo(0))}}break;case 31:case 13:T=Gr(f,2),T!==null&&wn(T,f,2),cc(),Md(f,2)}if(f=kd(l),f===null&&bd(t,n,l,xc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else bd(t,n,l,null,r)}}function kd(t){return t=Hn(t),jd(t)}var xc=null;function jd(t){if(xc=null,t=wi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function U_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zn()){case ni:return 2;case Ji:return 8;case xt:case gn:return 32;case Wi:return 268435456;default:return 32}default:return 32}}var Ld=!1,tr=null,nr=null,ir=null,xo=new Map,Ro=new Map,sr=[],kE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(t,n){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":xo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(n.pointerId)}}function No(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&j_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function jE(t,n,r,l,h){switch(n){case"focusin":return tr=No(tr,t,n,r,l,h),!0;case"dragenter":return nr=No(nr,t,n,r,l,h),!0;case"mouseover":return ir=No(ir,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return xo.set(f,No(xo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ro.set(f,No(Ro.get(f)||null,t,n,r,l,h)),!0}return!1}function z_(t){var n=wi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ri(t.priority,function(){L_(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,ri(t.priority,function(){L_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=kd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);zl=l,r.target.dispatchEvent(l),zl=null}else return n=Bn(r),n!==null&&j_(n),t.blockedOn=r,!1;n.shift()}return!0}function q_(t,n,r){Rc(t)&&r.delete(n)}function LE(){Ld=!1,tr!==null&&Rc(tr)&&(tr=null),nr!==null&&Rc(nr)&&(nr=null),ir!==null&&Rc(ir)&&(ir=null),xo.forEach(q_),Ro.forEach(q_)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ld||(Ld=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,LE)))}var Cc=null;function B_(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(jd(l||r)===null)continue;break}var f=Bn(r);f!==null&&(t.splice(n,3),n-=3,kf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function sl(t){function n(C){return Nc(C,t)}tr!==null&&Nc(tr,t),nr!==null&&Nc(nr,t),ir!==null&&Nc(ir,t),xo.forEach(n),Ro.forEach(n);for(var r=0;r<sr.length;r++){var l=sr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)z_(r),r.blockedOn===null&&sr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],_=h[Xt]||null;if(typeof f=="function")_||B_(r);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Xt]||null)T=_.formAction;else if(jd(h)!==null)continue}else T=_.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),B_(r)}}}function H_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ud(t){this._internalRoot=t}Ic.prototype.render=Ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Un();V_(r,l,t,n,null,null)},Ic.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;V_(t.current,2,null,t,null,null),cc(),n[Si]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=cu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<sr.length&&n!==0&&n<sr[r].priority;r++);sr.splice(r,0,t),r===0&&z_(t)}};var F_=e.version;if(F_!=="19.2.3")throw Error(a(527,F_,"19.2.3"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var UE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Cn=Dc.inject(UE),en=Dc}catch{}}return Io.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Zg,f=Jg,_=Wg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=O_(t,1,!1,null,null,r,l,null,h,f,_,H_),t[Si]=n.current,vd(t),new Ud(n)},Io.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Zg,_=Jg,T=Wg,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=O_(t,1,!0,n,r??null,l,h,C,f,_,T,H_),n.context=M_(null),r=n.current,l=Un(),l=Mr(l),h=Hs(l),h.callback=null,Fs(r,h,l),r=l,n.current.lanes=r,Dr(n,r),Pi(n),t[Si]=n.current,vd(t),new Ic(n)},Io.version="19.2.3",Io}var e0;function JE(){if(e0)return qd.exports;e0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=ZE(),qd.exports}var WE=JE();const eS=()=>{};var t0={};const Dv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},tS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,g=v?s[o+2]:0,E=c>>2,w=(c&3)<<4|y>>4;let I=(y&15)<<2|g>>6,q=g&63;v||(q=64,d||(I=64)),a.push(i[E],i[w],i[I],i[q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Dv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):tS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const g=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||g==null||w==null)throw new nS;const I=c<<2|y>>4;if(a.push(I),g!==64){const q=y<<4&240|g>>2;if(a.push(q),w!==64){const H=g<<6&192|w;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(s){const e=Dv(s);return Ov.encodeByteArray(e,!0)},Xc=function(s){return iS(s).replace(/\./g,"")},Mv=function(s){try{return Ov.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rS=()=>sS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof t0>"u")return;const s=t0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},lS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Mv(s[1]);return e&&JSON.parse(e)},_h=()=>{try{return eS()||rS()||aS()||lS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Vv=s=>_h()?.emulatorHosts?.[s],oS=s=>{const e=Vv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},kv=()=>_h()?.config,jv=s=>_h()?.[`_${s}`];class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function El(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(s){return(await fetch(s,{credentials:"include"})).ok}function cS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const ko={};function hS(){const s={prod:[],emulator:[]};for(const e of Object.keys(ko))ko[e]?s.emulator.push(e):s.prod.push(e);return s}function fS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let n0=!1;function Uv(s,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||ko[s]===e||ko[s]||n0)return;ko[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",c=hS().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function y(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,q){I.setAttribute("width","24"),I.setAttribute("id",q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{n0=!0,d()},I}function E(I,q){I.setAttribute("id",q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=fS(a),q=i("text"),H=document.getElementById(q)||document.createElement("span"),te=i("learnmore"),ee=document.getElementById(te)||document.createElement("a"),oe=i("preprendIcon"),$=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ce=I.element;y(ce),E(ee,te);const Ie=g();v($,oe),ce.append($,H,ee,Ie),document.body.appendChild(ce)}c?(H.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function mS(){const s=_h()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function yS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _S(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function vS(){return!mS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bS(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const ES="FirebaseError";class Rs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=ES,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?SS(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,y,a)}}function SS(s,e){return s.replace(AS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const AS=/\{\$([^}]+)}/g;function wS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ha(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(i0(c)&&i0(d)){if(!ha(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function i0(s){return s!==null&&typeof s=="object"}function Zo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function xS(s,e){const i=new RS(s,e);return i.subscribe.bind(i)}class RS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");NS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Gd),o.error===void 0&&(o.error=Gd),o.complete===void 0&&(o.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Gd(){}function un(s){return s&&s._delegate?s._delegate:s}class fa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class CS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new uS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DS(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:IS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IS(s){return s===la?void 0:s}function DS(s){return s.instantiationMode==="EAGER"}class OS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new CS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const MS={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},VS=Fe.INFO,kS={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},jS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=kS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=VS,this._logHandler=jS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const LS=(s,e)=>e.some(i=>s instanceof i);let s0,r0;function US(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,rm=new WeakMap,zv=new WeakMap,Qd=new WeakMap,km=new WeakMap;function zS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(dr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Pv.set(i,s)}).catch(()=>{}),km.set(e,s),e}function qS(s){if(rm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});rm.set(s,e)}let am={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return rm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||zv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function BS(s){am=s(am)}function HS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Kd(this),e,...i);return zv.set(a,e.sort?e.sort():[e]),dr(a)}:PS().includes(s)?function(...e){return s.apply(Kd(this),e),dr(Pv.get(this))}:function(...e){return dr(s.apply(Kd(this),e))}}function FS(s){return typeof s=="function"?HS(s):(s instanceof IDBTransaction&&qS(s),LS(s,US())?new Proxy(s,am):s)}function dr(s){if(s instanceof IDBRequest)return zS(s);if(Qd.has(s))return Qd.get(s);const e=FS(s);return e!==s&&(Qd.set(s,e),km.set(e,s)),e}const Kd=s=>km.get(s);function GS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),y=dr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(dr(d.result),v.oldVersion,v.newVersion,dr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),y}const QS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],Yd=new Map;function a0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=KS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||QS.includes(i)))return;const c=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let g=v.store;return a&&(g=g.index(y.shift())),(await Promise.all([g[i](...y),o&&v.done]))[0]};return Yd.set(e,c),c}BS(s=>({...s,get:(e,i,a)=>a0(e,i)||s.get(e,i,a),has:(e,i)=>!!a0(e,i)||s.has(e,i)}));class YS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function XS(s){return s.getComponent()?.type==="VERSION"}const lm="@firebase/app",l0="0.14.6";const Es=new Vm("@firebase/app"),$S="@firebase/app-compat",ZS="@firebase/analytics-compat",JS="@firebase/analytics",WS="@firebase/app-check-compat",eA="@firebase/app-check",tA="@firebase/auth",nA="@firebase/auth-compat",iA="@firebase/database",sA="@firebase/data-connect",rA="@firebase/database-compat",aA="@firebase/functions",lA="@firebase/functions-compat",oA="@firebase/installations",uA="@firebase/installations-compat",cA="@firebase/messaging",hA="@firebase/messaging-compat",fA="@firebase/performance",dA="@firebase/performance-compat",mA="@firebase/remote-config",pA="@firebase/remote-config-compat",gA="@firebase/storage",yA="@firebase/storage-compat",_A="@firebase/firestore",vA="@firebase/ai",bA="@firebase/firestore-compat",TA="firebase",EA="12.6.0";const om="[DEFAULT]",SA={[lm]:"fire-core",[$S]:"fire-core-compat",[JS]:"fire-analytics",[ZS]:"fire-analytics-compat",[eA]:"fire-app-check",[WS]:"fire-app-check-compat",[tA]:"fire-auth",[nA]:"fire-auth-compat",[iA]:"fire-rtdb",[sA]:"fire-data-connect",[rA]:"fire-rtdb-compat",[aA]:"fire-fn",[lA]:"fire-fn-compat",[oA]:"fire-iid",[uA]:"fire-iid-compat",[cA]:"fire-fcm",[hA]:"fire-fcm-compat",[fA]:"fire-perf",[dA]:"fire-perf-compat",[mA]:"fire-rc",[pA]:"fire-rc-compat",[gA]:"fire-gcs",[yA]:"fire-gcs-compat",[_A]:"fire-fst",[bA]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[TA]:"fire-js-all"};const $c=new Map,AA=new Map,um=new Map;function o0(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ml(s){const e=s.name;if(um.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,s);for(const i of $c.values())o0(i,s);for(const i of AA.values())o0(i,s);return!0}function jm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function pi(s){return s==null?!1:s.settings!==void 0}const wA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new $o("app","Firebase",wA);class xA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Sl=EA;function qv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:om,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(i||(i=kv()),!i)throw mr.create("no-options");const c=$c.get(o);if(c){if(ha(i,c.options)&&ha(a,c.config))return c;throw mr.create("duplicate-app",{appName:o})}const d=new OS(o);for(const v of um.values())d.addComponent(v);const y=new xA(i,a,d);return $c.set(o,y),y}function Bv(s=om){const e=$c.get(s);if(!e&&s===om&&kv())return qv();if(!e)throw mr.create("no-app",{appName:s});return e}function pr(s,e,i){let a=SA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}ml(new fa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const RA="firebase-heartbeat-database",NA=1,Bo="firebase-heartbeat-store";let Xd=null;function Hv(){return Xd||(Xd=GS(RA,NA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Bo)}catch(i){console.warn(i)}}}}).catch(s=>{throw mr.create("idb-open",{originalErrorMessage:s.message})})),Xd}async function CA(s){try{const i=(await Hv()).transaction(Bo),a=await i.objectStore(Bo).get(Fv(s));return await i.done,a}catch(e){if(e instanceof Rs)Es.warn(e.message);else{const i=mr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function u0(s,e){try{const a=(await Hv()).transaction(Bo,"readwrite");await a.objectStore(Bo).put(e,Fv(s)),await a.done}catch(i){if(i instanceof Rs)Es.warn(i.message);else{const a=mr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(a.message)}}}function Fv(s){return`${s.name}!${s.options.appId}`}const IA=1024,DA=30;class OA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new VA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=c0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>DA){const o=kA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c0(),{heartbeatsToSend:i,unsentEntries:a}=MA(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Es.warn(e),""}}}function c0(){return new Date().toISOString().substring(0,10)}function MA(s,e=IA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),h0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),h0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class VA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bS()?TS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await CA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function h0(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function kA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function jA(s){ml(new fa("platform-logger",e=>new YS(e),"PRIVATE")),ml(new fa("heartbeat",e=>new OA(e),"PRIVATE")),pr(lm,l0,s),pr(lm,l0,"esm2020"),pr("fire-js","")}jA("");var LA="firebase",UA="12.7.0";pr(LA,UA,"app");function Gv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PA=Gv,Qv=new $o("auth","Firebase",Gv());const Zc=new Vm("@firebase/auth");function zA(s,...e){Zc.logLevel<=Fe.WARN&&Zc.warn(`Auth (${Sl}): ${s}`,...e)}function Pc(s,...e){Zc.logLevel<=Fe.ERROR&&Zc.error(`Auth (${Sl}): ${s}`,...e)}function Ss(s,...e){throw Lm(s,...e)}function Bi(s,...e){return Lm(s,...e)}function Kv(s,e,i){const a={...PA(),[e]:i};return new $o("auth","Firebase",a).create(e,{appName:s.name})}function gr(s){return Kv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Qv.create(s,...e)}function we(s,e,...i){if(!s)throw Lm(e,...i)}function bs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Pc(e),new Error(e)}function As(s,e){s||bs(e)}function cm(){return typeof self<"u"&&self.location?.href||""}function qA(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function BA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qA()||gS()||"connection"in navigator)?navigator.onLine:!0}function HA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jo{constructor(e,i){this.shortDelay=e,this.longDelay=i,As(i>e,"Short delay should be less than long delay!"),this.isMobile=dS()||yS()}get(){return BA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Um(s,e){As(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Yv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QA=new Jo(3e4,6e4);function vh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Al(s,e,i,a,o={}){return Xv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Zo({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:v,...c};return pS()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&El(s.emulatorConfig.host)&&(g.credentials="include"),Yv.fetch()(await Zv(s,s.config.apiHost,i,y),g)})}async function Xv(s,e,i){s._canInitEmulator=!1;const a={...FA,...e};try{const o=new KA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[v,g]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Oc(s,"user-disabled",d);const E=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Kv(s,E,g);Ss(s,E)}}catch(o){if(o instanceof Rs)throw o;Ss(s,"network-request-failed",{message:String(o)})}}async function $v(s,e,i,a,o={}){const c=await Al(s,e,i,a,o);return"mfaPendingCredential"in c&&Ss(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Zv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Um(s.config,o):`${s.config.apiScheme}://${o}`;return GA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class KA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),QA.get())})}}function Oc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Bi(s,e,a);return o.customData._tokenResponse=i,o}async function YA(s,e){return Al(s,"POST","/v1/accounts:delete",e)}async function Jc(s,e){return Al(s,"POST","/v1/accounts:lookup",e)}function jo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XA(s,e=!1){const i=un(s),a=await i.getIdToken(e),o=Pm(a);we(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:jo($d(o.auth_time)),issuedAtTime:jo($d(o.iat)),expirationTime:jo($d(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function Pm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Mv(i);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d0(s){const e=Pm(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ho(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Rs&&$A(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function $A({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ZA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jo(this.lastLoginAt),this.creationTime=jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(s){const e=s.auth,i=await s.getIdToken(),a=await Ho(s,Jc(e,{idToken:i}));we(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Jv(o.providerUserInfo):[],d=WA(s.providerData,c),y=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,g=y?v:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,E)}async function JA(s){const e=un(s);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Jv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function e2(s,e){const i=await Xv(s,{},async()=>{const a=Zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Zv(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:a};return s.emulatorConfig&&El(s.emulatorConfig.host)&&(v.credentials="include"),Yv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function t2(s,e){return Al(s,"POST","/v2/accounts:revokeToken",vh(s,e))}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=d0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await e2(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new cl;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return bs("not implemented")}}function ar(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new ZA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return XA(this,e)}reload(){return JA(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await Ho(this,YA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,g=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:I,isAnonymous:q,providerData:H,stsTokenManager:te}=i;we(w&&te,e,"internal-error");const ee=cl.fromJSON(this.name,te);we(typeof w=="string",e,"internal-error"),ar(a,e.name),ar(o,e.name),we(typeof I=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),ar(c,e.name),ar(d,e.name),ar(y,e.name),ar(v,e.name),ar(g,e.name),ar(E,e.name);const oe=new gi({uid:w,auth:e,email:o,emailVerified:I,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ee,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(oe.providerData=H.map($=>({...$}))),v&&(oe._redirectEventId=v),oe}static async _fromIdTokenResponse(e,i,a=!1){const o=new cl;o.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Jv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new cl;y.updateFromIdToken(a);const v=new gi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,g),v}}const m0=new Map;function Ts(s){As(s instanceof Function,"Expected a class definition");let e=m0.get(s);return e?(As(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,m0.set(s,e),e)}class Wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Wv.type="NONE";const p0=Wv;function zc(s,e,i){return`firebase:${s}:${e}:${i}`}class hl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=zc(this.userKey,o.apiKey,c),this.fullPersistenceKey=zc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jc(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new hl(Ts(p0),e,a);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Ts(p0);const d=zc(a,e.config.apiKey,e.name);let y=null;for(const g of i)try{const E=await g._get(d);if(E){let w;if(typeof E=="string"){const I=await Jc(e,{idToken:E}).catch(()=>{});if(!I)break;w=await gi._fromGetAccountInfoResponse(e,I,E)}else w=gi._fromJSON(e,E);g!==c&&(y=w),c=g;break}}catch{}const v=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new hl(c,e,a):(c=v[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new hl(c,e,a))}}function g0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rb(e))return"Blackberry";if(ab(e))return"Webos";if(tb(e))return"Safari";if((e.includes("chrome/")||nb(e))&&!e.includes("edge/"))return"Chrome";if(sb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function eb(s=pn()){return/firefox\//i.test(s)}function tb(s=pn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nb(s=pn()){return/crios\//i.test(s)}function ib(s=pn()){return/iemobile/i.test(s)}function sb(s=pn()){return/android/i.test(s)}function rb(s=pn()){return/blackberry/i.test(s)}function ab(s=pn()){return/webos/i.test(s)}function zm(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function n2(s=pn()){return zm(s)&&!!window.navigator?.standalone}function i2(){return _S()&&document.documentMode===10}function lb(s=pn()){return zm(s)||sb(s)||ab(s)||rb(s)||/windows phone/i.test(s)||ib(s)}function ob(s,e=[]){let i;switch(s){case"Browser":i=g0(pn());break;case"Worker":i=`${g0(pn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Sl}/${a}`}class s2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const v=e(c);d(v)}catch(v){y(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function r2(s,e={}){return Al(s,"GET","/v2/passwordPolicy",vh(s,e))}const a2=6;class l2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??a2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class o2{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new s2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jc(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(gr(this));const i=e?un(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r2(this),i=new l2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $o("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await t2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ts(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bh(s){return un(s)}class y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=xS(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u2(s){qm=s}function c2(s){return qm.loadJS(s)}function h2(){return qm.gapiScript}function f2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function d2(s,e){const i=jm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ha(c,e??{}))return o;Ss(o,"already-initialized")}return i.initialize({options:e})}function m2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ts);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function p2(s,e,i){const a=bh(s);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=ub(e),{host:d,port:y}=g2(e),v=y===null?"":`:${y}`,g={url:`${c}//${d}${v}/`},E=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(ha(g,a.config.emulator)&&ha(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,El(d)?(Lv(`${c}//${d}${v}`),Uv("Auth",!0)):y2()}function ub(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function g2(s){const e=ub(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:_0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:_0(d)}}}function _0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function y2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class cb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,i){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function fl(s,e){return $v(s,"POST","/v1/accounts:signInWithIdp",vh(s,e))}const _2="http://localhost";class da extends cb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ss("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new da(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return fl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,fl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,fl(e,i)}buildRequest(){const e={requestUri:_2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Zo(i)}return e}}class hb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wo extends hb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr extends Wo{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class or extends Wo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return da._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return or.credential(i,a)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class ur extends Wo{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends Wo{constructor(){super("twitter.com")}static credential(e,i){return da._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return cr.credential(i,a)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";async function v2(s,e){return $v(s,"POST","/v1/accounts:signUp",vh(s,e))}class br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await gi._fromIdTokenResponse(e,a,o),d=v0(a);return new br({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=v0(a);return new br({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function v0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function b2(s){if(pi(s.app))return Promise.reject(gr(s));const e=bh(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new br({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await v2(e,{returnSecureToken:!0}),a=await br._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class eh extends Rs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new eh(e,i,a,o)}}function fb(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(s,c,e,a):c})}async function T2(s,e,i=!1){const a=await Ho(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return br._forOperation(s,"link",a)}async function E2(s,e,i=!1){const{auth:a}=s;if(pi(a.app))return Promise.reject(gr(a));const o="reauthenticate";try{const c=await Ho(s,fb(a,o,e,s),i);we(c.idToken,a,"internal-error");const d=Pm(c.idToken);we(d,a,"internal-error");const{sub:y}=d;return we(s.uid===y,a,"user-mismatch"),br._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ss(a,"user-mismatch"),c}}async function S2(s,e,i=!1){if(pi(s.app))return Promise.reject(gr(s));const a="signIn",o=await fb(s,a,e),c=await br._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function A2(s,e,i,a){return un(s).onIdTokenChanged(e,i,a)}function w2(s,e,i){return un(s).beforeAuthStateChanged(e,i)}function x2(s,e,i,a){return un(s).onAuthStateChanged(e,i,a)}const th="__sak";class db{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const R2=1e3,N2=10;class mb extends db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);i2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,N2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}mb.type="LOCAL";const C2=mb;class pb extends db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}pb.type="SESSION";const gb=pb;function I2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Th(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async g=>g(i.origin,c)),v=await I2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Bm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class D2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,v)=>{const g=Bm("",20);o.port1.start();const E=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(I.data.response);break;default:clearTimeout(E),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function O2(s){Hi().location.href=s}function yb(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function M2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V2(){return navigator?.serviceWorker?.controller||null}function k2(){return yb()?self:null}const _b="firebaseLocalStorageDb",j2=1,nh="firebaseLocalStorage",vb="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,e){return s.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function L2(){const s=indexedDB.deleteDatabase(_b);return new eu(s).toPromise()}function fm(){const s=indexedDB.open(_b,j2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(nh,{keyPath:vb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(nh)?e(a):(a.close(),await L2(),e(await fm()))})})}async function b0(s,e,i){const a=Eh(s,!0).put({[vb]:e,value:i});return new eu(a).toPromise()}async function U2(s,e){const i=Eh(s,!1).get(e),a=await new eu(i).toPromise();return a===void 0?null:a.value}function T0(s,e){const i=Eh(s,!0).delete(e);return new eu(i).toPromise()}const P2=800,z2=3;class bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>z2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(k2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await M2(),!this.activeServiceWorker)return;this.sender=new D2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await b0(e,th,"1"),await T0(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>b0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>U2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>T0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Eh(o,!1).getAll();return new eu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bb.type="LOCAL";const q2=bb;new Jo(3e4,6e4);function B2(s,e){return e?Ts(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Hm extends cb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return fl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function H2(s){return S2(s.auth,new Hm(s),s.bypassAuthState)}function F2(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),E2(i,new Hm(s),s.bypassAuthState)}async function G2(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),T2(i,new Hm(s),s.bypassAuthState)}class Tb{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H2;case"linkViaPopup":case"linkViaRedirect":return G2;case"reauthViaPopup":case"reauthViaRedirect":return F2;default:Ss(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Q2=new Jo(2e3,1e4);class ul extends Tb{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q2.get())};e()}}ul.currentPopupAction=null;const K2="pendingRedirect",qc=new Map;class Y2 extends Tb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const a=await X2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X2(s,e){const i=J2(e),a=Z2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function $2(s,e){qc.set(s._key(),e)}function Z2(s){return Ts(s._redirectPersistence)}function J2(s){return zc(K2,s.config.apiKey,s.name)}async function W2(s,e,i=!1){if(pi(s.app))return Promise.reject(gr(s));const a=bh(s),o=B2(a,e),d=await new Y2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const ew=600*1e3;class tw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Eb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ew&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(e))}saveEventToCache(e){this.cachedEventUids.add(E0(e)),this.lastProcessedEventTime=Date.now()}}function E0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Eb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function nw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eb(s);default:return!1}}async function iw(s,e={}){return Al(s,"GET","/v1/projects",e)}const sw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rw=/^https?/;async function aw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await iw(s);for(const i of e)try{if(lw(i))return}catch{}Ss(s,"unauthorized-domain")}function lw(s){const e=cm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!rw.test(i))return!1;if(sw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const ow=new Jo(3e4,6e4);function S0(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function uw(s){return new Promise((e,i)=>{function a(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),i(Bi(s,"network-request-failed"))},timeout:ow.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const o=f2("iframefcb");return Hi()[o]=()=>{gapi.load?a():i(Bi(s,"network-request-failed"))},c2(`${h2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function cw(s){return Bc=Bc||uw(s),Bc}const hw=new Jo(5e3,15e3),fw="__/auth/iframe",dw="emulator/auth/iframe",mw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gw(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Um(e,dw):`https://${s.config.authDomain}/${fw}`,a={apiKey:e.apiKey,appName:s.name,v:Sl},o=pw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Zo(a).slice(1)}`}async function yw(s){const e=await cw(s),i=Hi().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:gw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),y=Hi().setTimeout(()=>{c(d)},hw.get());function v(){Hi().clearTimeout(y),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const _w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vw=500,bw=600,Tw="_blank",Ew="http://localhost";class A0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sw(s,e,i,a=vw,o=bw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const v={..._w,width:a.toString(),height:o.toString(),top:c,left:d},g=pn().toLowerCase();i&&(y=nb(g)?Tw:i),eb(g)&&(e=e||Ew,v.scrollbars="yes");const E=Object.entries(v).reduce((I,[q,H])=>`${I}${q}=${H},`,"");if(n2(g)&&y!=="_self")return Aw(e||"",y),new A0(null);const w=window.open(e||"",y,E);we(w,s,"popup-blocked");try{w.focus()}catch{}return new A0(w)}function Aw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const ww="__/auth/handler",xw="emulator/auth/handler",Rw=encodeURIComponent("fac");async function w0(s,e,i,a,o,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Sl,eventId:o};if(e instanceof hb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",wS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(e instanceof Wo){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const E of Object.keys(y))y[E]===void 0&&delete y[E];const v=await s._getAppCheckToken(),g=v?`#${Rw}=${encodeURIComponent(v)}`:"";return`${Nw(s)}?${Zo(y).slice(1)}${g}`}function Nw({config:s}){return s.emulator?Um(s,xw):`https://${s.authDomain}/${ww}`}const Zd="webStorageSupport";class Cw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gb,this._completeRedirectFn=W2,this._overrideRedirectResult=$2}async _openPopup(e,i,a,o){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await w0(e,i,a,cm(),o);return Sw(e,c,Bm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await w0(e,i,a,cm(),o);return O2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(As(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await yw(e),a=new tw(e);return i.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Zd,{type:Zd},o=>{const c=o?.[0]?.[Zd];c!==void 0&&i(!!c),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=aw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return lb()||tb()||zm()}}const Iw=Cw;var x0="@firebase/auth",R0="1.12.0";class Dw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ow(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mw(s){ml(new fa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ob(s)},g=new o2(a,o,c,v);return m2(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ml(new fa("auth-internal",e=>{const i=bh(e.getProvider("auth").getImmediate());return(a=>new Dw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(x0,R0,Ow(s)),pr(x0,R0,"esm2020")}const Vw=300,kw=jv("authIdTokenMaxAge")||Vw;let N0=null;const jw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>kw)return;const o=i?.token;N0!==o&&(N0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Lw(s=Bv()){const e=jm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=d2(s,{popupRedirectResolver:Iw,persistence:[q2,C2,gb]}),a=jv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=jw(c.toString());w2(i,d,()=>d(i.currentUser)),A2(i,y=>d(y))}}const o=Vv("auth");return o&&p2(i,`http://${o}`),i}function Uw(){return document.getElementsByTagName("head")?.[0]??document}u2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Bi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Uw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mw("Browser");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yr,Sb;(function(){var s;function e(N,S){function x(){}x.prototype=S.prototype,N.F=S.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(D,O,k){for(var R=Array(arguments.length-2),et=2;et<arguments.length;et++)R[et-2]=arguments[et];return S.prototype[O].apply(D,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,x){x||(x=0);const D=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)D[O]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(O=0;O<16;++O)D[O]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=N.g[0],x=N.g[1],O=N.g[2];let k=N.g[3],R;R=S+(k^x&(O^k))+D[0]+3614090360&4294967295,S=x+(R<<7&4294967295|R>>>25),R=k+(O^S&(x^O))+D[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=O+(x^k&(S^x))+D[2]+606105819&4294967295,O=k+(R<<17&4294967295|R>>>15),R=x+(S^O&(k^S))+D[3]+3250441966&4294967295,x=O+(R<<22&4294967295|R>>>10),R=S+(k^x&(O^k))+D[4]+4118548399&4294967295,S=x+(R<<7&4294967295|R>>>25),R=k+(O^S&(x^O))+D[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=O+(x^k&(S^x))+D[6]+2821735955&4294967295,O=k+(R<<17&4294967295|R>>>15),R=x+(S^O&(k^S))+D[7]+4249261313&4294967295,x=O+(R<<22&4294967295|R>>>10),R=S+(k^x&(O^k))+D[8]+1770035416&4294967295,S=x+(R<<7&4294967295|R>>>25),R=k+(O^S&(x^O))+D[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=O+(x^k&(S^x))+D[10]+4294925233&4294967295,O=k+(R<<17&4294967295|R>>>15),R=x+(S^O&(k^S))+D[11]+2304563134&4294967295,x=O+(R<<22&4294967295|R>>>10),R=S+(k^x&(O^k))+D[12]+1804603682&4294967295,S=x+(R<<7&4294967295|R>>>25),R=k+(O^S&(x^O))+D[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=O+(x^k&(S^x))+D[14]+2792965006&4294967295,O=k+(R<<17&4294967295|R>>>15),R=x+(S^O&(k^S))+D[15]+1236535329&4294967295,x=O+(R<<22&4294967295|R>>>10),R=S+(O^k&(x^O))+D[1]+4129170786&4294967295,S=x+(R<<5&4294967295|R>>>27),R=k+(x^O&(S^x))+D[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=O+(S^x&(k^S))+D[11]+643717713&4294967295,O=k+(R<<14&4294967295|R>>>18),R=x+(k^S&(O^k))+D[0]+3921069994&4294967295,x=O+(R<<20&4294967295|R>>>12),R=S+(O^k&(x^O))+D[5]+3593408605&4294967295,S=x+(R<<5&4294967295|R>>>27),R=k+(x^O&(S^x))+D[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=O+(S^x&(k^S))+D[15]+3634488961&4294967295,O=k+(R<<14&4294967295|R>>>18),R=x+(k^S&(O^k))+D[4]+3889429448&4294967295,x=O+(R<<20&4294967295|R>>>12),R=S+(O^k&(x^O))+D[9]+568446438&4294967295,S=x+(R<<5&4294967295|R>>>27),R=k+(x^O&(S^x))+D[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=O+(S^x&(k^S))+D[3]+4107603335&4294967295,O=k+(R<<14&4294967295|R>>>18),R=x+(k^S&(O^k))+D[8]+1163531501&4294967295,x=O+(R<<20&4294967295|R>>>12),R=S+(O^k&(x^O))+D[13]+2850285829&4294967295,S=x+(R<<5&4294967295|R>>>27),R=k+(x^O&(S^x))+D[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=O+(S^x&(k^S))+D[7]+1735328473&4294967295,O=k+(R<<14&4294967295|R>>>18),R=x+(k^S&(O^k))+D[12]+2368359562&4294967295,x=O+(R<<20&4294967295|R>>>12),R=S+(x^O^k)+D[5]+4294588738&4294967295,S=x+(R<<4&4294967295|R>>>28),R=k+(S^x^O)+D[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=O+(k^S^x)+D[11]+1839030562&4294967295,O=k+(R<<16&4294967295|R>>>16),R=x+(O^k^S)+D[14]+4259657740&4294967295,x=O+(R<<23&4294967295|R>>>9),R=S+(x^O^k)+D[1]+2763975236&4294967295,S=x+(R<<4&4294967295|R>>>28),R=k+(S^x^O)+D[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=O+(k^S^x)+D[7]+4139469664&4294967295,O=k+(R<<16&4294967295|R>>>16),R=x+(O^k^S)+D[10]+3200236656&4294967295,x=O+(R<<23&4294967295|R>>>9),R=S+(x^O^k)+D[13]+681279174&4294967295,S=x+(R<<4&4294967295|R>>>28),R=k+(S^x^O)+D[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=O+(k^S^x)+D[3]+3572445317&4294967295,O=k+(R<<16&4294967295|R>>>16),R=x+(O^k^S)+D[6]+76029189&4294967295,x=O+(R<<23&4294967295|R>>>9),R=S+(x^O^k)+D[9]+3654602809&4294967295,S=x+(R<<4&4294967295|R>>>28),R=k+(S^x^O)+D[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=O+(k^S^x)+D[15]+530742520&4294967295,O=k+(R<<16&4294967295|R>>>16),R=x+(O^k^S)+D[2]+3299628645&4294967295,x=O+(R<<23&4294967295|R>>>9),R=S+(O^(x|~k))+D[0]+4096336452&4294967295,S=x+(R<<6&4294967295|R>>>26),R=k+(x^(S|~O))+D[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=O+(S^(k|~x))+D[14]+2878612391&4294967295,O=k+(R<<15&4294967295|R>>>17),R=x+(k^(O|~S))+D[5]+4237533241&4294967295,x=O+(R<<21&4294967295|R>>>11),R=S+(O^(x|~k))+D[12]+1700485571&4294967295,S=x+(R<<6&4294967295|R>>>26),R=k+(x^(S|~O))+D[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=O+(S^(k|~x))+D[10]+4293915773&4294967295,O=k+(R<<15&4294967295|R>>>17),R=x+(k^(O|~S))+D[1]+2240044497&4294967295,x=O+(R<<21&4294967295|R>>>11),R=S+(O^(x|~k))+D[8]+1873313359&4294967295,S=x+(R<<6&4294967295|R>>>26),R=k+(x^(S|~O))+D[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=O+(S^(k|~x))+D[6]+2734768916&4294967295,O=k+(R<<15&4294967295|R>>>17),R=x+(k^(O|~S))+D[13]+1309151649&4294967295,x=O+(R<<21&4294967295|R>>>11),R=S+(O^(x|~k))+D[4]+4149444226&4294967295,S=x+(R<<6&4294967295|R>>>26),R=k+(x^(S|~O))+D[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=O+(S^(k|~x))+D[2]+718787259&4294967295,O=k+(R<<15&4294967295|R>>>17),R=x+(k^(O|~S))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const x=S-this.blockSize,D=this.C;let O=this.h,k=0;for(;k<S;){if(O==0)for(;k<=x;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<S;)if(D[O++]=N.charCodeAt(k++),O==this.blockSize){o(this,D),O=0;break}}else for(;k<S;)if(D[O++]=N[k++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,x=0;x<4;++x)for(let D=0;D<32;D+=8)N[S++]=this.g[x]>>>D&255;return N};function c(N,S){var x=y;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=S(N)}function d(N,S){this.h=S;const x=[];let D=!0;for(let O=N.length-1;O>=0;O--){const k=N[O]|0;D&&k==S||(x[O]=k,D=!1)}this.g=x}var y={};function v(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return ee(g(-N));const S=[];let x=1;for(let D=0;N>=x;D++)S[D]=N/x|0,x*=4294967296;return new d(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return ee(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(S,8));let D=w;for(let k=0;k<N.length;k+=8){var O=Math.min(8,N.length-k);const R=parseInt(N.substring(k,k+O),S);O<8?(O=g(Math.pow(S,O)),D=D.j(O).add(g(R))):(D=D.j(x),D=D.add(g(R)))}return D}var w=v(0),I=v(1),q=v(16777216);s=d.prototype,s.m=function(){if(te(this))return-ee(this).m();let N=0,S=1;for(let x=0;x<this.g.length;x++){const D=this.i(x);N+=(D>=0?D:4294967296+D)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(te(this))return"-"+ee(this).toString(N);const S=g(Math.pow(N,6));var x=this;let D="";for(;;){const O=Ie(x,S).g;x=oe(x,O.j(S));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=O,H(x))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function te(N){return N.h==-1}s.l=function(N){return N=oe(this,N),te(N)?-1:H(N)?0:1};function ee(N){const S=N.g.length,x=[];for(let D=0;D<S;D++)x[D]=~N.g[D];return new d(x,~N.h).add(I)}s.abs=function(){return te(this)?ee(this):this},s.add=function(N){const S=Math.max(this.g.length,N.g.length),x=[];let D=0;for(let O=0;O<=S;O++){let k=D+(this.i(O)&65535)+(N.i(O)&65535),R=(k>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);D=R>>>16,k&=65535,R&=65535,x[O]=R<<16|k}return new d(x,x[x.length-1]&-2147483648?-1:0)};function oe(N,S){return N.add(ee(S))}s.j=function(N){if(H(this)||H(N))return w;if(te(this))return te(N)?ee(this).j(ee(N)):ee(ee(this).j(N));if(te(N))return ee(this.j(ee(N)));if(this.l(q)<0&&N.l(q)<0)return g(this.m()*N.m());const S=this.g.length+N.g.length,x=[];for(var D=0;D<2*S;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(let O=0;O<N.g.length;O++){const k=this.i(D)>>>16,R=this.i(D)&65535,et=N.i(O)>>>16,Le=N.i(O)&65535;x[2*D+2*O]+=R*Le,$(x,2*D+2*O),x[2*D+2*O+1]+=k*Le,$(x,2*D+2*O+1),x[2*D+2*O+1]+=R*et,$(x,2*D+2*O+1),x[2*D+2*O+2]+=k*et,$(x,2*D+2*O+2)}for(N=0;N<S;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=S;N<2*S;N++)x[N]=0;return new d(x,0)};function $(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ce(N,S){this.g=N,this.h=S}function Ie(N,S){if(H(S))throw Error("division by zero");if(H(N))return new ce(w,w);if(te(N))return S=Ie(ee(N),S),new ce(ee(S.g),ee(S.h));if(te(S))return S=Ie(N,ee(S)),new ce(ee(S.g),S.h);if(N.g.length>30){if(te(N)||te(S))throw Error("slowDivide_ only works with positive integers.");for(var x=I,D=S;D.l(N)<=0;)x=xe(x),D=xe(D);var O=ge(x,1),k=ge(D,1);for(D=ge(D,2),x=ge(x,2);!H(D);){var R=k.add(D);R.l(N)<=0&&(O=O.add(x),k=R),D=ge(D,1),x=ge(x,1)}return S=oe(N,O.j(S)),new ce(O,S)}for(O=w;N.l(S)>=0;){for(x=Math.max(1,Math.floor(N.m()/S.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=g(x),R=k.j(S);te(R)||R.l(N)>0;)x-=D,k=g(x),R=k.j(S);H(k)&&(k=I),O=O.add(k),N=oe(N,R)}return new ce(O,N)}s.B=function(N){return Ie(this,N).h},s.and=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let D=0;D<S;D++)x[D]=this.i(D)&N.i(D);return new d(x,this.h&N.h)},s.or=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let D=0;D<S;D++)x[D]=this.i(D)|N.i(D);return new d(x,this.h|N.h)},s.xor=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let D=0;D<S;D++)x[D]=this.i(D)^N.i(D);return new d(x,this.h^N.h)};function xe(N){const S=N.g.length+1,x=[];for(let D=0;D<S;D++)x[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(x,N.h)}function ge(N,S){const x=S>>5;S%=32;const D=N.g.length-x,O=[];for(let k=0;k<D;k++)O[k]=S>0?N.i(k+x)>>>S|N.i(k+x+1)<<32-S:N.i(k+x);return new d(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Sb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=E,yr=d}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ab,Do,wb,Hc,dm,xb,Rb,Nb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var b=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in b))break e;b=b[U]}u=u[u.length-1],A=b[u],m=m(A),m!=A&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&b.push([A,m[A]]);return b}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function g(u,m,b){return g=v,g.apply(null,arguments)}function E(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(A,U,F){for(var ie=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ie[Me-2]=arguments[Me];return m.prototype[U].apply(A,ie)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const b=Array(m);for(let A=0;A<m;A++)b[A]=u[A];return b}return[]}function H(u,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const F=U.length||0;u.length=b+F;for(let ie=0;ie<F;ie++)u[b+ie]=U[ie]}else u.push(U)}}class te{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function oe(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ${constructor(){this.h=this.g=null}add(m,b){const A=ce.get();A.set(m,b),this.h?this.h.next=A:this.g=A,this.h=A}}var ce=new te(()=>new Ie,u=>u.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,ge=!1,N=new $,S=()=>{const u=Promise.resolve(void 0);xe=()=>{u.then(x)}};function x(){for(var u;u=oe();){try{u.h.call(u.g)}catch(b){ee(b)}var m=ce;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ge=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function et(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(et,O),et.prototype.init=function(u,m){const b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),j=0;function W(u,m,b,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!A,this.ha=U,this.key=++j,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function se(u,m,b){for(const A in u)m.call(b,u[A],A,u)}function De(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function M(u){const m={};for(const b in u)m[b]=u[b];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let b,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(b in A)u[b]=A[b];for(let F=0;F<K.length;F++)b=K[F],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,b,A,U){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const ie=Oe(u,m,A,U);return ie>-1?(m=u[ie],b||(m.fa=!1)):(m=new W(m,this.src,F,!!A,U),m.fa=b,u.push(m)),m};function Ee(u,m){const b=m.type;if(b in u.g){var A=u.g[b],U=Array.prototype.indexOf.call(A,m,void 0),F;(F=U>=0)&&Array.prototype.splice.call(A,U,1),F&&(ue(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Oe(u,m,b,A){for(let U=0;U<u.length;++U){const F=u[U];if(!F.da&&F.listener==m&&F.capture==!!b&&F.ha==A)return U}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),Ct={};function it(u,m,b,A,U){if(Array.isArray(m)){for(let F=0;F<m.length;F++)it(u,m[F],b,A,U);return null}return b=st(b),u&&u[Le]?u.J(m,b,y(A)?!!A.capture:!1,U):_i(u,m,b,!1,A,U)}function _i(u,m,b,A,U,F){if(!m)throw Error("Invalid event type");const ie=y(U)?!!U.capture:!!U;let Me=Xe(u);if(Me||(u[qe]=Me=new re(u)),b=Me.add(m,b,A,ie,F),b.proxy)return b;if(A=$i(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)k||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(me(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function $i(){function u(b){return m.call(u.src,u.listener,b)}const m=ye;return u}function Zi(u,m,b,A,U){if(Array.isArray(m))for(var F=0;F<m.length;F++)Zi(u,m[F],b,A,U);else A=y(A)?!!A.capture:!!A,b=st(b),u&&u[Le]?(u=u.i,F=String(m).toString(),F in u.g&&(m=u.g[F],b=Oe(m,b,A,U),b>-1&&(ue(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[F],u.h--)))):u&&(u=Xe(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Oe(m,b,A,U)),(b=u>-1?m[u]:null)&&ae(b))}function ae(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Le])Ee(m.i,u);else{var b=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(b,A,u.capture):m.detachEvent?m.detachEvent(me(b),A):m.addListener&&m.removeListener&&m.removeListener(A),(b=Xe(m))?(Ee(b,u),b.h==0&&(b.src=null,m[qe]=null)):ue(u)}}}function me(u){return u in Ct?Ct[u]:Ct[u]="on"+u}function ye(u,m){if(u.da)u=!0;else{m=new et(m,this);const b=u.listener,A=u.ha||u.src;u.fa&&ae(u),u=b.call(A,m)}return u}function Xe(u){return u=u[qe],u instanceof re?u:null}var Et="__closure_events_fn_"+(Math.random()*1e9>>>0);function st(u){return typeof u=="function"?u:(u[Et]||(u[Et]=function(m){return u.handleEvent(m)}),u[Et])}function Ue(){D.call(this),this.i=new re(this),this.M=this,this.G=null}w(Ue,D),Ue.prototype[Le]=!0,Ue.prototype.removeEventListener=function(u,m,b,A){Zi(this,u,m,b,A)};function Se(u,m){var b,A=u.G;if(A)for(b=[];A;A=A.G)b.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(A,u),ne(m,U)}U=!0;let F,ie;if(b)for(ie=b.length-1;ie>=0;ie--)F=m.g=b[ie],U=Ae(F,A,!0,m)&&U;if(F=m.g=u,U=Ae(F,A,!0,m)&&U,U=Ae(F,A,!1,m)&&U,b)for(ie=0;ie<b.length;ie++)F=m.g=b[ie],U=Ae(F,A,!1,m)&&U}Ue.prototype.N=function(){if(Ue.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let A=0;A<b.length;A++)ue(b[A]);delete u.g[m],u.h--}}this.G=null},Ue.prototype.J=function(u,m,b,A){return this.i.add(String(u),m,!1,b,A)},Ue.prototype.K=function(u,m,b,A){return this.i.add(String(u),m,!0,b,A)};function Ae(u,m,b,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let F=0;F<m.length;++F){const ie=m[F];if(ie&&!ie.da&&ie.capture==b){const Me=ie.listener,Dt=ie.ha||ie.src;ie.fa&&Ee(u.i,ie),U=Me.call(Dt,A)!==!1&&U}}return U&&!A.defaultPrevented}function je(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function St(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,St(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class At extends D{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zn(u){D.call(this),this.h=u,this.g={}}w(zn,D);var ni=[];function Ji(u){se(u.g,function(m,b){this.g.hasOwnProperty(b)&&ae(m)},u),u.g={}}zn.prototype.N=function(){zn.Z.N.call(this),Ji(this)},zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xt=d.JSON.stringify,gn=d.JSON.parse,Wi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ii(){}function Ns(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){O.call(this,"d")}w(en,O);function qn(){O.call(this,"c")}w(qn,O);var It={},lu=null;function _a(){return lu=lu||new Ue}It.Ia="serverreachability";function ou(u){O.call(this,It.Ia,u)}w(ou,O);function vi(u){const m=_a();Se(m,new ou(m))}It.STAT_EVENT="statevent";function Ir(u,m){O.call(this,It.STAT_EVENT,u),this.stat=m}w(Ir,O);function kt(u){const m=_a();Se(m,new Ir(m,u))}It.Ja="timingevent";function bi(u,m){O.call(this,It.Ja,u),this.size=m}w(bi,O);function Ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function Bh(u,m,b,A,U,F){u.info(function(){if(u.g)if(F){var ie="",Me=F.split("&");for(let Je=0;Je<Me.length;Je++){var Dt=Me[Je].split("=");if(Dt.length>1){const bt=Dt[0];Dt=Dt[1];const Gn=bt.split("_");ie=Gn.length>=2&&Gn[1]=="type"?ie+(bt+"="+Dt+"&"):ie+(bt+"=redacted&")}}}else ie=null;else ie=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+b+`
`+ie})}function uu(u,m,b,A,U,F,ie){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+b+`
`+F+" "+ie})}function Ei(u,m,b,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(u,b)+(A?" "+A:"")})}function Dr(u,m){u.info(function(){return"TIMEOUT: "+m})}si.prototype.info=function(){};function Hh(u,m){if(!u.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var b=F[u];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return xt(F)}catch{return m}}var Or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Il;function Mr(){}w(Mr,ii),Mr.prototype.g=function(){return new XMLHttpRequest},Il=new Mr;function es(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ri(u,m,b,A){this.j=u,this.i=m,this.l=b,this.S=A||1,this.V=new zn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var jt={},Xt={};function Si(u,m,b){u.M=1,u.A=Vr(Ut(m)),u.u=b,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),Ai(u),u.B=Ut(u.A);var b=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Sa(b.i,"t",A),u.C=0,b=u.j.L,u.h=new ai,u.g=wu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new At(g(u.Y,u,u.g),u.P)),m=u.V,b=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ni[0]=U.toString()),U=ni);for(let F=0;F<U.length;F++){const ie=it(b,U[F],A||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vi(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}ri.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)e:{const Me=ui(this.g),Dt=this.g.ya(),Je=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Me!=4||Dt==7||(Dt==8||Je<=0?vi(3):vi(2)),wi(this);var m=this.g.ca();this.X=m;var b=Fh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Me,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var F=A;break t}}F=null}if(u=F)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,u);else{this.o=!1,this.m=3,kt(12),In(this),Bn(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<b.length;)if(bt=fu(this,b),bt==Xt){Me==4&&(this.m=4,kt(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==jt){this.m=4,kt(15),Ei(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,bt,null),xi(this,bt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||b.length!=0||this.h.h||(this.m=1,kt(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),Bn(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Gl(ie),ie.P=!0,kt(11))}}else Ei(this.i,this.l,b,null),xi(this,b);Me==4&&In(this),this.o&&!this.K&&(Me==4?Tu(this.j,this):(this.o=!1,Ai(this)))}else ns(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),In(this),Bn(this)}}}catch{}};function Fh(u){if(!hu(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let b="";const A=m.length,U=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return In(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<A;F++)u.h.h=!0,b+=u.h.i.decode(m[F],{stream:!(U&&F==A-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var b=u.C,A=m.indexOf(`
`,b);return A==-1?Xt:(b=Number(m.substring(b,A)),isNaN(b)?jt:(A+=1,A+b>m.length?Xt:(m=m.slice(A,A+b),u.C=A+b,m)))}ri.prototype.cancel=function(){this.K=!0,In(this)};function Ai(u){u.T=Date.now()+u.H,ba(u,u.H)}function ba(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ti(g(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ri.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Dr(this.i,this.B),this.M!=2&&(vi(),kt(17)),In(this),this.m=2,Bn(this)):ba(this,this.T-u)};function Bn(u){u.j.I==0||u.K||Tu(u.j,u)}function In(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ji(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xi(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Ni(b.h,u))){if(!u.L&&Ni(b.h,u)&&b.I==3){try{var A=b.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Na(b),js(b);else break e;qr(b),kt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ti(g(b.Va,b),6e3));Ri(b.h)<=1&&b.ta&&(b.ta=void 0)}else Vi(b,11)}else if((u.L||b.g==u)&&Na(b),!R(m))for(U=b.Ba.g.parse(m),m=0;m<U.length;m++){let Je=U[m];const bt=Je[0];if(!(bt<=b.K))if(b.K=bt,Je=Je[1],b.I==2)if(Je[0]=="c"){b.M=Je[1],b.ba=Je[2];const Gn=Je[3];Gn!=null&&(b.ka=Gn,b.j.info("VER="+b.ka));const ki=Je[4];ki!=null&&(b.za=ki,b.j.info("SVER="+b.za));const ci=Je[5];ci!=null&&typeof ci=="number"&&ci>0&&(A=1.5*ci,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const hi=u.g;if(hi){const Br=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var F=A.h;F.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ml(F,F.h),F.h=null))}if(A.G){const Ca=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(A.wa=Ca,rt(A.J,A.G,Ca))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var ie=u;if(A.na=Au(A,A.L?A.ba:null,A.W),ie.L){Vl(A.h,ie);var Me=ie,Dt=A.O;Dt&&(Me.H=Dt),Me.D&&(wi(Me),Ai(Me)),A.g=ie}else vu(A);b.i.length>0&&Mi(b)}else Je[0]!="stop"&&Je[0]!="close"||Vi(b,7);else b.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Vi(b,7):Hl(b):Je[0]!="noop"&&b.l&&b.l.qa(Je),b.A=0)}}vi(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function Dl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ml(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function kl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return q(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const A=u[b].indexOf("=");let U,F=null;A>=0?(U=u[b].substring(0,A),F=u[b].substring(A+1)):U=u[b],m(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,$t(this,u.j),this.o=u.o,this.g=u.g,Cs(this,u.u),this.h=u.h,jl(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,$t(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),Cs(this,m[4]),this.h=Ci(m[5]||"",!0),jl(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(kr(m,Ea,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(kr(m,Ea,!0),"@"),u.push(es(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(kr(b,b.charAt(0)=="/"?Ll:mu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",kr(b,pu)),u.join("")},Dn.prototype.resolve=function(u){const m=Ut(this);let b=!!u.j;b?$t(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var A=u.h;if(b)Cs(m,u.u);else if(b=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let ie=0;ie<U.length;){const Me=U[ie++];Me=="."?A&&ie==U.length&&F.push(""):Me==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&ie==U.length&&F.push("")):(F.push(Me),A=!0)}A=F.join("/")}else A=U}return b?m.h=A:b=u.i.toString()!=="",b?jl(m,yu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Ut(u){return new Dn(u)}function $t(u,m,b){u.j=b?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function jl(u,m,b){m instanceof Ds?(u.i=m,Aa(u.i,u.l)):(b||(m=kr(m,Is)),u.i=new Ds(m,u.l))}function rt(u,m,b){u.i.set(m,b)}function Vr(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,vn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ea=/[#\/\?@]/g,mu=/[#\?:]/g,Ll=/[#\?]/g,Is=/[#\?@]/g,pu=/#/g;function Ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=Ds.prototype,s.add=function(u,m){bn(this),this.i=null,u=Os(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function gu(u,m){bn(u),m=Os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ul(u,m){return bn(u),m=Os(u,m),u.g.has(m)}s.forEach=function(u,m){bn(this),this.g.forEach(function(b,A){b.forEach(function(U){u.call(m,U,A,this)},this)},this)};function Pl(u,m){bn(u);let b=[];if(typeof m=="string")Ul(u,m)&&(b=b.concat(u.g.get(Os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return bn(this),this.i=null,u=Os(this,u),Ul(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Pl(this,u),u.length>0?String(u[0]):m):m};function Sa(u,m,b){gu(u,m),b.length>0&&(u.i=null,u.g.set(Os(u,m),q(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var b=m[A];const U=es(b);b=Pl(this,b);for(let F=0;F<b.length;F++){let ie=U;b[F]!==""&&(ie+="="+es(b[F])),u.push(ie)}}return this.i=u.join("&")};function yu(u){const m=new Ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(b,A){const U=A.toLowerCase();A!=U&&(gu(this,A),Sa(this,U,b))},u)),u.j=m}function li(u,m){const b=new si;if(d.Image){const A=new Image;A.onload=E(Hn,b,"TestLoadImage: loaded",!0,m,A),A.onerror=E(Hn,b,"TestLoadImage: error",!1,m,A),A.onabort=E(Hn,b,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(Hn,b,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function zl(u,m){const b=new si,A=new AbortController,U=setTimeout(()=>{A.abort(),Hn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?Hn(b,"TestPingServer: ok",!0,m):Hn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Hn(b,"TestPingServer: error",!1,m)})}function Hn(u,m,b,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(b)}catch{}}function Ms(){this.g=new Wi}function Ii(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ii,ii),Ii.prototype.g=function(){return new jr(this.i,this.h)};function jr(u,m){Ue.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(jr,Ue),s=jr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,oi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vs(this):oi(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Vs(this))},s.Na=function(u){this.g&&(this.response=u,Vs(this))},s.ga=function(){this.g&&Vs(this)};function Vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fn(u){let m="";return se(u,function(b,A){m+=A,m+=":",m+=b,m+=`\r
`}),m}function Lr(u,m,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Fn(b),typeof u=="string"?b!=null&&es(b):rt(u,m,b))}function ot(u){Ue.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ot,Ue);var Di=/^https?$/i,ql=["POST","PUT"];s=ot.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Il.g(),this.g.onreadystatechange=I(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Ur(this,F);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)b.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())b.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(F=>F.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ql,m,void 0)>=0)||A||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of b)this.g.setRequestHeader(F,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){Ur(this,F)}};function Ur(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Bl(u),ts(u)}function Bl(u){u.A||(u.A=!0,Se(u,"complete"),Se(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Se(this,"complete"),Se(this,"abort"),ts(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(Se(u,"readystatechange"),ui(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var A;if(A=F===0){let ie=String(u.D).match(du)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),A=!Di.test(ie?ie.toLowerCase():"")}b=A}if(b)Se(u,"complete"),Se(u,"success");else{u.o=6;try{var U=ui(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Bl(u)}}finally{ts(u)}}}}function ts(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||Se(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),gn(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var b=cu(u[A]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const F=m[U]||[];m[U]=F,F.push(b)}De(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function ks(u){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(u&&u.concurrentRequestLimit),this.Ba=new Ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ks.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,A){kt(0),this.W=u,this.H=m||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=Au(this,null,this.W),Mi(this)};function Hl(u){if(xa(u),u.I==3){var m=u.V++,b=Ut(u.J);if(rt(b,"SID",u.M),rt(b,"RID",m),rt(b,"TYPE","terminate"),zr(u,b),m=new ri(u,u.j,m),m.M=2,m.A=Vr(Ut(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}Su(u)}function js(u){u.g&&(Gl(u),u.g.cancel(),u.g=null)}function xa(u){js(u),u.v&&(d.clearTimeout(u.v),u.v=null),Na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!Ol(u.h)&&!u.m){u.m=!0;var m=u.Ea;xe||S(),ge||(xe(),ge=!0),N.add(m,u),u.D=0}}function Ra(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ti(g(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ri(this,this.j,u);let F=this.o;if(this.U&&(F?(F=M(F),ne(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=_u(this,U,m),b=Ut(this.J),rt(b,"RID",u),rt(b,"CVER",22),this.G&&rt(b,"X-HTTP-Session-Id",this.G),zr(this,b),F&&(this.R?m="headers="+es(Fn(F))+"&"+m:this.u&&Lr(b,this.u,F)),Ml(this.h,U),this.Ra&&rt(b,"TYPE","init"),this.S?(rt(b,"$req",m),rt(b,"SID","null"),U.U=!0,Si(U,b,null)):Si(U,b,m),this.I=2}}else this.I==3&&(u?Fl(this,u):this.i.length==0||Ol(this.h)||Fl(this))};function Fl(u,m){var b;m?b=m.l:b=u.V++;const A=Ut(u.J);rt(A,"SID",u.M),rt(A,"RID",b),rt(A,"AID",u.K),zr(u,A),u.u&&u.o&&Lr(A,u.u,u.o),b=new ri(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ml(u.h,b),Si(b,A,m)}function zr(u,m){u.H&&se(u.H,function(b,A){rt(m,A,b)}),u.l&&se({},function(b,A){rt(m,A,b)})}function _u(u,m,b){b=Math.min(u.i.length,b);const A=u.l?g(u.l.Ka,u.l,u):null;e:{var U=u.i;let Me=-1;for(;;){const Dt=["count="+b];Me==-1?b>0?(Me=U[0].g,Dt.push("ofs="+Me)):Me=0:Dt.push("ofs="+Me);let Je=!0;for(let bt=0;bt<b;bt++){var F=U[bt].g;const Gn=U[bt].map;if(F-=Me,F<0)Me=Math.max(0,U[bt].g-100),Je=!1;else try{F="req"+F+"_"||"";try{var ie=Gn instanceof Map?Gn:Object.entries(Gn);for(const[ki,ci]of ie){let hi=ci;y(ci)&&(hi=xt(ci)),Dt.push(F+ki+"="+encodeURIComponent(hi))}}catch(ki){throw Dt.push(F+"type="+encodeURIComponent("_badmap")),ki}}catch{A&&A(Gn)}}if(Je){ie=Dt.join("&");break e}}ie=void 0}return u=u.i.splice(0,b),m.G=u,ie}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;xe||S(),ge||(xe(),ge=!0),N.add(m,u),u.A=0}}function qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ti(g(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ti(g(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),js(this),bu(this))};function Gl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new ri(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ut(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),zr(u,m),u.u&&u.o&&Lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Vr(Ut(m)),b.u=null,b.R=!0,va(b,u)}s.Va=function(){this.C!=null&&(this.C=null,js(this),qr(this),kt(19))};function Na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var b=null;if(u.g==m){Na(u),Gl(u),u.g=null;var A=2}else if(Ni(u.h,m))b=m.G,Vl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;A=_a(),Se(A,new bi(A,b)),Mi(u)}else vu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&Ra(u,m)||A==2&&qr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),U){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function Eu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var b=g(u.bb,u),A=u.Ua;const U=!A;A=new Dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$t(A,"https"),Vr(A),U?li(A.toString(),b):zl(A.toString(),b)}else kt(2);u.I=0,u.l&&u.l.pa(m),Su(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=kl(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,b){var A=b instanceof Dn?Ut(b):new Dn(b);if(A.g!="")m&&(A.g=m+"."+A.g),Cs(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const F=new Dn(null);A&&$t(F,A),m&&(F.g=m),U&&Cs(F,U),b&&(F.h=b),A=F}return b=u.G,m=u.wa,b&&m&&rt(A,b,m),rt(A,"VER",u.ka),zr(u,A),A}function wu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ot(new Ii({ab:b})):new ot(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ls(){}Ls.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){Ue.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new is(this)}w(yn,Ue),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Hl(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=xt(u),u=b);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Mi(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,yn.Z.N.call(this)};function Ru(u){en.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Ru,en);function Nu(){qn.call(this),this.status=1}w(Nu,qn);function is(u){this.g=u}w(is,xu),is.prototype.ra=function(){Se(this.g,"a")},is.prototype.qa=function(u){Se(this.g,new Ru(u))},is.prototype.pa=function(u){Se(this.g,new Nu)},is.prototype.oa=function(){Se(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Nb=function(){return new Ls},Rb=function(){return _a()},xb=It,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,Hc=Or,Cl.COMPLETE="complete",wb=Cl,Ns.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.J,Do=Ns,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,Ab=ot}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const I0="@firebase/firestore",D0="4.9.3";let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let wl="12.7.0";const ma=new Vm("@firebase/firestore");function rl(){return ma.logLevel}function le(s,...e){if(ma.logLevel<=Fe.DEBUG){const i=e.map(Fm);ma.debug(`Firestore (${wl}): ${s}`,...i)}}function ws(s,...e){if(ma.logLevel<=Fe.ERROR){const i=e.map(Fm);ma.error(`Firestore (${wl}): ${s}`,...i)}}function pl(s,...e){if(ma.logLevel<=Fe.WARN){const i=e.map(Fm);ma.warn(`Firestore (${wl}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Cb(s,a,i)}function Cb(s,e,i){let a=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ws(a),new Error(a)}function tt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Cb(e,o,a)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Ib{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class zw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qw{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _r)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(tt(typeof a.accessToken=="string",31837,{l:a}),new Ib(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class Bw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Hw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Bw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Gw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Gw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Ge(s,e){return s<e?-1:s>e?1:0}function mm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Jd(o)===Jd(c)?Ge(o,c):Jd(o)?1:-1}return Ge(s.length,e.length)}const Qw=55296,Kw=57343;function Jd(s){const e=s.charCodeAt(0);return e>=Qw&&e<=Kw}function gl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const M0="__name__";class zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const a=zi.isNumericId(e),o=zi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?zi.extractNumericId(e).compare(zi.extractNumericId(i)):mm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class _t extends zi{construct(e,i,a){return new _t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const Yw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends zi{construct(e,i,a){return new on(e,i,a)}static isValidIdentifier(e){return Yw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new on([M0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(i)}static emptyPath(){return new on([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(_t.fromString(e))}static fromName(e){return new ve(_t.fromString(e).popFirst(5))}static empty(){return new ve(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new _t(e.slice()))}}function Db(s,e,i){if(!i)throw new fe(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Xw(s,e,i,a){if(e===!0&&a===!0)throw new fe(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function V0(s){if(!ve.isDocumentKey(s))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function k0(s){if(ve.isDocumentKey(s))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ob(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function yi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Qm(s);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ft(s,e){const i={typeString:s};return e&&(i.value=e),i}function tu(s,e){if(!Ob(s))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new fe(J.INVALID_ARGUMENT,i);return!0}const j0=-62135596800,L0=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*L0);return new vt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<j0)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Ft("string",vt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new vt(0,0))}static max(){return new Re(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fo=-1;function $w(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new vt(i+1,0):new vt(i,a));return new Tr(o,ve.empty(),e)}function Zw(s){return new Tr(s.readTime,s.key,Fo)}class Tr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Tr(Re.min(),ve.empty(),Fo)}static max(){return new Tr(Re.max(),ve.empty(),Fo)}}function Jw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ve.comparator(s.documentKey,e.documentKey),i!==0?i:Ge(s.largestBatchId,e.largestBatchId))}const Ww="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xl(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Ww)throw s;le("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let y=0;for(let v=0;v<c;v++){const g=v;i(e[g]).next((E=>{d[g]=E,++y,y===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function tx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Rl(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;const Km=-1;function Ah(s){return s==null}function ih(s){return s===0&&1/s==-1/0}function nx(s){return typeof s=="number"&&Number.isInteger(s)&&!ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Mb="";function ix(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=U0(e)),e=sx(s.get(i),e);return U0(e)}function sx(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Mb:i+="";break;default:i+=c}}return i}function U0(s){return s+Mb+""}function P0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Nr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Vb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||ln.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??ln.RED,this.left=o??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new ln(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new ln(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Yt(this.comparator);return i.data=e,i}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Yt(on.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kb("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const i=rx.exec(s);if(tt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Vt(s.seconds),nanos:Vt(s.nanos)}}function Vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Sr(s){return typeof s=="string"?cn.fromBase64String(s):cn.fromUint8Array(s)}const jb="server_timestamp",Lb="__type__",Ub="__previous_value__",Pb="__local_write_time__";function Ym(s){return(s?.mapValue?.fields||{})[Lb]?.stringValue===jb}function wh(s){const e=s.mapValue.fields[Ub];return Ym(e)?wh(e):e}function Go(s){const e=Er(s.mapValue.fields[Pb].timestampValue);return new vt(e.seconds,e.nanos)}class ax{constructor(e,i,a,o,c,d,y,v,g,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=g,this.isUsingEmulator=E}}const sh="(default)";class Qo{constructor(e,i){this.projectId=e,this.database=i||sh}static empty(){return new Qo("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof Qo&&e.projectId===this.projectId&&e.database===this.database}}const zb="__type__",lx="__max__",kc={mapValue:{}},qb="__vector__",rh="value";function Ar(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ym(s)?4:ux(s)?9007199254740991:ox(s)?10:11:Te(28295,{value:s})}function Yi(s,e){if(s===e)return!0;const i=Ar(s);if(i!==Ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Go(s).isEqual(Go(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Er(o.timestampValue),y=Er(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Sr(o.bytesValue).isEqual(Sr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Vt(o.geoPointValue.latitude)===Vt(c.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Vt(o.integerValue)===Vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Vt(o.doubleValue),y=Vt(c.doubleValue);return d===y?ih(d)===ih(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return gl(s.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(P0(d)!==P0(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Yi(d[v],y[v])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Ko(s,e){return(s.values||[]).find((i=>Yi(i,e)))!==void 0}function yl(s,e){if(s===e)return 0;const i=Ar(s),a=Ar(e);if(i!==a)return Ge(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Vt(c.integerValue||c.doubleValue),v=Vt(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return q0(s.timestampValue,e.timestampValue);case 4:return q0(Go(s),Go(e));case 5:return mm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=Sr(c),v=Sr(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),v=d.split("/");for(let g=0;g<y.length&&g<v.length;g++){const E=Ge(y[g],v[g]);if(E!==0)return E}return Ge(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ge(Vt(c.latitude),Vt(d.latitude));return y!==0?y:Ge(Vt(c.longitude),Vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return B0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},v=d.fields||{},g=y[rh]?.arrayValue,E=v[rh]?.arrayValue,w=Ge(g?.values?.length||0,E?.values?.length||0);return w!==0?w:B0(g,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===kc.mapValue&&d===kc.mapValue)return 0;if(c===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),g=d.fields||{},E=Object.keys(g);v.sort(),E.sort();for(let w=0;w<v.length&&w<E.length;++w){const I=mm(v[w],E[w]);if(I!==0)return I;const q=yl(y[v[w]],g[E[w]]);if(q!==0)return q}return Ge(v.length,E.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function q0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const i=Er(s),a=Er(e),o=Ge(i.seconds,a.seconds);return o!==0?o:Ge(i.nanos,a.nanos)}function B0(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=yl(i[o],a[o]);if(c)return c}return Ge(i.length,a.length)}function _l(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Er(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Sr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ve.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=pm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${pm(i.fields[d])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function Fc(s){switch(Ar(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(s);return e?16+Fc(e):16;case 5:return 2*s.stringValue.length;case 6:return Sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Fc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Nr(a.fields,((c,d)=>{o+=c.length+Fc(d)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function gm(s){return!!s&&"integerValue"in s}function Xm(s){return!!s&&"arrayValue"in s}function H0(s){return!!s&&"nullValue"in s}function F0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gc(s){return!!s&&"mapValue"in s}function ox(s){return(s?.mapValue?.fields||{})[zb]?.stringValue===qb}function Lo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Nr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Lo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Lo(s.arrayValue.values[i]);return e}return{...s}}function ux(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===lx}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(i)}setAll(e){let i=on.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Lo(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Nr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Rn(Lo(this.value))}}function Bb(s){const e=[];return Nr(s.fields,((i,a)=>{const o=new on([i]);if(Gc(a)){const c=Bb(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Pn(e)}class mn{constructor(e,i,a,o,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new mn(e,0,Re.min(),Re.min(),Re.min(),Rn.empty(),0)}static newFoundDocument(e,i,a,o){return new mn(e,1,i,Re.min(),a,o,0)}static newNoDocument(e,i){return new mn(e,2,i,Re.min(),Re.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,Re.min(),Re.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(e,i){this.position=e,this.inclusive=i}}function G0(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ve.comparator(ve.fromName(d.referenceValue),i.key):a=yl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Q0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Yi(s.position[i],e.position[i]))return!1;return!0}class lh{constructor(e,i="asc"){this.field=e,this.dir=i}}function cx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Hb{}class Qt extends Hb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new fx(e,i,a):i==="array-contains"?new px(e,a):i==="in"?new gx(e,a):i==="not-in"?new yx(e,a):i==="array-contains-any"?new _x(e,a):new Qt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new dx(e,a):new mx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yl(i,this.value)):i!==null&&Ar(this.value)===Ar(i)&&this.matchesComparison(yl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends Hb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xi(e,i)}matches(e){return Fb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Fb(s){return s.op==="and"}function Gb(s){return hx(s)&&Fb(s)}function hx(s){for(const e of s.filters)if(e instanceof Xi)return!1;return!0}function ym(s){if(s instanceof Qt)return s.field.canonicalString()+s.op.toString()+_l(s.value);if(Gb(s))return s.filters.map((e=>ym(e))).join(",");{const e=s.filters.map((i=>ym(i))).join(",");return`${s.op}(${e})`}}function Qb(s,e){return s instanceof Qt?(function(a,o){return o instanceof Qt&&a.op===o.op&&a.field.isEqual(o.field)&&Yi(a.value,o.value)})(s,e):s instanceof Xi?(function(a,o){return o instanceof Xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&Qb(d,o.filters[y])),!0):!1})(s,e):void Te(19439)}function Kb(s){return s instanceof Qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${_l(i.value)}`})(s):s instanceof Xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Kb).join(" ,")+"}"})(s):"Filter"}class fx extends Qt{constructor(e,i,a){super(e,i,a),this.key=ve.fromName(a.referenceValue)}matches(e){const i=ve.comparator(e.key,this.key);return this.matchesComparison(i)}}class dx extends Qt{constructor(e,i){super(e,"in",i),this.keys=Yb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class mx extends Qt{constructor(e,i){super(e,"not-in",i),this.keys=Yb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Yb(s,e){return(e.arrayValue?.values||[]).map((i=>ve.fromName(i.referenceValue)))}class px extends Qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xm(i)&&Ko(i.arrayValue,this.value)}}class gx extends Qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ko(this.value.arrayValue,i)}}class yx extends Qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ko(this.value.arrayValue,i)}}class _x extends Qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ko(this.value.arrayValue,a)))}}class vx{constructor(e,i=null,a=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function K0(s,e=null,i=[],a=[],o=null,c=null,d=null){return new vx(s,e,i,a,o,c,d)}function $m(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>ym(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ah(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>_l(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>_l(a))).join(",")),e.Te=i}return e.Te}function Zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!cx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Qb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Q0(s.startAt,e.startAt)&&Q0(s.endAt,e.endAt)}function _m(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class xh{constructor(e,i=null,a=[],o=[],c=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bx(s,e,i,a,o,c,d,y){return new xh(s,e,i,a,o,c,d,y)}function Jm(s){return new xh(s)}function Y0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Tx(s){return s.collectionGroup!==null}function Uo(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Yt(on.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((g=>{g.isInequality()&&(y=y.add(g.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lh(c,a))})),i.has(on.keyField().canonicalString())||e.Ie.push(new lh(on.keyField(),a))}return e.Ie}function Fi(s){const e=Ce(s);return e.Ee||(e.Ee=Ex(e,Uo(s))),e.Ee}function Ex(s,e){if(s.limitType==="F")return K0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new lh(o.field,c)}));const i=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return K0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function vm(s,e,i){return new xh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rh(s,e){return Zm(Fi(s),Fi(e))&&s.limitType===e.limitType}function Xb(s){return`${$m(Fi(s))}|lt:${s.limitType}`}function al(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Kb(o))).join(", ")}]`),Ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>_l(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>_l(o))).join(",")),`Target(${a})`})(Fi(s))}; limitType=${s.limitType})`}function Nh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ve.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Uo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,v){const g=G0(d,y,v);return d.inclusive?g<=0:g<0})(a.startAt,Uo(a),o)||a.endAt&&!(function(d,y,v){const g=G0(d,y,v);return d.inclusive?g>=0:g>0})(a.endAt,Uo(a),o))})(s,e)}function Sx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function $b(s){return(e,i)=>{let a=!1;for(const o of Uo(s)){const c=Ax(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Ax(s,e,i){const a=s.field.isKeyField()?ve.comparator(e.key,i.key):(function(c,d,y){const v=d.data.field(c),g=y.data.field(c);return v!==null&&g!==null?yl(v,g):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:s.dir})}}class ga{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return Vb(this.inner)}size(){return this.innerSize}}const wx=new wt(ve.comparator);function xs(){return wx}const Zb=new wt(ve.comparator);function Oo(...s){let e=Zb;for(const i of s)e=e.insert(i.key,i);return e}function Jb(s){let e=Zb;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function oa(){return Po()}function Wb(){return Po()}function Po(){return new ga((s=>s.toString()),((s,e)=>s.isEqual(e)))}const xx=new wt(ve.comparator),Rx=new Yt(ve.comparator);function Qe(...s){let e=Rx;for(const i of s)e=e.add(i);return e}const Nx=new Yt(Ge);function Cx(){return Nx}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function e1(s){return{integerValue:""+s}}function Ix(s,e){return nx(e)?e1(e):Wm(s,e)}class Ch{constructor(){this._=void 0}}function Dx(s,e,i){return s instanceof oh?(function(o,c){const d={fields:{[Lb]:{stringValue:jb},[Pb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ym(c)&&(c=wh(c)),c&&(d.fields[Ub]=c),{mapValue:d}})(i,e):s instanceof Yo?n1(s,e):s instanceof Xo?i1(s,e):(function(o,c){const d=t1(o,c),y=X0(d)+X0(o.Ae);return gm(d)&&gm(o.Ae)?e1(y):Wm(o.serializer,y)})(s,e)}function Ox(s,e,i){return s instanceof Yo?n1(s,e):s instanceof Xo?i1(s,e):i}function t1(s,e){return s instanceof uh?(function(a){return gm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class oh extends Ch{}class Yo extends Ch{constructor(e){super(),this.elements=e}}function n1(s,e){const i=s1(e);for(const a of s.elements)i.some((o=>Yi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Xo extends Ch{constructor(e){super(),this.elements=e}}function i1(s,e){let i=s1(e);for(const a of s.elements)i=i.filter((o=>!Yi(o,a)));return{arrayValue:{values:i}}}class uh extends Ch{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function X0(s){return Vt(s.integerValue||s.doubleValue)}function s1(s){return Xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Mx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Yo&&o instanceof Yo||a instanceof Xo&&o instanceof Xo?gl(a.elements,o.elements,Yi):a instanceof uh&&o instanceof uh?Yi(a.Ae,o.Ae):a instanceof oh&&o instanceof oh})(s.transform,e.transform)}class Vx{constructor(e,i){this.version=e,this.transformResults=i}}class Nn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ih{}function r1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Dh(s.key,Nn.none()):new nu(s.key,s.data,Nn.none());{const i=s.data,a=Rn.empty();let o=new Yt(on.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Cr(s.key,a,new Pn(o.toArray()),Nn.none())}}function kx(s,e,i){s instanceof nu?(function(o,c,d){const y=o.value.clone(),v=Z0(o.fieldTransforms,c,d.transformResults);y.setAll(v),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Cr?(function(o,c,d){if(!Qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=Z0(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(a1(o)),v.setAll(y),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function zo(s,e,i,a){return s instanceof nu?(function(c,d,y,v){if(!Qc(c.precondition,d))return y;const g=c.value.clone(),E=J0(c.fieldTransforms,v,d);return g.setAll(E),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(s,e,i,a):s instanceof Cr?(function(c,d,y,v){if(!Qc(c.precondition,d))return y;const g=J0(c.fieldTransforms,v,d),E=d.data;return E.setAll(a1(c)),E.setAll(g),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,y){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function jx(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=t1(a.transform,o||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,c))}return i||null}function $0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&gl(a,o,((c,d)=>Mx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nu extends Ih{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends Ih{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function a1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Z0(s,e,i){const a=new Map;tt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,y=e.data.field(c.field);a.set(c.field,Ox(d,y,i[o]))}return a}function J0(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Dx(c,d,e))}return a}class Dh extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lx extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ux{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&kx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=zo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=zo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Wb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const v=r1(d,y);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((i,a)=>$0(i,a)))&&gl(this.baseMutations,e.baseMutations,((i,a)=>$0(i,a)))}}class ep{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){tt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return xx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new ep(e,i,a,o)}}class Px{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ht,Ye;function qx(s){switch(s){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function l1(s){if(s===void 0)return ws("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ht.OK:return J.OK;case Ht.CANCELLED:return J.CANCELLED;case Ht.UNKNOWN:return J.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return J.INTERNAL;case Ht.UNAVAILABLE:return J.UNAVAILABLE;case Ht.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ht.NOT_FOUND:return J.NOT_FOUND;case Ht.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ht.ABORTED:return J.ABORTED;case Ht.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ht.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:s})}}(Ye=Ht||(Ht={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function Bx(){return new TextEncoder}const Hx=new yr([4294967295,4294967295],0);function W0(s){const e=Bx().encode(s),i=new Sb;return i.update(e),new Uint8Array(i.digest())}function ev(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new yr([i,a],0),new yr([o,c],0)]}class tp{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(a<0)throw new Mo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=yr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(yr.fromNumber(a)));return o.compare(Hx)===1&&(o=new yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=W0(e),[a,o]=ev(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new tp(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=W0(e),[a,o]=ev(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Oh(Re.min(),o,new wt(Ge),xs(),Qe())}}class iu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new iu(a,i,Qe(),Qe(),Qe())}}class Kc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class o1{constructor(e,i){this.targetId=e,this.Ce=i}}class u1{constructor(e,i,a=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class tv{constructor(){this.ve=0,this.Fe=nv(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),i=Qe(),a=Qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:c})}})),new iu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=nv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fx{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.Je=jc(),this.He=jc(),this.Ye=new wt(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(_m(c))if(a===0){const d=new ve(c.path);this.et(i,d,mn.newNoDocument(d,Re.min()))}else tt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const g=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=Sr(a).toUint8Array()}catch(v){if(v instanceof kb)return pl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new tp(d,o,c)}catch(v){return pl(v instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&_m(y.target)){const v=new ve(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,mn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Qe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((v=>{const g=this.ot(v);return!g||g.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Oh(e,i,this.Ye,this.je,a);return this.je=xs(),this.Je=jc(),this.He=jc(),this.Ye=new wt(Ge),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new tv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Yt(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Yt(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new wt(ve.comparator)}function nv(){return new wt(ve.comparator)}const Gx={asc:"ASCENDING",desc:"DESCENDING"},Qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kx={and:"AND",or:"OR"};class Yx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bm(s,e){return s.useProto3Json||Ah(e)?e:{value:e}}function ch(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Xx(s,e){return ch(s,e.toTimestamp())}function Gi(s){return tt(!!s,49232),Re.fromTimestamp((function(i){const a=Er(i);return new vt(a.seconds,a.nanos)})(s))}function np(s,e){return Tm(s,e).canonicalString()}function Tm(s,e){const i=(function(o){return new _t(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function h1(s){const e=_t.fromString(s);return tt(g1(e),10190,{key:e.toString()}),e}function Em(s,e){return np(s.databaseId,e.path)}function Wd(s,e){const i=h1(e);if(i.get(1)!==s.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ve(d1(i))}function f1(s,e){return np(s.databaseId,e)}function $x(s){const e=h1(s);return e.length===4?_t.emptyPath():d1(e)}function Sm(s){return new _t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function d1(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function iv(s,e,i){return{name:Em(s,e),fields:i.value.mapValue.fields}}function Zx(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,E){return g.useProto3Json?(tt(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):(tt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(g){const E=g.code===void 0?J.UNKNOWN:l1(g.code);return new fe(E,g.message||"")})(d);i=new u1(a,o,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Wd(s,a.document.name),c=Gi(a.document.updateTime),d=a.document.createTime?Gi(a.document.createTime):Re.min(),y=new Rn({mapValue:{fields:a.document.fields}}),v=mn.newFoundDocument(o,c,d,y),g=a.targetIds||[],E=a.removedTargetIds||[];i=new Kc(g,E,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Wd(s,a.document),c=a.readTime?Gi(a.readTime):Re.min(),d=mn.newNoDocument(o,c),y=a.removedTargetIds||[];i=new Kc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Wd(s,a.document),c=a.removedTargetIds||[];i=new Kc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new zx(o,c),y=a.targetId;i=new o1(y,d)}}return i}function Jx(s,e){let i;if(e instanceof nu)i={update:iv(s,e.key,e.value)};else if(e instanceof Dh)i={delete:Em(s,e.key)};else if(e instanceof Cr)i={update:iv(s,e.key,e.data),updateMask:lR(e.fieldMask)};else{if(!(e instanceof Lx))return Te(16599,{Vt:e.type});i={verify:Em(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Yo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Xo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof uh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Xx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function Wx(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Gi(o.updateTime):Gi(c);return d.isEqual(Re.min())&&(d=Gi(c)),new Vx(d,o.transformResults||[])})(i,e)))):[]}function eR(s,e){return{documents:[f1(s,e.path)]}}function tR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=f1(s,o);const c=(function(g){if(g.length!==0)return p1(Xi.create(g,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((E=>(function(I){return{field:ll(I.field),direction:sR(I.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=bm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:i,parent:o}}function nR(s){let e=$x(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){tt(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const I=m1(w);return I instanceof Xi&&Gb(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((I=>(function(H){return new lh(ol(H.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(I)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let I;return I=typeof w=="object"?w.value:w,Ah(I)?null:I})(i.limit));let v=null;i.startAt&&(v=(function(w){const I=!!w.before,q=w.values||[];return new ah(q,I)})(i.startAt));let g=null;return i.endAt&&(g=(function(w){const I=!w.before,q=w.values||[];return new ah(q,I)})(i.endAt)),bx(e,o,d,c,y,"F",v,g)}function iR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function m1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ol(i.unaryFilter.field);return Qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(i.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(i.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(i.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Qt.create(ol(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Xi.create(i.compositeFilter.filters.map((a=>m1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function sR(s){return Gx[s]}function rR(s){return Qx[s]}function aR(s){return Kx[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return on.fromServerFormat(s.fieldPath)}function p1(s){return s instanceof Qt?(function(i){if(i.op==="=="){if(F0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NAN"}};if(H0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(F0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NAN"}};if(H0(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(i.field),op:rR(i.op),value:i.value}}})(s):s instanceof Xi?(function(i){const a=i.getFilters().map((o=>p1(o)));return a.length===1?a[0]:{compositeFilter:{op:aR(i.op),filters:a}}})(s):Te(54877,{filter:s})}function lR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function g1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class hr{constructor(e,i,a,o,c=Re.min(),d=Re.min(),y=cn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oR{constructor(e){this.yt=e}}function uR(s){const e=nR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vm(e,e.limit,"L"):e}class cR{constructor(){this.Cn=new hR}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Tr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class hR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Yt(_t.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Yt(_t.comparator)).toArray()}}const sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y1=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(y1,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}const rv="LruGarbageCollector",fR=1048576;function av([s,e],[i,a]){const o=Ge(s,i);return o===0?Ge(e,a):o}class dR{constructor(e){this.Ir=e,this.buffer=new Yt(av),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();av(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(rv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Rl(i)?le(rv,"Ignoring IndexedDB error during garbage collection: ",i):await xl(i)}await this.Vr(3e5)}))}}class pR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Sh.ce);const a=new dR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(sv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,y,v,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,y=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(g=Date.now(),rl()<=Fe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${w} documents in `+(g-v)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function gR(s,e){return new pR(s,e)}class yR{constructor(){this.changes=new ga((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _R{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class vR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&zo(a.mutation,o,Pn.empty(),vt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Qe()){const o=oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Oo();return c.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let c=xs();const d=Po(),y=(function(){return Po()})();return i.forEach(((v,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Cr)?c=c.insert(g.key,g):E!==void 0?(d.set(g.key,E.mutation.getFieldMask()),zo(E.mutation,g,E.mutation.getFieldMask(),vt.now())):d.set(g.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((g,E)=>d.set(g,E))),i.forEach(((g,E)=>y.set(g,new _R(E,d.get(g)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Po();let o=new wt(((d,y)=>d-y)),c=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const g=i.get(v);if(g===null)return;let E=a.get(v)||Pn.empty();E=y.applyToLocalView(g,E),a.set(v,E);const w=(o.get(y.batchId)||Qe()).add(v);o=o.insert(y.batchId,w)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),g=v.key,E=v.value,w=Wb();E.forEach((I=>{if(!c.has(I)){const q=r1(i.get(I),a.get(I));q!==null&&w.set(I,q),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Tx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(oa());let y=Fo,v=c;return d.next((g=>Z.forEach(g,((E,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{v=v.insert(E,I)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,v,g,Qe()))).next((E=>({batchId:y,changes:Jb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ve(i)).next((a=>{let o=Oo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Oo();return this.indexManager.getCollectionParents(e,c).next((y=>Z.forEach(y,(v=>{const g=(function(w,I){return new xh(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((E=>{E.forEach(((w,I)=>{d=d.insert(w,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((v,g)=>{const E=g.getKey();d.get(E)===null&&(d=d.insert(E,mn.newInvalidDocument(E)))}));let y=Oo();return d.forEach(((v,g)=>{const E=c.get(v);E!==void 0&&zo(E.mutation,g,Pn.empty(),vt.now()),Nh(i,g)&&(y=y.insert(v,g))})),y}))}}class bR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Gi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:uR(o.bundledQuery),readTime:Gi(o.readTime)}})(i)),Z.resolve()}}class TR{constructor(){this.overlays=new wt(ve.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=oa(),c=i.length+1,d=new ve(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,g=v.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new wt(((g,E)=>g-E));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>a){let E=c.get(g.largestBatchId);E===null&&(E=oa(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const y=oa(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((g,E)=>y.set(g,E))),!(y.size()>=o)););return Z.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Px(i,a));let c=this.qr.get(i);c===void 0&&(c=Qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class ER{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class ip{constructor(){this.Qr=new Yt(Wt.$r),this.Ur=new Yt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Wt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Wt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ve(new _t([])),a=new Wt(i,e),o=new Wt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ve(new _t([])),a=new Wt(i,e),o=new Wt(i,e+1);let c=Qe();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Wt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ve.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||ve.comparator(e.key,i.key)}}class SR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Wt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ux(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Wt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Wt(i,0),o=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Yt(Ge);return i.forEach((o=>{const c=new Wt(o,0),d=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ve.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new ve(c),0);let y=new Yt(Ge);return this.Zr.forEachWhile((v=>{const g=v.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){tt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Wt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Wt(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class AR{constructor(e){this.ri=e,this.docs=(function(){return new wt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let a=xs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=xs();const d=i.path,y=new ve(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:g,value:{document:E}}=v.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||Jw(Zw(E),a)<=0||(o.has(E.key)||Nh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Te(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new wR(this)}getSize(e){return Z.resolve(this.size)}}class wR extends yR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class xR{constructor(e){this.persistence=e,this.si=new ga((i=>$m(i)),Zm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new ip,this.targetCount=0,this.ai=vl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new vl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class _1{constructor(e,i){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new ER,this.referenceDelegate=e(this),this.Pi=new xR(this),this.indexManager=new cR,this.remoteDocumentCache=(function(o){return new AR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new oR(i),this.Ii=new bR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new TR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new SR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new RR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class RR extends ex{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.Ri=new ip,this.Vi=null}static mi(e){return new sp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=ve.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class hh{constructor(e,i){this.persistence=e,this.pi=new ga((a=>ix(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=gR(this,i)}static mi(e,i){return new hh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Qe(),o=Qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new rp(e,i.fromCache,a,o)}}class NR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vS()?8:tx(pn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new NR;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(rl()<=Fe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",al(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(rl()<=Fe.DEBUG&&le("QueryEngine","Query:",al(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(rl()<=Fe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",al(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(i))):Z.resolve())}ys(e,i){if(Y0(i))return Z.resolve(null);let a=Fi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=vm(i,null,"F"),a=Fi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Qe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((v=>{const g=this.Ds(i,y);return this.Cs(i,g,d,v.readTime)?this.ys(e,vm(i,null,"F")):this.vs(e,g,i,v)}))))})))))}ws(e,i,a,o){return Y0(i)||o.isEqual(Re.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(rl()<=Fe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),al(i)),this.vs(e,d,i,$w(o,Fo)).next((y=>y)))}))}Ds(e,i){let a=new Yt($b(e));return i.forEach(((o,c)=>{Nh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return rl()<=Fe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",al(i)),this.ps.getDocumentsMatchingQuery(e,i,Tr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ap="LocalStore",IR=3e8;class DR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new wt(Ge),this.xs=new ga((c=>$m(c)),Zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function OR(s,e,i,a){return new DR(s,e,i,a)}async function v1(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let v=Qe();for(const g of o){d.push(g.batchId);for(const E of g.mutations)v=v.add(E.key)}for(const g of c){y.push(g.batchId);for(const E of g.mutations)v=v.add(E.key)}return i.localDocuments.getDocuments(a,v).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:y})))}))}))}function MR(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,g,E){const w=g.batch,I=w.keys();let q=Z.resolve();return I.forEach((H=>{q=q.next((()=>E.getEntry(v,H))).next((te=>{const ee=g.docVersions.get(H);tt(ee!==null,48541),te.version.compareTo(ee)<0&&(w.applyToRemoteDocument(te,g),te.isValidDocument()&&(te.setReadTime(g.commitVersion),E.addEntry(te)))}))})),q.next((()=>y.mutationQueue.removeMutationBatch(v,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=Qe();for(let g=0;g<y.mutationResults.length;++g)y.mutationResults[g].transformResults.length>0&&(v=v.add(y.batch.mutations[g].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function b1(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function VR(s,e){const i=Ce(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((E,w)=>{const I=o.get(w);if(!I)return;y.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let q=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(cn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,a)),o=o.insert(w,q),(function(te,ee,oe){return te.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=IR?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(I,q,E)&&y.push(i.Pi.updateTargetData(c,q))}));let v=xs(),g=Qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),y.push(kR(c,d,e.documentUpdates).next((E=>{v=E.ks,g=E.qs}))),!a.isEqual(Re.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(E)}return Z.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,g))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function kR(s,e,i){let a=Qe(),o=Qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=xs();return i.forEach(((y,v)=>{const g=c.get(y);v.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Re.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!g.isValidDocument()||v.version.compareTo(g.version)>0||v.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):le(ap,"Ignoring outdated watch update for ",y,". Current version:",g.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function jR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function LR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new hr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Am(s,e,i){const a=Ce(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Rl(d))throw d;le(ap,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function lv(s,e,i){const a=Ce(s);let o=Re.min(),c=Qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,g,E){const w=Ce(v),I=w.xs.get(E);return I!==void 0?Z.resolve(w.Ms.get(I)):w.Pi.getTargetData(g,E)})(a,d,Fi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Re.min(),i?c:Qe()))).next((y=>(UR(a,Sx(e),y),{documents:y,Qs:c})))))}function UR(s,e,i){let a=s.Os.get(e)||Re.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class ov{constructor(){this.activeTargetIds=Cx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PR{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zR{Oo(e){}shutdown(){}}const uv="ConnectivityMonitor";class cv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(uv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(uv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function wm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const em="RestConnection",qR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===sh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=wm(),y=this.zo(e,i.toUriEncodedString());le(em,`Sending RPC '${e}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:g}=new URL(y),E=El(g);return this.Jo(e,y,v,a,E).then((w=>(le(em,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw pl(em,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=qR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class HR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class FR extends BR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=wm();return new Promise(((y,v)=>{const g=new Ab;g.setWithCredentials(!0),g.listenOnce(wb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Hc.NO_ERROR:const w=g.getResponseJson();le(fn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Hc.TIMEOUT:le(fn,`RPC '${e}' ${d} timed out`),v(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const I=g.getStatus();if(le(fn,`RPC '${e}' ${d} failed with status:`,I,"response text:",g.getResponseText()),I>0){let q=g.getResponseJson();Array.isArray(q)&&(q=q[0]);const H=q?.error;if(H&&H.status&&H.message){const te=(function(oe){const $=oe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN})(H.status);v(new fe(te,H.message))}else v(new fe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else v(new fe(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(fn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);le(fn,`RPC '${e}' ${d} sending request:`,o),g.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=wm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Nb(),y=Rb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(v.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const E=c.join("");le(fn,`Creating RPC '${e}' stream ${o}: ${E}`,v);const w=d.createWebChannel(E,v);this.I_(w);let I=!1,q=!1;const H=new HR({Yo:ee=>{q?le(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(I||(le(fn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),le(fn,`RPC '${e}' stream ${o} sending:`,ee),w.send(ee))},Zo:()=>w.close()}),te=(ee,oe,$)=>{ee.listen(oe,(ce=>{try{$(ce)}catch(Ie){setTimeout((()=>{throw Ie}),0)}}))};return te(w,Do.EventType.OPEN,(()=>{q||(le(fn,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),te(w,Do.EventType.CLOSE,(()=>{q||(q=!0,le(fn,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(w))})),te(w,Do.EventType.ERROR,(ee=>{q||(q=!0,pl(fn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),H.a_(new fe(J.UNAVAILABLE,"The operation could not be completed")))})),te(w,Do.EventType.MESSAGE,(ee=>{if(!q){const oe=ee.data[0];tt(!!oe,16349);const $=oe,ce=$?.error||$[0]?.error;if(ce){le(fn,`RPC '${e}' stream ${o} received error:`,ce);const Ie=ce.status;let xe=(function(S){const x=Ht[S];if(x!==void 0)return l1(x)})(Ie),ge=ce.message;xe===void 0&&(xe=J.INTERNAL,ge="Unknown error status: "+Ie+" with message "+ce.message),q=!0,H.a_(new fe(xe,ge)),w.close()}else le(fn,`RPC '${e}' stream ${o} received:`,oe),H.u_(oe)}})),te(y,xb.STAT_EVENT,(ee=>{ee.stat===dm.PROXY?le(fn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===dm.NOPROXY&&le(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function tm(){return typeof document<"u"?document:null}function Mh(s){return new Yx(s,!0)}class T1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hv="PersistentStream";class E1{constructor(e,i,a,o,c,d,y,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GR extends E1{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Zx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Gi(d.readTime):Re.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Sm(this.serializer),i.addTarget=(function(c,d){let y;const v=d.target;if(y=_m(v)?{documents:eR(c,v)}:{query:tR(c,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=c1(c,d.resumeToken);const g=bm(c,d.expectedCount);g!==null&&(y.expectedCount=g)}else if(d.snapshotVersion.compareTo(Re.min())>0){y.readTime=ch(c,d.snapshotVersion.toTimestamp());const g=bm(c,d.expectedCount);g!==null&&(y.expectedCount=g)}return y})(this.serializer,e);const a=iR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Sm(this.serializer),i.removeTarget=e,this.q_(i)}}class QR extends E1{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Wx(e.writeResults,e.commitTime),a=Gi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Sm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Jx(this.serializer,a)))};this.q_(i)}}class KR{}class YR extends KR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Tm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(J.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Tm(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class $R{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ya(this)&&(le(pa,"Restarting streams for network reachability change."),await(async function(v){const g=Ce(v);g.Ea.add(4),await su(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Vh(g)})(this))}))})),this.Ra=new XR(a,o)}}async function Vh(s){if(ya(s))for(const e of s.da)await e(!0)}async function su(s){for(const e of s.da)await e(!1)}function S1(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),cp(i)?up(i):Nl(i).O_()&&op(i,e))}function lp(s,e){const i=Ce(s),a=Nl(i);i.Ia.delete(e),a.O_()&&A1(i,e),i.Ia.size===0&&(a.O_()?a.L_():ya(i)&&i.Ra.set("Unknown"))}function op(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Nl(s).Y_(e)}function A1(s,e){s.Va.Ue(e),Nl(s).Z_(e)}function up(s){s.Va=new Fx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Nl(s).start(),s.Ra.ua()}function cp(s){return ya(s)&&!Nl(s).x_()&&s.Ia.size>0}function ya(s){return Ce(s).Ea.size===0}function w1(s){s.Va=void 0}async function ZR(s){s.Ra.set("Online")}async function JR(s){s.Ia.forEach(((e,i)=>{op(s,e)}))}async function WR(s,e){w1(s),cp(s)?(s.Ra.ha(e),up(s)):s.Ra.set("Unknown")}async function eN(s,e,i){if(s.Ra.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(a){le(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await fh(s,a)}else if(e instanceof Kc?s.Va.Ze(e):e instanceof o1?s.Va.st(e):s.Va.tt(e),!i.isEqual(Re.min()))try{const a=await b1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((v,g)=>{if(v.resumeToken.approximateByteSize()>0){const E=c.Ia.get(g);E&&c.Ia.set(g,E.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,g)=>{const E=c.Ia.get(v);if(!E)return;c.Ia.set(v,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),A1(c,v);const w=new hr(E.target,v,g,E.sequenceNumber);op(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){le(pa,"Failed to raise snapshot:",a),await fh(s,a)}}async function fh(s,e,i){if(!Rl(e))throw e;s.Ea.add(1),await su(s),s.Ra.set("Offline"),i||(i=()=>b1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(pa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function x1(s,e){return e().catch((i=>fh(s,i,e)))}async function kh(s){const e=Ce(s),i=wr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;tN(e);)try{const o=await jR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,nN(e,o)}catch(o){await fh(e,o)}R1(e)&&N1(e)}function tN(s){return ya(s)&&s.Ta.length<10}function nN(s,e){s.Ta.push(e);const i=wr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function R1(s){return ya(s)&&!wr(s).x_()&&s.Ta.length>0}function N1(s){wr(s).start()}async function iN(s){wr(s).ra()}async function sN(s){const e=wr(s);for(const i of s.Ta)e.ea(i.mutations)}async function rN(s,e,i){const a=s.Ta.shift(),o=ep.from(a,e,i);await x1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await kh(s)}async function aN(s,e){e&&wr(s).X_&&await(async function(a,o){if((function(d){return qx(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();wr(a).B_(),await x1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await kh(a)}})(s,e),R1(s)&&N1(s)}async function fv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),le(pa,"RemoteStore received new credentials");const a=ya(i);i.Ea.add(3),await su(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function lN(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await su(i),i.Ra.set("Unknown"))}function Nl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new GR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:ZR.bind(null,s),t_:JR.bind(null,s),r_:WR.bind(null,s),H_:eN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),cp(s)?up(s):s.Ra.set("Unknown")):(await s.ma.stop(),w1(s))}))),s.ma}function wr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new QR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:iN.bind(null,s),r_:aN.bind(null,s),ta:sN.bind(null,s),na:rN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(pa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class hp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,y=new hp(e,i,d,o,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(s,e){if(ws("AsyncQueue",`${e}: ${s}`),Rl(s))return new fe(J.UNAVAILABLE,`${e}: ${s}`);throw s}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ve.comparator(i.key,a.key):(i,a)=>ve.comparator(i.key,a.key),this.keyedMap=Oo(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new dl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class dv{constructor(){this.ga=new wt(ve.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class bl{constructor(e,i,a,o,c,d,y,v,g){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=g}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new bl(e,i,dl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class oN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uN{constructor(){this.queries=mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=mv(),c.forEach(((d,y)=>{for(const v of y.Sa)v.onError(a)}))})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function mv(){return new ga((s=>Xb(s)),Rh)}async function C1(s,e){const i=Ce(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new oN,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=fp(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&dp(i)}async function I1(s,e){const i=Ce(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function cN(s,e){const i=Ce(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&dp(i)}function hN(s,e,i){const a=Ce(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function dp(s){s.Ca.forEach((e=>{e.next()}))}var xm,pv;(pv=xm||(xm={})).Ma="default",pv.Cache="cache";class D1{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xm.Cache}}class O1{constructor(e){this.key=e}}class M1{constructor(e){this.key=e}}class fN{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=$b(e),this.tu=new dl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new dv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const I=o.get(E),q=Nh(this.query,w)?w:null,H=!!I&&this.mutatedKeys.has(I.key),te=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ee=!1;I&&q?I.data.isEqual(q.data)?H!==te&&(a.track({type:3,doc:q}),ee=!0):this.su(I,q)||(a.track({type:2,doc:q}),ee=!0,(v&&this.eu(q,v)>0||g&&this.eu(q,g)<0)&&(y=!0)):!I&&q?(a.track({type:0,doc:q}),ee=!0):I&&!q&&(a.track({type:1,doc:I}),ee=!0,(v||g)&&(y=!0)),ee&&(q?(d=d.add(q),c=te?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,w)=>(function(q,H){const te=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:ee})}};return te(q)-te(H)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,g=v!==this.Za;return this.Za=v,d.length!==0||g?{snapshot:new bl(this.query,e.tu,c,d,e.mutatedKeys,v===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new M1(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new O1(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mp="SyncEngine";class dN{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class mN{constructor(e){this.key=e,this.hu=!1}}class pN{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ga((y=>Xb(y)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new wt(ve.comparator),this.Au=new Map,this.Ru=new ip,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gN(s,e,i=!0){const a=P1(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await V1(a,e,i,!0),o}async function yN(s,e){const i=P1(s);await V1(i,e,!0,!1)}async function V1(s,e,i,a){const o=await LR(s.localStore,Fi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await _N(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&S1(s.remoteStore,o),y}async function _N(s,e,i,a,o){s.pu=(w,I,q)=>(async function(te,ee,oe,$){let ce=ee.view.ru(oe);ce.Cs&&(ce=await lv(te.localStore,ee.query,!1).then((({documents:N})=>ee.view.ru(N,ce))));const Ie=$&&$.targetChanges.get(ee.targetId),xe=$&&$.targetMismatches.get(ee.targetId)!=null,ge=ee.view.applyChanges(ce,te.isPrimaryClient,Ie,xe);return yv(te,ee.targetId,ge.au),ge.snapshot})(s,w,I,q);const c=await lv(s.localStore,e,!0),d=new fN(e,c.Qs),y=d.ru(c.documents),v=iu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),g=d.applyChanges(y,s.isPrimaryClient,v);yv(s,i,g.au);const E=new dN(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),g.snapshot}async function vN(s,e,i){const a=Ce(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Rh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&lp(a.remoteStore,o.targetId),Rm(a,o.targetId)})).catch(xl)):(Rm(a,o.targetId),await Am(a.localStore,o.targetId,!0))}async function bN(s,e){const i=Ce(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),lp(i.remoteStore,a.targetId))}async function TN(s,e,i){const a=NN(s);try{const o=await(function(d,y){const v=Ce(d),g=vt.now(),E=y.reduce(((q,H)=>q.add(H.key)),Qe());let w,I;return v.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let H=xs(),te=Qe();return v.Ns.getEntries(q,E).next((ee=>{H=ee,H.forEach(((oe,$)=>{$.isValidDocument()||(te=te.add(oe))}))})).next((()=>v.localDocuments.getOverlayedDocuments(q,H))).next((ee=>{w=ee;const oe=[];for(const $ of y){const ce=jx($,w.get($.key).overlayedDocument);ce!=null&&oe.push(new Cr($.key,ce,Bb(ce.value.mapValue),Nn.exists(!0)))}return v.mutationQueue.addMutationBatch(q,g,oe,y)})).next((ee=>{I=ee;const oe=ee.applyToLocalDocumentSet(w,te);return v.documentOverlayCache.saveOverlays(q,ee.batchId,oe)}))})).then((()=>({batchId:I.batchId,changes:Jb(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let g=d.Vu[d.currentUser.toKey()];g||(g=new wt(Ge)),g=g.insert(y,v),d.Vu[d.currentUser.toKey()]=g})(a,o.batchId,i),await ru(a,o.changes),await kh(a.remoteStore)}catch(o){const c=fp(o,"Failed to persist write");i.reject(c)}}async function k1(s,e){const i=Ce(s);try{const a=await VR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?tt(d.hu,14607):o.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await ru(i,a,e)}catch(a){await xl(a)}}function gv(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Ce(d);v.onlineState=y;let g=!1;v.queries.forEach(((E,w)=>{for(const I of w.Sa)I.va(y)&&(g=!0)})),g&&dp(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function EN(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new wt(ve.comparator);d=d.insert(c,mn.newNoDocument(c,Re.min()));const y=Qe().add(c),v=new Oh(Re.min(),new Map,new wt(Ge),d,y);await k1(a,v),a.du=a.du.remove(c),a.Au.delete(e),pp(a)}else await Am(a.localStore,e,!1).then((()=>Rm(a,e,i))).catch(xl)}async function SN(s,e){const i=Ce(s),a=e.batch.batchId;try{const o=await MR(i.localStore,e);L1(i,a,null),j1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ru(i,o)}catch(o){await xl(o)}}async function AN(s,e,i){const a=Ce(s);try{const o=await(function(d,y){const v=Ce(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return v.mutationQueue.lookupMutationBatch(g,y).next((w=>(tt(w!==null,37113),E=w.keys(),v.mutationQueue.removeMutationBatch(g,w)))).next((()=>v.mutationQueue.performConsistencyCheck(g))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(g,E,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>v.localDocuments.getDocuments(g,E)))}))})(a.localStore,e);L1(a,e,i),j1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ru(a,o)}catch(o){await xl(o)}}function j1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function L1(s,e,i){const a=Ce(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Rm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||U1(s,a)}))}function U1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(lp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),pp(s))}function yv(s,e,i){for(const a of i)a instanceof O1?(s.Ru.addReference(a.key,e),wN(s,a)):a instanceof M1?(le(mp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||U1(s,a.key)):Te(19791,{wu:a})}function wN(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(le(mp,"New document in limbo: "+i),s.Eu.add(a),pp(s))}function pp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ve(_t.fromString(e)),a=s.fu.next();s.Au.set(a,new mN(i)),s.du=s.du.insert(i,a),S1(s.remoteStore,new hr(Fi(Jm(i.path)),a,"TargetPurposeLimboResolution",Sh.ce))}}async function ru(s,e,i){const a=Ce(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{d.push(a.pu(v,e,i).then((g=>{if((g||i)&&a.isPrimaryClient){const E=g?!g.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(g){o.push(g);const E=rp.As(v.targetId,g);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,g){const E=Ce(v);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(g,(I=>Z.forEach(I.Es,(q=>E.persistence.referenceDelegate.addReference(w,I.targetId,q))).next((()=>Z.forEach(I.ds,(q=>E.persistence.referenceDelegate.removeReference(w,I.targetId,q)))))))))}catch(w){if(!Rl(w))throw w;le(ap,"Failed to update sequence numbers: "+w)}for(const w of g){const I=w.targetId;if(!w.fromCache){const q=E.Ms.get(I),H=q.snapshotVersion,te=q.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(I,te)}}})(a.localStore,c))}async function xN(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){le(mp,"User change. New user:",e.toKey());const a=await v1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new fe(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ru(i,a.Ls)}}function RN(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return Qe().add(a.key);{let o=Qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function P1(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=k1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EN.bind(null,e),e.Pu.H_=cN.bind(null,e.eventManager),e.Pu.yu=hN.bind(null,e.eventManager),e}function NN(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AN.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return OR(this.persistence,new CR,e.initialUser,this.serializer)}Cu(e){return new _1(sp.mi,this.serializer)}Du(e){return new PR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class CN extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof hh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new mR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new _1((a=>hh.mi(a,i)),this.serializer)}}class Nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>gv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=xN.bind(null,this.syncEngine),await lN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uN})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),a=(function(c){return new FR(c)})(e.databaseInfo);return(function(c,d,y,v){return new YR(c,d,y,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,y){return new $R(a,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>gv(this.syncEngine,i,0)),(function(){return cv.v()?new cv:new zR})())}createSyncEngine(e,i){return(function(o,c,d,y,v,g,E){const w=new pN(o,c,d,y,v,g);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);le(pa,"RemoteStore shutting down."),a.Ea.add(5),await su(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const xr="FirestoreClient";class IN{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function nm(s,e){s.asyncQueue.verifyOperationInProgress(),le(xr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await v1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function _v(s,e){s.asyncQueue.verifyOperationInProgress();const i=await DN(s);le(xr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>fv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>fv(e.remoteStore,o))),s._onlineComponents=e}async function DN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(xr,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;pl("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new dh)}}else le(xr,"Using default OfflineComponentProvider"),await nm(s,new CN(void 0));return s._offlineComponents}async function q1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(xr,"Using user provided OnlineComponentProvider"),await _v(s,s._uninitializedComponentsProvider._online)):(le(xr,"Using default OnlineComponentProvider"),await _v(s,new Nm))),s._onlineComponents}function ON(s){return q1(s).then((e=>e.syncEngine))}async function Cm(s){const e=await q1(s),i=e.eventManager;return i.onListen=gN.bind(null,e.syncEngine),i.onUnlisten=vN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=bN.bind(null,e.syncEngine),i}function MN(s,e,i={}){const a=new _r;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,g){const E=new z1({next:I=>{E.Nu(),d.enqueueAndForget((()=>I1(c,w))),I.fromCache&&v.source==="server"?g.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),w=new D1(y,E,{includeMetadataChanges:!0,qa:!0});return C1(c,w)})(await Cm(s),s.asyncQueue,e,i,a))),a.promise}function B1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const vv=new Map;const H1="firestore.googleapis.com",bv=!0;class Tv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H1,this.ssl=bv}else this.host=e.host,this.ssl=e.ssl??bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fR)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Pw;switch(a.type){case"firstParty":return new Hw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=vv.get(i);a&&(le("ComponentProvider","Removing Datastore"),vv.delete(i),a.terminate())})(this),Promise.resolve()}}function VN(s,e,i,a={}){s=yi(s,jh);const o=El(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(Lv(`https://${y}`),Uv("Firestore",!0)),c.host!==H1&&c.host!==y&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:o,emulatorOptions:a};if(!ha(v,d)&&(s._setSettings(v),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=dn.MOCK_USER;else{g=cS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(w)}s._authCredentials=new zw(new Ib(g,E))}}class au{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new au(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(tu(i,Kt._jsonSchema))return new Kt(e,a||null,new ve(_t.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Ft("string",Kt._jsonSchemaVersion),referencePath:Ft("string")};class vr extends au{constructor(e,i,a){super(e,i,Jm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ve(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function ei(s,e,...i){if(s=un(s),Db("collection","path",e),s instanceof jh){const a=_t.fromString(e,...i);return k0(a),new vr(s,null,a)}{if(!(s instanceof Kt||s instanceof vr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_t.fromString(e,...i));return k0(a),new vr(s.firestore,null,a)}}function Jt(s,e,...i){if(s=un(s),arguments.length===1&&(e=Gm.newId()),Db("doc","path",e),s instanceof jh){const a=_t.fromString(e,...i);return V0(a),new Kt(s,null,new ve(a))}{if(!(s instanceof Kt||s instanceof vr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_t.fromString(e,...i));return V0(a),new Kt(s.firestore,s instanceof vr?s.converter:null,new ve(a))}}const Ev="AsyncQueue";class Sv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T1(this,"async_queue_retry"),this._c=()=>{const a=tm();a&&le(Ev,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;le(Ev,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",Av(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=hp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:Av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Av(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function wv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Rr extends jh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Sv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sv(e),this._firestoreClient=void 0,await e}}}function kN(s,e){const i=typeof s=="object"?s:Bv(),a=typeof s=="string"?s:sh,o=jm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=oS("firestore");c&&VN(o,...c)}return o}function Lh(s){if(s._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jN(s),s._firestoreClient}function jN(s){const e=s._freezeSettings(),i=(function(o,c,d,y){return new ax(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,B1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new IN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(cn.fromBase64String(e))}catch(i){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ti(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Ft("string",ti._jsonSchemaVersion),bytes:Ft("string")};class Uh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gp{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(tu(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Ft("string",Qi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Ki{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ki(e.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:Ft("string",Ki._jsonSchemaVersion),vectorValues:Ft("object")};const LN=/^__.*__$/;class UN{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new nu(e,this.data,i,this.fieldTransforms)}}class F1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function G1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:s})}}class yp{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(G1(this.Ac)&&LN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PN{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(e)}Cc(e,i,a,o=!1){return new yp({Ac:e,methodName:i,Dc:a,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _p(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new PN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function vp(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);bp("Data must be an object, but it was:",d,a);const y=Q1(a,d);let v,g;if(c.merge)v=new Pn(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const I=Im(e,w,i);if(!d.contains(I))throw new fe(J.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Y1(E,I)||E.push(I)}v=new Pn(E),g=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,g=d.fieldTransforms;return new UN(new Rn(y),v,g)}class Ph extends gp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function zN(s,e,i,a){const o=s.Cc(1,e,i);bp("Data must be an object, but it was:",o,a);const c=[],d=Rn.empty();Nr(a,((v,g)=>{const E=Tp(e,v,i);g=un(g);const w=o.yc(E);if(g instanceof Ph)c.push(E);else{const I=zh(g,w);I!=null&&(c.push(E),d.set(E,I))}}));const y=new Pn(c);return new F1(d,y,o.fieldTransforms)}function qN(s,e,i,a,o,c){const d=s.Cc(1,e,i),y=[Im(e,a,i)],v=[o];if(c.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)y.push(Im(e,c[I])),v.push(c[I+1]);const g=[],E=Rn.empty();for(let I=y.length-1;I>=0;--I)if(!Y1(g,y[I])){const q=y[I];let H=v[I];H=un(H);const te=d.yc(q);if(H instanceof Ph)g.push(q);else{const ee=zh(H,te);ee!=null&&(g.push(q),E.set(q,ee))}}const w=new Pn(g);return new F1(E,w,d.fieldTransforms)}function zh(s,e){if(K1(s=un(s)))return bp("Unsupported field value:",e,s),Q1(s,e);if(s instanceof gp)return(function(a,o){if(!G1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let v=zh(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=un(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Ix(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=vt.fromDate(a);return{timestampValue:ch(o.serializer,c)}}if(a instanceof vt){const c=new vt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ch(o.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ti)return{bytesValue:c1(o.serializer,a._byteString)};if(a instanceof Kt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:np(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ki)return(function(d,y){return{mapValue:{fields:{[zb]:{stringValue:qb},[rh]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw y.Sc("VectorValues must only contain numeric values.");return Wm(y.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Qm(a)}`)})(s,e)}function Q1(s,e){const i={};return Vb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(s,((a,o)=>{const c=zh(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function K1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof vt||s instanceof Qi||s instanceof ti||s instanceof Kt||s instanceof gp||s instanceof Ki)}function bp(s,e,i){if(!K1(i)||!Ob(i)){const a=Qm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Im(s,e,i){if((e=un(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return Tp(s,e);throw mh("Field path arguments must be of type string or ",s,!1,void 0,i)}const BN=new RegExp("[~\\*/\\[\\]]");function Tp(s,e,i){if(e.search(BN)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Uh(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new fe(J.INVALID_ARGUMENT,y+s+v)}function Y1(s,e){return s.some((i=>i.isEqual(e)))}class X1{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field($1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class HN extends X1{data(){return super.data()}}function $1(s,e){return typeof e=="string"?Tp(s,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}function Z1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FN{convertValue(e,i="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Nr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[rh].arrayValue?.values?.map((a=>Vt(a.doubleValue)));return new Ki(i)}convertGeoPoint(e){return new Qi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const i=Er(e);return new vt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=_t.fromString(e);tt(g1(a),9688,{name:e});const o=new Qo(a.get(1),a.get(3)),c=new ve(a.popFirst(5));return o.isEqual(i)||ws(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Ep(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends X1{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field($1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Ft("string",ua._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Yc extends ua{data(e={}){return super.data(e)}}class ca{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Yc(this._firestore,this._userDataWriter,a.key,a,new Vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Yc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new Yc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return y.type!==0&&(g=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),E=d.indexOf(y.doc.key)),{type:GN(y.type),doc:v,oldIndex:g,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:Ft("string",ca._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Sp extends FN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function xv(s){s=yi(s,au);const e=yi(s.firestore,Rr),i=Lh(e),a=new Sp(e);return Z1(s._query),MN(i,s._query).then((o=>new ca(e,a,s,o)))}function Uc(s,e,i){s=yi(s,Kt);const a=yi(s.firestore,Rr),o=Ep(s.converter,e,i);return qh(a,[vp(_p(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Nn.none())])}function sa(s){return qh(yi(s.firestore,Rr),[new Dh(s._key,Nn.none())])}function vs(s,e){const i=yi(s.firestore,Rr),a=Jt(s),o=Ep(s.converter,e);return qh(i,[vp(_p(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Nn.exists(!1))]).then((()=>a))}function ra(s,...e){s=un(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||wv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(wv(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let c,d,y;if(s instanceof Kt)d=yi(s.firestore,Rr),y=Jm(s._key.path),c={next:v=>{e[a]&&e[a](QN(d,s,v))},error:e[a+1],complete:e[a+2]};else{const v=yi(s,au);d=yi(v.firestore,Rr),y=v._query;const g=new Sp(d);c={next:E=>{e[a]&&e[a](new ca(d,g,v,E))},error:e[a+1],complete:e[a+2]},Z1(s._query)}return(function(g,E,w,I){const q=new z1(I),H=new D1(E,q,w);return g.asyncQueue.enqueueAndForget((async()=>C1(await Cm(g),H))),()=>{q.Nu(),g.asyncQueue.enqueueAndForget((async()=>I1(await Cm(g),H)))}})(Lh(d),y,o,c)}function qh(s,e){return(function(a,o){const c=new _r;return a.asyncQueue.enqueueAndForget((async()=>TN(await ON(a),o,c))),c.promise})(Lh(s),e)}function QN(s,e,i){const a=i.docs.get(e._key),o=new Sp(s);return new ua(s,o,e._key,a,new Vo(i.hasPendingWrites,i.fromCache),e.converter)}class KN{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=_p(e)}set(e,i,a){this._verifyNotCommitted();const o=im(e,this._firestore),c=Ep(o.converter,i,a),d=vp(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,a);return this._mutations.push(d.toMutation(o._key,Nn.none())),this}update(e,i,a,...o){this._verifyNotCommitted();const c=im(e,this._firestore);let d;return d=typeof(i=un(i))=="string"||i instanceof Uh?qN(this._dataReader,"WriteBatch.update",c._key,i,a,o):zN(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=im(e,this._firestore);return this._mutations=this._mutations.concat(new Dh(i._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function im(s,e){if((s=un(s)).firestore!==e)throw new fe(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function YN(s){return Lh(s=yi(s,Rr)),new KN(s,(e=>qh(s,e)))}(function(e,i=!0){(function(o){wl=o})(Sl),ml(new fa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new Rr(new qw(a.getProvider("auth-internal")),new Fw(d,a.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(g.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),pr(I0,D0,e),pr(I0,D0,"esm2020")})();const XN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$N=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Rv=s=>{const e=$N(s);return e.charAt(0).toUpperCase()+e.slice(1)},J1=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),ZN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var JN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WN=fr.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},v)=>fr.createElement("svg",{ref:v,...JN,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:J1("lucide",o),...!c&&!ZN(y)&&{"aria-hidden":"true"},...y},[...d.map(([g,E])=>fr.createElement(g,E)),...Array.isArray(c)?c:[c]]));const nt=(s,e)=>{const i=fr.forwardRef(({className:a,...o},c)=>fr.createElement(WN,{ref:c,iconNode:e,className:J1(`lucide-${XN(Rv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Rv(s),i};const eC=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],W1=nt("arrow-up-down",eC);const tC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],nC=nt("bell",tC);const iC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sC=nt("calendar",iC);const rC=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],aC=nt("camera",rC);const lC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oC=nt("circle-check-big",lC);const uC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],cC=nt("clipboard-list",uC);const hC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Nv=nt("database",hC);const fC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dC=nt("download",fC);const mC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],eT=nt("file-spreadsheet",mC);const pC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],gC=nt("grip-vertical",pC);const yC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_C=nt("history",yC);const vC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bC=nt("layers",vC);const TC=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],EC=nt("link-2",TC);const SC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],AC=nt("lock",SC);const wC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xC=nt("log-out",wC);const RC=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],NC=nt("octagon-alert",RC);const CC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tT=nt("plus",CC);const IC=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],DC=nt("printer",IC);const OC=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],MC=nt("recycle",OC);const VC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kC=nt("save",VC);const jC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nT=nt("search",jC);const LC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ap=nt("settings",LC);const UC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PC=nt("shield-check",UC);const zC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Tl=nt("trash-2",zC);const qC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iT=nt("triangle-alert",qC);const BC=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ph=nt("truck",BC);const HC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FC=nt("user",HC);const GC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],QC=nt("users",GC);const KC=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],sT=nt("wrench",KC);const YC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gh=nt("x",YC),{useState:_e,useEffect:qo,useRef:XC,useMemo:$C}=QE,ZC={apiKey:"AIzaSyAWELn6lSPNa5WIjG_wFLv4nkzk1CaLxq8",authDomain:"tyre-tracker-ccbd1.firebaseapp.com",projectId:"tyre-tracker-ccbd1",storageBucket:"tyre-tracker-ccbd1.firebasestorage.app",messagingSenderId:"90986714992",appId:"1:90986714992:web:388e83080de978ec68e1b5",measurementId:"G-VEVZFGKE16"},rT=qv(ZC),Cv=Lw(rT),dt=kN(rT),yt="tyre-tracker-ccbd1",Dm=[{id:"white",label:"Default",bg:"bg-white",border:"border-slate-200",hover:"hover:bg-slate-50"},{id:"red",label:"Red",bg:"bg-red-50",border:"border-red-200",hover:"hover:bg-red-100"},{id:"orange",label:"Orange",bg:"bg-orange-50",border:"border-orange-200",hover:"hover:bg-orange-100"},{id:"amber",label:"Yellow",bg:"bg-amber-50",border:"border-amber-200",hover:"hover:bg-amber-100"},{id:"green",label:"Green",bg:"bg-green-50",border:"border-green-200",hover:"hover:bg-green-100"},{id:"blue",label:"Blue",bg:"bg-blue-50",border:"border-blue-200",hover:"hover:bg-blue-100"},{id:"purple",label:"Purple",bg:"bg-purple-50",border:"border-purple-200",hover:"hover:bg-purple-100"},{id:"slate",label:"Grey",bg:"bg-slate-100",border:"border-slate-300",hover:"hover:bg-slate-200"}],aT=s=>Dm.find(e=>e.id===s)||Dm[0],lT=`
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-enter {
    animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .glass-panel {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  .btn-press:active {
    transform: scale(0.97);
  }
  .drag-item {
    cursor: grab;
  }
  .drag-item:active {
    cursor: grabbing;
  }
  /* Custom Scrollbar */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
`,JC=()=>Math.random().toString(36).substr(2,9),Iv=()=>"8"+Math.floor(1e7+Math.random()*9e7).toString(),WC=()=>{try{const s=window.AudioContext||window.webkitAudioContext;if(!s)return;const e=new s,i=(o,c,d)=>{const y=e.createOscillator(),v=e.createGain();y.type="sawtooth",y.frequency.value=o,y.connect(v),v.connect(e.destination),v.gain.setValueAtTime(.1,c),v.gain.exponentialRampToValueAtTime(.001,c+d),y.start(c),y.stop(c+d)},a=e.currentTime;i(150,a,.15),i(150,a+.2,.3)}catch(s){console.error("Audio error",s)}},oT=s=>{if(!s||s.length!==4)return"Unknown";const e=parseInt(s.substring(0,2)),i=parseInt("20"+s.substring(2,4)),a=new Date,o=a.getFullYear(),c=Math.floor((a-new Date(o,0,1))/(10080*60*1e3));let d=(o-i)*52+(c-e);return d<0&&(d=0),d<52?`${d}w`:`${(d/52).toFixed(1)}y`},Om=s=>s.startsWith("F")?"front":s.startsWith("D")?"drive":s.startsWith("T")?"tag":s.startsWith("R")&&(s.includes("S")||s==="RL"||s==="RR")?"rear_steer":s.startsWith("R")?"rear":"front",eI=s=>s.length===3&&(s.endsWith("I")||s.endsWith("O"))?s.substring(0,2):s,tI=s=>{switch(s){case"front":return"Steer Axle";case"drive":return"Drive Axle";case"tag":return"Tag Axle";case"rear_steer":return"Rear Steer Axle";case"rear":return"Rear Axle";default:return"Axle"}},qi=s=>({FL:"Front Left",FR:"Front Right",RL:"Rear Left",RR:"Rear Right",RLO:"Rear Left Outer",RLI:"Rear Left Inner",RRO:"Rear Right Outer",RRI:"Rear Right Inner",DLO:"Drive Left Outer",DLI:"Drive Left Inner",DRO:"Drive Right Outer",DRI:"Drive Right Inner",RSL:"Rear Steer Left",RSR:"Rear Steer Right"})[s]||s,yh=(s,e=null)=>{const[i,a]=_e(e);return{items:$C(()=>{let d=[...s];return i!==null&&d.sort((y,v)=>{let g=y[i.key],E=v[i.key];if(i.key==="dot"){const w=I=>{if(!I||I.length!==4)return 0;const q=I.substring(0,2),H=I.substring(2,4);return parseInt(H+q)};g=w(g),E=w(E)}else g===void 0&&(g=""),E===void 0&&(E=""),typeof g=="string"&&(g=g.toLowerCase()),typeof E=="string"&&(E=E.toLowerCase());return g<E?i.direction==="ascending"?-1:1:g>E?i.direction==="ascending"?1:-1:0}),d},[s,i]),requestSort:d=>{let y="ascending";i&&i.key===d&&i.direction==="ascending"&&(y="descending"),a({key:d,direction:y})},sortConfig:i}},mt=({label:s,sortKey:e,requestSort:i,sortConfig:a,className:o=""})=>{const c=a?.key===e;return p.jsx("th",{className:`p-3 cursor-pointer hover:bg-blue-50 transition select-none text-slate-500 font-semibold text-xs uppercase tracking-wider ${o}`,onClick:()=>i(e),children:p.jsxs("div",{className:"flex items-center gap-1 group",children:[s,p.jsx("span",{className:`transition-opacity duration-200 ${c?"opacity-100 text-blue-600":"opacity-0 group-hover:opacity-50"}`,children:p.jsx(W1,{className:`w-3 h-3 ${a?.direction==="ascending"?"rotate-180":""}`})})]})})},aa=({label:s,icon:e,active:i,onClick:a,badge:o})=>p.jsxs("button",{onClick:a,className:`
      relative flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all duration-200 font-medium text-sm whitespace-nowrap btn-press
      ${i?"bg-blue-600 text-white shadow-lg shadow-blue-900/20 translate-y-[-1px]":"text-slate-400 hover:text-white hover:bg-slate-800"}
    `,children:[p.jsxs("div",{className:"relative",children:[p.jsx(e,{className:`w-4 h-4 ${i?"animate-pulse":""}`}),o>0&&p.jsx("span",{className:"absolute -top-2.5 -right-2.5 bg-red-500 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full border-2 border-slate-900 animate-bounce",children:o})]}),p.jsx("span",{className:"hidden md:inline",children:s})]}),sm=({num:s,label:e,active:i})=>p.jsxs("div",{className:`flex items-center gap-3 transition-colors duration-300 ${i?"text-blue-600":"text-slate-300"}`,children:[p.jsx("div",{className:`
      w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 transition-all duration-300
      ${i?"border-blue-600 bg-blue-50 scale-110 shadow-sm":"border-slate-200"}
    `,children:s}),p.jsx("span",{className:"hidden md:inline font-medium text-sm tracking-tight",children:e})]});function uT({vehicle:s,retorques:e=[],mode:i="view",onSelect:a}){const{layout:o,wheels:c}=s,d=(g,E)=>{const w=c[g],I=e.find(H=>H.vehicleReg===s.reg&&H.positionId===g&&H.status==="Pending"),q=i==="select"||i==="view"&&w;return p.jsxs("button",{onClick:q?()=>a({type:"single",pos:g}):void 0,className:`
          relative flex flex-col items-center p-2 rounded-xl border-2 transition-all duration-300 w-24 group
          ${q?"cursor-pointer hover:scale-105 active:scale-95":""}
          ${w?"bg-white border-slate-300 shadow-sm hover:border-blue-500 hover:shadow-md":"bg-slate-50 border-dashed border-slate-200 hover:border-slate-300"}
          ${I?"ring-2 ring-amber-500 ring-offset-2 animate-pulse":""}
        `,children:[p.jsx("div",{className:`
          w-10 h-14 rounded-md mb-2 border-x-4 transition-all duration-300
          ${w?"bg-slate-800 border-slate-700 group-hover:bg-slate-700":"bg-slate-200 border-slate-300 opacity-50"}
        `}),p.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:E}),i==="view"&&I&&p.jsx("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white rounded-full p-1.5 shadow-lg animate-bounce",children:p.jsx(sT,{className:"w-3 h-3"})})]},g)},y=(g,E=[])=>p.jsxs("div",{className:"flex justify-between items-center w-full max-w-lg mx-auto my-6 relative px-6 group/axle",children:[p.jsx("div",{className:"h-3 bg-slate-200 absolute w-full top-1/2 -translate-y-1/2 -z-10 rounded-full left-0 shadow-inner group-hover/axle:bg-slate-300 transition-colors"}),i==="select"&&E.length>0&&p.jsx("button",{onClick:()=>a({type:"axle",positions:E}),className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 bg-slate-100 hover:bg-blue-600 hover:text-white p-1 rounded-full shadow border text-slate-400 transition-all scale-0 group-hover/axle:scale-100",title:"Fit entire axle",children:p.jsx(bC,{className:"w-4 h-4"})}),g]}),v=(g,E,w)=>p.jsxs("div",{className:"flex gap-2 items-center relative group/dual",children:[d(g,"Outer"),i==="select"&&p.jsx("button",{onClick:()=>a({type:"dual",positions:[E,g]}),className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 bg-white hover:bg-blue-600 hover:text-white p-1 rounded-full shadow border text-slate-400 transition-all opacity-0 group-hover/dual:opacity-100",title:"Fit both tyres",children:p.jsx(EC,{className:"w-3 h-3"})}),d(E,"Inner")]},w);return p.jsxs("div",{className:"flex flex-col items-center py-8 select-none transform scale-[0.6] sm:scale-100 origin-top -my-10 sm:my-0",children:[p.jsxs("div",{className:"mb-6 text-slate-300 flex flex-col items-center",children:[p.jsx("div",{className:"w-0 h-0 border-l-[24px] border-l-transparent border-r-[24px] border-r-transparent border-b-[36px] border-b-slate-200 drop-shadow-sm"}),p.jsx("span",{className:"text-xs font-bold mt-2 tracking-widest opacity-50",children:"FRONT"})]}),y([d("FL","Front L"),d("FR","Front R")],["FL","FR"]),p.jsx("div",{className:"h-24 border-l-4 border-slate-200 border-dashed my-2 opacity-50"}),o==="2-axle-dual"&&y([v("RLO","RLI","left"),v("RRO","RRI","right")],["RLO","RLI","RRI","RRO"]),o==="2-axle-single"&&y([d("RL","Rear L"),d("RR","Rear R")],["RL","RR"]),o==="3-axle-rigid"&&p.jsxs(p.Fragment,{children:[y([v("DLO","DLI","dl"),v("DRO","DRI","dr")],["DLO","DLI","DRI","DRO"]),p.jsx("div",{className:"h-12 border-l-4 border-slate-200 border-dashed my-2 opacity-50"}),y([d("TL","Tag L"),d("TR","Tag R")],["TL","TR"])]}),o==="3-axle-rear-steer"&&p.jsxs(p.Fragment,{children:[y([v("DLO","DLI","dl"),v("DRO","DRI","dr")],["DLO","DLI","DRI","DRO"]),y([d("RSL","R-Steer L"),d("RSR","R-Steer R")],["RSL","RSR"])]})]})}const nI=[{id:"t1",brand:"Michelin",model:"X Multi Z",size:"295/80R22.5",barcode:"88239101",status:"In Stock",dot:"1023",isUsed:!1},{id:"t2",brand:"Bridgestone",model:"R-Steer",size:"295/80R22.5",barcode:"88239103",status:"In Stock",dot:"4522",isUsed:!1},{id:"t3",brand:"Michelin",model:"X Coach",size:"295/80R22.5",barcode:"88239105",status:"In Stock",dot:"0224",isUsed:!1},{id:"t4",brand:"Continental",model:"VanContact",size:"235/65R16",barcode:"88239106",status:"In Stock",dot:"2023",isUsed:!1},{id:"t5",brand:"Goodyear",model:"Cargo Vector",size:"235/65R16",barcode:"88239107",status:"In Stock",dot:"1523",isUsed:!1}],iI=[{id:"v1",reg:"K26 CLN",type:"Luton Box Van",layout:"2-axle-dual",specs:{front:{torque:180,pressure:55},rear:{torque:180,pressure:60}},wheels:{},order:0},{id:"v2",reg:"L10 NC",type:"2-Axle Coach",layout:"2-axle-dual",specs:{front:{torque:600,pressure:120},rear:{torque:600,pressure:115}},wheels:{},order:1},{id:"v3",reg:"L1 CLN",type:"Tri-Axle Coach",layout:"3-axle-rear-steer",specs:{front:{torque:650,pressure:125},drive:{torque:600,pressure:115},rear_steer:{torque:650,pressure:125}},wheels:{},order:2}],sI=[{id:"s1",name:"295/80R22.5"},{id:"s2",name:"315/80R22.5"},{id:"s3",name:"385/65R22.5"},{id:"s4",name:"235/65R16"},{id:"s5",name:"215/75R16"},{id:"s6",name:"205/65R16"}],rI=[{id:"u1",initials:"ADM",pin:"0000",role:"Admin"},{id:"u2",initials:"MGR",pin:"1111",role:"Manager"},{id:"u3",initials:"FIT",pin:"2222",role:"Fitter"}];function aI(){const[s,e]=_e(null),[i,a]=_e(null),[o,c]=_e("fit"),[d,y]=_e(null),[v,g]=_e([]),[E,w]=_e([]),[I,q]=_e([]),[H,te]=_e([]),[ee,oe]=_e([]),[$,ce]=_e([]),[Ie,xe]=_e([]),[ge,N]=_e(new Set);qo(()=>((async()=>{let me=3;for(;me>0;)try{await b2(Cv);return}catch(ye){console.error("Auth Failed, retrying...",ye),me--,me===0&&y("Unable to connect to database. Please check your connection."),await new Promise(Xe=>setTimeout(Xe,1e3))}})(),x2(Cv,me=>{e(me),me&&y(null)})),[]),qo(()=>{if(!s)return;const ae=Ae=>ei(dt,"artifacts",yt,"public","data",Ae),me=ra(ae("inventory"),Ae=>g(Ae.docs.map(je=>({...je.data(),id:je.id}))),Ae=>console.error("Inv error",Ae)),ye=ra(ae("vehicles"),Ae=>{const je=Ae.docs.map(St=>({...St.data(),id:St.id}));je.sort((St,At)=>(St.order??0)-(At.order??0)),w(je)},Ae=>console.error("Veh error",Ae)),Xe=ra(ae("retorques"),Ae=>q(Ae.docs.map(je=>({...je.data(),id:je.id})).sort((je,St)=>new Date(je.dueDate)-new Date(St.dueDate))),Ae=>console.error("Ret error",Ae)),Et=ra(ae("sizes"),Ae=>te(Ae.docs.map(je=>({...je.data(),id:je.id}))),Ae=>console.error("Sizes error",Ae)),st=ra(ae("history"),Ae=>oe(Ae.docs.map(je=>({...je.data(),id:je.id})).sort((je,St)=>new Date(St.fitDate)-new Date(je.fitDate))),Ae=>console.error("Hist error",Ae)),Ue=ra(ae("users"),Ae=>xe(Ae.docs.map(je=>({...je.data(),id:je.id}))),Ae=>console.error("Users error",Ae)),Se=ra(ae("removed_tyres"),Ae=>ce(Ae.docs.map(je=>({...je.data(),id:je.id})).sort((je,St)=>new Date(St.removedDate)-new Date(je.removedDate))),Ae=>console.error("Removed error",Ae));return()=>{me(),ye(),Xe(),Et(),st(),Ue(),Se()}},[s]);const S=async()=>{"Notification"in window?await Notification.requestPermission()==="granted"&&new Notification("Notifications Enabled",{body:"You will be alerted when retorques are due.",icon:"/pwa-192x192.png"}):alert("This browser does not support web notifications.")};qo(()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const ae=()=>{const ye=new Date,Xe=new Set(ge);let Et=!1;I.forEach(st=>{if(st.status==="Pending"&&!Xe.has(st.id)){const Ue=new Date(st.dueDate);if(ye>=Ue){try{new Notification(`Retorque Due: ${st.vehicleReg} (${st.reason})`,{body:`${st.type} - ${qi(st.positionId)} is due.
Fitter: ${st.fitter}`,icon:"/pwa-192x192.png",requireInteraction:!0})}catch(Se){console.log("Notification trigger error:",Se)}Xe.add(st.id),Et=!0}}}),Et&&N(Xe)},me=setInterval(ae,6e4);return ae(),()=>clearInterval(me)},[I,ge]);const x=async()=>{if(!confirm("This will populate the database with demo data. Continue?"))return;const ae=[],me=ye=>ei(dt,"artifacts",yt,"public","data",ye);nI.forEach(ye=>ae.push(vs(me("inventory"),ye))),iI.forEach(ye=>ae.push(vs(me("vehicles"),ye))),sI.forEach(ye=>ae.push(vs(me("sizes"),ye))),rI.forEach(ye=>ae.push(vs(me("users"),ye))),await Promise.all(ae),alert("Database seeded!")},D=async(ae,me)=>{const ye=[],Xe=ei(dt,"artifacts",yt,"public","data","inventory");for(let Et=0;Et<me;Et++)ye.push(vs(Xe,{...ae,barcode:Iv(),status:"In Stock"}));await Promise.all(ye)},O=async(ae,me)=>{const ye=Iv(),Xe={brand:ae.brand,model:ae.model,size:ae.size,dot:ae.dot,isUsed:!0,treadDepth:me,barcode:ye,status:"In Stock",prevBarcode:ae.barcode};await vs(ei(dt,"artifacts",yt,"public","data","inventory"),Xe),await sa(Jt(dt,"artifacts",yt,"public","data","removed_tyres",ae.id)),alert(`Tyre restocked with new barcode: ${ye}`)},k=async ae=>{window.prompt("Type 'DELETE' to confirm removing this record permanently.")==="DELETE"&&await sa(Jt(dt,"artifacts",yt,"public","data","inventory",ae))},R=async ae=>{const me=E.reduce((ye,Xe)=>Math.max(ye,Xe.order||0),-1);await vs(ei(dt,"artifacts",yt,"public","data","vehicles"),{...ae,wheels:{},order:me+1})},et=async ae=>{const{id:me,...ye}=ae;await Uc(Jt(dt,"artifacts",yt,"public","data","vehicles",me),ye)},Le=async ae=>{const me=ae.map((ye,Xe)=>ye.order!==Xe?Uc(Jt(dt,"artifacts",yt,"public","data","vehicles",ye.id),{order:Xe},{merge:!0}):Promise.resolve());await Promise.all(me)},j=async ae=>{window.prompt("Type 'DELETE' to confirm removing this vehicle permanently.")==="DELETE"&&await sa(Jt(dt,"artifacts",yt,"public","data","vehicles",ae))},W=async ae=>{ae&&await vs(ei(dt,"artifacts",yt,"public","data","sizes"),{name:ae})},ue=async ae=>{window.confirm("Remove this size?")&&await sa(Jt(dt,"artifacts",yt,"public","data","sizes",ae))},se=async ae=>{await vs(ei(dt,"artifacts",yt,"public","data","users"),ae)},De=async ae=>{window.confirm("Remove this user?")&&await sa(Jt(dt,"artifacts",yt,"public","data","users",ae))},M=async ae=>{const me=Jt(dt,"artifacts",yt,"public","data","retorques",ae);await Uc(me,{status:"Completed",completedDate:new Date().toISOString()},{merge:!0})},K=async()=>{if(window.confirm("DANGER: This will delete ALL Inventory, Retorque Tasks, History Logs, and Removed Tyres. Vehicles and Users will be kept. Are you sure?")){const ae=["inventory","retorques","history","removed_tyres"],me=async ye=>{const Xe=ei(dt,"artifacts",yt,"public","data",ye),st=(await xv(Xe)).docs.map(Ue=>sa(Ue.ref));await Promise.all(st)};try{if(await Promise.all(ae.map(ye=>me(ye))),window.confirm("Do you also want to remove currently fitted tyres from ALL vehicles? (Recommended for a clean start)")){const ye=ei(dt,"artifacts",yt,"public","data","vehicles"),Et=(await xv(ye)).docs.map(st=>Uc(st.ref,{wheels:{}},{merge:!0}));await Promise.all(Et)}alert("Operational data wiped successfully.")}catch(ye){console.error("Wipe failed",ye),alert("Failed to wipe some data. Check console.")}}},ne=async ae=>{try{const me=YN(dt),ye={},Xe=[];for(const Ue of ae){const{vehicle:Se,positionId:Ae,newTyre:je,fitDateStr:St,fitterInitials:At,isRefit:zn,refitReason:ni}=Ue,Ji=Jt(dt,"artifacts",yt,"public","data","vehicles",Se.id);ye[Se.id]||(ye[Se.id]={...Se.wheels});const xt=ye[Se.id][Ae];if(xt&&xt.id){const ii=Jt(ei(dt,"artifacts",yt,"public","data","removed_tyres"));me.set(ii,{...xt,removedDate:St,removedFrom:Se.reg,removedPosition:Ae});const Ns=Jt(dt,"artifacts",yt,"public","data","inventory",xt.id);me.delete(Ns)}let gn=je;if(zn)gn={...xt,dateFitted:St,fitter:At,id:xt?.id||JC(),barcode:xt?.barcode||"LEGACY",brand:xt?.brand||"Legacy",model:xt?.model||"-",size:xt?.size||"-",dot:xt?.dot||""};else{gn={...je,dateFitted:St,fitter:At,vehicleId:Se.id,positionId:Ae,vehicleReg:Se.reg};const ii=Jt(dt,"artifacts",yt,"public","data","inventory",je.id);me.update(ii,{status:"Fitted",vehicleId:Se.id,positionId:Ae,vehicleReg:Se.reg})}ye[Se.id][Ae]=gn;const Wi=Jt(ei(dt,"artifacts",yt,"public","data","history"));me.set(Wi,{fitDate:St,barcode:gn.barcode,brand:gn.brand,model:gn.model,size:gn.size,dot:gn.dot,vehicleReg:Se.reg,position:Ae,fitter:At,reason:zn?`Refit: ${ni}`:"Tyre Fitted"})}Object.keys(ye).forEach(Ue=>{const Se=Jt(dt,"artifacts",yt,"public","data","vehicles",Ue);me.update(Se,{wheels:ye[Ue]})});const Et=new Set,st=ei(dt,"artifacts",yt,"public","data","retorques");for(const Ue of ae){const{vehicle:Se,positionId:Ae,fitDateStr:je,fitterInitials:St,isRefit:At,refitReason:zn}=Ue,ni=eI(Ae),Ji=`${Se.id}_${ni}`;if(!Et.has(Ji)){Et.add(Ji);const xt=Om(Ae),gn=Se.specs[xt]||{torque:0},Wi=new Date(je).getTime(),ii=At?`Refit: ${zn}`:"Tyre Fitted",Ns=Jt(st);me.set(Ns,{vehicleReg:Se.reg,positionId:ni,fitmentDate:je,dueDate:new Date(Wi+1800*1e3).toISOString(),status:"Pending",type:"30m Check",torqueSpec:gn.torque||0,fitter:St,reason:ii});const Cn=Jt(st);me.set(Cn,{vehicleReg:Se.reg,positionId:ni,fitmentDate:je,dueDate:new Date(Wi+1440*60*1e3).toISOString(),status:"Pending",type:"24h Check",torqueSpec:gn.torque||0,fitter:St,reason:ii})}}await me.commit(),alert("Batch fitment complete!")}catch(me){console.error("Batch Error",me),alert("Batch fitment failed: "+me.message)}},re=async(ae,me,ye,Xe,Et)=>{const st=v.find(Se=>Se.barcode===ye&&Se.status==="In Stock");if(!st){alert("Tyre not found!");return}const Ue=E.find(Se=>Se.id===ae);await ne([{vehicle:Ue,positionId:me,newTyre:st,fitDateStr:Xe,fitterInitials:Et,isRefit:!1}])},Ee=async(ae,me,ye,Xe,Et)=>{const st=E.find(Ue=>Ue.id===ae);await ne([{vehicle:st,positionId:me,newTyre:null,fitDateStr:Xe,fitterInitials:Et,isRefit:!0,refitReason:ye}])},Oe=async ae=>{confirm("Permanently dispose of this tyre record?")&&await sa(Jt(dt,"artifacts",yt,"public","data","removed_tyres",ae))},qe=I.filter(ae=>ae.status==="Pending").length;if(d)return p.jsx("div",{className:"text-center p-10 text-red-500",children:d});if(!s)return p.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-500",children:"Connecting..."});if(!i)return p.jsx(lI,{users:Ie,onLogin:a});const Ct=["Admin","Manager"].includes(i.role),it=["Admin","Manager"].includes(i.role),_i=["Admin","Fitter"].includes(i.role),$i=i.role==="Admin",Zi=i.role==="Admin";return p.jsxs(p.Fragment,{children:[p.jsx("style",{children:lT}),p.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900",children:[p.jsxs("div",{className:"bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50",children:[p.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[p.jsxs("h1",{className:"text-xl font-bold flex items-center gap-3",children:[p.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:p.jsx(ph,{className:"w-6 h-6 text-white"})}),"CLion Workshop ",p.jsx("span",{className:"text-blue-400 font-light",children:"Tyre Tracker"})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"text-right hidden md:block",children:[p.jsx("div",{className:"text-sm font-bold text-white",children:i.initials}),p.jsx("div",{className:"text-xs text-slate-400 uppercase",children:i.role})]}),p.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",title:"Logout",children:p.jsx(xC,{className:"w-5 h-5"})})]})]}),p.jsx("div",{className:"max-w-6xl mx-auto mt-4",children:p.jsxs("nav",{className:"flex bg-slate-800 p-1 rounded-lg overflow-x-auto",children:[p.jsx(aa,{label:"Vehicles",icon:ph,active:o==="vehicles",onClick:()=>c("vehicles")}),_i&&p.jsx(aa,{label:"Fit Tyre",icon:sT,active:o==="fit",onClick:()=>c("fit")}),p.jsx(aa,{label:"Inventory",icon:cC,active:o==="inventory",onClick:()=>c("inventory")}),p.jsx(aa,{label:"Retorques",icon:iT,active:o==="retorque",onClick:()=>c("retorque"),badge:qe}),it&&p.jsx(aa,{label:"Removed",icon:Tl,active:o==="removed",onClick:()=>c("removed")}),it&&p.jsx(aa,{label:"Reports",icon:eT,active:o==="reports",onClick:()=>c("reports")}),$i&&p.jsx(aa,{label:"Settings",icon:Ap,active:o==="settings",onClick:()=>c("settings")})]})})]}),p.jsxs("main",{className:"max-w-6xl mx-auto p-4 md:p-6 animate-enter",children:[o==="vehicles"&&p.jsx(oI,{vehicles:E,onAdd:R,onUpdate:et,onDelete:j,onReorder:Le,canReorder:Zi,retorqueRegister:I}),o==="fit"&&_i&&p.jsx(uI,{vehicles:E,inventory:v,onFit:re,onRefit:Ee,onReorder:Le,canReorder:Zi,currentUser:i,onFitBatch:ne}),o==="inventory"&&p.jsx(cI,{inventory:v,onAddBatch:D,onDelete:k,availableSizes:H,canAdd:Ct}),o==="retorque"&&p.jsx(hI,{tasks:I,onComplete:M}),o==="removed"&&it&&p.jsx(fI,{removedTyres:$,onDispose:Oe,onRestock:O}),o==="reports"&&it&&p.jsx(dI,{history:ee,retorques:I}),o==="settings"&&$i&&p.jsx(mI,{sizes:H,onAddSize:W,onRemoveSize:ue,onSeed:x,users:Ie,onAddUser:se,onRemoveUser:De,onRequestNotifications:S,onWipe:K})]})]})]})}function lI({users:s,onLogin:e}){const[i,a]=_e(""),[o,c]=_e(""),[d,y]=_e(""),[v,g]=_e(0),[E,w]=_e(!1),I=H=>{if(H.preventDefault(),s.length===0&&i==="ADM"&&o==="0000"){e({initials:"ADM",role:"Admin"});return}const te=s.find(ee=>ee.initials.toUpperCase()===i.toUpperCase()&&ee.pin===o);te?e(te):y("Invalid Credentials")},q=()=>{WC();const H=v+1;g(H),H===10&&(w(!0),g(0))};return p.jsxs(p.Fragment,{children:[p.jsx("style",{children:lT}),p.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:[E&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 p-4 animate-enter",onClick:()=>w(!1),children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-sm text-center border-4 border-red-500 transform scale-110",children:[p.jsx("div",{className:"text-6xl mb-4",children:""}),p.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-2 uppercase",children:"Message for Dick"}),p.jsx("p",{className:"text-xl font-bold text-red-600 leading-tight",children:'"Put the crayons down and ask for help!"'}),p.jsx("button",{onClick:H=>{H.stopPropagation(),w(!1)},className:"mt-6 bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors",children:"Okay, Sorry"})]})}),p.jsxs("div",{className:"glass-panel p-8 rounded-2xl shadow-2xl w-full max-w-md animate-enter",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{onClick:q,className:"bg-blue-600 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/30 cursor-pointer active:scale-90 transition-transform select-none",children:p.jsx(ph,{className:"w-8 h-8 text-white"})}),p.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"CLion Workshop"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Tyre Tracking System"})]}),p.jsxs("form",{onSubmit:I,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase tracking-wide",children:"Initials"}),p.jsxs("div",{className:"relative group",children:[p.jsx(FC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),p.jsx("input",{autoFocus:!0,className:"w-full pl-10 p-3 border-2 border-slate-200 rounded-xl bg-slate-50 uppercase font-bold tracking-widest text-center focus:border-blue-500 focus:outline-none focus:bg-white transition-all",maxLength:3,value:i,onChange:H=>a(H.target.value.toUpperCase())})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase tracking-wide",children:"PIN"}),p.jsxs("div",{className:"relative group",children:[p.jsx(AC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),p.jsx("input",{type:"password",className:"w-full pl-10 p-3 border-2 border-slate-200 rounded-xl bg-slate-50 text-center font-bold tracking-widest focus:border-blue-500 focus:outline-none focus:bg-white transition-all",maxLength:4,value:o,onChange:H=>c(H.target.value)})]})]}),d&&p.jsx("div",{className:"text-red-500 text-sm text-center font-bold bg-red-50 p-2 rounded-lg",children:d}),p.jsx("button",{className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 hover:scale-[1.02] active:scale-[0.98] transition-all",children:"LOGIN"})]})]})]})]})}function oI({vehicles:s,onAdd:e,onUpdate:i,onDelete:a,onReorder:o,canReorder:c,retorqueRegister:d}){const[y,v]=_e(null),[g,E]=_e(null),[w,I]=_e(!1),[q,H]=_e(null),[te,ee]=_e({reg:"",type:"Van",layout:"2-axle-dual",color:"white"}),[oe,$]=_e(!1),[ce,Ie]=_e(s),[xe,ge]=_e(null);qo(()=>{xe===null&&Ie(s)},[s,xe]);const N=j=>{const W={torque:600,pressure:120},ue={torque:180,pressure:55};return j.includes("van")||j==="2-axle-single"?{front:ue,rear:ue}:j==="3-axle-rigid"?{front:W,drive:W,tag:W}:j==="3-axle-rear-steer"?{front:W,drive:W,rear_steer:W}:{front:W,rear:W}},S=j=>{j.preventDefault(),e({...te,specs:N(te.layout)}),I(!1),ee({reg:"",type:"Van",layout:"2-axle-dual",color:"white"})},x=j=>{H({...j}),v(null)},D=()=>{i(q),H(null)},O=(j,W,ue)=>{H({...q,specs:{...q.specs,[j]:{...q.specs[j],[W]:parseInt(ue)||0}}})},k=j=>ge(j),R=j=>{if(xe===null||xe===j)return;const W=[...ce],ue=W[xe];W.splice(xe,1),W.splice(j,0,ue),ge(j),Ie(W)},et=()=>{ge(null),o&&o(ce)},Le=y&&g?{id:g,axleGroup:Om(g),spec:y.specs[Om(g)],tyre:y.wheels[g]}:null;return p.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"md:col-span-1 space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Fleet List"}),p.jsxs("div",{className:"flex gap-2",children:[c&&p.jsx("button",{onClick:()=>$(!oe),className:`p-2 rounded-lg transition ${oe?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-500 hover:text-slate-700"}`,title:"Toggle Reorder Mode",children:p.jsx(W1,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>I(!w),className:"p-2 bg-blue-100 text-blue-700 rounded-lg btn-press",children:p.jsx(tT,{className:"w-5 h-5"})})]})]}),w&&p.jsxs("form",{onSubmit:S,className:"bg-white p-4 rounded-xl shadow space-y-3 animate-enter",children:[p.jsx("input",{required:!0,placeholder:"Reg",className:"w-full p-2 border rounded",value:te.reg,onChange:j=>ee({...te,reg:j.target.value})}),p.jsxs("select",{className:"w-full p-2 border rounded",value:te.layout,onChange:j=>ee({...te,layout:j.target.value}),children:[p.jsx("option",{value:"2-axle-dual",children:"2 Axle (Dual Rear)"}),p.jsx("option",{value:"3-axle-rear-steer",children:"3 Axle (Rear Steer)"}),p.jsx("option",{value:"3-axle-rigid",children:"3 Axle Rigid"}),p.jsx("option",{value:"2-axle-single",children:"2 Axle (Single Rear)"})]}),p.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded",children:"Save"})]}),p.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:ce.map((j,W)=>{const ue=aT(j.color||"white");return p.jsxs("div",{draggable:oe,onDragStart:se=>k(W),onDragEnter:se=>R(W),onDragEnd:et,onDragOver:se=>se.preventDefault(),onClick:()=>{oe||(v(j),E(null),H(null))},className:`p-4 cursor-pointer flex justify-between items-center transition-all duration-200 border-l-4 ${y?.id===j.id?"border-blue-500 shadow-md":"border-transparent"} ${ue.bg} ${ue.hover} ${oe?"drag-item":""}`,children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-lg text-slate-800",children:j.reg}),p.jsx("div",{className:"text-xs text-slate-500",children:j.type})]}),p.jsx("div",{className:"flex gap-1 items-center",children:oe?p.jsx("div",{className:"text-slate-400 cursor-grab active:cursor-grabbing p-2",children:p.jsx(gC,{className:"w-5 h-5"})}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:se=>{se.stopPropagation(),x(j)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-100/50 rounded-full transition-all",children:p.jsx(Ap,{className:"w-5 h-5"})}),p.jsx("button",{onClick:se=>{se.stopPropagation(),a(j.id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-100/50 rounded-full transition-all",children:p.jsx(Tl,{className:"w-5 h-5"})})]})})]},j.id)})})]}),p.jsx("div",{className:"md:col-span-2 relative",children:q?p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col animate-enter",children:[p.jsxs("div",{className:"flex justify-between mb-4",children:[p.jsxs("h2",{className:"text-xl font-bold",children:["Configure ",q.reg]}),p.jsx("button",{onClick:()=>H(null),children:p.jsx(gh,{className:"w-6 h-6 text-slate-400"})})]}),p.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx("input",{className:"border p-2 rounded",value:q.reg,onChange:j=>H({...q,reg:j.target.value})}),p.jsx("input",{className:"border p-2 rounded",value:q.type,onChange:j=>H({...q,type:j.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Color Tag"}),p.jsx("div",{className:"flex gap-2 flex-wrap",children:Dm.map(j=>p.jsx("button",{type:"button",onClick:()=>H({...q,color:j.id}),className:`w-8 h-8 rounded-full border-2 transition-all ${j.bg} ${q.color===j.id?"border-blue-600 scale-110 shadow":"border-transparent hover:scale-105"}`,title:j.label},j.id))})]}),p.jsxs("div",{className:"space-y-4 border-t pt-4",children:[p.jsx("h4",{className:"font-bold text-slate-700",children:"Axle Specs"}),Object.keys(q.specs).map(j=>p.jsxs("div",{className:"bg-slate-50 p-4 rounded border",children:[p.jsx("h4",{className:"font-bold text-xs uppercase mb-2",children:tI(j)}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs text-slate-500",children:"Torque (Nm)"}),p.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:q.specs[j].torque,onChange:W=>O(j,"torque",W.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs text-slate-500",children:"Pressure (PSI)"}),p.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:q.specs[j].pressure,onChange:W=>O(j,"pressure",W.target.value)})]})]})]},j))]})]}),p.jsx("div",{className:"mt-4 pt-4 border-t text-right",children:p.jsxs("button",{onClick:D,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2 ml-auto btn-press",children:[p.jsx(kC,{className:"w-4 h-4"})," Save Changes"]})})]}):y?p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col animate-enter",children:[p.jsxs("div",{className:"mb-4 border-b pb-4 flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black text-slate-800",children:y.reg}),p.jsx("p",{className:"text-slate-500 font-medium",children:y.type})]}),p.jsx("div",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded",children:"View Mode"})]}),p.jsxs("div",{className:"flex-1 relative min-h-[400px]",children:[p.jsx(uT,{vehicle:y,retorques:d,mode:"view",onSelect:E}),Le&&p.jsxs("div",{className:"absolute top-10 right-0 md:right-10 w-72 bg-slate-900/95 text-white p-5 rounded-xl shadow-2xl z-20 backdrop-blur-md animate-enter border border-slate-700",children:[p.jsxs("div",{className:"flex justify-between mb-4",children:[p.jsx("h3",{className:"font-bold text-lg text-blue-400",children:qi(Le.id)}),p.jsx("button",{onClick:()=>E(null),className:"hover:text-red-400 transition-colors",children:p.jsx(gh,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center grid grid-cols-2 gap-4 border border-slate-700",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Torque"}),p.jsx("div",{className:"font-bold text-xl font-mono",children:Le.spec?.torque})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Pressure"}),p.jsx("div",{className:"font-bold text-xl font-mono",children:Le.spec?.pressure})]})]}),Le.tyre?p.jsxs("div",{className:"text-sm space-y-1",children:[p.jsx("div",{className:"font-bold border-b border-slate-700 pb-2 mb-2 text-xs uppercase tracking-wider text-slate-400",children:"FITTED TYRE"}),p.jsx("div",{className:"font-bold text-lg",children:Le.tyre.brand}),p.jsx("div",{className:"text-slate-300",children:Le.tyre.model}),p.jsx("div",{className:"text-slate-400 text-xs",children:Le.tyre.size}),p.jsx("div",{className:"bg-black/30 p-2 rounded text-center font-mono text-xs mt-3 tracking-widest text-emerald-400 border border-emerald-900/50",children:Le.tyre.barcode}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4 text-xs pt-2 border-t border-slate-800",children:[p.jsxs("div",{children:[p.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Age"}),p.jsx("span",{className:"text-blue-300 font-bold",children:oT(Le.tyre.dot)})]}),p.jsxs("div",{children:[p.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Fitter"}),p.jsx("span",{className:"text-white font-bold",children:Le.tyre.fitter||"-"})]}),p.jsxs("div",{className:"col-span-2 mt-1",children:[p.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Date Fitted"}),p.jsxs("span",{className:"text-emerald-400 font-medium flex items-center gap-1",children:[p.jsx(sC,{className:"w-3 h-3"})," ",new Date(Le.tyre.dateFitted).toLocaleString([],{dateStyle:"short",timeStyle:"short"})]})]})]})]}):p.jsx("div",{className:"text-center text-slate-500 py-6 border-2 border-dashed border-slate-700 rounded-lg",children:"Empty Position"})]})]})]})]}):p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 bg-slate-100/50 rounded-xl border-2 border-dashed border-slate-200 p-10",children:[p.jsx(ph,{className:"w-16 h-16 mb-4 opacity-50"}),p.jsx("p",{children:"Select a vehicle from the list to view details."})]})})]})}function uI({vehicles:s,inventory:e,onFitBatch:i,currentUser:a}){const[o,c]=_e(1),[d,y]=_e(null),[v,g]=_e([]),[E,w]=_e(0),[I,q]=_e([]),[H,te]=_e("Scan"),[ee,oe]=_e(""),[$,ce]=_e("Brake Work"),[Ie,xe]=_e(""),[ge,N]=_e(!1),S=XC(null),[x,D]=_e(a.initials),[O,k]=_e(new Date().toISOString().slice(0,16)),[R,et]=_e(""),Le=s.filter(se=>se.reg.toUpperCase().includes(R.toUpperCase())),j=se=>{g(se),w(0),q([]),c(3)},W=()=>{if(!("BarcodeDetector"in window)){alert("Barcode Detector API not supported. Please type manually.");return}N(!0)};qo(()=>{let se=null,De=null;if(ge){const M=new window.BarcodeDetector({formats:["code_128","ean_13","code_39"]});navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(K=>{se=K,S.current&&(S.current.srcObject=se,S.current.play(),De=setInterval(async()=>{try{if(S.current&&S.current.readyState===4){const ne=await M.detect(S.current);ne.length>0&&(oe(ne[0].rawValue),N(!1))}}catch{}},200))}).catch(()=>N(!1))}return()=>{se&&se.getTracks().forEach(M=>M.stop()),De&&clearInterval(De)}},[ge]);const ue=()=>{const se=v[E];let De=null;if(H==="Scan"){if(!ee)return;if(De=e.find(K=>K.barcode===ee&&K.status==="In Stock"),!De){alert("Tyre not found in stock!");return}}else if(!($==="Other"?Ie:$))return;const M=[...I,{vehicle:d,positionId:se.pos||se,newTyre:De,fitDateStr:O,fitterInitials:x,isRefit:H==="Refit",refitReason:H==="Refit"?$==="Other"?Ie:$:null}];q(M),oe(""),E+1<v.length?w(E+1):(i(M),c(1),y(null),g([]),q([]))};return p.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[p.jsx(sm,{num:1,label:"Vehicle",active:o>=1}),p.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:p.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ease-out ${o>=2?"w-full":"w-0"}`})}),p.jsx(sm,{num:2,label:"Positions",active:o>=2}),p.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:p.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ease-out ${o>=3?"w-full":"w-0"}`})}),p.jsx(sm,{num:3,label:"Scan",active:o>=3})]}),p.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-200 min-h-[400px] animate-enter",children:[o===1&&p.jsxs("div",{children:[p.jsxs("div",{className:"relative mb-4",children:[p.jsx(nT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),p.jsx("input",{placeholder:"Search Registration...",className:"w-full pl-10 p-3 border rounded-xl bg-slate-50 focus:border-blue-500 focus:bg-white transition-colors",value:R,onChange:se=>et(se.target.value)})]}),p.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2",children:Le.map(se=>{const De=aT(se.color||"white");return p.jsxs("button",{onClick:()=>{y(se),c(2)},className:`w-full p-2 text-left border-2 rounded-xl transition-all duration-200 btn-press h-full flex flex-col justify-between min-h-[80px] ${De.bg} ${De.border} ${De.hover} hover:shadow-md`,children:[p.jsx("div",{className:"font-bold text-base text-slate-800 leading-tight",children:se.reg}),p.jsx("div",{className:"text-[10px] text-slate-500 mt-1 uppercase font-semibold",children:se.type})]},se.id)})})]}),o===2&&p.jsxs("div",{className:"text-center animate-enter",children:[p.jsx("h3",{className:"font-bold mb-6 text-lg",children:"Select Position(s) to Fit"}),p.jsx(uT,{vehicle:d,mode:"select",onSelect:se=>{se.type==="single"?j([se.pos]):se.type==="dual"||se.type==="axle"?j(se.positions):j([se])}}),p.jsx("button",{onClick:()=>c(1),className:"mt-8 text-slate-400 hover:text-blue-600 underline transition-colors",children:"Back to Vehicles"})]}),o===3&&p.jsxs("div",{className:"max-w-md mx-auto space-y-6 animate-enter",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h3",{className:"text-xl font-bold",children:d.reg}),p.jsxs("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-bold mt-2 inline-flex items-center gap-2",children:[p.jsxs("span",{children:["Scanning ",E+1," of ",v.length,":"]}),p.jsx("span",{className:"uppercase",children:qi(v[E])})]})]}),p.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[p.jsx("button",{className:`flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 ${H==="Scan"?"bg-white shadow text-blue-600 scale-100":"text-slate-500 hover:text-slate-700"}`,onClick:()=>te("Scan"),children:"Fit New Tyre"}),p.jsx("button",{className:`flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 ${H==="Refit"?"bg-white shadow text-blue-600 scale-100":"text-slate-500 hover:text-slate-700"}`,onClick:()=>te("Refit"),children:"Refit Removed Tyre"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{type:"datetime-local",value:O,onChange:se=>k(se.target.value),className:"w-full p-3 border-2 border-slate-200 rounded-lg text-sm"}),H==="Scan"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{value:ee,onChange:se=>oe(se.target.value),className:"flex-1 p-3 border-2 border-slate-200 rounded-lg font-mono text-lg",placeholder:"Scan Barcode",autoFocus:!0}),p.jsx("button",{onClick:W,className:"bg-slate-200 px-4 rounded-lg hover:bg-slate-300",title:"Open Camera",children:p.jsx(aC,{className:"w-6 h-6 text-slate-700"})})]}),ge&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:p.jsxs("div",{className:"relative w-full max-w-sm bg-black rounded-xl overflow-hidden shadow-2xl",children:[p.jsx("video",{ref:S,className:"w-full h-auto"}),p.jsx("button",{onClick:()=>N(!1),className:"absolute top-4 right-4 bg-white/20 p-2 rounded-full text-white",children:p.jsx(gh,{className:"w-6 h-6"})})]})})]}):p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"block text-sm font-bold text-slate-600",children:"Reason for Removal"}),p.jsxs("select",{className:"w-full p-3 border-2 border-slate-200 rounded-lg bg-white focus:border-blue-500 focus:outline-none",value:$,onChange:se=>ce(se.target.value),children:[p.jsx("option",{value:"Brake Work",children:"Brake Work"}),p.jsx("option",{value:"Turn on Rim",children:"Turn on Rim"}),p.jsx("option",{value:"Other",children:"Other..."})]}),$==="Other"&&p.jsx("input",{placeholder:"Specify reason...",className:"w-full p-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none",value:Ie,onChange:se=>xe(se.target.value)})]}),p.jsx("input",{value:x,readOnly:!0,className:"w-full p-3 border-2 border-slate-200 rounded text-center uppercase tracking-widest font-bold bg-slate-100 text-slate-500"})]}),p.jsx("button",{onClick:ue,disabled:H==="Scan"&&!ee,className:"w-full bg-green-600 text-white p-4 rounded-xl font-bold hover:bg-green-700 disabled:opacity-50 shadow-lg btn-press transition-all",children:E+1===v.length?"FINISH & SUBMIT":"NEXT TYRE"})]})]})]})}function cI({inventory:s,onAddBatch:e,onDelete:i,availableSizes:a,canAdd:o}){const[c,d]=_e({brand:"",model:"",size:a[0]?.name||"",qty:1,dot:"",isUsed:!1,treadDepth:""}),[y,v]=_e(""),[g,E]=_e(null),[w,I]=_e("All"),{items:q,requestSort:H,sortConfig:te}=yh(s.filter($=>{const ce=$.barcode.includes(y)||$.brand.toLowerCase().includes(y.toLowerCase())||$.size.includes(y),Ie=w==="All"?!0:w==="Fitted"?$.status==="Fitted":$.status==="In Stock";return ce&&Ie})),ee=$=>{$.preventDefault(),e({brand:c.brand,model:c.model,size:c.size,dot:c.dot,isUsed:c.isUsed,treadDepth:c.isUsed?c.treadDepth:null},parseInt(c.qty)),d({...c,qty:1,dot:"",isUsed:!1,treadDepth:""})},oe=()=>{const $=window.open("","_blank","width=400,height=600");$.document.write(`
      <html>
        <head>
          <title>Print Label</title>
          <link href="https://fonts.googleapis.com/css2?family=Libre+Barcode+39+Text&display=swap" rel="stylesheet">
          <style>
            body { font-family: sans-serif; text-align: center; padding: 20px; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
            .label { border: 2px solid black; padding: 20px; width: 300px; height: 450px; display: flex; flex-direction: column; justify-content: space-between; align-items: center; }
            .barcode { font-family: 'Libre Barcode 39 Text', cursive; font-size: 48px; margin: 10px 0; }
            .meta { font-size: 14px; font-weight: bold; }
            .brand { font-size: 28px; font-weight: 900; text-transform: uppercase; }
            .model { font-size: 18px; margin-bottom: 10px; }
            .size { font-size: 32px; font-weight: bold; border: 2px solid black; padding: 5px 15px; border-radius: 8px; }
          </style>
        </head>
        <body>
          <div class="label">
            <div>
              <div class="brand">${g.brand}</div>
              <div class="model">${g.model}</div>
            </div>
            <div class="size">${g.size}</div>
            <div class="barcode">*${g.barcode}*</div>
            <div class="meta">
              <div>S/N: ${g.barcode}</div>
              <div style="margin-top:5px">DOT: ${g.dot}</div>
            </div>
          </div>
          <script>
            window.onload = function() { window.print(); }
          <\/script>
        </body>
      </html>
    `),$.document.close()};return p.jsxs("div",{className:"space-y-8 animate-enter",children:[o&&p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[p.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[p.jsx(tT,{className:"w-5 h-5 text-green-600"})," Batch Add Stock"]}),p.jsxs("form",{onSubmit:ee,className:"grid grid-cols-2 md:grid-cols-6 gap-4 items-end",children:[p.jsx("div",{className:"col-span-1",children:p.jsx("input",{required:!0,placeholder:"Brand",className:"p-2 border rounded w-full",value:c.brand,onChange:$=>d({...c,brand:$.target.value})})}),p.jsx("div",{className:"col-span-1",children:p.jsx("input",{required:!0,placeholder:"Model",className:"p-2 border rounded w-full",value:c.model,onChange:$=>d({...c,model:$.target.value})})}),p.jsx("div",{className:"col-span-1",children:p.jsx("select",{required:!0,className:"p-2 border rounded w-full bg-white",value:c.size,onChange:$=>d({...c,size:$.target.value}),children:a.map($=>p.jsx("option",{value:$.name,children:$.name},$.id))})}),p.jsx("div",{className:"col-span-1",children:p.jsx("input",{required:!0,placeholder:"DOT (e.g 1024)",maxLength:"4",className:"p-2 border rounded w-full",value:c.dot,onChange:$=>d({...c,dot:$.target.value})})}),p.jsx("div",{className:"col-span-1",children:p.jsx("input",{type:"number",min:"1",max:"50",required:!0,placeholder:"Qty",className:"p-2 border rounded w-full",value:c.qty,onChange:$=>d({...c,qty:$.target.value})})}),p.jsxs("div",{className:"col-span-1 flex flex-col gap-2",children:[p.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-600 cursor-pointer select-none",children:[p.jsx("input",{type:"checkbox",checked:c.isUsed,onChange:$=>d({...c,isUsed:$.target.checked})})," Used Tyre?"]}),c.isUsed&&p.jsx("input",{type:"number",placeholder:"Depth (mm)",className:"p-1 border rounded text-xs w-full animate-enter",value:c.treadDepth,onChange:$=>d({...c,treadDepth:$.target.value}),required:!0})]}),p.jsx("button",{className:"col-span-2 md:col-span-6 bg-slate-900 text-white rounded font-medium py-2 mt-2 hover:bg-slate-800 btn-press transition-all",children:"Add"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[p.jsxs("div",{className:"p-4 bg-slate-50 border-b flex flex-col md:flex-row justify-between items-center gap-4",children:[p.jsx("h3",{className:"font-bold text-slate-700",children:"Serialized Inventory"}),p.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[p.jsxs("select",{value:w,onChange:$=>I($.target.value),className:"border p-2 rounded text-sm bg-white",children:[p.jsx("option",{value:"All",children:"All Status"}),p.jsx("option",{value:"In Stock",children:"In Stock"}),p.jsx("option",{value:"Fitted",children:"Fitted"})]}),p.jsxs("div",{className:"relative flex-1 md:flex-none",children:[p.jsx(nT,{className:"absolute left-2 top-2 w-4 h-4 text-slate-400"}),p.jsx("input",{placeholder:"Search...",className:"pl-8 p-2 border rounded text-sm w-full",value:y,onChange:$=>v($.target.value)})]})]})]}),p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx(mt,{label:"Barcode",sortKey:"barcode",requestSort:H,sortConfig:te}),p.jsx(mt,{label:"Details",sortKey:"brand",requestSort:H,sortConfig:te}),p.jsx(mt,{label:"Age",sortKey:"dot",requestSort:H,sortConfig:te}),p.jsx(mt,{label:"Status",sortKey:"status",requestSort:H,sortConfig:te}),p.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y",children:q.map($=>p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsx("td",{className:"p-3 font-mono font-bold",children:$.barcode}),p.jsxs("td",{className:"p-3",children:[p.jsxs("div",{className:"font-medium text-slate-900",children:[$.brand," ",$.model]}),p.jsx("div",{className:"text-xs text-slate-500",children:$.size}),$.isUsed&&p.jsxs("span",{className:"inline-block bg-amber-100 text-amber-800 text-[10px] px-1 rounded border border-amber-200 mt-1",children:["Used: ",$.treadDepth,"mm"]})]}),p.jsxs("td",{className:"p-3",children:[p.jsx("div",{className:"text-xs font-bold text-slate-600",children:oT($.dot)}),p.jsxs("div",{className:"text-xs text-slate-400",children:["DOT: ",$.dot]})]}),p.jsxs("td",{className:"p-3",children:[p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${$.status==="In Stock"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:$.status}),$.status==="Fitted"&&p.jsx("div",{className:"text-xs mt-1 text-slate-500 font-medium",children:$.vehicleReg})]}),p.jsx("td",{className:"p-3 text-right",children:p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>E($),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all",title:"Print Label",children:p.jsx(DC,{className:"w-4 h-4"})}),o&&p.jsx("button",{onClick:()=>i($.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Delete Stock",children:p.jsx(Tl,{className:"w-4 h-4"})})]})})]},$.id))})]})]}),g&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 text-center",children:[p.jsx("h3",{className:"font-bold text-xl mb-4",children:g.brand}),p.jsx("div",{className:"font-mono text-3xl font-black bg-slate-100 p-4 mb-4",children:g.barcode}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>E(null),className:"flex-1 py-2 border rounded",children:"Cancel"}),p.jsx("button",{onClick:oe,className:"flex-1 py-2 bg-blue-600 text-white rounded",children:"Print Now"})]})]})})]})}function hI({tasks:s,onComplete:e}){const[i,a]=_e(null),o=s.filter(g=>g.status==="Completed"),{items:c,requestSort:d,sortConfig:y}=yh(o,{key:"completedDate",direction:"descending"}),v=()=>{e(i.id),a(null)};return p.jsxs("div",{className:"space-y-6 animate-enter",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[p.jsx(iT,{className:"w-5 h-5 text-amber-500"})," Outstanding"]}),s.filter(g=>g.status==="Pending").length===0?p.jsx("div",{className:"p-8 bg-green-50 text-green-800 text-center rounded-xl border border-green-100 font-medium",children:"All compliant"}):s.filter(g=>g.status==="Pending").map(g=>p.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border-l-4 border-amber-500 flex justify-between items-center hover:shadow-md transition-all",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex gap-2 mb-1",children:[p.jsx("span",{className:`px-2 text-xs font-bold rounded text-white ${g.type.includes("30")?"bg-red-500":"bg-blue-500"}`,children:g.type}),p.jsxs("span",{className:"text-xs text-slate-400 font-medium bg-slate-100 px-2 rounded",children:["Fitter: ",g.fitter]})]}),p.jsx("div",{className:"font-black text-lg text-slate-800",children:g.vehicleReg}),p.jsxs("div",{className:"text-sm text-slate-500",children:[qi(g.positionId)," ",p.jsxs("span",{className:"text-slate-400",children:["(",g.reason,")"]})]}),p.jsxs("div",{className:"text-xs font-bold text-amber-600 mt-1",children:["Due: ",new Date(g.dueDate).toLocaleString()]})]}),p.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[p.jsxs("div",{className:"text-xs text-slate-400 font-mono bg-slate-50 px-2 py-1 rounded",children:["Target: ",g.torqueSpec," Nm"]}),p.jsxs("button",{onClick:()=>a(g),className:"bg-slate-900 text-white px-4 py-2 rounded-lg text-sm hover:bg-slate-800 font-medium shadow-md flex items-center gap-2 btn-press",children:[p.jsx(oC,{className:"w-4 h-4"})," Confirm"]})]})]},g.id))]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[p.jsx(_C,{className:"w-5 h-5"})," History"]}),p.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx(mt,{label:"Completed",sortKey:"completedDate",requestSort:d,sortConfig:y}),p.jsx(mt,{label:"Type",sortKey:"type",requestSort:d,sortConfig:y}),p.jsx(mt,{label:"Reason",sortKey:"reason",requestSort:d,sortConfig:y}),p.jsx(mt,{label:"Vehicle",sortKey:"vehicleReg",requestSort:d,sortConfig:y}),p.jsx(mt,{label:"Fitter",sortKey:"fitter",requestSort:d,sortConfig:y}),p.jsx("th",{className:"p-3 text-right",children:"Status"})]})}),p.jsx("tbody",{children:c.map(g=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-3 text-slate-600",children:new Date(g.completedDate).toLocaleDateString()}),p.jsx("td",{className:"p-3",children:p.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${g.type.includes("30")?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:g.type})}),p.jsx("td",{className:"p-3 text-slate-500 text-xs",children:g.reason}),p.jsx("td",{className:"p-3 font-bold text-slate-700",children:g.vehicleReg}),p.jsx("td",{className:"p-3 font-medium",children:g.fitter}),p.jsx("td",{className:"p-3 text-right text-green-600 font-bold text-xs",children:"VERIFIED"})]},g.id))})]})})]}),i&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4 text-amber-600",children:[p.jsx(PC,{className:"w-8 h-8"}),p.jsx("h3",{className:"font-bold text-xl text-slate-900",children:"Safety Confirmation"})]}),p.jsx("p",{className:"text-slate-600 mb-6 text-sm leading-relaxed",children:"I confirm I have performed this retorque within the specifications and no anomalies were detected during the process."}),p.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 mb-6 text-sm",children:[p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"text-slate-500",children:"Vehicle:"}),p.jsx("span",{className:"font-bold",children:i.vehicleReg})]}),p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"text-slate-500",children:"Position:"}),p.jsx("span",{className:"font-bold",children:qi(i.positionId)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-slate-500",children:"Torque Spec:"}),p.jsxs("span",{className:"font-bold font-mono",children:[i.torqueSpec," Nm"]})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>a(null),className:"flex-1 py-3 text-slate-500 hover:bg-slate-100 rounded-lg font-medium transition",children:"Cancel"}),p.jsx("button",{onClick:v,className:"flex-1 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 shadow-lg shadow-green-200 transition btn-press",children:"I Certify & Confirm"})]})]})})]})}function fI({removedTyres:s,onDispose:e,onRestock:i}){const[a,o]=_e(null),[c,d]=_e(""),y=()=>{c&&(i(a,c),o(null),d(""))};return p.jsxs("div",{className:"space-y-6 bg-white p-6 rounded shadow animate-enter",children:[p.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[p.jsx(Tl,{className:"w-5 h-5 text-red-500"})," Removed Tyres"]}),p.jsx("div",{className:"overflow-x-auto border rounded",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Removed Date"}),p.jsx("th",{className:"p-3",children:"Old Barcode"}),p.jsx("th",{className:"p-3",children:"Details"}),p.jsx("th",{className:"p-3",children:"Removed From"}),p.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y",children:s.map(v=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-3",children:new Date(v.removedDate).toLocaleDateString()}),p.jsx("td",{className:"p-3 font-mono text-xs text-slate-500 line-through",children:v.barcode}),p.jsxs("td",{className:"p-3",children:[p.jsx("div",{className:"font-bold",children:v.brand}),p.jsx("div",{className:"text-xs text-slate-500",children:v.size})]}),p.jsxs("td",{className:"p-3",children:[p.jsx("div",{className:"font-bold",children:v.removedFrom}),p.jsx("div",{className:"text-xs text-slate-500",children:qi(v.removedPosition)})]}),p.jsx("td",{className:"p-3 text-right",children:p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsxs("button",{onClick:()=>o(v),className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-xs font-bold transition",children:[p.jsx(MC,{className:"w-3 h-3"})," Restock"]}),p.jsxs("button",{onClick:()=>e(v.id),className:"flex items-center gap-1 px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 text-xs font-bold transition",children:[p.jsx(Tl,{className:"w-3 h-3"})," Dispose"]})]})})]},v.id))})]})}),a&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 animate-enter",children:[p.jsx("h3",{className:"font-bold text-lg mb-4",children:"Restock Tyre"}),p.jsx("p",{className:"text-sm text-slate-600 mb-4",children:'This will generate a new barcode label and add the tyre back to stock as "Used".'}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Measured Tread Depth (mm)"}),p.jsx("input",{type:"number",autoFocus:!0,className:"w-full p-2 border rounded",value:c,onChange:v=>d(v.target.value)})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>o(null),className:"flex-1 py-2 border rounded text-slate-500 hover:bg-slate-50",children:"Cancel"}),p.jsx("button",{onClick:y,className:"flex-1 py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700 shadow-md btn-press",children:"Confirm & Print"})]})]})})]})}function dI({history:s,retorques:e}){const[i,a]=_e(new Date().toISOString().slice(0,10)),[o,c]=_e(new Date().toISOString().slice(0,10)),[d,y]=_e("fitment"),[v,g]=_e(""),[E,w]=_e(""),I=[...new Set([...s.map(S=>S.vehicleReg),...e.map(S=>S.vehicleReg)])].sort(),q=[...new Set([...s.map(S=>S.fitter),...e.map(S=>S.fitter)])].sort(),H=(S,x)=>{const D=S[x].split("T")[0],O=D>=i&&D<=o,k=v?S.vehicleReg===v:!0,R=E?S.fitter===E:!0;return O&&k&&R},te=s.filter(S=>H(S,"fitDate")),ee=e.filter(S=>H(S,"fitmentDate")),{items:oe,requestSort:$,sortConfig:ce}=yh(te,{key:"fitDate",direction:"descending"}),{items:Ie,requestSort:xe,sortConfig:ge}=yh(ee,{key:"fitmentDate",direction:"descending"}),N=()=>{let S="";d==="fitment"?S=`Date,Barcode,Brand,Size,DOT,Vehicle,Pos,Fitter,Reason
`+oe.map(D=>`${D.fitDate},${D.barcode},${D.brand},${D.size},${D.dot},${D.vehicleReg},${qi(D.position)},${D.fitter},${D.reason||"Tyre Fitted"}`).join(`
`):S=`Fitment Date,Due Date,Type,Reason,Vehicle,Position,Status,Fitter
`+Ie.map(D=>`${D.fitmentDate},${D.dueDate},${D.type},${D.reason},${D.vehicleReg},${qi(D.positionId)},${D.status},${D.fitter}`).join(`
`);const x=document.createElement("a");x.href="data:text/csv;charset=utf-8,"+encodeURI(S),x.download=`${d}_report.csv`,x.click()};return p.jsxs("div",{className:"space-y-6 bg-white p-6 rounded shadow animate-enter",children:[p.jsxs("div",{className:"flex items-center gap-4 border-b pb-4 mb-4",children:[p.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 flex-1",children:[p.jsx(eT,{className:"w-5 h-5 text-blue-600"})," Reports"]}),p.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[p.jsx("button",{onClick:()=>y("fitment"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${d==="fitment"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:"Fitment History"}),p.jsx("button",{onClick:()=>y("retorque"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${d==="retorque"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:"Retorque Logs"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 items-end mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"From"}),p.jsx("input",{type:"date",value:i,onChange:S=>a(S.target.value),className:"border p-2 rounded w-full"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"To"}),p.jsx("input",{type:"date",value:o,onChange:S=>c(S.target.value),className:"border p-2 rounded w-full"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"Vehicle"}),p.jsxs("select",{value:v,onChange:S=>g(S.target.value),className:"border p-2 rounded w-full bg-white",children:[p.jsx("option",{value:"",children:"All Vehicles"}),I.map(S=>p.jsx("option",{value:S,children:S},S))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"Fitter"}),p.jsxs("select",{value:E,onChange:S=>w(S.target.value),className:"border p-2 rounded w-full bg-white",children:[p.jsx("option",{value:"",children:"All Fitters"}),q.map(S=>p.jsx("option",{value:S,children:S},S))]})]}),p.jsxs("button",{onClick:N,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center justify-center gap-2 hover:bg-green-700 shadow-md transition btn-press",children:[p.jsx(dC,{className:"w-4 h-4"})," Export CSV"]})]}),p.jsx("div",{className:"overflow-x-auto border rounded",children:d==="fitment"?p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx(mt,{label:"Date",sortKey:"fitDate",requestSort:$,sortConfig:ce}),p.jsx(mt,{label:"Barcode",sortKey:"barcode",requestSort:$,sortConfig:ce}),p.jsx(mt,{label:"Brand",sortKey:"brand",requestSort:$,sortConfig:ce}),p.jsx(mt,{label:"Size",sortKey:"size",requestSort:$,sortConfig:ce}),p.jsx(mt,{label:"Reason",sortKey:"reason",requestSort:$,sortConfig:ce}),p.jsx(mt,{label:"Vehicle",sortKey:"vehicleReg",requestSort:$,sortConfig:ce}),p.jsx(mt,{label:"Pos",sortKey:"position",requestSort:$,sortConfig:ce}),p.jsx(mt,{label:"Fitter",sortKey:"fitter",requestSort:$,sortConfig:ce})]})}),p.jsx("tbody",{children:oe.map(S=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-3",children:new Date(S.fitDate).toLocaleDateString()}),p.jsx("td",{className:"p-3 font-mono",children:S.barcode}),p.jsx("td",{className:"p-3",children:S.brand}),p.jsx("td",{className:"p-3",children:S.size}),p.jsx("td",{className:"p-3 text-slate-500",children:S.reason||"Tyre Fitted"}),p.jsx("td",{className:"p-3 font-bold",children:S.vehicleReg}),p.jsx("td",{className:"p-3",children:qi(S.position)}),p.jsx("td",{className:"p-3 font-bold",children:S.fitter})]},S.id))})]}):p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx(mt,{label:"Fit Date",sortKey:"fitmentDate",requestSort:xe,sortConfig:ge}),p.jsx(mt,{label:"Due Date",sortKey:"dueDate",requestSort:xe,sortConfig:ge}),p.jsx(mt,{label:"Type",sortKey:"type",requestSort:xe,sortConfig:ge}),p.jsx(mt,{label:"Reason",sortKey:"reason",requestSort:xe,sortConfig:ge}),p.jsx(mt,{label:"Vehicle",sortKey:"vehicleReg",requestSort:xe,sortConfig:ge}),p.jsx(mt,{label:"Position",sortKey:"positionId",requestSort:xe,sortConfig:ge}),p.jsx(mt,{label:"Status",sortKey:"status",requestSort:xe,sortConfig:ge}),p.jsx(mt,{label:"Completed",sortKey:"completedDate",requestSort:xe,sortConfig:ge}),p.jsx(mt,{label:"Fitter",sortKey:"fitter",requestSort:xe,sortConfig:ge})]})}),p.jsx("tbody",{children:Ie.map(S=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-3 text-slate-500",children:new Date(S.fitmentDate).toLocaleDateString()}),p.jsx("td",{className:"p-3 font-bold",children:new Date(S.dueDate).toLocaleString()}),p.jsx("td",{className:"p-3",children:p.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold text-white ${S.type.includes("30")?"bg-blue-500":"bg-purple-500"}`,children:S.type})}),p.jsx("td",{className:"p-3 text-slate-600 text-xs",children:S.reason}),p.jsx("td",{className:"p-3 font-bold",children:S.vehicleReg}),p.jsx("td",{className:"p-3",children:qi(S.positionId)}),p.jsx("td",{className:"p-3",children:p.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${S.status==="Completed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:S.status})}),p.jsx("td",{className:"p-3",children:S.completedDate?new Date(S.completedDate).toLocaleString():"-"}),p.jsx("td",{className:"p-3 font-bold",children:S.fitter})]},S.id))})]})})]})}function mI({sizes:s,onAddSize:e,onRemoveSize:i,onSeed:a,users:o,onAddUser:c,onRemoveUser:d,onRequestNotifications:y,onWipe:v}){const[g,E]=_e(""),[w,I]=_e({initials:"",pin:"",role:"Fitter"}),q=H=>{H.preventDefault(),w.initials&&w.pin&&(c({...w,initials:w.initials.toUpperCase()}),I({initials:"",pin:"",role:"Fitter"}))};return p.jsxs("div",{className:"grid md:grid-cols-2 gap-8 animate-enter",children:[p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[p.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[p.jsx(Ap,{className:"w-5 h-5"})," Tyre Configuration"]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"font-bold text-sm mb-2",children:"Tyre Sizes"}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.map(H=>p.jsxs("span",{className:"bg-slate-100 px-3 py-1 rounded-full text-sm flex gap-2 items-center",children:[H.name,p.jsx("button",{onClick:()=>i(H.id),className:"text-red-400 hover:text-red-600",children:p.jsx(gh,{className:"w-3 h-3"})})]},H.id))}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{className:"border p-2 rounded flex-1",placeholder:"New Size",value:g,onChange:H=>E(H.target.value)}),p.jsx("button",{onClick:()=>{e(g),E("")},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add"})]})]}),p.jsxs("div",{className:"border-t pt-6",children:[p.jsx("h4",{className:"font-bold text-sm mb-2",children:"Notifications"}),p.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Enable browser alerts for upcoming retorques."}),p.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 px-4 py-2 rounded text-sm font-medium transition",children:[p.jsx(nC,{className:"w-4 h-4"})," Enable Notifications"]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[p.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[p.jsx(Nv,{className:"w-5 h-5"})," System Actions"]}),p.jsx("p",{className:"text-xs text-red-600 font-bold mb-4",children:"If you are not Dale - DO NOT press this button"}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("button",{onClick:a,className:"flex items-center justify-center gap-2 bg-slate-800 text-white px-4 py-2 rounded hover:bg-slate-900 w-full",children:[p.jsx(Nv,{className:"w-4 h-4"})," Initialize Database"]}),p.jsxs("button",{onClick:v,className:"flex items-center justify-center gap-2 bg-red-50 text-red-600 border border-red-200 px-4 py-2 rounded hover:bg-red-100 w-full font-bold",children:[p.jsx(NC,{className:"w-4 h-4"})," Wipe Operational Data"]})]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded shadow h-fit",children:[p.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[p.jsx(QC,{className:"w-5 h-5"})," User Management"]}),p.jsxs("form",{onSubmit:q,className:"bg-slate-50 p-4 rounded mb-6 border",children:[p.jsx("h4",{className:"font-bold text-sm mb-3",children:"Add New User"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[p.jsx("input",{className:"border p-2 rounded uppercase",placeholder:"Initials",maxLength:3,value:w.initials,onChange:H=>I({...w,initials:H.target.value}),required:!0}),p.jsx("input",{className:"border p-2 rounded",placeholder:"PIN",maxLength:4,type:"password",value:w.pin,onChange:H=>I({...w,pin:H.target.value}),required:!0})]}),p.jsxs("select",{className:"w-full border p-2 rounded mb-2",value:w.role,onChange:H=>I({...w,role:H.target.value}),children:[p.jsx("option",{value:"Admin",children:"Admin"}),p.jsx("option",{value:"Manager",children:"Manager"}),p.jsx("option",{value:"Fitter",children:"Fitter"})]}),p.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded font-bold",children:"Create User"})]}),p.jsx("div",{className:"space-y-2",children:o.map(H=>p.jsxs("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-slate-50",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold",children:H.initials}),p.jsx("div",{className:"text-xs text-slate-500",children:H.role})]}),p.jsx("button",{onClick:()=>d(H.id),className:"text-red-400 hover:text-red-600",children:p.jsx(Tl,{className:"w-4 h-4"})})]},H.id))})]})]})}WE.createRoot(document.getElementById("root")).render(p.jsx(fr.StrictMode,{children:p.jsx(aI,{})}));
