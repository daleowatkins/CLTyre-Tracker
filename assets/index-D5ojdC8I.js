(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Od={exports:{}},wo={};var I_;function SE(){if(I_)return wo;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return wo.Fragment=e,wo.jsx=i,wo.jsxs=i,wo}var D_;function AE(){return D_||(D_=1,Od.exports=SE()),Od.exports}var p=AE(),Md={exports:{}},Ne={};var O_;function wE(){if(O_)return Ne;O_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function z(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,W={};function fe(V,Q,ie){this.props=V,this.context=Q,this.refs=W,this.updater=ie||$}fe.prototype.isReactComponent={},fe.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},fe.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=fe.prototype;function oe(V,Q,ie){this.props=V,this.context=Q,this.refs=W,this.updater=ie||$}var Ee=oe.prototype=new Z;Ee.constructor=oe,ee(Ee,fe.prototype),Ee.isPureReactComponent=!0;var se=Array.isArray;function ue(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(V,Q,ie){var ae=ie.ref;return{$$typeof:r,type:V,key:Q,ref:ae!==void 0?ae:null,props:ie}}function I(V,Q){return R(V.type,Q,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function j(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ie){return Q[ie]})}var x=/\/+/g;function Je(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):Q.toString(36)}function ht(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ue,ue):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,Q,ie,ae,Ae){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Ie){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case r:case e:Le=!0;break;case E:return Le=V._init,F(Le(V._payload),Q,ie,ae,Ae)}}if(Le)return Ae=Ae(V),Le=ae===""?"."+Je(V,0):ae,se(Ae)?(ie="",Le!=null&&(ie=Le.replace(x,"$&/")+"/"),F(Ae,Q,ie,"",function(di){return di})):Ae!=null&&(D(Ae)&&(Ae=I(Ae,ie+(Ae.key==null||V&&V.key===Ae.key?"":(""+Ae.key).replace(x,"$&/")+"/")+Le)),Q.push(Ae)),1;Le=0;var yt=ae===""?".":ae+":";if(se(V))for(var lt=0;lt<V.length;lt++)ae=V[lt],Ie=yt+Je(ae,lt),Le+=F(ae,Q,ie,Ie,Ae);else if(lt=z(V),typeof lt=="function")for(V=lt.call(V),lt=0;!(ae=V.next()).done;)ae=ae.value,Ie=yt+Je(ae,lt++),Le+=F(ae,Q,ie,Ie,Ae);else if(Ie==="object"){if(typeof V.then=="function")return F(ht(V),Q,ie,ae,Ae);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ne(V,Q,ie){if(V==null)return V;var ae=[],Ae=0;return F(V,ae,"","",function(Ie){return Q.call(ie,Ie,Ae++)}),ae}function ge(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=ie)},function(ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=ie)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var Fe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Xe={map:ne,forEach:function(V,Q,ie){ne(V,function(){Q.apply(this,arguments)},ie)},count:function(V){var Q=0;return ne(V,function(){Q++}),Q},toArray:function(V){return ne(V,function(Q){return Q})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ne.Activity=w,Ne.Children=Xe,Ne.Component=fe,Ne.Fragment=i,Ne.Profiler=o,Ne.PureComponent=oe,Ne.StrictMode=a,Ne.Suspense=v,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(V,Q,ie){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=ee({},V.props),Ae=V.key;if(Q!=null)for(Ie in Q.key!==void 0&&(Ae=""+Q.key),Q)!A.call(Q,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Q.ref===void 0||(ae[Ie]=Q[Ie]);var Ie=arguments.length-2;if(Ie===1)ae.children=ie;else if(1<Ie){for(var Le=Array(Ie),yt=0;yt<Ie;yt++)Le[yt]=arguments[yt+2];ae.children=Le}return R(V.type,Ae,ae)},Ne.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ne.createElement=function(V,Q,ie){var ae,Ae={},Ie=null;if(Q!=null)for(ae in Q.key!==void 0&&(Ie=""+Q.key),Q)A.call(Q,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Ae[ae]=Q[ae]);var Le=arguments.length-2;if(Le===1)Ae.children=ie;else if(1<Le){for(var yt=Array(Le),lt=0;lt<Le;lt++)yt[lt]=arguments[lt+2];Ae.children=yt}if(V&&V.defaultProps)for(ae in Le=V.defaultProps,Le)Ae[ae]===void 0&&(Ae[ae]=Le[ae]);return R(V,Ie,Ae)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:g,render:V}},Ne.isValidElement=D,Ne.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ge}},Ne.memo=function(V,Q){return{$$typeof:y,type:V,compare:Q===void 0?null:Q}},Ne.startTransition=function(V){var Q=N.T,ie={};N.T=ie;try{var ae=V(),Ae=N.S;Ae!==null&&Ae(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ue,Fe)}catch(Ie){Fe(Ie)}finally{Q!==null&&ie.types!==null&&(Q.types=ie.types),N.T=Q}},Ne.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ne.use=function(V){return N.H.use(V)},Ne.useActionState=function(V,Q,ie){return N.H.useActionState(V,Q,ie)},Ne.useCallback=function(V,Q){return N.H.useCallback(V,Q)},Ne.useContext=function(V){return N.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,Q){return N.H.useDeferredValue(V,Q)},Ne.useEffect=function(V,Q){return N.H.useEffect(V,Q)},Ne.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Ne.useId=function(){return N.H.useId()},Ne.useImperativeHandle=function(V,Q,ie){return N.H.useImperativeHandle(V,Q,ie)},Ne.useInsertionEffect=function(V,Q){return N.H.useInsertionEffect(V,Q)},Ne.useLayoutEffect=function(V,Q){return N.H.useLayoutEffect(V,Q)},Ne.useMemo=function(V,Q){return N.H.useMemo(V,Q)},Ne.useOptimistic=function(V,Q){return N.H.useOptimistic(V,Q)},Ne.useReducer=function(V,Q,ie){return N.H.useReducer(V,Q,ie)},Ne.useRef=function(V){return N.H.useRef(V)},Ne.useState=function(V){return N.H.useState(V)},Ne.useSyncExternalStore=function(V,Q,ie){return N.H.useSyncExternalStore(V,Q,ie)},Ne.useTransition=function(){return N.H.useTransition()},Ne.version="19.2.3",Ne}var M_;function Em(){return M_||(M_=1,Md.exports=wE()),Md.exports}var me=Em(),Vd={exports:{}},xo={},kd={exports:{}},jd={};var V_;function xE(){return V_||(V_=1,(function(r){function e(F,ne){var ge=F.length;F.push(ne);e:for(;0<ge;){var Fe=ge-1>>>1,Xe=F[Fe];if(0<o(Xe,ne))F[Fe]=ne,F[ge]=Xe,ge=Fe;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ne=F[0],ge=F.pop();if(ge!==ne){F[0]=ge;e:for(var Fe=0,Xe=F.length,V=Xe>>>1;Fe<V;){var Q=2*(Fe+1)-1,ie=F[Q],ae=Q+1,Ae=F[ae];if(0>o(ie,ge))ae<Xe&&0>o(Ae,ie)?(F[Fe]=Ae,F[ae]=ge,Fe=ae):(F[Fe]=ie,F[Q]=ge,Fe=Q);else if(ae<Xe&&0>o(Ae,ge))F[Fe]=Ae,F[ae]=ge,Fe=ae;else break e}}return ne}function o(F,ne){var ge=F.sortIndex-ne.sortIndex;return ge!==0?ge:F.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],E=1,w=null,M=3,z=!1,$=!1,ee=!1,W=!1,fe=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Ee(F){for(var ne=i(y);ne!==null;){if(ne.callback===null)a(y);else if(ne.startTime<=F)a(y),ne.sortIndex=ne.expirationTime,e(v,ne);else break;ne=i(y)}}function se(F){if(ee=!1,Ee(F),!$)if(i(v)!==null)$=!0,ue||(ue=!0,j());else{var ne=i(y);ne!==null&&ht(se,ne.startTime-F)}}var ue=!1,N=-1,A=5,R=-1;function I(){return W?!0:!(r.unstable_now()-R<A)}function D(){if(W=!1,ue){var F=r.unstable_now();R=F;var ne=!0;try{e:{$=!1,ee&&(ee=!1,Z(N),N=-1),z=!0;var ge=M;try{t:{for(Ee(F),w=i(v);w!==null&&!(w.expirationTime>F&&I());){var Fe=w.callback;if(typeof Fe=="function"){w.callback=null,M=w.priorityLevel;var Xe=Fe(w.expirationTime<=F);if(F=r.unstable_now(),typeof Xe=="function"){w.callback=Xe,Ee(F),ne=!0;break t}w===i(v)&&a(v),Ee(F)}else a(v);w=i(v)}if(w!==null)ne=!0;else{var V=i(y);V!==null&&ht(se,V.startTime-F),ne=!1}}break e}finally{w=null,M=ge,z=!1}ne=void 0}}finally{ne?j():ue=!1}}}var j;if(typeof oe=="function")j=function(){oe(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Je=x.port2;x.port1.onmessage=D,j=function(){Je.postMessage(null)}}else j=function(){fe(D,0)};function ht(F,ne){N=fe(function(){F(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(F){switch(M){case 1:case 2:case 3:var ne=3;break;default:ne=M}var ge=M;M=ne;try{return F()}finally{M=ge}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ge=M;M=F;try{return ne()}finally{M=ge}},r.unstable_scheduleCallback=function(F,ne,ge){var Fe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Fe+ge:Fe):ge=Fe,F){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=ge+Xe,F={id:E++,callback:ne,priorityLevel:F,startTime:ge,expirationTime:Xe,sortIndex:-1},ge>Fe?(F.sortIndex=ge,e(y,F),i(v)===null&&F===i(y)&&(ee?(Z(N),N=-1):ee=!0,ht(se,ge-Fe))):(F.sortIndex=Xe,e(v,F),$||z||($=!0,ue||(ue=!0,j()))),F},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(F){var ne=M;return function(){var ge=M;M=ne;try{return F.apply(this,arguments)}finally{M=ge}}}})(jd)),jd}var k_;function RE(){return k_||(k_=1,kd.exports=xE()),kd.exports}var Ud={exports:{}},ln={};var j_;function NE(){if(j_)return ln;j_=1;var r=Em();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ln.createPortal=function(v,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(v,y,null,E)},ln.flushSync=function(v){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=E,a.d.f()}},ln.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},ln.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},ln.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var E=y.as,w=g(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:z}):E==="script"&&a.d.X(v,{crossOrigin:w,integrity:M,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},ln.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=g(E,y.crossOrigin);a.d.L(v,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(v,y){if(typeof v=="string")if(y){var E=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},ln.requestFormReset=function(v){a.d.r(v)},ln.unstable_batchedUpdates=function(v,y){return v(y)},ln.useFormState=function(v,y,E){return d.H.useFormState(v,y,E)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var U_;function CE(){if(U_)return Ud.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ud.exports=NE(),Ud.exports}var L_;function IE(){if(L_)return xo;L_=1;var r=RE(),e=Em(),i=CE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=f;break}if(T===l){_=!0,l=h,s=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===s){_=!0,s=f,l=h;break}if(T===l){_=!0,l=f,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case fe:return"Profiler";case W:return"StrictMode";case se:return"Suspense";case ue:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case oe:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case Ee:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Je(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Je(t(n))}catch{}}return null}var ht=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Fe=[],Xe=-1;function V(t){return{current:t}}function Q(t){0>Xe||(t.current=Fe[Xe],Fe[Xe]=null,Xe--)}function ie(t,n){Xe++,Fe[Xe]=t.current,t.current=n}var ae=V(null),Ae=V(null),Ie=V(null),Le=V(null);function yt(t,n){switch(ie(Ie,n),ie(Ae,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Wy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Wy(n),t=e_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ae),ie(ae,t)}function lt(){Q(ae),Q(Ae),Q(Ie)}function di(t){t.memoizedState!==null&&ie(Le,t);var n=ae.current,s=e_(n,t.type);n!==s&&(ie(Ae,t),ie(ae,s))}function re(t){Ae.current===t&&(Q(ae),Q(Ae)),Le.current===t&&(Q(Le),To._currentValue=ge)}var ve,De;function ke(t){if(ve===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ve=n&&n[1]||"",De=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+t+De}var ft=!1;function Re(t,n){if(!t||ft)return"";ft=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var q=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){q=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){q=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var C=_.split(`
`),P=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{ft=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ke(s):""}function _t(t,n){switch(t.tag){case 26:case 27:case 5:return ke(t.type);case 16:return ke("Lazy");case 13:return t.child!==n&&n!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Re(t.type,!1);case 11:return Re(t.type.render,!1);case 1:return Re(t.type,!0);case 31:return ke("Activity");default:return""}}function an(t){try{var n="",s=null;do n+=_t(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var he=Object.prototype.hasOwnProperty,ye=r.unstable_scheduleCallback,xt=r.unstable_cancelCallback,El=r.unstable_shouldYield,gr=r.unstable_requestPaint,fn=r.unstable_now,yr=r.unstable_getCurrentPriorityLevel,Sl=r.unstable_ImmediatePriority,Al=r.unstable_UserBlockingPriority,_s=r.unstable_NormalPriority,Vh=r.unstable_LowPriority,nu=r.unstable_IdlePriority,iu=r.log,su=r.unstable_setDisableYieldValue,$n=null,$t=null;function kn(t){if(typeof iu=="function"&&su(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode($n,t)}catch{}}var Rt=Math.clz32?Math.clz32:au,ru=Math.log,oa=Math.LN2;function au(t){return t>>>=0,t===0?32:31-(ru(t)/oa|0)|0}var mi=256,_r=262144,Ot=4194304;function pi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=pi(l):(_&=T,_!==0?h=pi(_):s||(s=T&~t,s!==0&&(h=pi(s))))):(T=l&~f,T!==0?h=pi(T):_!==0?h=pi(_):s||(s=l&~t,s!==0&&(h=pi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),t}function yi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function vr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jh(t,n,s,l,h,f){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(s=_&~s;0<s;){var G=31-Rt(s),Y=1<<G;T[G]=0,C[G]=-1;var q=P[G];if(q!==null)for(P[G]=null,G=0;G<q.length;G++){var H=q[G];H!==null&&(H.lane&=-536870913)}s&=~Y}l!==0&&br(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function br(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Rt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function wl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Rt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function xl(t,n){var s=n&-n;return s=(s&42)!==0?1:Tr(s),(s&(t.suspendedLanes|n))!==0?0:s}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:S_(t.type))}function Jn(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var Wn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Wn,Kt="__reactProps$"+Wn,_i="__reactContainer$"+Wn,ua="__reactEvents$"+Wn,Uh="__reactListeners$"+Wn,uu="__reactHandles$"+Wn,cu="__reactResources$"+Wn,vi="__reactMarker$"+Wn;function ca(t){delete t[Mt],delete t[Kt],delete t[ua],delete t[Uh],delete t[uu]}function bi(t){var n=t[Mt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[_i]||s[Mt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=l_(t);t!==null;){if(s=t[Mt])return s;t=l_(t)}return n}t=s,s=t.parentNode}return null}function jn(t){if(t=t[Mt]||t[_i]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ti(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Vt(t){t[vi]=!0}var Rl=new Set,Nl={};function Ei(t,n){Si(t,n),Si(t+"Capture",n)}function Si(t,n){for(Nl[t]=n,t=0;t<n.length;t++)Rl.add(n[t])}var Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Dl={};function hu(t){return he.call(Dl,t)?!0:he.call(Il,t)?!1:Cl.test(t)?Dl[t]=!0:(Il[t]=!0,!1)}function ha(t,n,s){if(hu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function xn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function kt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ol(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=vs(t)?"checked":"value";t._valueTracker=Ol(t,n,""+t[n])}}function Er(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=vs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sr=/[\n"\\]/g;function pn(t){return t.replace(Sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fa(t,n,s,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ml(t,_,Qt(n)):s!=null?Ml(t,_,Qt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Qt(T):t.removeAttribute("name")}function fu(t,n,s,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}s=s!=null?""+Qt(s):"",n=n!=null?""+Qt(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),et(t)}function Ml(t,n,s){n==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function bs(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Qt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,s){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Qt(s):""}function Ts(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ht(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Qt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),et(t)}function gn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||mu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function kl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Vl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Vl(t,f,n[f])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return Es.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var jl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,wi=null;function Ar(t){var n=jn(t);if(n&&(t=n.stateNode)){var s=t[Kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(fa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Kt]||null;if(!h)throw Error(a(90));fa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Er(l)}break e;case"textarea":du(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&bs(t,!!s.multiple,n,!1)}}}var pa=!1;function As(t,n,s){if(pa)return t(n,s);pa=!0;try{var l=t(n);return l}finally{if(pa=!1,(Ss!==null||wi!==null)&&(oc(),Ss&&(n=Ss,t=wi,wi=Ss=null,Ar(n),t)))for(n=0;n<t.length;n++)Ar(t[n])}}function ti(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Kt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(Ln)try{var it={};Object.defineProperty(it,"passive",{get:function(){wr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{wr=!1}var xi=null,Ul=null,xr=null;function Ll(){if(xr)return xr;var t,n=Ul,s=n.length,l,h="value"in xi?xi.value:xi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&n[s-l]===h[f-l];l++);return xr=h.slice(t,1<l?1-l:void 0)}function Rr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ni(){return!1}function Zt(t){function n(s,l,h,f,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ni,this.isPropagationStopped=ni,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Zt(Qi),ws=w({},Qi,{view:0,detail:0}),Pl=Zt(ws),xs,ga,Ni,ya=w({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(xs=t.screenX-Ni.screenX,ga=t.screenY-Ni.screenY):ga=xs=0,Ni=t),xs)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),zl=Zt(ya),Nr=w({},ya,{dataTransfer:0}),gu=Zt(Nr),yu=w({},ws,{relatedTarget:0}),Cr=Zt(yu),ql=w({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Zt(ql),_a=w({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=Zt(_a),bu=w({},Qi,{data:0}),Ci=Zt(bu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function Rs(){return Au}var dn=w({},ws,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?Rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Zt(dn),xu=w({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Zt(xu),u=w({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),m=Zt(u),b=w({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Zt(b),U=w({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Zt(U),te=w({},Qi,{newState:0,oldState:0}),Oe=Zt(te),Nt=[9,13,27,32],$e=Ln&&"CompositionEvent"in window,vt=null;Ln&&"documentMode"in document&&(vt=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!vt,Ii=Ln&&(!$e||vt&&8<vt&&11>=vt),ii=" ",si=!1;function Ir(t,n){switch(t){case"keyup":return Nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function Q1(t,n){switch(t){case"compositionend":return va(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return t=n.data,t===ii&&si?null:t;default:return null}}function Y1(t,n){if(ba)return t==="compositionend"||!$e&&Ir(t,n)?(t=Ll(),xr=Ul=xi=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ii&&n.locale!=="ko"?null:n.data;default:return null}}var X1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!X1[t.type]:n==="textarea"}function hp(t,n,s,l){Ss?wi?wi.push(l):wi=[l]:Ss=l,n=pc(n,"onChange"),0<n.length&&(s=new Ri("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Bl=null,Hl=null;function $1(t){Qy(t,0)}function Ru(t){var n=wn(t);if(Er(n))return t}function fp(t,n){if(t==="change")return n}var dp=!1;if(Ln){var Lh;if(Ln){var Ph="oninput"in document;if(!Ph){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),Ph=typeof mp.oninput=="function"}Lh=Ph}else Lh=!1;dp=Lh&&(!document.documentMode||9<document.documentMode)}function pp(){Bl&&(Bl.detachEvent("onpropertychange",gp),Hl=Bl=null)}function gp(t){if(t.propertyName==="value"&&Ru(Hl)){var n=[];hp(n,Hl,t,Un(t)),As($1,n)}}function Z1(t,n,s){t==="focusin"?(pp(),Bl=n,Hl=s,Bl.attachEvent("onpropertychange",gp)):t==="focusout"&&pp()}function J1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Hl)}function W1(t,n){if(t==="click")return Ru(n)}function eT(t,n){if(t==="input"||t==="change")return Ru(n)}function tT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rn=typeof Object.is=="function"?Object.is:tT;function Fl(t,n){if(Rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!he.call(n,h)||!Rn(t[h],n[h]))return!1}return!0}function yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _p(t,n){var s=yp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=yp(s)}}function vp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ai(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ai(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var nT=Ln&&"documentMode"in document&&11>=document.documentMode,Ta=null,qh=null,Gl=null,Bh=!1;function Tp(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bh||Ta==null||Ta!==Ai(l)||(l=Ta,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gl&&Fl(Gl,l)||(Gl=l,l=pc(qh,"onSelect"),0<l.length&&(n=new Ri("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Ta)))}function Dr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ea={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},Hh={},Ep={};Ln&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Or(t){if(Hh[t])return Hh[t];if(!Ea[t])return t;var n=Ea[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ep)return Hh[t]=n[s];return t}var Sp=Or("animationend"),Ap=Or("animationiteration"),wp=Or("animationstart"),iT=Or("transitionrun"),sT=Or("transitionstart"),rT=Or("transitioncancel"),xp=Or("transitionend"),Rp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function ri(t,n){Rp.set(t,n),Ei(n,[t])}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Sa=0,Gh=0;function Cu(){for(var t=Sa,n=Gh=Sa=0;n<t;){var s=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Np(s,h,f)}}function Iu(t,n,s,l){zn[Sa++]=t,zn[Sa++]=n,zn[Sa++]=s,zn[Sa++]=l,Gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kh(t,n,s,l){return Iu(t,n,s,l),Du(t)}function Mr(t,n){return Iu(t,null,null,n),Du(t)}function Np(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Rt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Du(t){if(50<mo)throw mo=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Aa={};function aT(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,n,s,l){return new aT(t,n,s,l)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var s=t.alternate;return s===null?(s=Nn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Cp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,s,l,h,f){var _=0;if(l=t,typeof t=="function")Qh(t)&&(_=1);else if(typeof t=="string")_=hE(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Nn(31,s,n,h),t.elementType=R,t.lanes=f,t;case ee:return Vr(s.children,h,f,n);case W:_=8,h|=24;break;case fe:return t=Nn(12,s,n,h|2),t.elementType=fe,t.lanes=f,t;case se:return t=Nn(13,s,n,h),t.elementType=se,t.lanes=f,t;case ue:return t=Nn(19,s,n,h),t.elementType=ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:_=10;break e;case Z:_=9;break e;case Ee:_=11;break e;case N:_=14;break e;case A:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Nn(_,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Vr(t,n,s,l){return t=Nn(7,t,l,n),t.lanes=s,t}function Yh(t,n,s){return t=Nn(6,t,null,n),t.lanes=s,t}function Ip(t){var n=Nn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,s){return n=Nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Dp=new WeakMap;function qn(t,n){if(typeof t=="object"&&t!==null){var s=Dp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:an(n)},Dp.set(t,n),n)}return{value:t,source:n,stack:an(n)}}var wa=[],xa=0,Mu=null,Kl=0,Bn=[],Hn=0,Ns=null,Di=1,Oi="";function $i(t,n){wa[xa++]=Kl,wa[xa++]=Mu,Mu=t,Kl=n}function Op(t,n,s){Bn[Hn++]=Di,Bn[Hn++]=Oi,Bn[Hn++]=Ns,Ns=t;var l=Di;t=Oi;var h=32-Rt(l)-1;l&=~(1<<h),s+=1;var f=32-Rt(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Di=1<<32-Rt(n)+h|s<<h|l,Oi=f+t}else Di=1<<f|s<<h|l,Oi=t}function $h(t){t.return!==null&&($i(t,1),Op(t,1,0))}function Zh(t){for(;t===Mu;)Mu=wa[--xa],wa[xa]=null,Kl=wa[--xa],wa[xa]=null;for(;t===Ns;)Ns=Bn[--Hn],Bn[Hn]=null,Oi=Bn[--Hn],Bn[Hn]=null,Di=Bn[--Hn],Bn[Hn]=null}function Mp(t,n){Bn[Hn++]=Di,Bn[Hn++]=Oi,Bn[Hn++]=Ns,Di=n.id,Oi=n.overflow,Ns=t}var Jt=null,dt=null,Ge=!1,Cs=null,Fn=!1,Jh=Error(a(519));function Is(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(qn(n,t)),Jh}function Vp(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Mt]=t,n[Kt]=l,s){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(s=0;s<go.length;s++)Ue(go[s],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),fu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),Ts(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Zy(n.textContent,s)?(l.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),l.onScroll!=null&&Ue("scroll",n),l.onScrollEnd!=null&&Ue("scrollend",n),l.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Is(t,!0)}function kp(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Jt=Jt.return}}function Ra(t){if(t!==Jt)return!1;if(!Ge)return kp(t),Ge=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||yd(t.type,t.memoizedProps)),s=!s),s&&dt&&Is(t),kp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=a_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=a_(t)}else n===27?(n=dt,Fs(t.type)?(t=Ed,Ed=null,dt=t):dt=n):dt=Jt?Kn(t.stateNode.nextSibling):null;return!0}function kr(){dt=Jt=null,Ge=!1}function Wh(){var t=Cs;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Cs=null),t}function Ql(t){Cs===null?Cs=[t]:Cs.push(t)}var ef=V(null),jr=null,Zi=null;function Ds(t,n,s){ie(ef,n._currentValue),n._currentValue=s}function Ji(t){t._currentValue=ef.current,Q(ef)}function tf(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function nf(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),tf(f.return,s,t),l||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,f=_.alternate,f!==null&&(f.lanes|=s),tf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;Rn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}h=h.return}t!==null&&nf(n,t,s,l),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ur(t){jr=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return jp(jr,t)}function ku(t,n){return jr===null&&Ur(t),jp(t,n)}function jp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Zi===null){if(t===null)throw Error(a(308));Zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Zi=Zi.next=n;return s}var lT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},oT=r.unstable_scheduleCallback,uT=r.unstable_NormalPriority,jt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new lT,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&oT(uT,function(){t.controller.abort()})}var Xl=null,rf=0,Ca=0,Ia=null;function cT(t,n){if(Xl===null){var s=Xl=[];rf=0,Ca=od(),Ia={status:"pending",value:void 0,then:function(l){s.push(l)}}}return rf++,n.then(Up,Up),n}function Up(){if(--rf===0&&Xl!==null){Ia!==null&&(Ia.status="fulfilled");var t=Xl;Xl=null,Ca=0,Ia=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function hT(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Lp=F.S;F.S=function(t,n){Ty=fn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&cT(t,n),Lp!==null&&Lp(t,n)};var Lr=V(null);function af(){var t=Lr.current;return t!==null?t:ot.pooledCache}function ju(t,n){n===null?ie(Lr,Lr.current):ie(Lr,n.pool)}function Pp(){var t=af();return t===null?null:{parent:jt._currentValue,pool:t}}var Da=Error(a(460)),lf=Error(a(474)),Uu=Error(a(542)),Lu={then:function(){}};function zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ei,ei),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hp(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hp(t),t}throw zr=n,Da}}function Pr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zr=s,Da):s}}var zr=null;function Bp(){if(zr===null)throw Error(a(459));var t=zr;return zr=null,t}function Hp(t){if(t===Da||t===Uu)throw Error(a(483))}var Oa=null,$l=0;function Pu(t){var n=$l;return $l+=1,Oa===null&&(Oa=[]),qp(Oa,t,n)}function Zl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Fp(t){function n(k,O){if(t){var L=k.deletions;L===null?(k.deletions=[O],k.flags|=16):L.push(O)}}function s(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Xi(k,O),k.index=0,k.sibling=null,k}function f(k,O,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<O?(k.flags|=67108866,O):L):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,L,K){return O===null||O.tag!==6?(O=Yh(L,k.mode,K),O.return=k,O):(O=h(O,L),O.return=k,O)}function C(k,O,L,K){var _e=L.type;return _e===ee?G(k,O,L.props.children,K,L.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Pr(_e)===O.type)?(O=h(O,L.props),Zl(O,L),O.return=k,O):(O=Ou(L.type,L.key,L.props,null,k.mode,K),Zl(O,L),O.return=k,O)}function P(k,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Xh(L,k.mode,K),O.return=k,O):(O=h(O,L.children||[]),O.return=k,O)}function G(k,O,L,K,_e){return O===null||O.tag!==7?(O=Vr(L,k.mode,K,_e),O.return=k,O):(O=h(O,L),O.return=k,O)}function Y(k,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Yh(""+O,k.mode,L),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return L=Ou(O.type,O.key,O.props,null,k.mode,L),Zl(L,O),L.return=k,L;case $:return O=Xh(O,k.mode,L),O.return=k,O;case A:return O=Pr(O),Y(k,O,L)}if(ht(O)||j(O))return O=Vr(O,k.mode,L,null),O.return=k,O;if(typeof O.then=="function")return Y(k,Pu(O),L);if(O.$$typeof===oe)return Y(k,ku(k,O),L);zu(k,O)}return null}function q(k,O,L,K){var _e=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return _e!==null?null:T(k,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return L.key===_e?C(k,O,L,K):null;case $:return L.key===_e?P(k,O,L,K):null;case A:return L=Pr(L),q(k,O,L,K)}if(ht(L)||j(L))return _e!==null?null:G(k,O,L,K,null);if(typeof L.then=="function")return q(k,O,Pu(L),K);if(L.$$typeof===oe)return q(k,O,ku(k,L),K);zu(k,L)}return null}function H(k,O,L,K,_e){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,T(O,k,""+K,_e);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return k=k.get(K.key===null?L:K.key)||null,C(O,k,K,_e);case $:return k=k.get(K.key===null?L:K.key)||null,P(O,k,K,_e);case A:return K=Pr(K),H(k,O,L,K,_e)}if(ht(K)||j(K))return k=k.get(L)||null,G(O,k,K,_e,null);if(typeof K.then=="function")return H(k,O,L,Pu(K),_e);if(K.$$typeof===oe)return H(k,O,L,ku(O,K),_e);zu(O,K)}return null}function ce(k,O,L,K){for(var _e=null,Qe=null,de=O,Ve=O=0,ze=null;de!==null&&Ve<L.length;Ve++){de.index>Ve?(ze=de,de=null):ze=de.sibling;var Ye=q(k,de,L[Ve],K);if(Ye===null){de===null&&(de=ze);break}t&&de&&Ye.alternate===null&&n(k,de),O=f(Ye,O,Ve),Qe===null?_e=Ye:Qe.sibling=Ye,Qe=Ye,de=ze}if(Ve===L.length)return s(k,de),Ge&&$i(k,Ve),_e;if(de===null){for(;Ve<L.length;Ve++)de=Y(k,L[Ve],K),de!==null&&(O=f(de,O,Ve),Qe===null?_e=de:Qe.sibling=de,Qe=de);return Ge&&$i(k,Ve),_e}for(de=l(de);Ve<L.length;Ve++)ze=H(de,k,Ve,L[Ve],K),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?Ve:ze.key),O=f(ze,O,Ve),Qe===null?_e=ze:Qe.sibling=ze,Qe=ze);return t&&de.forEach(function(Xs){return n(k,Xs)}),Ge&&$i(k,Ve),_e}function Te(k,O,L,K){if(L==null)throw Error(a(151));for(var _e=null,Qe=null,de=O,Ve=O=0,ze=null,Ye=L.next();de!==null&&!Ye.done;Ve++,Ye=L.next()){de.index>Ve?(ze=de,de=null):ze=de.sibling;var Xs=q(k,de,Ye.value,K);if(Xs===null){de===null&&(de=ze);break}t&&de&&Xs.alternate===null&&n(k,de),O=f(Xs,O,Ve),Qe===null?_e=Xs:Qe.sibling=Xs,Qe=Xs,de=ze}if(Ye.done)return s(k,de),Ge&&$i(k,Ve),_e;if(de===null){for(;!Ye.done;Ve++,Ye=L.next())Ye=Y(k,Ye.value,K),Ye!==null&&(O=f(Ye,O,Ve),Qe===null?_e=Ye:Qe.sibling=Ye,Qe=Ye);return Ge&&$i(k,Ve),_e}for(de=l(de);!Ye.done;Ve++,Ye=L.next())Ye=H(de,k,Ve,Ye.value,K),Ye!==null&&(t&&Ye.alternate!==null&&de.delete(Ye.key===null?Ve:Ye.key),O=f(Ye,O,Ve),Qe===null?_e=Ye:Qe.sibling=Ye,Qe=Ye);return t&&de.forEach(function(EE){return n(k,EE)}),Ge&&$i(k,Ve),_e}function at(k,O,L,K){if(typeof L=="object"&&L!==null&&L.type===ee&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case z:e:{for(var _e=L.key;O!==null;){if(O.key===_e){if(_e=L.type,_e===ee){if(O.tag===7){s(k,O.sibling),K=h(O,L.props.children),K.return=k,k=K;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Pr(_e)===O.type){s(k,O.sibling),K=h(O,L.props),Zl(K,L),K.return=k,k=K;break e}s(k,O);break}else n(k,O);O=O.sibling}L.type===ee?(K=Vr(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=Ou(L.type,L.key,L.props,null,k.mode,K),Zl(K,L),K.return=k,k=K)}return _(k);case $:e:{for(_e=L.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(k,O.sibling),K=h(O,L.children||[]),K.return=k,k=K;break e}else{s(k,O);break}else n(k,O);O=O.sibling}K=Xh(L,k.mode,K),K.return=k,k=K}return _(k);case A:return L=Pr(L),at(k,O,L,K)}if(ht(L))return ce(k,O,L,K);if(j(L)){if(_e=j(L),typeof _e!="function")throw Error(a(150));return L=_e.call(L),Te(k,O,L,K)}if(typeof L.then=="function")return at(k,O,Pu(L),K);if(L.$$typeof===oe)return at(k,O,ku(k,L),K);zu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(k,O.sibling),K=h(O,L),K.return=k,k=K):(s(k,O),K=Yh(L,k.mode,K),K.return=k,k=K),_(k)):s(k,O)}return function(k,O,L,K){try{$l=0;var _e=at(k,O,L,K);return Oa=null,_e}catch(de){if(de===Da||de===Uu)throw de;var Qe=Nn(29,de,null,k.mode);return Qe.lanes=K,Qe.return=k,Qe}}}var qr=Fp(!0),Gp=Fp(!1),Os=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Du(t),Np(t,null,s),n}return Iu(t,l,n,s),Du(t)}function Jl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,wl(t,s)}}function cf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var hf=!1;function Wl(){if(hf){var t=Ia;if(t!==null)throw t}}function eo(t,n,s,l){hf=!1;var h=t.updateQueue;Os=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,_===null?f=P:_.next=P,_=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;_=0,G=P=C=null,T=f;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(Pe&q)===q:(l&q)===q){q!==0&&q===Ca&&(hf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,Te=T;q=n;var at=s;switch(Te.tag){case 1:if(ce=Te.payload,typeof ce=="function"){Y=ce.call(at,Y,q);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Te.payload,q=typeof ce=="function"?ce.call(at,Y,q):ce,q==null)break e;Y=w({},Y,q);break e;case 2:Os=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=H,C=Y):G=G.next=H,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ps|=_,t.lanes=_,t.memoizedState=Y}}function Kp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Qp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Kp(s[t],n)}var Ma=V(null),qu=V(0);function Yp(t,n){t=ls,ie(qu,t),ie(Ma,n),ls=t|n.baseLanes}function ff(){ie(qu,ls),ie(Ma,Ma.current)}function df(){ls=qu.current,Q(Ma),Q(qu)}var Cn=V(null),Gn=null;function ks(t){var n=t.alternate;ie(Ct,Ct.current&1),ie(Cn,t),Gn===null&&(n===null||Ma.current!==null||n.memoizedState!==null)&&(Gn=t)}function mf(t){ie(Ct,Ct.current),ie(Cn,t),Gn===null&&(Gn=t)}function Xp(t){t.tag===22?(ie(Ct,Ct.current),ie(Cn,t),Gn===null&&(Gn=t)):js()}function js(){ie(Ct,Ct.current),ie(Cn,Cn.current)}function In(t){Q(Cn),Gn===t&&(Gn=null),Q(Ct)}var Ct=V(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||bd(s)||Td(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,Me=null,st=null,Ut=null,Hu=!1,Va=!1,Br=!1,Fu=0,to=0,ka=null,fT=0;function At(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Rn(t[s],n[s]))return!1;return!0}function gf(t,n,s,l,h,f){return Wi=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Og:Df,Br=!1,f=s(l,h),Br=!1,Va&&(f=Zp(n,s,l,h)),$p(t),f}function $p(t){F.H=so;var n=st!==null&&st.next!==null;if(Wi=0,Ut=st=Me=null,Hu=!1,to=0,ka=null,n)throw Error(a(300));t===null||Lt||(t=t.dependencies,t!==null&&Vu(t)&&(Lt=!0))}function Zp(t,n,s,l){Me=t;var h=0;do{if(Va&&(ka=null),to=0,Va=!1,25<=h)throw Error(a(301));if(h+=1,Ut=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Mg,f=n(s,l)}while(Va);return f}function dT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?no(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Me.flags|=1024),n}function yf(){var t=Fu!==0;return Fu=0,t}function _f(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function vf(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}Wi=0,Ut=st=Me=null,Va=!1,to=Fu=0,ka=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Me.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function It(){if(st===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=Ut===null?Me.memoizedState:Ut.next;if(n!==null)Ut=n,st=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ut===null?Me.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function no(t){var n=to;return to+=1,ka===null&&(ka=[]),t=qp(ka,t,n),n=Me,(Ut===null?n.memoizedState:Ut.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Og:Df),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return no(t);if(t.$$typeof===oe)return Wt(t)}throw Error(a(438,String(t)))}function bf(t){var n=null,s=Me.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gu(),Me.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=I;return n.index++,s}function es(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=It();return Tf(n,st,t)}function Tf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,C=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Pe&Y)===Y:(Wi&Y)===Y){var q=P.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ca&&(G=!0);else if((Wi&q)===q){P=P.next,q===Ca&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=Y,_=f):C=C.next=Y,Me.lanes|=q,Ps|=q;Y=P.action,Br&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else q={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=q,_=f):C=C.next=q,Me.lanes|=Y,Ps|=Y;P=P.next}while(P!==null&&P!==n);if(C===null?_=f:C.next=T,!Rn(f,t.memoizedState)&&(Lt=!0,G&&(s=Ia,s!==null)))throw s;t.memoizedState=f,t.baseState=_,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ef(t){var n=It(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Rn(f,n.memoizedState)||(Lt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Jp(t,n,s){var l=Me,h=It(),f=Ge;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!Rn((st||h).memoizedState,s);if(_&&(h.memoizedState=s,Lt=!0),h=h.queue,wf(tg.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,ja(9,{destroy:void 0},eg.bind(null,l,h,s,n),null),ot===null)throw Error(a(349));f||(Wi&127)!==0||Wp(l,n,s)}return s}function Wp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Me.updateQueue,n===null?(n=Gu(),Me.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function eg(t,n,s,l){n.value=s,n.getSnapshot=l,ng(n)&&ig(t)}function tg(t,n,s){return s(function(){ng(n)&&ig(t)})}function ng(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Rn(t,s)}catch{return!0}}function ig(t){var n=Mr(t,2);n!==null&&Tn(n,t,2)}function Sf(t){var n=mn();if(typeof t=="function"){var s=t;if(t=s(),Br){kn(!0);try{s()}finally{kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},n}function sg(t,n,s,l){return t.baseState=s,Tf(t,st,typeof l=="function"?l:es)}function mT(t,n,s,l,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,rg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function rg(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,_={};F.T=_;try{var T=s(h,l),C=F.S;C!==null&&C(_,T),ag(t,n,T)}catch(P){Af(t,n,P)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=s(h,l),ag(t,n,f)}catch(P){Af(t,n,P)}}function ag(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){lg(t,n,l)},function(l){return Af(t,n,l)}):lg(t,n,s)}function lg(t,n,s){n.status="fulfilled",n.value=s,og(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,rg(t,s)))}function Af(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,og(n),n=n.next;while(n!==l)}t.action=null}function og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ug(t,n){return n}function cg(t,n){if(Ge){var s=ot.formState;if(s!==null){e:{var l=Me;if(Ge){if(dt){t:{for(var h=dt,f=Fn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=Kn(h.nextSibling),l=h.data==="F!";break e}}Is(l)}l=!1}l&&(n=s[0])}}return s=mn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},s.queue=l,s=Cg.bind(null,Me,l),l.dispatch=s,l=Sf(!1),f=If.bind(null,Me,!1,l.queue),l=mn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=mT.bind(null,Me,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function hg(t){var n=It();return fg(n,st,t)}function fg(t,n,s){if(n=Tf(t,n,ug)[0],t=Qu(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=no(n)}catch(_){throw _===Da?Uu:_}else l=n;n=It();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Me.flags|=2048,ja(9,{destroy:void 0},pT.bind(null,h,s),null)),[l,f,t]}function pT(t,n){t.action=n}function dg(t){var n=It(),s=st;if(s!==null)return fg(n,s,t);It(),n=n.memoizedState,s=It();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ja(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Gu(),Me.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function mg(){return It().memoizedState}function Yu(t,n,s,l){var h=mn();Me.flags|=t,h.memoizedState=ja(1|n,{destroy:void 0},s,l===void 0?null:l)}function Xu(t,n,s,l){var h=It();l=l===void 0?null:l;var f=h.memoizedState.inst;st!==null&&l!==null&&pf(l,st.memoizedState.deps)?h.memoizedState=ja(n,f,s,l):(Me.flags|=t,h.memoizedState=ja(1|n,f,s,l))}function pg(t,n){Yu(8390656,8,t,n)}function wf(t,n){Xu(2048,8,t,n)}function gT(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Gu(),Me.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function gg(t){var n=It().memoizedState;return gT({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yg(t,n){return Xu(4,2,t,n)}function _g(t,n){return Xu(4,4,t,n)}function vg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bg(t,n,s){s=s!=null?s.concat([t]):null,Xu(4,4,vg.bind(null,n,t),s)}function xf(){}function Tg(t,n){var s=It();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Eg(t,n){var s=It();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=t(),Br){kn(!0);try{t()}finally{kn(!1)}}return s.memoizedState=[l,n],l}function Rf(t,n,s){return s===void 0||(Wi&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Sy(),Me.lanes|=t,Ps|=t,s)}function Sg(t,n,s,l){return Rn(s,n)?s:Ma.current!==null?(t=Rf(t,s,l),Rn(t,n)||(Lt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(Pe&261930)===0?(Lt=!0,t.memoizedState=s):(t=Sy(),Me.lanes|=t,Ps|=t,n)}function Ag(t,n,s,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var _=F.T,T={};F.T=T,If(t,!1,n,s);try{var C=h(),P=F.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=hT(C,l);io(t,n,G,Mn(t))}else io(t,n,l,Mn(t))}catch(Y){io(t,n,{then:function(){},status:"rejected",reason:Y},Mn())}finally{ne.p=f,_!==null&&T.types!==null&&(_.types=T.types),F.T=_}}function yT(){}function Nf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=wg(t).queue;Ag(t,h,n,ge,s===null?yT:function(){return xg(t),s(l)})}function wg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ge},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xg(t){var n=wg(t);n.next===null&&(n=t.alternate.memoizedState),io(t,n.next.queue,{},Mn())}function Cf(){return Wt(To)}function Rg(){return It().memoizedState}function Ng(){return It().memoizedState}function _T(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Mn();t=Ms(s);var l=Vs(n,t,s);l!==null&&(Tn(l,n,s),Jl(l,n,s)),n={cache:sf()},t.payload=n;return}n=n.return}}function vT(t,n,s){var l=Mn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(t)?Ig(n,s):(s=Kh(t,n,s,l),s!==null&&(Tn(s,t,l),Dg(s,n,l)))}function Cg(t,n,s){var l=Mn();io(t,n,s,l)}function io(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(t))Ig(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,s);if(h.hasEagerState=!0,h.eagerState=T,Rn(T,_))return Iu(t,n,h,0),ot===null&&Cu(),!1}catch{}if(s=Kh(t,n,h,l),s!==null)return Tn(s,t,l),Dg(s,n,l),!0}return!1}function If(t,n,s,l){if(l={lane:2,revertLane:od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=Kh(t,s,l,2),n!==null&&Tn(n,t,2)}function $u(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Ig(t,n){Va=Hu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Dg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,wl(t,s)}}var so={readContext:Wt,use:Ku,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};so.useEffectEvent=At;var Og={readContext:Wt,use:Ku,useCallback:function(t,n){return mn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:pg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Yu(4194308,4,vg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var s=mn();n=n===void 0?null:n;var l=t();if(Br){kn(!0);try{t()}finally{kn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=mn();if(s!==void 0){var h=s(n);if(Br){kn(!0);try{s(n)}finally{kn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=vT.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var n=mn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sf(t);var n=t.queue,s=Cg.bind(null,Me,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:xf,useDeferredValue:function(t,n){var s=mn();return Rf(s,t,n)},useTransition:function(){var t=Sf(!1);return t=Ag.bind(null,Me,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Me,h=mn();if(Ge){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ot===null)throw Error(a(349));(Pe&127)!==0||Wp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,pg(tg.bind(null,l,f,t),[t]),l.flags|=2048,ja(9,{destroy:void 0},eg.bind(null,l,f,s,n),null),s},useId:function(){var t=mn(),n=ot.identifierPrefix;if(Ge){var s=Oi,l=Di;s=(l&~(1<<32-Rt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Fu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=fT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Cf,useFormState:cg,useActionState:cg,useOptimistic:function(t){var n=mn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,Me,!0,s),s.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return mn().memoizedState=_T.bind(null,Me)},useEffectEvent:function(t){var n=mn(),s={impl:t};return n.memoizedState=s,function(){if((Ze&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Df={readContext:Wt,use:Ku,useCallback:Tg,useContext:Wt,useEffect:wf,useImperativeHandle:bg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Eg,useReducer:Qu,useRef:mg,useState:function(){return Qu(es)},useDebugValue:xf,useDeferredValue:function(t,n){var s=It();return Sg(s,st.memoizedState,t,n)},useTransition:function(){var t=Qu(es)[0],n=It().memoizedState;return[typeof t=="boolean"?t:no(t),n]},useSyncExternalStore:Jp,useId:Rg,useHostTransitionStatus:Cf,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var s=It();return sg(s,st,t,n)},useMemoCache:bf,useCacheRefresh:Ng};Df.useEffectEvent=gg;var Mg={readContext:Wt,use:Ku,useCallback:Tg,useContext:Wt,useEffect:wf,useImperativeHandle:bg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Eg,useReducer:Ef,useRef:mg,useState:function(){return Ef(es)},useDebugValue:xf,useDeferredValue:function(t,n){var s=It();return st===null?Rf(s,t,n):Sg(s,st.memoizedState,t,n)},useTransition:function(){var t=Ef(es)[0],n=It().memoizedState;return[typeof t=="boolean"?t:no(t),n]},useSyncExternalStore:Jp,useId:Rg,useHostTransitionStatus:Cf,useFormState:dg,useActionState:dg,useOptimistic:function(t,n){var s=It();return st!==null?sg(s,st,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Ng};Mg.useEffectEvent=gg;function Of(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Mf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Mn(),h=Ms(l);h.payload=n,s!=null&&(h.callback=s),n=Vs(t,h,l),n!==null&&(Tn(n,t,l),Jl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Mn(),h=Ms(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Vs(t,h,l),n!==null&&(Tn(n,t,l),Jl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Mn(),l=Ms(s);l.tag=2,n!=null&&(l.callback=n),n=Vs(t,l,s),n!==null&&(Tn(n,t,s),Jl(n,t,s))}};function Vg(t,n,s,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Fl(s,l)||!Fl(h,f):!0}function kg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Mf.enqueueReplaceState(n,n.state,null)}function Hr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function jg(t){Nu(t)}function Ug(t){console.error(t)}function Lg(t){Nu(t)}function Zu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,s){return s=Ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Zu(t,n)},s}function zg(t){return t=Ms(t),t.tag=3,t}function qg(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Pg(n,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Pg(n,s,l),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function bT(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Na(n,s,h,!0),s=Cn.current,s!==null){switch(s.tag){case 31:case 13:return Gn===null?uc():s.alternate===null&&wt===0&&(wt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),rd(t,l,h)),!1;case 22:return s.flags|=65536,l===Lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),rd(t,l,h)),!1}throw Error(a(435,s.tag))}return rd(t,l,h),uc(),!1}if(Ge)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Jh&&(t=Error(a(422),{cause:l}),Ql(qn(t,s)))):(l!==Jh&&(n=Error(a(423),{cause:l}),Ql(qn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=qn(l,s),h=Vf(t.stateNode,l,h),cf(t,h),wt!==4&&(wt=2)),!1;var f=Error(a(520),{cause:l});if(f=qn(f,s),fo===null?fo=[f]:fo.push(f),wt!==4&&(wt=2),n===null)return!0;l=qn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Vf(s.stateNode,l,t),cf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zg(h),qg(h,t,s,l),cf(s,h),!1}s=s.return}while(s!==null);return!1}var kf=Error(a(461)),Lt=!1;function en(t,n,s,l){n.child=t===null?Gp(n,null,s,l):qr(n,t.child,s,l)}function Bg(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ur(n),l=gf(t,n,s,_,f,h),T=yf(),t!==null&&!Lt?(_f(t,n,h),ts(t,n,h)):(Ge&&T&&$h(n),n.flags|=1,en(t,n,l,h),n.child)}function Hg(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Fg(t,n,f,l,h)):(t=Ou(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hf(t,h)){var _=f.memoizedProps;if(s=s.compare,s=s!==null?s:Fl,s(_,l)&&t.ref===n.ref)return ts(t,n,h)}return n.flags|=1,t=Xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Fg(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Fl(f,l)&&t.ref===n.ref)if(Lt=!1,n.pendingProps=l=f,Hf(t,h))(t.flags&131072)!==0&&(Lt=!0);else return n.lanes=t.lanes,ts(t,n,h)}return jf(t,n,s,l,h)}function Gg(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Kg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):ff(),Xp(n);else return l=n.lanes=536870912,Kg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(ju(n,f.cachePool),Yp(n,f),js(),n.memoizedState=null):(t!==null&&ju(n,null),ff(),js());return en(t,n,h,s),n.child}function ro(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kg(t,n,s,l,h){var f=af();return f=f===null?null:{parent:jt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&ju(n,null),ff(),Xp(n),t!==null&&Na(t,n,l,!0),n.childLanes=h,null}function Ju(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Qg(t,n,s){return qr(n,t.child,null,s),t=Ju(n,n.pendingProps),t.flags|=2,In(n),n.memoizedState=null,t}function TT(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=Ju(n,l),n.lanes=536870912,ro(null,t);if(mf(n),(t=dt)?(t=r_(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},s=Ip(t),s.return=n,n.child=s,Jt=n,dt=null)):t=null,t===null)throw Is(n);return n.lanes=536870912,null}return Ju(n,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=Qg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Lt||Na(t,n,s,!1),h=(s&t.childLanes)!==0,Lt||h){if(l=ot,l!==null&&(_=xl(l,s),_!==0&&_!==f.retryLane))throw f.retryLane=_,Mr(t,_),Tn(l,t,_),kf;uc(),n=Qg(t,n,s)}else t=f.treeContext,dt=Kn(_.nextSibling),Jt=n,Ge=!0,Cs=null,Fn=!1,t!==null&&Mp(n,t),n=Ju(n,l),n.flags|=4096;return n}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function jf(t,n,s,l,h){return Ur(n),s=gf(t,n,s,l,void 0,h),l=yf(),t!==null&&!Lt?(_f(t,n,h),ts(t,n,h)):(Ge&&l&&$h(n),n.flags|=1,en(t,n,s,h),n.child)}function Yg(t,n,s,l,h,f){return Ur(n),n.updateQueue=null,s=Zp(n,l,s,h),$p(t),l=yf(),t!==null&&!Lt?(_f(t,n,f),ts(t,n,f)):(Ge&&l&&$h(n),n.flags|=1,en(t,n,s,f),n.child)}function Xg(t,n,s,l,h){if(Ur(n),n.stateNode===null){var f=Aa,_=s.contextType;typeof _=="object"&&_!==null&&(f=Wt(_)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},of(n),_=s.contextType,f.context=typeof _=="object"&&_!==null?Wt(_):Aa,f.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Of(n,s,_,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Mf.enqueueReplaceState(f,f.state,null),eo(n,l,f,h),Wl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=Hr(s,T);f.props=C;var P=f.context,G=s.contextType;_=Aa,typeof G=="object"&&G!==null&&(_=Wt(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==_)&&kg(n,f,l,_),Os=!1;var q=n.memoizedState;f.state=q,eo(n,l,f,h),Wl(),P=n.memoizedState,T||q!==P||Os?(typeof Y=="function"&&(Of(n,s,Y,l),P=n.memoizedState),(C=Os||Vg(n,s,C,l,q,P,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uf(t,n),_=n.memoizedProps,G=Hr(s,_),f.props=G,Y=n.pendingProps,q=f.context,P=s.contextType,C=Aa,typeof P=="object"&&P!==null&&(C=Wt(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Y||q!==C)&&kg(n,f,l,C),Os=!1,q=n.memoizedState,f.state=q,eo(n,l,f,h),Wl();var H=n.memoizedState;_!==Y||q!==H||Os||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof T=="function"&&(Of(n,s,T,l),H=n.memoizedState),(G=Os||Vg(n,s,G,l,q,H,C)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=qr(n,t.child,null,h),n.child=qr(n,null,s,h)):en(t,n,s,h),n.memoizedState=f.state,t=n.child):t=ts(t,n,h),t}function $g(t,n,s,l){return kr(),n.flags|=256,en(t,n,s,l),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(t){return{baseLanes:t,cachePool:Pp()}}function Pf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=On),t}function Zg(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?ks(n):js(),(t=dt)?(t=r_(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},s=Ip(t),s.return=n,n.child=s,Jt=n,dt=null)):t=null,t===null)throw Is(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(js(),h=n.mode,T=ec({mode:"hidden",children:T},h),l=Vr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Lf(s),l.childLanes=Pf(t,_,s),n.memoizedState=Uf,ro(null,l)):(ks(n),zf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=qf(t,n,s)):n.memoizedState!==null?(js(),n.child=t.child,n.flags|=128,n=null):(js(),T=l.fallback,h=n.mode,l=ec({mode:"visible",children:l.children},h),T=Vr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,qr(n,t.child,null,s),l=n.child,l.memoizedState=Lf(s),l.childLanes=Pf(t,_,s),n.memoizedState=Uf,n=ro(null,l));else if(ks(n),Td(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(a(419)),l.stack="",l.digest=_,Ql({value:l,source:null,stack:null}),n=qf(t,n,s)}else if(Lt||Na(t,n,s,!1),_=(s&t.childLanes)!==0,Lt||_){if(_=ot,_!==null&&(l=xl(_,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,Mr(t,l),Tn(_,t,l),kf;bd(T)||uc(),n=qf(t,n,s)}else bd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,dt=Kn(T.nextSibling),Jt=n,Ge=!0,Cs=null,Fn=!1,t!==null&&Mp(n,t),n=zf(n,l.children),n.flags|=4096);return n}return h?(js(),T=l.fallback,h=n.mode,C=t.child,P=C.sibling,l=Xi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=Xi(P,T):(T=Vr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,ro(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Lf(s):(h=T.cachePool,h!==null?(C=jt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Pp(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Pf(t,_,s),n.memoizedState=Uf,ro(t.child,l)):(ks(n),s=t.child,t=s.sibling,s=Xi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=s,n.memoizedState=null,s)}function zf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=Nn(22,t,null,n),t.lanes=0,t}function qf(t,n,s){return qr(n,t.child,null,s),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),tf(t.return,n,s)}function Bf(t,n,s,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=h,_.treeForkCount=f)}function Wg(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=Ct.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,ie(Ct,_),en(t,n,l,s),l=Ge?Kl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jg(t,s,n);else if(t.tag===19)Jg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Bu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Bf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Bf(n,!0,s,null,f,l);break;case"together":Bf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ts(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ps|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Na(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Xi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Xi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function ET(t,n,s){switch(n.tag){case 3:yt(n,n.stateNode.containerInfo),Ds(n,jt,t.memoizedState.cache),kr();break;case 27:case 5:di(n);break;case 4:yt(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ks(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Zg(t,n,s):(ks(n),t=ts(t,n,s),t!==null?t.sibling:null);ks(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Na(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Wg(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Ct,Ct.current),l)break;return null;case 22:return n.lanes=0,Gg(t,n,s,n.pendingProps);case 24:Ds(n,jt,t.memoizedState.cache)}return ts(t,n,s)}function ey(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Lt=!0;else{if(!Hf(t,s)&&(n.flags&128)===0)return Lt=!1,ET(t,n,s);Lt=(t.flags&131072)!==0}else Lt=!1,Ge&&(n.flags&1048576)!==0&&Op(n,Kl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Pr(n.elementType),n.type=t,typeof t=="function")Qh(t)?(l=Hr(t,l),n.tag=1,n=Xg(null,n,t,l,s)):(n.tag=0,n=jf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===Ee){n.tag=11,n=Bg(null,n,t,l,s);break e}else if(h===N){n.tag=14,n=Hg(null,n,t,l,s);break e}}throw n=Je(t)||t,Error(a(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Hr(l,n.pendingProps),Xg(t,n,l,h,s);case 3:e:{if(yt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),eo(n,l,null,s);var _=n.memoizedState;if(l=_.cache,Ds(n,jt,l),l!==f.cache&&nf(n,[jt],s,!0),Wl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$g(t,n,l,s);break e}else if(l!==h){h=qn(Error(a(424)),n),Ql(h),n=$g(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Kn(t.firstChild),Jt=n,Ge=!0,Cs=null,Fn=!0,s=Gp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(kr(),l===h){n=ts(t,n,s);break e}en(t,n,l,s)}n=n.child}return n;case 26:return Wu(t,n),t===null?(s=h_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ge||(s=n.type,t=n.pendingProps,l=gc(Ie.current).createElement(s),l[Mt]=n,l[Kt]=t,tn(l,s,t),Vt(l),n.stateNode=l):n.memoizedState=h_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return di(n),t===null&&Ge&&(l=n.stateNode=o_(n.type,n.pendingProps,Ie.current),Jt=n,Fn=!0,h=dt,Fs(n.type)?(Ed=h,dt=Kn(l.firstChild)):dt=h),en(t,n,n.pendingProps.children,s),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=l=dt)&&(l=JT(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Jt=n,dt=Kn(l.firstChild),Fn=!1,h=!0):h=!1),h||Is(n)),di(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,yd(h,f)?l=null:_!==null&&yd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,dT,null,null,s),To._currentValue=h),Wu(t,n),en(t,n,l,s),n.child;case 6:return t===null&&Ge&&((t=s=dt)&&(s=WT(s,n.pendingProps,Fn),s!==null?(n.stateNode=s,Jt=n,dt=null,t=!0):t=!1),t||Is(n)),null;case 13:return Zg(t,n,s);case 4:return yt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=qr(n,null,l,s):en(t,n,l,s),n.child;case 11:return Bg(t,n,n.type,n.pendingProps,s);case 7:return en(t,n,n.pendingProps,s),n.child;case 8:return en(t,n,n.pendingProps.children,s),n.child;case 12:return en(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ds(n,n.type,l.value),en(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ur(n),h=Wt(h),l=l(h),n.flags|=1,en(t,n,l,s),n.child;case 14:return Hg(t,n,n.type,n.pendingProps,s);case 15:return Fg(t,n,n.type,n.pendingProps,s);case 19:return Wg(t,n,s);case 31:return TT(t,n,s);case 22:return Gg(t,n,s,n.pendingProps);case 24:return Ur(n),l=Wt(jt),t===null?(h=af(),h===null&&(h=ot,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},of(n),Ds(n,jt,h)):((t.lanes&s)!==0&&(uf(t,n),eo(n,null,null,s),Wl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,jt,l)):(l=f.cache,Ds(n,jt,l),l!==h.cache&&nf(n,[jt],s,!0))),en(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ns(t){t.flags|=4}function Ff(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ry())t.flags|=8192;else throw zr=Lu,lf}else t.flags&=-16777217}function ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!g_(n))if(Ry())t.flags|=8192;else throw zr=Lu,lf}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lu():536870912,t.lanes|=n,za|=n)}function ao(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function mt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function ST(t,n,s){var l=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ji(jt),lt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ra(n)?ns(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),mt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ns(n),f!==null?(mt(n),ty(n,f)):(mt(n),Ff(n,h,null,l,s))):f?f!==t.memoizedState?(ns(n),mt(n),ty(n,f)):(mt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ns(n),mt(n),Ff(n,h,t,l,s)),null;case 27:if(re(n),s=Ie.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return mt(n),null}t=ae.current,Ra(n)?Vp(n):(t=o_(h,l,s),n.stateNode=t,ns(n))}return mt(n),null;case 5:if(re(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return mt(n),null}if(f=ae.current,Ra(n))Vp(n);else{var _=gc(Ie.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[Mt]=n,f[Kt]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(tn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ns(n)}}return mt(n),Ff(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ie.current,Ra(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Zy(t.nodeValue,s)),t||Is(n,!0)}else t=gc(t).createTextNode(l),t[Mt]=n,n.stateNode=t}return mt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ra(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Mt]=n}else kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),t=!1}else s=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return mt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ra(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Mt]=n}else kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),tc(n,n.updateQueue),mt(n),null);case 4:return lt(),t===null&&fd(n.stateNode.containerInfo),mt(n),null;case 10:return Ji(n.type),mt(n),null;case 19:if(Q(Ct),l=n.memoizedState,l===null)return mt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ao(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bu(t),f!==null){for(n.flags|=128,ao(l,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Cp(s,t),s=s.sibling;return ie(Ct,Ct.current&1|2),Ge&&$i(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&fn()>ac&&(n.flags|=128,h=!0,ao(l,!1),n.lanes=4194304)}else{if(!h)if(t=Bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),ao(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ge)return mt(n),null}else 2*fn()-l.renderingStartTime>ac&&s!==536870912&&(n.flags|=128,h=!0,ao(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=fn(),t.sibling=null,s=Ct.current,ie(Ct,h?s&1|2:s&1),Ge&&$i(n,l.treeForkCount),t):(mt(n),null);case 22:case 23:return In(n),df(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),s=n.updateQueue,s!==null&&tc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Q(Lr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ji(jt),mt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function AT(t,n){switch(Zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ji(jt),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return re(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(In(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Ct),null;case 4:return lt(),null;case 10:return Ji(n.type),null;case 22:case 23:return In(n),df(),t!==null&&Q(Lr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ji(jt),null;case 25:return null;default:return null}}function ny(t,n){switch(Zh(n),n.tag){case 3:Ji(jt),lt();break;case 26:case 27:case 5:re(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Q(Ct);break;case 10:Ji(n.type);break;case 22:case 23:In(n),df(),t!==null&&Q(Lr);break;case 24:Ji(jt)}}function lo(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,_=s.inst;l=f(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){nt(n,n.return,T)}}function Us(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var C=s,P=T;try{P()}catch(G){nt(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){nt(n,n.return,G)}}function iy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Qp(n,s)}catch(l){nt(t,t.return,l)}}}function sy(t,n,s){s.props=Hr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){nt(t,n,l)}}function oo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){nt(t,n,h)}}function Mi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(t,n,h)}else s.current=null}function ry(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){nt(t,t.return,h)}}function Gf(t,n,s){try{var l=t.stateNode;KT(l,t.type,s,n),l[Kt]=n}catch(h){nt(t,t.return,h)}}function ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ei));else if(l!==4&&(l===27&&Fs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Qf(t,n,s),t=t.sibling;t!==null;)Qf(t,n,s),t=t.sibling}function nc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Fs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(nc(t,n,s),t=t.sibling;t!==null;)nc(t,n,s),t=t.sibling}function ly(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,l,s),n[Mt]=t,n[Kt]=s}catch(f){nt(t,t.return,f)}}var is=!1,Pt=!1,Yf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function wT(t,n){if(t=t.containerInfo,pd=Sc,t=bp(t),zh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var _=0,T=-1,C=-1,P=0,G=0,Y=t,q=null;t:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(T=_+h),Y!==f||l!==0&&Y.nodeType!==3||(C=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(H=Y.firstChild)!==null;)q=Y,Y=H;for(;;){if(Y===t)break t;if(q===s&&++P===h&&(T=_),q===f&&++G===l&&(C=_),(H=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=H}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(gd={focusedElem:t,selectionRange:s},Sc=!1,Yt=n;Yt!==null;)if(n=Yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Yt=t;else for(;Yt!==null;){switch(n=Yt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ce=Hr(s.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){nt(s,s.return,Te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)vd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Yt=t;break}Yt=n.return}}function uy(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:rs(t,s),l&4&&lo(5,s);break;case 1:if(rs(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(_){nt(s,s.return,_)}else{var h=Hr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){nt(s,s.return,_)}}l&64&&iy(s),l&512&&oo(s,s.return);break;case 3:if(rs(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qp(t,n)}catch(_){nt(s,s.return,_)}}break;case 27:n===null&&l&4&&ly(s);case 26:case 5:rs(t,s),n===null&&l&4&&ry(s),l&512&&oo(s,s.return);break;case 12:rs(t,s);break;case 31:rs(t,s),l&4&&fy(t,s);break;case 13:rs(t,s),l&4&&dy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=VT.bind(null,s),eE(t,s))));break;case 22:if(l=s.memoizedState!==null||is,!l){n=n!==null&&n.memoizedState!==null||Pt,h=is;var f=Pt;is=l,(Pt=n)&&!f?as(t,s,(s.subtreeFlags&8772)!==0):rs(t,s),is=h,Pt=f}break;case 30:break;default:rs(t,s)}}function cy(t){var n=t.alternate;n!==null&&(t.alternate=null,cy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ca(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,yn=!1;function ss(t,n,s){for(s=s.child;s!==null;)hy(t,n,s),s=s.sibling}function hy(t,n,s){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:Pt||Mi(s,n),ss(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pt||Mi(s,n);var l=bt,h=yn;Fs(s.type)&&(bt=s.stateNode,yn=!1),ss(t,n,s),_o(s.stateNode),bt=l,yn=h;break;case 5:Pt||Mi(s,n);case 6:if(l=bt,h=yn,bt=null,ss(t,n,s),bt=l,yn=h,bt!==null)if(yn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(s.stateNode)}catch(f){nt(s,n,f)}else try{bt.removeChild(s.stateNode)}catch(f){nt(s,n,f)}break;case 18:bt!==null&&(yn?(t=bt,i_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ya(t)):i_(bt,s.stateNode));break;case 4:l=bt,h=yn,bt=s.stateNode.containerInfo,yn=!0,ss(t,n,s),bt=l,yn=h;break;case 0:case 11:case 14:case 15:Us(2,s,n),Pt||Us(4,s,n),ss(t,n,s);break;case 1:Pt||(Mi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&sy(s,n,l)),ss(t,n,s);break;case 21:ss(t,n,s);break;case 22:Pt=(l=Pt)||s.memoizedState!==null,ss(t,n,s),Pt=l;break;default:ss(t,n,s)}}function fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(s){nt(n,n.return,s)}}}function dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(s){nt(n,n.return,s)}}function xT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new oy),n;default:throw Error(a(435,t.tag))}}function ic(t,n){var s=xT(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=kT.bind(null,t,l);l.then(h,h)}})}function _n(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Fs(T.type)){bt=T.stateNode,yn=!1;break e}break;case 5:bt=T.stateNode,yn=!1;break e;case 3:case 4:bt=T.stateNode.containerInfo,yn=!0;break e}T=T.return}if(bt===null)throw Error(a(160));hy(f,_,h),bt=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,t),n=n.sibling}var ai=null;function my(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(n,t),vn(t),l&4&&(Us(3,t,t.return),lo(3,t),Us(5,t,t.return));break;case 1:_n(n,t),vn(t),l&512&&(Pt||s===null||Mi(s,s.return)),l&64&&is&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ai;if(_n(n,t),vn(t),l&512&&(Pt||s===null||Mi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[Mt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,l,s),f[Mt]=t,Vt(f),l=f;break e;case"link":var _=m_("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(l),tn(f,l,s),h.head.appendChild(f);break;case"meta":if(_=m_("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}f=h.createElement(l),tn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Mt]=t,Vt(f),l=f}t.stateNode=l}else p_(h,t.type,t.stateNode);else t.stateNode=d_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?p_(h,t.type,t.stateNode):d_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,s.memoizedProps)}break;case 27:_n(n,t),vn(t),l&512&&(Pt||s===null||Mi(s,s.return)),s!==null&&l&4&&Gf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(_n(n,t),vn(t),l&512&&(Pt||s===null||Mi(s,s.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(ce){nt(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Gf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Yf=!0);break;case 6:if(_n(n,t),vn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ce){nt(t,t.return,ce)}}break;case 3:if(vc=null,h=ai,ai=yc(n.containerInfo),_n(n,t),ai=h,vn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ya(n.containerInfo)}catch(ce){nt(t,t.return,ce)}Yf&&(Yf=!1,py(t));break;case 4:l=ai,ai=yc(t.stateNode.containerInfo),_n(n,t),vn(t),ai=l;break;case 12:_n(n,t),vn(t);break;case 31:_n(n,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 13:_n(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rc=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,P=is,G=Pt;if(is=P||h,Pt=G||C,_n(n,t),Pt=G,is=P,vn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||is||Pt||Fr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,q=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){nt(C,C.return,ce)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){nt(C,C.return,ce)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?s_(H,!0):s_(C.stateNode,!1)}catch(ce){nt(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ic(t,s))));break;case 19:_n(n,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 30:break;case 21:break;default:_n(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(ay(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Kf(t);nc(t,f,h);break;case 5:var _=s.stateNode;s.flags&32&&(gn(_,""),s.flags&=-33);var T=Kf(t);nc(t,T,_);break;case 3:case 4:var C=s.stateNode.containerInfo,P=Kf(t);Qf(t,P,C);break;default:throw Error(a(161))}}catch(G){nt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(t,n.alternate,n),n=n.sibling}function Fr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Us(4,n,n.return),Fr(n);break;case 1:Mi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&sy(n,n.return,s),Fr(n);break;case 27:_o(n.stateNode);case 26:case 5:Mi(n,n.return),Fr(n);break;case 22:n.memoizedState===null&&Fr(n);break;case 30:Fr(n);break;default:Fr(n)}t=t.sibling}}function as(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:as(h,f,s),lo(4,f);break;case 1:if(as(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){nt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Kp(C[h],T)}catch(P){nt(l,l.return,P)}}s&&_&64&&iy(f),oo(f,f.return);break;case 27:ly(f);case 26:case 5:as(h,f,s),s&&l===null&&_&4&&ry(f),oo(f,f.return);break;case 12:as(h,f,s);break;case 31:as(h,f,s),s&&_&4&&fy(h,f);break;case 13:as(h,f,s),s&&_&4&&dy(h,f);break;case 22:f.memoizedState===null&&as(h,f,s),oo(f,f.return);break;case 30:break;default:as(h,f,s)}n=n.sibling}}function Xf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Yl(s))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t))}function li(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(t,n,s,l),n=n.sibling}function gy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:li(t,n,s,l),h&2048&&lo(9,n);break;case 1:li(t,n,s,l);break;case 3:li(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yl(t)));break;case 12:if(h&2048){li(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){nt(n,n.return,C)}}else li(t,n,s,l);break;case 31:li(t,n,s,l);break;case 13:li(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?li(t,n,s,l):uo(t,n):f._visibility&2?li(t,n,s,l):(f._visibility|=2,Ua(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(_,n);break;case 24:li(t,n,s,l),h&2048&&$f(n.alternate,n);break;default:li(t,n,s,l)}}function Ua(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,T=s,C=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(f,_,T,C,h),lo(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Ua(f,_,T,C,h):uo(f,_):(G._visibility|=2,Ua(f,_,T,C,h)),h&&P&2048&&Xf(_.alternate,_);break;case 24:Ua(f,_,T,C,h),h&&P&2048&&$f(_.alternate,_);break;default:Ua(f,_,T,C,h)}n=n.sibling}}function uo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:uo(s,l),h&2048&&Xf(l.alternate,l);break;case 24:uo(s,l),h&2048&&$f(l.alternate,l);break;default:uo(s,l)}n=n.sibling}}var co=8192;function La(t,n,s){if(t.subtreeFlags&co)for(t=t.child;t!==null;)yy(t,n,s),t=t.sibling}function yy(t,n,s){switch(t.tag){case 26:La(t,n,s),t.flags&co&&t.memoizedState!==null&&fE(s,ai,t.memoizedState,t.memoizedProps);break;case 5:La(t,n,s);break;case 3:case 4:var l=ai;ai=yc(t.stateNode.containerInfo),La(t,n,s),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=co,co=16777216,La(t,n,s),co=l):La(t,n,s));break;default:La(t,n,s)}}function _y(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ho(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Yt=l,by(l,t)}_y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vy(t),t=t.sibling}function vy(t){switch(t.tag){case 0:case 11:case 15:ho(t),t.flags&2048&&Us(9,t,t.return);break;case 3:ho(t);break;case 12:ho(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):ho(t);break;default:ho(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Yt=l,by(l,t)}_y(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Us(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function by(t,n){for(;Yt!==null;){var s=Yt;switch(s.tag){case 0:case 11:case 15:Us(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Yt=l;else e:for(s=t;Yt!==null;){l=Yt;var h=l.sibling,f=l.return;if(cy(l),l===s){Yt=null;break e}if(h!==null){h.return=f,Yt=h;break e}Yt=f}}}var RT={getCacheForType:function(t){var n=Wt(jt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Wt(jt).controller.signal}},NT=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ot=null,je=null,Pe=0,tt=0,Dn=null,Ls=!1,Pa=!1,Zf=!1,ls=0,wt=0,Ps=0,Gr=0,Jf=0,On=0,za=0,fo=null,bn=null,Wf=!1,rc=0,Ty=0,ac=1/0,lc=null,zs=null,Bt=0,qs=null,qa=null,os=0,ed=0,td=null,Ey=null,mo=0,nd=null;function Mn(){return(Ze&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?od():ou()}function Sy(){if(On===0)if((Pe&536870912)===0||Ge){var t=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),On=t}else On=536870912;return t=Cn.current,t!==null&&(t.flags|=32),On}function Tn(t,n,s){(t===ot&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Bs(t,Pe,On,!1)),vr(t,s),((Ze&2)===0||t!==ot)&&(t===ot&&((Ze&2)===0&&(Gr|=s),wt===4&&Bs(t,Pe,On,!1)),Vi(t))}function Ay(t,n,s){if((Ze&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Zn(t,n),h=l?DT(t,n):sd(t,n,!0),f=l;do{if(h===0){Pa&&!l&&Bs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!CT(s)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=t;h=fo;var C=T.current.memoizedState.isDehydrated;if(C&&(Ba(T,_).flags|=256),_=sd(T,_,!1),_!==2){if(Zf&&!C){T.errorRecoveryDisabledLanes|=f,Gr|=f,h=4;break e}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ba(t,0),Bs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Bs(l,n,On,!Ls);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-fn(),10<h)){if(Bs(l,n,On,!Ls),gi(l,0,!0)!==0)break e;os=n,l.timeoutHandle=t_(wy.bind(null,l,s,bn,lc,Wf,n,On,Gr,za,Ls,f,"Throttled",-0,0),h);break e}wy(l,s,bn,lc,Wf,n,On,Gr,za,Ls,f,null,-0,0)}}break}while(!0);Vi(t)}function wy(t,n,s,l,h,f,_,T,C,P,G,Y,q,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},yy(n,f,Y);var ce=(f&62914560)===f?rc-fn():(f&4194048)===f?Ty-fn():0;if(ce=dE(Y,ce),ce!==null){os=f,t.cancelPendingCommit=ce(My.bind(null,t,n,f,s,l,h,_,T,C,G,Y,null,q,H)),Bs(t,f,_,!P);return}}My(t,n,f,s,l,h,_,T,C)}function CT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(t,n,s,l){n&=~Jf,n&=~Gr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Rt(h),_=1<<f;l[f]=-1,h&=~_}s!==0&&br(t,s,n)}function oc(){return(Ze&6)===0?(po(0),!1):!0}function id(){if(je!==null){if(tt===0)var t=je.return;else t=je,Zi=jr=null,vf(t),Oa=null,$l=0,t=je;for(;t!==null;)ny(t.alternate,t),t=t.return;je=null}}function Ba(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,XT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),os=0,id(),ot=t,je=s=Xi(t.current,null),Pe=n,tt=0,Dn=null,Ls=!1,Pa=Zn(t,n),Zf=!1,za=On=Jf=Gr=Ps=wt=0,bn=fo=null,Wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Rt(l),f=1<<h;n|=t[h],l&=~f}return ls=n,Cu(),s}function xy(t,n){Me=null,F.H=so,n===Da||n===Uu?(n=Bp(),tt=3):n===lf?(n=Bp(),tt=4):tt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,je===null&&(wt=1,Zu(t,qn(n,t.current)))}function Ry(){var t=Cn.current;return t===null?!0:(Pe&4194048)===Pe?Gn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Gn:!1}function Ny(){var t=F.H;return F.H=so,t===null?so:t}function Cy(){var t=F.A;return F.A=RT,t}function uc(){wt=4,Ls||(Pe&4194048)!==Pe&&Cn.current!==null||(Pa=!0),(Ps&134217727)===0&&(Gr&134217727)===0||ot===null||Bs(ot,Pe,On,!1)}function sd(t,n,s){var l=Ze;Ze|=2;var h=Ny(),f=Cy();(ot!==t||Pe!==n)&&(lc=null,Ba(t,n)),n=!1;var _=wt;e:do try{if(tt!==0&&je!==null){var T=je,C=Dn;switch(tt){case 8:id(),_=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var P=tt;if(tt=0,Dn=null,Ha(t,T,C,P),s&&Pa){_=0;break e}break;default:P=tt,tt=0,Dn=null,Ha(t,T,C,P)}}IT(),_=wt;break}catch(G){xy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Zi=jr=null,Ze=l,F.H=h,F.A=f,je===null&&(ot=null,Pe=0,Cu()),_}function IT(){for(;je!==null;)Iy(je)}function DT(t,n){var s=Ze;Ze|=2;var l=Ny(),h=Cy();ot!==t||Pe!==n?(lc=null,ac=fn()+500,Ba(t,n)):Pa=Zn(t,n);e:do try{if(tt!==0&&je!==null){n=je;var f=Dn;t:switch(tt){case 1:tt=0,Dn=null,Ha(t,n,f,1);break;case 2:case 9:if(zp(f)){tt=0,Dn=null,Dy(n);break}n=function(){tt!==2&&tt!==9||ot!==t||(tt=7),Vi(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:zp(f)?(tt=0,Dn=null,Dy(n)):(tt=0,Dn=null,Ha(t,n,f,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var T=je;if(_?g_(_):T.stateNode.complete){tt=0,Dn=null;var C=T.sibling;if(C!==null)je=C;else{var P=T.return;P!==null?(je=P,cc(P)):je=null}break t}}tt=0,Dn=null,Ha(t,n,f,5);break;case 6:tt=0,Dn=null,Ha(t,n,f,6);break;case 8:id(),wt=6;break e;default:throw Error(a(462))}}OT();break}catch(G){xy(t,G)}while(!0);return Zi=jr=null,F.H=l,F.A=h,Ze=s,je!==null?0:(ot=null,Pe=0,Cu(),wt)}function OT(){for(;je!==null&&!El();)Iy(je)}function Iy(t){var n=ey(t.alternate,t,ls);t.memoizedProps=t.pendingProps,n===null?cc(t):je=n}function Dy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Yg(s,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=Yg(s,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:vf(n);default:ny(s,n),n=je=Cp(n,ls),n=ey(s,n,ls)}t.memoizedProps=t.pendingProps,n===null?cc(t):je=n}function Ha(t,n,s,l){Zi=jr=null,vf(n),Oa=null,$l=0;var h=n.return;try{if(bT(t,h,n,s,Pe)){wt=1,Zu(t,qn(s,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;wt=1,Zu(t,qn(s,t.current)),je=null;return}n.flags&32768?(Ge||l===1?t=!0:Pa||(Pe&536870912)!==0?t=!1:(Ls=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){Oy(n,Ls);return}t=n.return;var s=ST(n.alternate,n,ls);if(s!==null){je=s;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);wt===0&&(wt=5)}function Oy(t,n){do{var s=AT(t.alternate,t);if(s!==null){s.flags&=32767,je=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=s}while(t!==null);wt=6,je=null}function My(t,n,s,l,h,f,_,T,C){t.cancelPendingCommit=null;do hc();while(Bt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gh,jh(t,s,f,_,T,C),t===ot&&(je=ot=null,Pe=0),qa=n,qs=t,os=s,ed=f,td=h,Ey=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jT(_s,function(){return Ly(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ne.p,ne.p=2,_=Ze,Ze|=4;try{wT(t,n,s)}finally{Ze=_,ne.p=h,F.T=l}}Bt=1,Vy(),ky(),jy()}}function Vy(){if(Bt===1){Bt=0;var t=qs,n=qa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=ne.p;ne.p=2;var h=Ze;Ze|=4;try{my(n,t);var f=gd,_=bp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&vp(T.ownerDocument.documentElement,T)){if(C!==null&&zh(T)){var P=C.start,G=C.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,q=Y&&Y.defaultView||window;if(q.getSelection){var H=q.getSelection(),ce=T.textContent.length,Te=Math.min(C.start,ce),at=C.end===void 0?Te:Math.min(C.end,ce);!H.extend&&Te>at&&(_=at,at=Te,Te=_);var k=_p(T,Te),O=_p(T,at);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),H.removeAllRanges(),Te>at?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Sc=!!pd,gd=pd=null}finally{Ze=h,ne.p=l,F.T=s}}t.current=n,Bt=2}}function ky(){if(Bt===2){Bt=0;var t=qs,n=qa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=ne.p;ne.p=2;var h=Ze;Ze|=4;try{uy(t,n.alternate,n)}finally{Ze=h,ne.p=l,F.T=s}}Bt=3}}function jy(){if(Bt===4||Bt===3){Bt=0,gr();var t=qs,n=qa,s=os,l=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,qa=qs=null,Uy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zs=null),Gi(s),n=n.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=ne.p,ne.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{F.T=n,ne.p=h}}(os&3)!==0&&hc(),Vi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===nd?mo++:(mo=0,nd=t):mo=0,po(0)}}function Uy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yl(n)))}function hc(){return Vy(),ky(),jy(),Ly()}function Ly(){if(Bt!==5)return!1;var t=qs,n=ed;ed=0;var s=Gi(os),l=F.T,h=ne.p;try{ne.p=32>s?32:s,F.T=null,s=td,td=null;var f=qs,_=os;if(Bt=0,qa=qs=null,os=0,(Ze&6)!==0)throw Error(a(331));var T=Ze;if(Ze|=4,vy(f.current),gy(f,f.current,_,s),Ze=T,po(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{ne.p=h,F.T=l,Uy(t,n)}}function Py(t,n,s){n=qn(s,n),n=Vf(t.stateNode,n,2),t=Vs(t,n,2),t!==null&&(vr(t,2),Vi(t))}function nt(t,n,s){if(t.tag===3)Py(t,t,s);else for(;n!==null;){if(n.tag===3){Py(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))){t=qn(s,t),s=zg(2),l=Vs(n,s,2),l!==null&&(qg(s,l,n,t),vr(l,2),Vi(l));break}}n=n.return}}function rd(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new NT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Zf=!0,h.add(s),t=MT.bind(null,t,n,s),n.then(t,t))}function MT(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ot===t&&(Pe&s)===s&&(wt===4||wt===3&&(Pe&62914560)===Pe&&300>fn()-rc?(Ze&2)===0&&Ba(t,0):Jf|=s,za===Pe&&(za=0)),Vi(t)}function zy(t,n){n===0&&(n=lu()),t=Mr(t,n),t!==null&&(vr(t,n),Vi(t))}function VT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(t,s)}function kT(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zy(t,s)}function jT(t,n){return ye(t,n)}var fc=null,Fa=null,ad=!1,dc=!1,ld=!1,Hs=0;function Vi(t){t!==Fa&&t.next===null&&(Fa===null?fc=Fa=t:Fa=Fa.next=t),dc=!0,ad||(ad=!0,LT())}function po(t,n){if(!ld&&dc){ld=!0;do for(var s=!1,l=fc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Rt(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Fy(l,f))}else f=Pe,f=gi(l,l===ot?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Zn(l,f)||(s=!0,Fy(l,f));l=l.next}while(s);ld=!1}}function UT(){qy()}function qy(){dc=ad=!1;var t=0;Hs!==0&&YT()&&(t=Hs);for(var n=fn(),s=null,l=fc;l!==null;){var h=l.next,f=By(l,n);f===0?(l.next=null,s===null?fc=h:s.next=h,h===null&&(Fa=s)):(s=l,(t!==0||(f&3)!==0)&&(dc=!0)),l=h}Bt!==0&&Bt!==5||po(t),Hs!==0&&(Hs=0)}function By(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Rt(f),T=1<<_,C=h[_];C===-1?((T&s)===0||(T&l)!==0)&&(h[_]=kh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=ot,s=Pe,s=gi(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xt(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Zn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&xt(l),Gi(s)){case 2:case 8:s=Al;break;case 32:s=_s;break;case 268435456:s=nu;break;default:s=_s}return l=Hy.bind(null,t),s=ye(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&xt(l),t.callbackPriority=2,t.callbackNode=null,2}function Hy(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(hc()&&t.callbackNode!==s)return null;var l=Pe;return l=gi(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ay(t,l,n),By(t,fn()),t.callbackNode!=null&&t.callbackNode===s?Hy.bind(null,t):null)}function Fy(t,n){if(hc())return null;Ay(t,n,!0)}function LT(){$T(function(){(Ze&6)!==0?ye(Sl,UT):qy()})}function od(){if(Hs===0){var t=Ca;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Hs=t}return Hs}function Gy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function Ky(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function PT(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[Kt]||null).action),_=l.submitter;_&&(n=(n=_[Kt]||null)?Gy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new Ri("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var C=_?Ky(h,_):new FormData(h);Nf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=_?Ky(h,_):new FormData(h),Nf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var cd=Fh[ud],zT=cd.toLowerCase(),qT=cd[0].toUpperCase()+cd.slice(1);ri(zT,"on"+qT)}ri(Sp,"onAnimationEnd"),ri(Ap,"onAnimationIteration"),ri(wp,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(iT,"onTransitionRun"),ri(sT,"onTransitionStart"),ri(rT,"onTransitionCancel"),ri(xp,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function Qy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,P=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=C}}}}function Ue(t,n){var s=n[ua];s===void 0&&(s=n[ua]=new Set);var l=t+"__bubble";s.has(l)||(Yy(n,t,2,!1),s.add(l))}function hd(t,n,s){var l=0;n&&(l|=4),Yy(s,t,l,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[mc]){t[mc]=!0,Rl.forEach(function(s){s!=="selectionchange"&&(BT.has(s)||hd(s,!1,t),hd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,hd("selectionchange",!1,n))}}function Yy(t,n,s,l){switch(S_(n)){case 2:var h=gE;break;case 8:h=yE;break;default:h=Rd}s=h.bind(null,n,s,t),h=void 0,!wr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function dd(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=bi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue e}T=T.parentNode}}l=l.return}As(function(){var P=f,G=Un(s),Y=[];e:{var q=Rp.get(t);if(q!==void 0){var H=Ri,ce=t;switch(t){case"keypress":if(Rr(s)===0)break e;case"keydown":case"keyup":H=wu;break;case"focusin":ce="focus",H=Cr;break;case"focusout":ce="blur",H=Cr;break;case"beforeblur":case"afterblur":H=Cr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Sp:case Ap:case wp:H=_u;break;case xp:H=S;break;case"scroll":case"scrollend":H=Pl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Yi;break;case"toggle":case"beforetoggle":H=Oe}var Te=(n&4)!==0,at=!Te&&(t==="scroll"||t==="scrollend"),k=Te?q!==null?q+"Capture":null:q;Te=[];for(var O=P,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=ti(O,k),K!=null&&Te.push(yo(O,K,L))),at)break;O=O.return}0<Te.length&&(q=new H(q,ce,null,s,G),Y.push({event:q,listeners:Te}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&s!==jl&&(ce=s.relatedTarget||s.fromElement)&&(bi(ce)||ce[_i]))break e;if((H||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,H?(ce=s.relatedTarget||s.toElement,H=P,ce=ce?bi(ce):null,ce!==null&&(at=c(ce),Te=ce.tag,ce!==at||Te!==5&&Te!==27&&Te!==6)&&(ce=null)):(H=null,ce=P),H!==ce)){if(Te=zl,K="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Yi,K="onPointerLeave",k="onPointerEnter",O="pointer"),at=H==null?q:wn(H),L=ce==null?q:wn(ce),q=new Te(K,O+"leave",H,s,G),q.target=at,q.relatedTarget=L,K=null,bi(G)===P&&(Te=new Te(k,O+"enter",ce,s,G),Te.target=L,Te.relatedTarget=at,K=Te),at=K,H&&ce)t:{for(Te=HT,k=H,O=ce,L=0,K=k;K;K=Te(K))L++;K=0;for(var _e=O;_e;_e=Te(_e))K++;for(;0<L-K;)k=Te(k),L--;for(;0<K-L;)O=Te(O),K--;for(;L--;){if(k===O||O!==null&&k===O.alternate){Te=k;break t}k=Te(k),O=Te(O)}Te=null}else Te=null;H!==null&&Xy(Y,q,H,Te,!1),ce!==null&&at!==null&&Xy(Y,at,ce,Te,!0)}}e:{if(q=P?wn(P):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var Qe=fp;else if(cp(q))if(dp)Qe=eT;else{Qe=J1;var de=Z1}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&da(P.elementType)&&(Qe=fp):Qe=W1;if(Qe&&(Qe=Qe(t,P))){hp(Y,Qe,s,G);break e}de&&de(t,q,P),t==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&Ml(q,"number",q.value)}switch(de=P?wn(P):window,t){case"focusin":(cp(de)||de.contentEditable==="true")&&(Ta=de,qh=P,Gl=null);break;case"focusout":Gl=qh=Ta=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Tp(Y,s,G);break;case"selectionchange":if(nT)break;case"keydown":case"keyup":Tp(Y,s,G)}var Ve;if($e)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else ba?Ir(t,s)&&(ze="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ze="onCompositionStart");ze&&(Ii&&s.locale!=="ko"&&(ba||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&ba&&(Ve=Ll()):(xi=G,Ul="value"in xi?xi.value:xi.textContent,ba=!0)),de=pc(P,ze),0<de.length&&(ze=new Ci(ze,t,null,s,G),Y.push({event:ze,listeners:de}),Ve?ze.data=Ve:(Ve=va(s),Ve!==null&&(ze.data=Ve)))),(Ve=Pn?Q1(t,s):Y1(t,s))&&(ze=pc(P,"onBeforeInput"),0<ze.length&&(de=new Ci("onBeforeInput","beforeinput",null,s,G),Y.push({event:de,listeners:ze}),de.data=Ve)),PT(Y,t,P,s,G)}Qy(Y,n)})}function yo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function pc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(t,s),h!=null&&l.unshift(yo(t,h,f)),h=ti(t,n),h!=null&&l.push(yo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function HT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xy(t,n,s,l,h){for(var f=n._reactName,_=[];s!==null&&s!==l;){var T=s,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=ti(s,f),P!=null&&_.unshift(yo(s,P,C))):h||(P=ti(s,f),P!=null&&_.push(yo(s,P,C)))),s=s.return}_.length!==0&&t.push({event:n,listeners:_})}var FT=/\r\n?/g,GT=/\u0000|\uFFFD/g;function $y(t){return(typeof t=="string"?t:""+t).replace(FT,`
`).replace(GT,"")}function Zy(t,n){return n=$y(n),$y(t)===n}function rt(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":xn(t,"class",l);break;case"tabIndex":xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(t,s,l);break;case"style":kl(t,l,f);break;case"data":if(n!=="object"){xn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ma(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&rt(t,n,"name",h.name,h,null),rt(t,n,"formEncType",h.formEncType,h,null),rt(t,n,"formMethod",h.formMethod,h,null),rt(t,n,"formTarget",h.formTarget,h,null)):(rt(t,n,"encType",h.encType,h,null),rt(t,n,"method",h.method,h,null),rt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ma(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),ha(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=pu.get(s)||s,ha(t,s,l))}}function md(t,n,s,l,h,f){switch(s){case"style":kl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Kt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ha(t,s,l)}}}function tn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var _=s[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,f,_,s,null)}}h&&rt(t,n,"srcSet",s.srcSet,s,null),l&&rt(t,n,"src",s.src,s,null);return;case"input":Ue("invalid",t);var T=f=_=h=null,C=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:rt(t,n,l,G,s,null)}}fu(t,f,T,C,P,_,h,!1);return;case"select":Ue("invalid",t),l=_=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:rt(t,n,h,T,s,null)}n=f,s=_,t.multiple=!!l,n!=null?bs(t,!!l,n,!1):s!=null&&bs(t,!!l,s,!0);return;case"textarea":Ue("invalid",t),f=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:rt(t,n,_,T,s,null)}Ts(t,l,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,n,C,l,s,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<go.length;l++)Ue(go[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:rt(t,n,P,l,s,null)}return;default:if(da(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&md(t,n,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&rt(t,n,T,l,s,null))}function KT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,C=null,P=null,G=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||rt(t,n,H,null,l,Y)}}for(var q in l){var H=l[q];if(Y=s[q],l.hasOwnProperty(q)&&(H!=null||Y!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&rt(t,n,q,H,l,Y)}}fa(t,_,T,C,P,G,f,h);return;case"select":H=_=T=q=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||rt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==C&&rt(t,n,h,f,l,C)}n=T,s=_,l=H,q!=null?bs(t,!!s,q,!1):!!l!=!!s&&(n!=null?bs(t,!!s,n,!0):bs(t,!!s,s?[]:"",!1));return;case"textarea":H=q=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,n,T,null,l,h)}for(_ in l)if(h=l[_],f=s[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&rt(t,n,_,h,l,f)}du(t,q,H);return;case"option":for(var ce in s)if(q=s[ce],s.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:rt(t,n,ce,null,l,q)}for(C in l)if(q=l[C],H=s[C],l.hasOwnProperty(C)&&q!==H&&(q!=null||H!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:rt(t,n,C,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)q=s[Te],s.hasOwnProperty(Te)&&q!=null&&!l.hasOwnProperty(Te)&&rt(t,n,Te,null,l,q);for(P in l)if(q=l[P],H=s[P],l.hasOwnProperty(P)&&q!==H&&(q!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:rt(t,n,P,q,l,H)}return;default:if(da(n)){for(var at in s)q=s[at],s.hasOwnProperty(at)&&q!==void 0&&!l.hasOwnProperty(at)&&md(t,n,at,void 0,l,q);for(G in l)q=l[G],H=s[G],!l.hasOwnProperty(G)||q===H||q===void 0&&H===void 0||md(t,n,G,q,l,H);return}}for(var k in s)q=s[k],s.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&rt(t,n,k,null,l,q);for(Y in l)q=l[Y],H=s[Y],!l.hasOwnProperty(Y)||q===H||q==null&&H==null||rt(t,n,Y,q,l,H)}function Jy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&Jy(_)){for(_=0,T=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],P=C.startTime;if(P>T)break;var G=C.transferSize,Y=C.initiatorType;G&&Jy(Y)&&(C=C.responseEnd,_+=G*(C<T?1:(T-P)/(C-P)))}if(--l,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,gd=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function Wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function YT(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,XT=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,$T=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(t){return n_.resolve(null).then(t).catch(ZT)}:t_;function ZT(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function i_(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Ya(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")_o(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,_o(s);for(var f=s.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[vi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=_}}else s==="body"&&_o(t.ownerDocument.body);s=h}while(s);Ya(n)}function s_(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vd(s),ca(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function JT(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function WT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Kn(t.nextSibling),t===null))return null;return t}function r_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kn(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function eE(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function a_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Kn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function l_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function o_(t,n,s){switch(n=gc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function _o(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ca(t)}var Qn=new Map,u_=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=ne.d;ne.d={f:tE,r:nE,D:iE,C:sE,L:rE,m:aE,X:oE,S:lE,M:uE};function tE(){var t=us.f(),n=oc();return t||n}function nE(t){var n=jn(t);n!==null&&n.tag===5&&n.type==="form"?xg(n):us.r(t)}var Ga=typeof document>"u"?null:document;function c_(t,n,s){var l=Ga;if(l&&typeof n=="string"&&n){var h=pn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),u_.has(h)||(u_.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),tn(n,"link",t),Vt(n),l.head.appendChild(n)))}}function iE(t){us.D(t),c_("dns-prefetch",t,null)}function sE(t,n){us.C(t,n),c_("preconnect",t,n)}function rE(t,n,s){us.L(t,n,s);var l=Ga;if(l&&t&&n){var h='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+pn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+pn(s.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Qa(t)}Qn.has(f)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Qn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(vo(f))||n==="script"&&l.querySelector(bo(f))||(n=l.createElement("link"),tn(n,"link",t),Vt(n),l.head.appendChild(n)))}}function aE(t,n){us.m(t,n);var s=Ga;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qa(t)}if(!Qn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Qn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(bo(f)))return}l=s.createElement("link"),tn(l,"link",t),Vt(l),s.head.appendChild(l)}}}function lE(t,n,s){us.S(t,n,s);var l=Ga;if(l&&t){var h=Ti(l).hoistableStyles,f=Ka(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(vo(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Qn.get(f))&&Sd(t,s);var C=_=l.createElement("link");Vt(C),tn(C,"link",t),C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function oE(t,n){us.X(t,n);var s=Ga;if(s&&t){var l=Ti(s).hoistableScripts,h=Qa(t),f=l.get(h);f||(f=s.querySelector(bo(h)),f||(t=w({src:t,async:!0},n),(n=Qn.get(h))&&Ad(t,n),f=s.createElement("script"),Vt(f),tn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function uE(t,n){us.M(t,n);var s=Ga;if(s&&t){var l=Ti(s).hoistableScripts,h=Qa(t),f=l.get(h);f||(f=s.querySelector(bo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Qn.get(h))&&Ad(t,n),f=s.createElement("script"),Vt(f),tn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function h_(t,n,s,l){var h=(h=Ie.current)?yc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ka(s.href),s=Ti(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ka(s.href);var f=Ti(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(vo(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Qn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Qn.set(t,s),f||cE(h,t,s,_.state))),n&&l===null)throw Error(a(528,""));return _}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(s),s=Ti(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ka(t){return'href="'+pn(t)+'"'}function vo(t){return'link[rel="stylesheet"]['+t+"]"}function f_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function cE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),tn(n,"link",s),Vt(n),t.head.appendChild(n))}function Qa(t){return'[src="'+pn(t)+'"]'}function bo(t){return"script[async]"+t}function d_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pn(s.href)+'"]');if(l)return n.instance=l,Vt(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),tn(l,"style",h),_c(l,s.precedence,t),n.instance=l;case"stylesheet":h=Ka(s.href);var f=t.querySelector(vo(h));if(f)return n.state.loading|=4,n.instance=f,Vt(f),f;l=f_(s),(h=Qn.get(h))&&Sd(l,h),f=(t.ownerDocument||t).createElement("link"),Vt(f);var _=f;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),tn(f,"link",l),n.state.loading|=4,_c(f,s.precedence,t),n.instance=f;case"script":return f=Qa(s.src),(h=t.querySelector(bo(f)))?(n.instance=h,Vt(h),h):(l=s,(h=Qn.get(f))&&(l=w({},s),Ad(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Vt(h),tn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_c(l,s.precedence,t));return n.instance}function _c(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function m_(t,n,s){if(vc===null){var l=new Map,h=vc=new Map;h.set(s,l)}else h=vc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[vi]||f[Mt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function p_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function hE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function fE(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ka(l.href),f=n.querySelector(vo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Vt(f);return}f=n.ownerDocument||n,l=f_(l),(h=Qn.get(h))&&Sd(l,h),f=f.createElement("link"),Vt(f);var _=f;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),tn(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=bc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var wd=0;function dE(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*QT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(mE,t),Tc=null,bc.call(t))}function mE(t,n){if(!(n.state.loading&4)){var s=Tc.get(t);if(s)var l=s.get(null);else{s=new Map,Tc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=s.get(_)||l,f===l&&s.set(null,h),s.set(_,h),this.count++,l=bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var To={$$typeof:oe,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function pE(t,n,s,l,h,f,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function y_(t,n,s,l,h,f,_,T,C,P,G,Y){return t=new pE(t,n,s,_,C,P,G,Y,T),n=1,f===!0&&(n|=24),f=Nn(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},of(f),t}function __(t){return t?(t=Aa,t):Aa}function v_(t,n,s,l,h,f){h=__(h),l.context===null?l.context=h:l.pendingContext=h,l=Ms(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Vs(t,l,n),s!==null&&(Tn(s,t,n),Jl(s,t,n))}function b_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function xd(t,n){b_(t,n),(t=t.alternate)&&b_(t,n)}function T_(t){if(t.tag===13||t.tag===31){var n=Mr(t,67108864);n!==null&&Tn(n,t,67108864),xd(t,67108864)}}function E_(t){if(t.tag===13||t.tag===31){var n=Mn();n=Tr(n);var s=Mr(t,n);s!==null&&Tn(s,t,n),xd(t,n)}}var Sc=!0;function gE(t,n,s,l){var h=F.T;F.T=null;var f=ne.p;try{ne.p=2,Rd(t,n,s,l)}finally{ne.p=f,F.T=h}}function yE(t,n,s,l){var h=F.T;F.T=null;var f=ne.p;try{ne.p=8,Rd(t,n,s,l)}finally{ne.p=f,F.T=h}}function Rd(t,n,s,l){if(Sc){var h=Nd(l);if(h===null)dd(t,n,l,Ac,s),A_(t,l);else if(vE(h,t,n,s,l))l.stopPropagation();else if(A_(t,l),n&4&&-1<_E.indexOf(t)){for(;h!==null;){var f=jn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=pi(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-Rt(_);T.entanglements[1]|=C,_&=~C}Vi(f),(Ze&6)===0&&(ac=fn()+500,po(0))}}break;case 31:case 13:T=Mr(f,2),T!==null&&Tn(T,f,2),oc(),xd(f,2)}if(f=Nd(l),f===null&&dd(t,n,l,Ac,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else dd(t,n,l,null,s)}}function Nd(t){return t=Un(t),Cd(t)}var Ac=null;function Cd(t){if(Ac=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function S_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case Sl:return 2;case Al:return 8;case _s:case Vh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var Id=!1,Gs=null,Ks=null,Qs=null,Eo=new Map,So=new Map,Ys=[],_E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(t,n){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Eo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(n.pointerId)}}function Ao(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=jn(n),n!==null&&T_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function vE(t,n,s,l,h){switch(n){case"focusin":return Gs=Ao(Gs,t,n,s,l,h),!0;case"dragenter":return Ks=Ao(Ks,t,n,s,l,h),!0;case"mouseover":return Qs=Ao(Qs,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return Eo.set(f,Ao(Eo.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,So.set(f,Ao(So.get(f)||null,t,n,s,l,h)),!0}return!1}function w_(t){var n=bi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){E_(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,Jn(t.priority,function(){E_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Nd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);jl=l,s.target.dispatchEvent(l),jl=null}else return n=jn(s),n!==null&&T_(n),t.blockedOn=s,!1;n.shift()}return!0}function x_(t,n,s){wc(t)&&s.delete(n)}function bE(){Id=!1,Gs!==null&&wc(Gs)&&(Gs=null),Ks!==null&&wc(Ks)&&(Ks=null),Qs!==null&&wc(Qs)&&(Qs=null),Eo.forEach(x_),So.forEach(x_)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bE)))}var Rc=null;function R_(t){Rc!==t&&(Rc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Cd(l||s)===null)continue;break}var f=jn(s);f!==null&&(t.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ya(t){function n(C){return xc(C,t)}Gs!==null&&xc(Gs,t),Ks!==null&&xc(Ks,t),Qs!==null&&xc(Qs,t),Eo.forEach(n),So.forEach(n);for(var s=0;s<Ys.length;s++){var l=Ys[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ys.length&&(s=Ys[0],s.blockedOn===null);)w_(s),s.blockedOn===null&&Ys.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],_=h[Kt]||null;if(typeof f=="function")_||R_(s);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Kt]||null)T=_.formAction;else if(Cd(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),R_(s)}}}function N_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}Nc.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Mn();v_(s,l,t,n,null,null)},Nc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;v_(t.current,2,null,t,null,null),oc(),n[_i]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ys.length&&n!==0&&n<Ys[s].priority;s++);Ys.splice(s,0,t),s===0&&w_(t)}};var C_=e.version;if(C_!=="19.2.3")throw Error(a(527,C_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var TE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{$n=Cc.inject(TE),$t=Cc}catch{}}return xo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=jg,f=Ug,_=Lg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=y_(t,1,!1,null,null,s,l,null,h,f,_,N_),t[_i]=n.current,fd(t),new Dd(n)},xo.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=jg,_=Ug,T=Lg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=y_(t,1,!0,n,s??null,l,h,C,f,_,T,N_),n.context=__(null),s=n.current,l=Mn(),l=Tr(l),h=Ms(l),h.callback=null,Vs(s,h,l),s=l,n.current.lanes=s,vr(n,s),Vi(n),t[_i]=n.current,fd(t),new Nc(n)},xo.version="19.2.3",xo}var P_;function DE(){if(P_)return Vd.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=IE(),Vd.exports}var OE=DE();const ME=()=>{};var z_={};const gv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},VE=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,E=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,z=y&63;v||(z=64,d||(M=64)),a.push(i[E],i[w],i[M],i[z])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(gv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):VE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||w==null)throw new kE;const M=c<<2|g>>4;if(a.push(M),y!==64){const z=g<<4&240|y>>2;if(a.push(z),w!==64){const $=y<<6&192|w;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jE=function(r){const e=gv(r);return yv.encodeByteArray(e,!0)},Kc=function(r){return jE(r).replace(/\./g,"")},_v=function(r){try{return yv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LE=()=>UE().__FIREBASE_DEFAULTS__,PE=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_v(r[1]);return e&&JSON.parse(e)},ph=()=>{try{return ME()||LE()||PE()||zE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vv=r=>ph()?.emulatorHosts?.[r],qE=r=>{const e=vv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},bv=()=>ph()?.config,Tv=r=>ph()?.[`_${r}`];class BE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function pl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ev(r){return(await fetch(r,{credentials:"include"})).ok}function HE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const Do={};function FE(){const r={prod:[],emulator:[]};for(const e of Object.keys(Do))Do[e]?r.emulator.push(e):r.prod.push(e);return r}function GE(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let q_=!1;function Sv(r,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||Do[r]===e||Do[r]||q_)return;Do[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=FE().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,z){M.setAttribute("width","24"),M.setAttribute("id",z),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{q_=!0,d()},M}function E(M,z){M.setAttribute("id",z),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=GE(a),z=i("text"),$=document.getElementById(z)||document.createElement("span"),ee=i("learnmore"),W=document.getElementById(ee)||document.createElement("a"),fe=i("preprendIcon"),Z=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const oe=M.element;g(oe),E(W,ee);const Ee=y();v(Z,fe),oe.append(Z,$,W,Ee),document.body.appendChild(oe)}c?($.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function QE(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $E(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZE(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function JE(){return!QE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WE(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const tS="FirebaseError";class ys extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=tS,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ko.prototype.create)}}class Ko{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?nS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ys(o,g,a)}}function nS(r,e){return r.replace(iS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const iS=/\{\$([^}]+)}/g;function sS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Wr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(B_(c)&&B_(d)){if(!Wr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}function Qo(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function rS(r,e){const i=new aS(r,e);return i.subscribe.bind(i)}class aS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");lS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}function Vn(r){return r&&r._delegate?r._delegate:r}class ea{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class oS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new BE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cS(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uS(r){return r===Xr?void 0:r}function cS(r){return r.instantiationMode==="EAGER"}class hS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new oS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const fS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},dS=qe.INFO,mS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},pS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=mS[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=dS,this._logHandler=pS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const gS=(r,e)=>e.some(i=>r instanceof i);let H_,F_;function yS(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _S(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Av=new WeakMap,Zd=new WeakMap,wv=new WeakMap,Pd=new WeakMap,Am=new WeakMap;function vS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(nr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Av.set(i,r)}).catch(()=>{}),Am.set(e,r),e}function bS(r){if(Zd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Zd.set(r,e)}let Jd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Zd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||wv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function TS(r){Jd=r(Jd)}function ES(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(zd(this),e,...i);return wv.set(a,e.sort?e.sort():[e]),nr(a)}:_S().includes(r)?function(...e){return r.apply(zd(this),e),nr(Av.get(this))}:function(...e){return nr(r.apply(zd(this),e))}}function SS(r){return typeof r=="function"?ES(r):(r instanceof IDBTransaction&&bS(r),gS(r,yS())?new Proxy(r,Jd):r)}function nr(r){if(r instanceof IDBRequest)return vS(r);if(Pd.has(r))return Pd.get(r);const e=SS(r);return e!==r&&(Pd.set(r,e),Am.set(e,r)),e}const zd=r=>Am.get(r);function AS(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=nr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(nr(d.result),v.oldVersion,v.newVersion,nr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const wS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],qd=new Map;function G_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qd.get(e))return qd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=xS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||wS.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return qd.set(e,c),c}TS(r=>({...r,get:(e,i,a)=>G_(e,i)||r.get(e,i,a),has:(e,i)=>!!G_(e,i)||r.has(e,i)}));class RS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function NS(r){return r.getComponent()?.type==="VERSION"}const Wd="@firebase/app",K_="0.14.6";const fs=new Sm("@firebase/app"),CS="@firebase/app-compat",IS="@firebase/analytics-compat",DS="@firebase/analytics",OS="@firebase/app-check-compat",MS="@firebase/app-check",VS="@firebase/auth",kS="@firebase/auth-compat",jS="@firebase/database",US="@firebase/data-connect",LS="@firebase/database-compat",PS="@firebase/functions",zS="@firebase/functions-compat",qS="@firebase/installations",BS="@firebase/installations-compat",HS="@firebase/messaging",FS="@firebase/messaging-compat",GS="@firebase/performance",KS="@firebase/performance-compat",QS="@firebase/remote-config",YS="@firebase/remote-config-compat",XS="@firebase/storage",$S="@firebase/storage-compat",ZS="@firebase/firestore",JS="@firebase/ai",WS="@firebase/firestore-compat",eA="firebase",tA="12.6.0";const em="[DEFAULT]",nA={[Wd]:"fire-core",[CS]:"fire-core-compat",[DS]:"fire-analytics",[IS]:"fire-analytics-compat",[MS]:"fire-app-check",[OS]:"fire-app-check-compat",[VS]:"fire-auth",[kS]:"fire-auth-compat",[jS]:"fire-rtdb",[US]:"fire-data-connect",[LS]:"fire-rtdb-compat",[PS]:"fire-fn",[zS]:"fire-fn-compat",[qS]:"fire-iid",[BS]:"fire-iid-compat",[HS]:"fire-fcm",[FS]:"fire-fcm-compat",[GS]:"fire-perf",[KS]:"fire-perf-compat",[QS]:"fire-rc",[YS]:"fire-rc-compat",[XS]:"fire-gcs",[$S]:"fire-gcs-compat",[ZS]:"fire-fst",[WS]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[eA]:"fire-js-all"};const Qc=new Map,iA=new Map,tm=new Map;function Q_(r,e){try{r.container.addComponent(e)}catch(i){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function al(r){const e=r.name;if(tm.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,r);for(const i of Qc.values())Q_(i,r);for(const i of iA.values())Q_(i,r);return!0}function wm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ui(r){return r==null?!1:r.settings!==void 0}const sA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Ko("app","Firebase",sA);class rA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const gl=tA;function xv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:em,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(i||(i=bv()),!i)throw ir.create("no-options");const c=Qc.get(o);if(c){if(Wr(i,c.options)&&Wr(a,c.config))return c;throw ir.create("duplicate-app",{appName:o})}const d=new hS(o);for(const v of tm.values())d.addComponent(v);const g=new rA(i,a,d);return Qc.set(o,g),g}function Rv(r=em){const e=Qc.get(r);if(!e&&r===em&&bv())return xv();if(!e)throw ir.create("no-app",{appName:r});return e}function sr(r,e,i){let a=nA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(d.join(" "));return}al(new ea(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const aA="firebase-heartbeat-database",lA=1,Uo="firebase-heartbeat-store";let Bd=null;function Nv(){return Bd||(Bd=AS(aA,lA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Uo)}catch(i){console.warn(i)}}}}).catch(r=>{throw ir.create("idb-open",{originalErrorMessage:r.message})})),Bd}async function oA(r){try{const i=(await Nv()).transaction(Uo),a=await i.objectStore(Uo).get(Cv(r));return await i.done,a}catch(e){if(e instanceof ys)fs.warn(e.message);else{const i=ir.create("idb-get",{originalErrorMessage:e?.message});fs.warn(i.message)}}}async function Y_(r,e){try{const a=(await Nv()).transaction(Uo,"readwrite");await a.objectStore(Uo).put(e,Cv(r)),await a.done}catch(i){if(i instanceof ys)fs.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});fs.warn(a.message)}}}function Cv(r){return`${r.name}!${r.options.appId}`}const uA=1024,cA=30;class hA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cA){const o=mA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=X_(),{heartbeatsToSend:i,unsentEntries:a}=fA(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fs.warn(e),""}}}function X_(){return new Date().toISOString().substring(0,10)}function fA(r,e=uA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),$_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),$_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class dA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WE()?eS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await oA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $_(r){return Kc(JSON.stringify({version:2,heartbeats:r})).length}function mA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function pA(r){al(new ea("platform-logger",e=>new RS(e),"PRIVATE")),al(new ea("heartbeat",e=>new hA(e),"PRIVATE")),sr(Wd,K_,r),sr(Wd,K_,"esm2020"),sr("fire-js","")}pA("");var gA="firebase",yA="12.7.0";sr(gA,yA,"app");function Iv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _A=Iv,Dv=new Ko("auth","Firebase",Iv());const Yc=new Sm("@firebase/auth");function vA(r,...e){Yc.logLevel<=qe.WARN&&Yc.warn(`Auth (${gl}): ${r}`,...e)}function jc(r,...e){Yc.logLevel<=qe.ERROR&&Yc.error(`Auth (${gl}): ${r}`,...e)}function ds(r,...e){throw xm(r,...e)}function Ui(r,...e){return xm(r,...e)}function Ov(r,e,i){const a={..._A(),[e]:i};return new Ko("auth","Firebase",a).create(e,{appName:r.name})}function rr(r){return Ov(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Dv.create(r,...e)}function we(r,e,...i){if(!r)throw xm(e,...i)}function cs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw jc(e),new Error(e)}function ms(r,e){r||cs(e)}function nm(){return typeof self<"u"&&self.location?.href||""}function bA(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}function TA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bA()||XE()||"connection"in navigator)?navigator.onLine:!0}function EA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ms(i>e,"Short delay should be less than long delay!"),this.isMobile=KE()||$E()}get(){return TA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(r,e){ms(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Mv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wA=new Yo(3e4,6e4);function gh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function yl(r,e,i,a,o={}){return Vv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Qo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:v,...c};return YE()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&pl(r.emulatorConfig.host)&&(y.credentials="include"),Mv.fetch()(await jv(r,r.config.apiHost,i,g),y)})}async function Vv(r,e,i){r._canInitEmulator=!1;const a={...SA,...e};try{const o=new xA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ic(r,"user-disabled",d);const E=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ov(r,E,y);ds(r,E)}}catch(o){if(o instanceof ys)throw o;ds(r,"network-request-failed",{message:String(o)})}}async function kv(r,e,i,a,o={}){const c=await yl(r,e,i,a,o);return"mfaPendingCredential"in c&&ds(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function jv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Rm(r.config,o):`${r.config.apiScheme}://${o}`;return AA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ui(this.auth,"network-request-failed")),wA.get())})}}function Ic(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ui(r,e,a);return o.customData._tokenResponse=i,o}async function RA(r,e){return yl(r,"POST","/v1/accounts:delete",e)}async function Xc(r,e){return yl(r,"POST","/v1/accounts:lookup",e)}function Oo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NA(r,e=!1){const i=Vn(r),a=await i.getIdToken(e),o=Nm(a);we(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Oo(Hd(o.auth_time)),issuedAtTime:Oo(Hd(o.iat)),expirationTime:Oo(Hd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(r){return Number(r)*1e3}function Nm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_v(i);return o?JSON.parse(o):(jc("Failed to decode base64 JWT payload"),null)}catch(o){return jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function J_(r){const e=Nm(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Lo(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ys&&CA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function CA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class IA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oo(this.lastLoginAt),this.creationTime=Oo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(r){const e=r.auth,i=await r.getIdToken(),a=await Lo(r,Xc(e,{idToken:i}));we(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Uv(o.providerUserInfo):[],d=OA(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=g?v:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function DA(r){const e=Vn(r);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Uv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function MA(r,e){const i=await Vv(r,{},async()=>{const a=Qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await jv(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&pl(r.emulatorConfig.host)&&(v.credentials="include"),Mv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function VA(r,e){return yl(r,"POST","/v2/accounts:revokeToken",gh(r,e))}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=J_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await MA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new tl;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return cs("not implemented")}}function $s(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new IA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new im(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return NA(this,e)}reload(){return DA(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await Lo(this,RA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:z,providerData:$,stsTokenManager:ee}=i;we(w&&ee,e,"internal-error");const W=tl.fromJSON(this.name,ee);we(typeof w=="string",e,"internal-error"),$s(a,e.name),$s(o,e.name),we(typeof M=="boolean",e,"internal-error"),we(typeof z=="boolean",e,"internal-error"),$s(c,e.name),$s(d,e.name),$s(g,e.name),$s(v,e.name),$s(y,e.name),$s(E,e.name);const fe=new ci({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:z,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:E});return $&&Array.isArray($)&&(fe.providerData=$.map(Z=>({...Z}))),v&&(fe._redirectEventId=v),fe}static async _fromIdTokenResponse(e,i,a=!1){const o=new tl;o.updateFromServerResponse(i);const c=new ci({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await $c(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Uv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new tl;g.updateFromIdToken(a);const v=new ci({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const W_=new Map;function hs(r){ms(r instanceof Function,"Expected a class definition");let e=W_.get(r);return e?(ms(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,W_.set(r,e),e)}class Lv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Lv.type="NONE";const e0=Lv;function Uc(r,e,i){return`firebase:${r}:${e}:${i}`}class nl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Xc(this.auth,{idToken:e}).catch(()=>{});return i?ci._fromGetAccountInfoResponse(this.auth,i,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new nl(hs(e0),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||hs(e0);const d=Uc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const E=await y._get(d);if(E){let w;if(typeof E=="string"){const M=await Xc(e,{idToken:E}).catch(()=>{});if(!M)break;w=await ci._fromGetAccountInfoResponse(e,M,E)}else w=ci._fromJSON(e,E);y!==c&&(g=w),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new nl(c,e,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new nl(c,e,a))}}function t0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fv(e))return"Blackberry";if(Gv(e))return"Webos";if(zv(e))return"Safari";if((e.includes("chrome/")||qv(e))&&!e.includes("edge/"))return"Chrome";if(Hv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Pv(r=hn()){return/firefox\//i.test(r)}function zv(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qv(r=hn()){return/crios\//i.test(r)}function Bv(r=hn()){return/iemobile/i.test(r)}function Hv(r=hn()){return/android/i.test(r)}function Fv(r=hn()){return/blackberry/i.test(r)}function Gv(r=hn()){return/webos/i.test(r)}function Cm(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kA(r=hn()){return Cm(r)&&!!window.navigator?.standalone}function jA(){return ZE()&&document.documentMode===10}function Kv(r=hn()){return Cm(r)||Hv(r)||Gv(r)||Fv(r)||/windows phone/i.test(r)||Bv(r)}function Qv(r,e=[]){let i;switch(r){case"Browser":i=t0(hn());break;case"Worker":i=`${t0(hn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${gl}/${a}`}class UA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const v=e(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function LA(r,e={}){return yl(r,"GET","/v2/passwordPolicy",gh(r,e))}const PA=6;class zA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??PA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class qA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n0(this),this.idTokenSubscription=new n0(this),this.beforeStateQueue=new UA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=hs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Xc(this,{idToken:e}),a=await ci._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(rr(this));const i=e?Vn(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LA(this),i=new zA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ko("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await VA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&hs(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[hs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yh(r){return Vn(r)}class n0{constructor(e){this.auth=e,this.observer=null,this.addObserver=rS(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BA(r){Im=r}function HA(r){return Im.loadJS(r)}function FA(){return Im.gapiScript}function GA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function KA(r,e){const i=wm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Wr(c,e??{}))return o;ds(o,"already-initialized")}return i.initialize({options:e})}function QA(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(hs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function YA(r,e,i){const a=yh(r);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Yv(e),{host:d,port:g}=XA(e),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Wr(y,a.config.emulator)&&Wr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,pl(d)?(Ev(`${c}//${d}${v}`),Sv("Auth",!0)):$A()}function Yv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XA(r){const e=Yv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:i0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:i0(d)}}}function i0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function $A(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Xv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,i){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function il(r,e){return kv(r,"POST","/v1/accounts:signInWithIdp",gh(r,e))}const ZA="http://localhost";class ta extends Xv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ds("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ta(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return il(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,il(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,il(e,i)}buildRequest(){const e={requestUri:ZA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Qo(i)}return e}}class $v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xo extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zs extends Xo{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Js extends Xo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ta._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Ws extends Xo{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class er extends Xo{constructor(){super("twitter.com")}static credential(e,i){return ta._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return er.credential(i,a)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function JA(r,e){return kv(r,"POST","/v1/accounts:signUp",gh(r,e))}class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await ci._fromIdTokenResponse(e,a,o),d=s0(a);return new ur({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=s0(a);return new ur({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function s0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function WA(r){if(ui(r.app))return Promise.reject(rr(r));const e=yh(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ur({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await JA(e,{returnSecureToken:!0}),a=await ur._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Zc extends ys{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Zc(e,i,a,o)}}function Zv(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,c,e,a):c})}async function ew(r,e,i=!1){const a=await Lo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return ur._forOperation(r,"link",a)}async function tw(r,e,i=!1){const{auth:a}=r;if(ui(a.app))return Promise.reject(rr(a));const o="reauthenticate";try{const c=await Lo(r,Zv(a,o,e,r),i);we(c.idToken,a,"internal-error");const d=Nm(c.idToken);we(d,a,"internal-error");const{sub:g}=d;return we(r.uid===g,a,"user-mismatch"),ur._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ds(a,"user-mismatch"),c}}async function nw(r,e,i=!1){if(ui(r.app))return Promise.reject(rr(r));const a="signIn",o=await Zv(r,a,e),c=await ur._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function iw(r,e,i,a){return Vn(r).onIdTokenChanged(e,i,a)}function sw(r,e,i){return Vn(r).beforeAuthStateChanged(e,i)}function rw(r,e,i,a){return Vn(r).onAuthStateChanged(e,i,a)}const Jc="__sak";class Jv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const aw=1e3,lw=10;class Wv extends Jv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);jA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wv.type="LOCAL";const ow=Wv;class eb extends Jv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}eb.type="SESSION";const tb=eb;function uw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await uw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Dm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class cw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Dm("",20);o.port1.start();const E=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(E),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function hw(r){Li().location.href=r}function nb(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function fw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dw(){return navigator?.serviceWorker?.controller||null}function mw(){return nb()?self:null}const ib="firebaseLocalStorageDb",pw=1,Wc="firebaseLocalStorage",sb="fbase_key";class $o{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(r,e){return r.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function gw(){const r=indexedDB.deleteDatabase(ib);return new $o(r).toPromise()}function sm(){const r=indexedDB.open(ib,pw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Wc,{keyPath:sb})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Wc)?e(a):(a.close(),await gw(),e(await sm()))})})}async function r0(r,e,i){const a=vh(r,!0).put({[sb]:e,value:i});return new $o(a).toPromise()}async function yw(r,e){const i=vh(r,!1).get(e),a=await new $o(i).toPromise();return a===void 0?null:a.value}function a0(r,e){const i=vh(r,!0).delete(e);return new $o(i).toPromise()}const _w=800,vw=3;class rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>vw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(mw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fw(),!this.activeServiceWorker)return;this.sender=new cw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await r0(e,Jc,"1"),await a0(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>r0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>yw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>a0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=vh(o,!1).getAll();return new $o(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rb.type="LOCAL";const bw=rb;new Yo(3e4,6e4);function Tw(r,e){return e?hs(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Om extends Xv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,i){return il(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Ew(r){return nw(r.auth,new Om(r),r.bypassAuthState)}function Sw(r){const{auth:e,user:i}=r;return we(i,e,"internal-error"),tw(i,new Om(r),r.bypassAuthState)}async function Aw(r){const{auth:e,user:i}=r;return we(i,e,"internal-error"),ew(i,new Om(r),r.bypassAuthState)}class ab{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ew;case"linkViaPopup":case"linkViaRedirect":return Aw;case"reauthViaPopup":case"reauthViaRedirect":return Sw;default:ds(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ww=new Yo(2e3,1e4);class el extends ab{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,el.currentPopupAction&&el.currentPopupAction.cancel(),el.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,el.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ww.get())};e()}}el.currentPopupAction=null;const xw="pendingRedirect",Lc=new Map;class Rw extends ab{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const a=await Nw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nw(r,e){const i=Dw(e),a=Iw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Cw(r,e){Lc.set(r._key(),e)}function Iw(r){return hs(r._redirectPersistence)}function Dw(r){return Uc(xw,r.config.apiKey,r.name)}async function Ow(r,e,i=!1){if(ui(r.app))return Promise.reject(rr(r));const a=yh(r),o=Tw(a,e),d=await new Rw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Mw=600*1e3;class Vw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!lb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ui(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mw&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(e))}saveEventToCache(e){this.cachedEventUids.add(l0(e)),this.lastProcessedEventTime=Date.now()}}function l0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function kw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lb(r);default:return!1}}async function jw(r,e={}){return yl(r,"GET","/v1/projects",e)}const Uw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lw=/^https?/;async function Pw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await jw(r);for(const i of e)try{if(zw(i))return}catch{}ds(r,"unauthorized-domain")}function zw(r){const e=nm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Lw.test(i))return!1;if(Uw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const qw=new Yo(3e4,6e4);function o0(){const r=Li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Bw(r){return new Promise((e,i)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o0(),i(Ui(r,"network-request-failed"))},timeout:qw.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const o=GA("iframefcb");return Li()[o]=()=>{gapi.load?a():i(Ui(r,"network-request-failed"))},HA(`${FA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function Hw(r){return Pc=Pc||Bw(r),Pc}const Fw=new Yo(5e3,15e3),Gw="__/auth/iframe",Kw="emulator/auth/iframe",Qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xw(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Rm(e,Kw):`https://${r.config.authDomain}/${Gw}`,a={apiKey:e.apiKey,appName:r.name,v:gl},o=Yw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Qo(a).slice(1)}`}async function $w(r){const e=await Hw(r),i=Li().gapi;return we(i,r,"internal-error"),e.open({where:document.body,url:Xw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ui(r,"network-request-failed"),g=Li().setTimeout(()=>{c(d)},Fw.get());function v(){Li().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Zw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jw=500,Ww=600,e2="_blank",t2="http://localhost";class u0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n2(r,e,i,a=Jw,o=Ww){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...Zw,width:a.toString(),height:o.toString(),top:c,left:d},y=hn().toLowerCase();i&&(g=qv(y)?e2:i),Pv(y)&&(e=e||t2,v.scrollbars="yes");const E=Object.entries(v).reduce((M,[z,$])=>`${M}${z}=${$},`,"");if(kA(y)&&g!=="_self")return i2(e||"",g),new u0(null);const w=window.open(e||"",g,E);we(w,r,"popup-blocked");try{w.focus()}catch{}return new u0(w)}function i2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const s2="__/auth/handler",r2="emulator/auth/handler",a2=encodeURIComponent("fac");async function c0(r,e,i,a,o,c){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:gl,eventId:o};if(e instanceof $v){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",sS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(e instanceof Xo){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const v=await r._getAppCheckToken(),y=v?`#${a2}=${encodeURIComponent(v)}`:"";return`${l2(r)}?${Qo(g).slice(1)}${y}`}function l2({config:r}){return r.emulator?Rm(r,r2):`https://${r.authDomain}/${s2}`}const Fd="webStorageSupport";class o2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tb,this._completeRedirectFn=Ow,this._overrideRedirectResult=Cw}async _openPopup(e,i,a,o){ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await c0(e,i,a,nm(),o);return n2(e,c,Dm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await c0(e,i,a,nm(),o);return hw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ms(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await $w(e),a=new Vw(e);return i.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Fd,{type:Fd},o=>{const c=o?.[0]?.[Fd];c!==void 0&&i(!!c),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Pw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Kv()||zv()||Cm()}}const u2=o2;var h0="@firebase/auth",f0="1.12.0";class c2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function h2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f2(r){al(new ea("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qv(r)},y=new qA(a,o,c,v);return QA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),al(new ea("auth-internal",e=>{const i=yh(e.getProvider("auth").getImmediate());return(a=>new c2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(h0,f0,h2(r)),sr(h0,f0,"esm2020")}const d2=300,m2=Tv("authIdTokenMaxAge")||d2;let d0=null;const p2=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>m2)return;const o=i?.token;d0!==o&&(d0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function g2(r=Rv()){const e=wm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=KA(r,{popupRedirectResolver:u2,persistence:[bw,ow,tb]}),a=Tv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=p2(c.toString());sw(i,d,()=>d(i.currentUser)),iw(i,g=>d(g))}}const o=vv("auth");return o&&YA(i,`http://${o}`),i}function y2(){return document.getElementsByTagName("head")?.[0]??document}BA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=Ui("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",y2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f2("Browser");var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,ob;(function(){var r;function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(I,D,j){for(var x=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)x[Je-2]=arguments[Je];return A.prototype[D].apply(I,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);const I=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)I[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;D<16;++D)I[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],D=N.g[2];let j=N.g[3],x;x=A+(j^R&(D^j))+I[0]+3614090360&4294967295,A=R+(x<<7&4294967295|x>>>25),x=j+(D^A&(R^D))+I[1]+3905402710&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(R^j&(A^R))+I[2]+606105819&4294967295,D=j+(x<<17&4294967295|x>>>15),x=R+(A^D&(j^A))+I[3]+3250441966&4294967295,R=D+(x<<22&4294967295|x>>>10),x=A+(j^R&(D^j))+I[4]+4118548399&4294967295,A=R+(x<<7&4294967295|x>>>25),x=j+(D^A&(R^D))+I[5]+1200080426&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(R^j&(A^R))+I[6]+2821735955&4294967295,D=j+(x<<17&4294967295|x>>>15),x=R+(A^D&(j^A))+I[7]+4249261313&4294967295,R=D+(x<<22&4294967295|x>>>10),x=A+(j^R&(D^j))+I[8]+1770035416&4294967295,A=R+(x<<7&4294967295|x>>>25),x=j+(D^A&(R^D))+I[9]+2336552879&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(R^j&(A^R))+I[10]+4294925233&4294967295,D=j+(x<<17&4294967295|x>>>15),x=R+(A^D&(j^A))+I[11]+2304563134&4294967295,R=D+(x<<22&4294967295|x>>>10),x=A+(j^R&(D^j))+I[12]+1804603682&4294967295,A=R+(x<<7&4294967295|x>>>25),x=j+(D^A&(R^D))+I[13]+4254626195&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(R^j&(A^R))+I[14]+2792965006&4294967295,D=j+(x<<17&4294967295|x>>>15),x=R+(A^D&(j^A))+I[15]+1236535329&4294967295,R=D+(x<<22&4294967295|x>>>10),x=A+(D^j&(R^D))+I[1]+4129170786&4294967295,A=R+(x<<5&4294967295|x>>>27),x=j+(R^D&(A^R))+I[6]+3225465664&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^R&(j^A))+I[11]+643717713&4294967295,D=j+(x<<14&4294967295|x>>>18),x=R+(j^A&(D^j))+I[0]+3921069994&4294967295,R=D+(x<<20&4294967295|x>>>12),x=A+(D^j&(R^D))+I[5]+3593408605&4294967295,A=R+(x<<5&4294967295|x>>>27),x=j+(R^D&(A^R))+I[10]+38016083&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^R&(j^A))+I[15]+3634488961&4294967295,D=j+(x<<14&4294967295|x>>>18),x=R+(j^A&(D^j))+I[4]+3889429448&4294967295,R=D+(x<<20&4294967295|x>>>12),x=A+(D^j&(R^D))+I[9]+568446438&4294967295,A=R+(x<<5&4294967295|x>>>27),x=j+(R^D&(A^R))+I[14]+3275163606&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^R&(j^A))+I[3]+4107603335&4294967295,D=j+(x<<14&4294967295|x>>>18),x=R+(j^A&(D^j))+I[8]+1163531501&4294967295,R=D+(x<<20&4294967295|x>>>12),x=A+(D^j&(R^D))+I[13]+2850285829&4294967295,A=R+(x<<5&4294967295|x>>>27),x=j+(R^D&(A^R))+I[2]+4243563512&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^R&(j^A))+I[7]+1735328473&4294967295,D=j+(x<<14&4294967295|x>>>18),x=R+(j^A&(D^j))+I[12]+2368359562&4294967295,R=D+(x<<20&4294967295|x>>>12),x=A+(R^D^j)+I[5]+4294588738&4294967295,A=R+(x<<4&4294967295|x>>>28),x=j+(A^R^D)+I[8]+2272392833&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^R)+I[11]+1839030562&4294967295,D=j+(x<<16&4294967295|x>>>16),x=R+(D^j^A)+I[14]+4259657740&4294967295,R=D+(x<<23&4294967295|x>>>9),x=A+(R^D^j)+I[1]+2763975236&4294967295,A=R+(x<<4&4294967295|x>>>28),x=j+(A^R^D)+I[4]+1272893353&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^R)+I[7]+4139469664&4294967295,D=j+(x<<16&4294967295|x>>>16),x=R+(D^j^A)+I[10]+3200236656&4294967295,R=D+(x<<23&4294967295|x>>>9),x=A+(R^D^j)+I[13]+681279174&4294967295,A=R+(x<<4&4294967295|x>>>28),x=j+(A^R^D)+I[0]+3936430074&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^R)+I[3]+3572445317&4294967295,D=j+(x<<16&4294967295|x>>>16),x=R+(D^j^A)+I[6]+76029189&4294967295,R=D+(x<<23&4294967295|x>>>9),x=A+(R^D^j)+I[9]+3654602809&4294967295,A=R+(x<<4&4294967295|x>>>28),x=j+(A^R^D)+I[12]+3873151461&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^R)+I[15]+530742520&4294967295,D=j+(x<<16&4294967295|x>>>16),x=R+(D^j^A)+I[2]+3299628645&4294967295,R=D+(x<<23&4294967295|x>>>9),x=A+(D^(R|~j))+I[0]+4096336452&4294967295,A=R+(x<<6&4294967295|x>>>26),x=j+(R^(A|~D))+I[7]+1126891415&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~R))+I[14]+2878612391&4294967295,D=j+(x<<15&4294967295|x>>>17),x=R+(j^(D|~A))+I[5]+4237533241&4294967295,R=D+(x<<21&4294967295|x>>>11),x=A+(D^(R|~j))+I[12]+1700485571&4294967295,A=R+(x<<6&4294967295|x>>>26),x=j+(R^(A|~D))+I[3]+2399980690&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~R))+I[10]+4293915773&4294967295,D=j+(x<<15&4294967295|x>>>17),x=R+(j^(D|~A))+I[1]+2240044497&4294967295,R=D+(x<<21&4294967295|x>>>11),x=A+(D^(R|~j))+I[8]+1873313359&4294967295,A=R+(x<<6&4294967295|x>>>26),x=j+(R^(A|~D))+I[15]+4264355552&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~R))+I[6]+2734768916&4294967295,D=j+(x<<15&4294967295|x>>>17),x=R+(j^(D|~A))+I[13]+1309151649&4294967295,R=D+(x<<21&4294967295|x>>>11),x=A+(D^(R|~j))+I[4]+4149444226&4294967295,A=R+(x<<6&4294967295|x>>>26),x=j+(R^(A|~D))+I[11]+3174756917&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~R))+I[2]+718787259&4294967295,D=j+(x<<15&4294967295|x>>>17),x=R+(j^(D|~A))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,I=this.C;let D=this.h,j=0;for(;j<A;){if(D==0)for(;j<=R;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(I[D++]=N.charCodeAt(j++),D==this.blockSize){o(this,I),D=0;break}}else for(;j<A;)if(I[D++]=N[j++],D==this.blockSize){o(this,I),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)N[A++]=this.g[R]>>>I&255;return N};function c(N,A){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function d(N,A){this.h=A;const R=[];let I=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;I&&j==A||(R[D]=j,I=!1)}this.g=R}var g={};function v(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return W(y(-N));const A=[];let R=1;for(let I=0;N>=R;I++)A[I]=N/R|0,R*=4294967296;return new d(A,0)}function E(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return W(E(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let I=w;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const x=parseInt(N.substring(j,j+D),A);D<8?(D=y(Math.pow(A,D)),I=I.j(D).add(y(x))):(I=I.j(R),I=I.add(y(x)))}return I}var w=v(0),M=v(1),z=v(16777216);r=d.prototype,r.m=function(){if(ee(this))return-W(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);N+=(I>=0?I:4294967296+I)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(ee(this))return"-"+W(this).toString(N);const A=y(Math.pow(N,6));var R=this;let I="";for(;;){const D=Ee(R,A).g;R=fe(R,D.j(A));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,$(R))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function ee(N){return N.h==-1}r.l=function(N){return N=fe(this,N),ee(N)?-1:$(N)?0:1};function W(N){const A=N.g.length,R=[];for(let I=0;I<A;I++)R[I]=~N.g[I];return new d(R,~N.h).add(M)}r.abs=function(){return ee(this)?W(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let I=0;for(let D=0;D<=A;D++){let j=I+(this.i(D)&65535)+(N.i(D)&65535),x=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);I=x>>>16,j&=65535,x&=65535,R[D]=x<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function fe(N,A){return N.add(W(A))}r.j=function(N){if($(this)||$(N))return w;if(ee(this))return ee(N)?W(this).j(W(N)):W(W(this).j(N));if(ee(N))return W(this.j(W(N)));if(this.l(z)<0&&N.l(z)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var I=0;I<2*A;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<N.g.length;D++){const j=this.i(I)>>>16,x=this.i(I)&65535,Je=N.i(D)>>>16,ht=N.i(D)&65535;R[2*I+2*D]+=x*ht,Z(R,2*I+2*D),R[2*I+2*D+1]+=j*ht,Z(R,2*I+2*D+1),R[2*I+2*D+1]+=x*Je,Z(R,2*I+2*D+1),R[2*I+2*D+2]+=j*Je,Z(R,2*I+2*D+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new d(R,0)};function Z(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function oe(N,A){this.g=N,this.h=A}function Ee(N,A){if($(A))throw Error("division by zero");if($(N))return new oe(w,w);if(ee(N))return A=Ee(W(N),A),new oe(W(A.g),W(A.h));if(ee(A))return A=Ee(N,W(A)),new oe(W(A.g),A.h);if(N.g.length>30){if(ee(N)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var R=M,I=A;I.l(N)<=0;)R=se(R),I=se(I);var D=ue(R,1),j=ue(I,1);for(I=ue(I,2),R=ue(R,2);!$(I);){var x=j.add(I);x.l(N)<=0&&(D=D.add(R),j=x),I=ue(I,1),R=ue(R,1)}return A=fe(N,D.j(A)),new oe(D,A)}for(D=w;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=y(R),x=j.j(A);ee(x)||x.l(N)>0;)R-=I,j=y(R),x=j.j(A);$(j)&&(j=M),D=D.add(j),N=fe(N,x)}return new oe(D,N)}r.B=function(N){return Ee(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<A;I++)R[I]=this.i(I)&N.i(I);return new d(R,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<A;I++)R[I]=this.i(I)|N.i(I);return new d(R,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<A;I++)R[I]=this.i(I)^N.i(I);return new d(R,this.h^N.h)};function se(N){const A=N.g.length+1,R=[];for(let I=0;I<A;I++)R[I]=N.i(I)<<1|N.i(I-1)>>>31;return new d(R,N.h)}function ue(N,A){const R=A>>5;A%=32;const I=N.g.length-R,D=[];for(let j=0;j<I;j++)D[j]=A>0?N.i(j+R)>>>A|N.i(j+R+1)<<32-A:N.i(j+R);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,ob=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,ar=d}).apply(typeof m0<"u"?m0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ub,Ro,cb,zc,rm,hb,fb,db;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var b=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in b))break e;b=b[U]}u=u[u.length-1],S=b[u],m=m(S),m!=S&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&b.push([S,m[S]]);return b}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function y(u,m,b){return y=v,y.apply(null,arguments)}function E(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,U,B){for(var te=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)te[Oe-2]=arguments[Oe];return m.prototype[U].apply(S,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const m=u.length;if(m>0){const b=Array(m);for(let S=0;S<m;S++)b[S]=u[S];return b}return[]}function $(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const B=U.length||0;u.length=b+B;for(let te=0;te<B;te++)u[b+te]=U[te]}else u.push(U)}}class ee{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function fe(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Z{constructor(){this.h=this.g=null}add(m,b){const S=oe.get();S.set(m,b),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new ee(()=>new Ee,u=>u.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ue=!1,N=new Z,A=()=>{const u=Promise.resolve(void 0);se=()=>{u.then(R)}};function R(){for(var u;u=fe();){try{u.h.call(u.g)}catch(b){W(b)}var m=oe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ue=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Je(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Je,D),Je.prototype.init=function(u,m){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Je.Z.h.call(this)},Je.prototype.h=function(){Je.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),F=0;function ne(u,m,b,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!S,this.ha=U,this.key=++F,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Fe(u,m,b){for(const S in u)m.call(b,u[S],S,u)}function Xe(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function V(u){const m={};for(const b in u)m[b]=u[b];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let b,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(b in S)u[b]=S[b];for(let B=0;B<Q.length;B++)b=Q[B],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,b,S,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Ie(u,m,S,U);return te>-1?(m=u[te],b||(m.fa=!1)):(m=new ne(m,this.src,B,!!S,U),m.fa=b,u.push(m)),m};function Ae(u,m){const b=m.type;if(b in u.g){var S=u.g[b],U=Array.prototype.indexOf.call(S,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(S,U,1),B&&(ge(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ie(u,m,b,S){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!b&&B.ha==S)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),yt={};function lt(u,m,b,S,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)lt(u,m[B],b,S,U);return null}return b=an(b),u&&u[ht]?u.J(m,b,g(S)?!!S.capture:!1,U):di(u,m,b,!1,S,U)}function di(u,m,b,S,U,B){if(!m)throw Error("Invalid event type");const te=g(U)?!!U.capture:!!U;let Oe=Re(u);if(Oe||(u[Le]=Oe=new ae(u)),b=Oe.add(m,b,S,te,B),b.proxy)return b;if(S=re(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)j||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(ke(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function re(){function u(b){return m.call(u.src,u.listener,b)}const m=ft;return u}function ve(u,m,b,S,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)ve(u,m[B],b,S,U);else S=g(S)?!!S.capture:!!S,b=an(b),u&&u[ht]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],b=Ie(m,b,S,U),b>-1&&(ge(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Re(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ie(m,b,S,U)),(b=u>-1?m[u]:null)&&De(b))}function De(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ht])Ae(m.i,u);else{var b=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(b,S,u.capture):m.detachEvent?m.detachEvent(ke(b),S):m.addListener&&m.removeListener&&m.removeListener(S),(b=Re(m))?(Ae(b,u),b.h==0&&(b.src=null,m[Le]=null)):ge(u)}}}function ke(u){return u in yt?yt[u]:yt[u]="on"+u}function ft(u,m){if(u.da)u=!0;else{m=new Je(m,this);const b=u.listener,S=u.ha||u.src;u.fa&&De(u),u=b.call(S,m)}return u}function Re(u){return u=u[Le],u instanceof ae?u:null}var _t="__closure_events_fn_"+(Math.random()*1e9>>>0);function an(u){return typeof u=="function"?u:(u[_t]||(u[_t]=function(m){return u.handleEvent(m)}),u[_t])}function he(){I.call(this),this.i=new ae(this),this.M=this,this.G=null}w(he,I),he.prototype[ht]=!0,he.prototype.removeEventListener=function(u,m,b,S){ve(this,u,m,b,S)};function ye(u,m){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(S,u),ie(m,U)}U=!0;let B,te;if(b)for(te=b.length-1;te>=0;te--)B=m.g=b[te],U=xt(B,S,!0,m)&&U;if(B=m.g=u,U=xt(B,S,!0,m)&&U,U=xt(B,S,!1,m)&&U,b)for(te=0;te<b.length;te++)B=m.g=b[te],U=xt(B,S,!1,m)&&U}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let S=0;S<b.length;S++)ge(b[S]);delete u.g[m],u.h--}}this.G=null},he.prototype.J=function(u,m,b,S){return this.i.add(String(u),m,!1,b,S)},he.prototype.K=function(u,m,b,S){return this.i.add(String(u),m,!0,b,S)};function xt(u,m,b,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==b){const Oe=te.listener,Nt=te.ha||te.src;te.fa&&Ae(u.i,te),U=Oe.call(Nt,S)!==!1&&U}}return U&&!S.defaultPrevented}function El(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function gr(u){u.g=El(()=>{u.g=null,u.i&&(u.i=!1,gr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class fn extends I{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(u){I.call(this),this.h=u,this.g={}}w(yr,I);var Sl=[];function Al(u){Fe(u.g,function(m,b){this.g.hasOwnProperty(b)&&De(m)},u),u.g={}}yr.prototype.N=function(){yr.Z.N.call(this),Al(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Vh=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){D.call(this,"d")}w($t,D);function kn(){D.call(this,"c")}w(kn,D);var Rt={},ru=null;function oa(){return ru=ru||new he}Rt.Ia="serverreachability";function au(u){D.call(this,Rt.Ia,u)}w(au,D);function mi(u){const m=oa();ye(m,new au(m))}Rt.STAT_EVENT="statevent";function _r(u,m){D.call(this,Rt.STAT_EVENT,u),this.stat=m}w(_r,D);function Ot(u){const m=oa();ye(m,new _r(m,u))}Rt.Ja="timingevent";function pi(u,m){D.call(this,Rt.Ja,u),this.size=m}w(pi,D);function gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function kh(u,m,b,S,U,B){u.info(function(){if(u.g)if(B){var te="",Oe=B.split("&");for(let $e=0;$e<Oe.length;$e++){var Nt=Oe[$e].split("=");if(Nt.length>1){const vt=Nt[0];Nt=Nt[1];const Pn=vt.split("_");te=Pn.length>=2&&Pn[1]=="type"?te+(vt+"="+Nt+"&"):te+(vt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+b+`
`+te})}function lu(u,m,b,S,U,B,te){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+b+`
`+B+" "+te})}function yi(u,m,b,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,b)+(S?" "+S:"")})}function vr(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<S.length;te++)S[te]=""}}}}return _s(B)}catch{return m}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xl;function Tr(){}w(Tr,iu),Tr.prototype.g=function(){return new XMLHttpRequest},xl=new Tr;function Gi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function Jn(u,m,b,S){this.j=u,this.i=m,this.l=b,this.S=S||1,this.V=new yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Mt={},Kt={};function _i(u,m,b){u.M=1,u.A=Er(kt(m)),u.u=b,u.R=!0,ua(u,null)}function ua(u,m){u.F=Date.now(),vi(u),u.B=kt(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),da(b.i,"t",S),u.C=0,b=u.j.L,u.h=new Wn,u.g=Su(u.j,b?m:null,!u.u),u.P>0&&(u.O=new fn(y(u.Y,u,u.g),u.P)),m=u.V,b=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Sl[0]=U.toString()),U=Sl);for(let B=0;B<U.length;B++){const te=lt(b,U[B],S||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),mi(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=ni(this.g),Nt=this.g.ya(),$e=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Oe!=4||Nt==7||(Nt==8||$e<=0?mi(3):mi(2)),bi(this);var m=this.g.ca();this.X=m;var b=Uh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var B=S;break t}}B=null}if(u=B)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,Ot(12),wn(this),jn(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<b.length;)if(vt=cu(this,b),vt==Kt){Oe==4&&(this.m=4,Ot(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Mt){this.m=4,Ot(15),yi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,vt,null),Ti(this,vt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||b.length!=0||this.h.h||(this.m=1,Ot(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,b,"[Invalid Chunked Response]"),wn(this),jn(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),ql(te),te.P=!0,Ot(11))}}else yi(this.i,this.l,b,null),Ti(this,b);Oe==4&&wn(this),this.o&&!this.K&&(Oe==4?vu(this.j,this):(this.o=!1,vi(this)))}else Qi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),wn(this),jn(this)}}}catch{}};function Uh(u){if(!uu(u))return u.g.la();const m=Zt(u.g);if(m==="")return"";let b="";const S=m.length,U=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),jn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,b+=u.h.i.decode(m[B],{stream:!(U&&B==S-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var b=u.C,S=m.indexOf(`
`,b);return S==-1?Kt:(b=Number(m.substring(b,S)),isNaN(b)?Mt:(S+=1,S+b>m.length?Kt:(m=m.slice(S,S+b),u.C=S+b,m)))}Jn.prototype.cancel=function(){this.K=!0,wn(this)};function vi(u){u.T=Date.now()+u.H,ca(u,u.H)}function ca(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(y(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(vr(this.i,this.B),this.M!=2&&(mi(),Ot(17)),wn(this),this.m=2,jn(this)):ca(this,this.T-u)};function jn(u){u.j.I==0||u.K||vu(u.j,u)}function wn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Al(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ti(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Si(b.h,u))){if(!u.L&&Si(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)_a(b),xs(b);else break e;Cr(b),Ot(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=gi(y(b.Va,b),6e3));Ei(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ci(b,11)}else if((u.L||b.g==u)&&_a(b),!x(m))for(U=b.Ba.g.parse(m),m=0;m<U.length;m++){let $e=U[m];const vt=$e[0];if(!(vt<=b.K))if(b.K=vt,$e=$e[1],b.I==2)if($e[0]=="c"){b.M=$e[1],b.ba=$e[2];const Pn=$e[3];Pn!=null&&(b.ka=Pn,b.j.info("VER="+b.ka));const Ii=$e[4];Ii!=null&&(b.za=Ii,b.j.info("SVER="+b.za));const ii=$e[5];ii!=null&&typeof ii=="number"&&ii>0&&(S=1.5*ii,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const si=u.g;if(si){const Ir=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var B=S.h;B.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Cl(B,B.h),B.h=null))}if(S.G){const va=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(S.wa=va,et(S.J,S.G,va))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var te=u;if(S.na=Eu(S,S.L?S.ba:null,S.W),te.L){Il(S.h,te);var Oe=te,Nt=S.O;Nt&&(Oe.H=Nt),Oe.D&&(bi(Oe),vi(Oe)),S.g=te}else yu(S);b.i.length>0&&Ni(b)}else $e[0]!="stop"&&$e[0]!="close"||Ci(b,7);else b.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ci(b,7):Pl(b):$e[0]!="noop"&&b.l&&b.l.qa($e),b.A=0)}}mi(4)}catch{}}var Vt=class{constructor(u,m){this.g=u,this.map=m}};function Rl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ei(u){return u.h?1:u.g?u.g.size:0}function Si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Cl(u,m){u.g?u.g.add(m):u.h=m}function Il(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Rl.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Dl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return z(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let U,B=null;S>=0?(U=u[b].substring(0,S),B=u[b].substring(S+1)):U=u[b],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function xn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof xn?(this.l=u.l,Qt(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,Ol(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Qt(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),vs(this,m[4]),this.h=Ai(m[5]||"",!0),Ol(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}xn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Sr(m,fa,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Sr(m,fa,!0),"@"),u.push(Gi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Sr(b,b.charAt(0)=="/"?Ml:fu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Sr(b,du)),u.join("")},xn.prototype.resolve=function(u){const m=kt(this);let b=!!u.j;b?Qt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var S=u.h;if(b)vs(m,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let te=0;te<U.length;){const Oe=U[te++];Oe=="."?S&&te==U.length&&B.push(""):Oe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&te==U.length&&B.push("")):(B.push(Oe),S=!0)}S=B.join("/")}else S=U}return b?m.h=S:b=u.i.toString()!=="",b?Ol(m,pu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function kt(u){return new xn(u)}function Qt(u,m,b){u.j=b?Ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ol(u,m,b){m instanceof Ts?(u.i=m,ma(u.i,u.l)):(b||(m=Sr(m,bs)),u.i=new Ts(m,u.l))}function et(u,m,b){u.i.set(m,b)}function Er(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fa=/[#\/\?@]/g,fu=/[#\?:]/g,Ml=/[#\?]/g,bs=/[#\?@]/g,du=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&ha(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}r=Ts.prototype,r.add=function(u,m){gn(this),this.i=null,u=Es(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function mu(u,m){gn(u),m=Es(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vl(u,m){return gn(u),m=Es(u,m),u.g.has(m)}r.forEach=function(u,m){gn(this),this.g.forEach(function(b,S){b.forEach(function(U){u.call(m,U,S,this)},this)},this)};function kl(u,m){gn(u);let b=[];if(typeof m=="string")Vl(u,m)&&(b=b.concat(u.g.get(Es(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}r.set=function(u,m){return gn(this),this.i=null,u=Es(this,u),Vl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=kl(this,u),u.length>0?String(u[0]):m):m};function da(u,m,b){mu(u,m),b.length>0&&(u.i=null,u.g.set(Es(u,m),z(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var b=m[S];const U=Gi(b);b=kl(this,b);for(let B=0;B<b.length;B++){let te=U;b[B]!==""&&(te+="="+Gi(b[B])),u.push(te)}}return this.i=u.join("&")};function pu(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Es(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ma(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(b,S){const U=S.toLowerCase();S!=U&&(mu(this,S),da(this,U,b))},u)),u.j=m}function ei(u,m){const b=new Zn;if(d.Image){const S=new Image;S.onload=E(Un,b,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Un,b,"TestLoadImage: error",!1,m,S),S.onabort=E(Un,b,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Un,b,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function jl(u,m){const b=new Zn,S=new AbortController,U=setTimeout(()=>{S.abort(),Un(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(U),B.ok?Un(b,"TestPingServer: ok",!0,m):Un(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Un(b,"TestPingServer: error",!1,m)})}function Un(u,m,b,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(b)}catch{}}function Ss(){this.g=new nu}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(wi,iu),wi.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(u,m){he.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ar,he),r=Ar.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?As(this):ti(this),this.readyState==3&&pa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,As(this))},r.Na=function(u){this.g&&(this.response=u,As(this))},r.ga=function(){this.g&&As(this)};function As(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let m="";return Fe(u,function(b,S){m+=S,m+=":",m+=b,m+=`\r
`}),m}function wr(u,m,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Ln(b),typeof u=="string"?b!=null&&Gi(b):et(u,m,b))}function it(u){he.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(it,he);var xi=/^https?$/i,Ul=["POST","PUT"];r=it.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){xr(this,B);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)b.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())b.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ul,m,void 0)>=0)||S||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of b)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){xr(this,B)}};function xr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ll(u),Ki(u)}function Ll(u){u.A||(u.A=!0,ye(u,"complete"),ye(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ye(this,"complete"),ye(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),it.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},r.Xa=function(){Rr(this)};function Rr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(ye(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var S;if(S=B===0){let te=String(u.D).match(hu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),S=!xi.test(te?te.toLowerCase():"")}b=S}if(b)ye(u,"complete"),ye(u,"success");else{u.o=6;try{var U=ni(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ll(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||ye(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vh(m)}};function Zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var b=ou(u[S]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=m[U]||[];m[U]=B,B.push(b)}Xe(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Rl(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ws.prototype,r.ka=8,r.I=1,r.connect=function(u,m,b,S){Ot(0),this.W=u,this.H=m||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Eu(this,null,this.W),Ni(this)};function Pl(u){if(ga(u),u.I==3){var m=u.V++,b=kt(u.J);if(et(b,"SID",u.M),et(b,"RID",m),et(b,"TYPE","terminate"),Nr(u,b),m=new Jn(u,u.j,m),m.M=2,m.A=Er(kt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}Tu(u)}function xs(u){u.g&&(ql(u),u.g.cancel(),u.g=null)}function ga(u){xs(u),u.v&&(d.clearTimeout(u.v),u.v=null),_a(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!Nl(u.h)&&!u.m){u.m=!0;var m=u.Ea;se||A(),ue||(se(),ue=!0),N.add(m,u),u.D=0}}function ya(u,m){return Ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(y(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=gu(this,U,m),b=kt(this.J),et(b,"RID",u),et(b,"CVER",22),this.G&&et(b,"X-HTTP-Session-Id",this.G),Nr(this,b),B&&(this.R?m="headers="+Gi(Ln(B))+"&"+m:this.u&&wr(b,this.u,B)),Cl(this.h,U),this.Ra&&et(b,"TYPE","init"),this.S?(et(b,"$req",m),et(b,"SID","null"),U.U=!0,_i(U,b,null)):_i(U,b,m),this.I=2}}else this.I==3&&(u?zl(this,u):this.i.length==0||Nl(this.h)||zl(this))};function zl(u,m){var b;m?b=m.l:b=u.V++;const S=kt(u.J);et(S,"SID",u.M),et(S,"RID",b),et(S,"AID",u.K),Nr(u,S),u.u&&u.o&&wr(S,u.u,u.o),b=new Jn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Cl(u.h,b),_i(b,S,m)}function Nr(u,m){u.H&&Fe(u.H,function(b,S){et(m,S,b)}),u.l&&Fe({},function(b,S){et(m,S,b)})}function gu(u,m,b){b=Math.min(u.i.length,b);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Oe=-1;for(;;){const Nt=["count="+b];Oe==-1?b>0?(Oe=U[0].g,Nt.push("ofs="+Oe)):Oe=0:Nt.push("ofs="+Oe);let $e=!0;for(let vt=0;vt<b;vt++){var B=U[vt].g;const Pn=U[vt].map;if(B-=Oe,B<0)Oe=Math.max(0,U[vt].g-100),$e=!1;else try{B="req"+B+"_"||"";try{var te=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ii,ii]of te){let si=ii;g(ii)&&(si=_s(ii)),Nt.push(B+Ii+"="+encodeURIComponent(si))}}catch(Ii){throw Nt.push(B+"type="+encodeURIComponent("_badmap")),Ii}}catch{S&&S(Pn)}}if($e){te=Nt.join("&");break e}}te=void 0}return u=u.i.splice(0,b),m.G=u,te}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;se||A(),ue||(se(),ue=!0),N.add(m,u),u.A=0}}function Cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(y(u.Da,u),bu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),xs(this),_u(this))};function ql(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=kt(u.na);et(m,"RID","rpc"),et(m,"SID",u.M),et(m,"AID",u.K),et(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(m,"TO",u.ia),et(m,"TYPE","xmlhttp"),Nr(u,m),u.u&&u.o&&wr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Er(kt(m)),b.u=null,b.R=!0,ua(b,u)}r.Va=function(){this.C!=null&&(this.C=null,xs(this),Cr(this),Ot(19))};function _a(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var b=null;if(u.g==m){_a(u),ql(u),u.g=null;var S=2}else if(Si(u.h,m))b=m.G,Il(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=oa(),ye(S,new pi(S,b)),Ni(u)}else yu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&ya(u,m)||S==2&&Cr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),U){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function bu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var b=y(u.bb,u),S=u.Ua;const U=!S;S=new xn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(S,"https"),Er(S),U?ei(S.toString(),b):jl(S.toString(),b)}else Ot(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ga(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Dl(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,b){var S=b instanceof xn?kt(b):new xn(b);if(S.g!="")m&&(S.g=m+"."+S.g),vs(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new xn(null);S&&Qt(B,S),m&&(B.g=m),U&&vs(B,U),b&&(B.h=b),S=B}return b=u.G,m=u.wa,b&&m&&et(S,b,m),et(S,"VER",u.ka),Nr(u,S),S}function Su(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new wi({ab:b})):new it(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rs(){}Rs.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){he.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yi(this)}w(dn,he),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Pl(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=_s(u),u=b);m.i.push(new Vt(m.Ya++,u)),m.I==3&&Ni(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,dn.Z.N.call(this)};function wu(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(wu,$t);function xu(){kn.call(this),this.status=1}w(xu,kn);function Yi(u){this.g=u}w(Yi,Au),Yi.prototype.ra=function(){ye(this.g,"a")},Yi.prototype.qa=function(u){ye(this.g,new wu(u))},Yi.prototype.pa=function(u){ye(this.g,new xu)},Yi.prototype.oa=function(){ye(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,db=function(){return new Rs},fb=function(){return oa()},hb=Rt,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,zc=br,wl.COMPLETE="complete",cb=wl,su.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",he.prototype.listen=he.prototype.J,Ro=su,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,ub=it}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const p0="@firebase/firestore",g0="4.9.3";let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let _l="12.7.0";const na=new Sm("@firebase/firestore");function $a(){return na.logLevel}function le(r,...e){if(na.logLevel<=qe.DEBUG){const i=e.map(Mm);na.debug(`Firestore (${_l}): ${r}`,...i)}}function ps(r,...e){if(na.logLevel<=qe.ERROR){const i=e.map(Mm);na.error(`Firestore (${_l}): ${r}`,...i)}}function ll(r,...e){if(na.logLevel<=qe.WARN){const i=e.map(Mm);na.warn(`Firestore (${_l}): ${r}`,...i)}}function Mm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Se(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,mb(r,a,i)}function mb(r,e,i){let a=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ps(a),new Error(a)}function We(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||mb(e,o,a)}function Ce(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class pb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class v2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class b2{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){We(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new pb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class T2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new T2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){We(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(We(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new y0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function A2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=A2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Be(r,e){return r<e?-1:r>e?1:0}function am(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return Gd(o)===Gd(c)?Be(o,c):Gd(o)?1:-1}return Be(r.length,e.length)}const w2=55296,x2=57343;function Gd(r){const e=r.charCodeAt(0);return e>=w2&&e<=x2}function ol(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const _0="__name__";class ki{constructor(e,i,a){i===void 0?i=0:i>e.length&&Se(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Se(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=ki.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const a=ki.isNumericId(e),o=ki.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ki.extractNumericId(e).compare(ki.extractNumericId(i)):am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}}class pt extends ki{construct(e,i,a){return new pt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new pt(i)}static emptyPath(){return new pt([])}}const R2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends ki{construct(e,i,a){return new sn(e,i,a)}static isValidIdentifier(e){return R2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new sn([_0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(pt.fromString(e))}static fromName(e){return new be(pt.fromString(e).popFirst(5))}static empty(){return new be(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return pt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new pt(e.slice()))}}function gb(r,e,i){if(!i)throw new pe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function N2(r,e,i,a){if(e===!0&&a===!0)throw new pe(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function v0(r){if(!be.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function b0(r){if(be.isDocumentKey(r))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function yb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function lr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(r);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function qt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Zo(r,e){if(!yb(r))throw new pe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new pe(J.INVALID_ARGUMENT,i);return!0}const T0=-62135596800,E0=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*E0);return new gt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<T0)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zo(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-T0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:qt("string",gt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new gt(0,0))}static max(){return new xe(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Po=-1;function C2(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(a===1e9?new gt(i+1,0):new gt(i,a));return new cr(o,be.empty(),e)}function I2(r){return new cr(r.readTime,r.key,Po)}class cr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new cr(xe.min(),be.empty(),Po)}static max(){return new cr(xe.max(),be.empty(),Po)}}function D2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=be.comparator(r.documentKey,e.documentKey),i!==0?i:Be(r.largestBatchId,e.largestBatchId))}const O2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==O2)throw r;le("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(e[y]).next((E=>{d[y]=E,++g,g===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function V2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bl(r){return r.name==="IndexedDbTransactionError"}class bh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;const jm=-1;function Th(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function k2(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const _b="";function j2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=S0(e)),e=U2(r.get(i),e);return S0(e)}function U2(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case _b:i+="";break;default:i+=c}}return i}function S0(r){return r+_b+""}function A0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function sa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function vb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??nn.RED,this.left=o??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new nn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Gt(this.comparator);return i.data=e,i}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hi{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new hi([])}unionWith(e){let i=new Gt(sn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new hi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bb("Invalid base64 string: "+c):c}})(e);return new rn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const L2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(r){if(We(!!r,39018),typeof r=="string"){let e=0;const i=L2.exec(r);if(We(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Dt(r.seconds),nanos:Dt(r.nanos)}}function Dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fr(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}const Tb="server_timestamp",Eb="__type__",Sb="__previous_value__",Ab="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[Eb]?.stringValue===Tb}function Eh(r){const e=r.mapValue.fields[Sb];return Um(e)?Eh(e):e}function zo(r){const e=hr(r.mapValue.fields[Ab].timestampValue);return new gt(e.seconds,e.nanos)}class P2{constructor(e,i,a,o,c,d,g,v,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=E}}const th="(default)";class qo{constructor(e,i){this.projectId=e,this.database=i||th}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}const wb="__type__",z2="__max__",Mc={mapValue:{}},xb="__vector__",nh="value";function dr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:B2(r)?9007199254740991:q2(r)?10:11:Se(28295,{value:r})}function Hi(r,e){if(r===e)return!0;const i=dr(r);if(i!==dr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zo(r).isEqual(zo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=hr(o.timestampValue),g=hr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return fr(o.bytesValue).isEqual(fr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Dt(o.geoPointValue.latitude)===Dt(c.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Dt(o.integerValue)===Dt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Dt(o.doubleValue),g=Dt(c.doubleValue);return d===g?eh(d)===eh(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return ol(r.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(A0(d)!==A0(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Hi(d[v],g[v])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function Bo(r,e){return(r.values||[]).find((i=>Hi(i,e)))!==void 0}function ul(r,e){if(r===e)return 0;const i=dr(r),a=dr(e);if(i!==a)return Be(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Dt(c.integerValue||c.doubleValue),v=Dt(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,e);case 3:return x0(r.timestampValue,e.timestampValue);case 4:return x0(zo(r),zo(e));case 5:return am(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=fr(c),v=fr(d);return g.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const E=Be(g[y],v[y]);if(E!==0)return E}return Be(g.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Be(Dt(c.latitude),Dt(d.latitude));return g!==0?g:Be(Dt(c.longitude),Dt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return R0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[nh]?.arrayValue,E=v[nh]?.arrayValue,w=Be(y?.values?.length||0,E?.values?.length||0);return w!==0?w:R0(y,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},E=Object.keys(y);v.sort(),E.sort();for(let w=0;w<v.length&&w<E.length;++w){const M=am(v[w],E[w]);if(M!==0)return M;const z=ul(g[v[w]],y[E[w]]);if(z!==0)return z}return Be(v.length,E.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:i})}}function x0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const i=hr(r),a=hr(e),o=Be(i.seconds,a.seconds);return o!==0?o:Be(i.nanos,a.nanos)}function R0(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=ul(i[o],a[o]);if(c)return c}return Be(i.length,a.length)}function cl(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=hr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return fr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return be.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=lm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${lm(i.fields[d])}`;return o+"}"})(r.mapValue):Se(61005,{value:r})}function qc(r){switch(dr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(r);return e?16+qc(e):16;case 5:return 2*r.stringValue.length;case 6:return fr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return sa(a.fields,((c,d)=>{o+=c.length+qc(d)})),o})(r.mapValue);default:throw Se(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function Lm(r){return!!r&&"arrayValue"in r}function N0(r){return!!r&&"nullValue"in r}function C0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function q2(r){return(r?.mapValue?.fields||{})[wb]?.stringValue===xb}function Mo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return sa(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Mo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Mo(r.arrayValue.values[i]);return e}return{...r}}function B2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===z2}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(i)}setAll(e){let i=sn.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Mo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){sa(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Yn(Mo(this.value))}}function Rb(r){const e=[];return sa(r.fields,((i,a)=>{const o=new sn([i]);if(Bc(a)){const c=Rb(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new hi(e)}class cn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new cn(e,0,xe.min(),xe.min(),xe.min(),Yn.empty(),0)}static newFoundDocument(e,i,a,o){return new cn(e,1,i,xe.min(),a,o,0)}static newNoDocument(e,i){return new cn(e,2,i,xe.min(),xe.min(),Yn.empty(),0)}static newUnknownDocument(e,i){return new cn(e,3,i,xe.min(),xe.min(),Yn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(e,i){this.position=e,this.inclusive=i}}function I0(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=be.comparator(be.fromName(d.referenceValue),i.key):a=ul(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function D0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Hi(r.position[i],e.position[i]))return!1;return!0}class sh{constructor(e,i="asc"){this.field=e,this.dir=i}}function H2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Nb{}class Ht extends Nb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new G2(e,i,a):i==="array-contains"?new Y2(e,a):i==="in"?new X2(e,a):i==="not-in"?new $2(e,a):i==="array-contains-any"?new Z2(e,a):new Ht(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new K2(e,a):new Q2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ul(i,this.value)):i!==null&&dr(this.value)===dr(i)&&this.matchesComparison(ul(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends Nb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fi(e,i)}matches(e){return Cb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cb(r){return r.op==="and"}function Ib(r){return F2(r)&&Cb(r)}function F2(r){for(const e of r.filters)if(e instanceof Fi)return!1;return!0}function um(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+cl(r.value);if(Ib(r))return r.filters.map((e=>um(e))).join(",");{const e=r.filters.map((i=>um(i))).join(",");return`${r.op}(${e})`}}function Db(r,e){return r instanceof Ht?(function(a,o){return o instanceof Ht&&a.op===o.op&&a.field.isEqual(o.field)&&Hi(a.value,o.value)})(r,e):r instanceof Fi?(function(a,o){return o instanceof Fi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&Db(d,o.filters[g])),!0):!1})(r,e):void Se(19439)}function Ob(r){return r instanceof Ht?(function(i){return`${i.field.canonicalString()} ${i.op} ${cl(i.value)}`})(r):r instanceof Fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Ob).join(" ,")+"}"})(r):"Filter"}class G2 extends Ht{constructor(e,i,a){super(e,i,a),this.key=be.fromName(a.referenceValue)}matches(e){const i=be.comparator(e.key,this.key);return this.matchesComparison(i)}}class K2 extends Ht{constructor(e,i){super(e,"in",i),this.keys=Mb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Q2 extends Ht{constructor(e,i){super(e,"not-in",i),this.keys=Mb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Mb(r,e){return(e.arrayValue?.values||[]).map((i=>be.fromName(i.referenceValue)))}class Y2 extends Ht{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Lm(i)&&Bo(i.arrayValue,this.value)}}class X2 extends Ht{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Bo(this.value.arrayValue,i)}}class $2 extends Ht{constructor(e,i){super(e,"not-in",i)}matches(e){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bo(this.value.arrayValue,i)}}class Z2 extends Ht{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bo(this.value.arrayValue,a)))}}class J2{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function O0(r,e=null,i=[],a=[],o=null,c=null,d=null){return new J2(r,e,i,a,o,c,d)}function Pm(r){const e=Ce(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>um(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>cl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>cl(a))).join(",")),e.Te=i}return e.Te}function zm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!H2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Db(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!D0(r.startAt,e.startAt)&&D0(r.endAt,e.endAt)}function cm(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Sh{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W2(r,e,i,a,o,c,d,g){return new Sh(r,e,i,a,o,c,d,g)}function qm(r){return new Sh(r)}function M0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ex(r){return r.collectionGroup!==null}function Vo(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Gt(sn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new sh(c,a))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new sh(sn.keyField(),a))}return e.Ie}function Pi(r){const e=Ce(r);return e.Ee||(e.Ee=tx(e,Vo(r))),e.Ee}function tx(r,e){if(r.limitType==="F")return O0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new sh(o.field,c)}));const i=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return O0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function hm(r,e,i){return new Sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ah(r,e){return zm(Pi(r),Pi(e))&&r.limitType===e.limitType}function Vb(r){return`${Pm(Pi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Ob(o))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>cl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>cl(o))).join(",")),`Target(${a})`})(Pi(r))}; limitType=${r.limitType})`}function wh(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):be.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of Vo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=I0(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Vo(a),o)||a.endAt&&!(function(d,g,v){const y=I0(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Vo(a),o))})(r,e)}function nx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function kb(r){return(e,i)=>{let a=!1;for(const o of Vo(r)){const c=ix(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function ix(r,e,i){const a=r.field.isKeyField()?be.comparator(e.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?ul(v,y):Se(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:r.dir})}}class ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return vb(this.inner)}size(){return this.innerSize}}const sx=new St(be.comparator);function gs(){return sx}const jb=new St(be.comparator);function No(...r){let e=jb;for(const i of r)e=e.insert(i.key,i);return e}function Ub(r){let e=jb;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function $r(){return ko()}function Lb(){return ko()}function ko(){return new ra((r=>r.toString()),((r,e)=>r.isEqual(e)))}const rx=new St(be.comparator),ax=new Gt(be.comparator);function He(...r){let e=ax;for(const i of r)e=e.add(i);return e}const lx=new Gt(Be);function ox(){return lx}function Bm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function Pb(r){return{integerValue:""+r}}function ux(r,e){return k2(e)?Pb(e):Bm(r,e)}class xh{constructor(){this._=void 0}}function cx(r,e,i){return r instanceof rh?(function(o,c){const d={fields:{[Eb]:{stringValue:Tb},[Ab]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Um(c)&&(c=Eh(c)),c&&(d.fields[Sb]=c),{mapValue:d}})(i,e):r instanceof Ho?qb(r,e):r instanceof Fo?Bb(r,e):(function(o,c){const d=zb(o,c),g=V0(d)+V0(o.Ae);return om(d)&&om(o.Ae)?Pb(g):Bm(o.serializer,g)})(r,e)}function hx(r,e,i){return r instanceof Ho?qb(r,e):r instanceof Fo?Bb(r,e):i}function zb(r,e){return r instanceof ah?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class rh extends xh{}class Ho extends xh{constructor(e){super(),this.elements=e}}function qb(r,e){const i=Hb(e);for(const a of r.elements)i.some((o=>Hi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Fo extends xh{constructor(e){super(),this.elements=e}}function Bb(r,e){let i=Hb(e);for(const a of r.elements)i=i.filter((o=>!Hi(o,a)));return{arrayValue:{values:i}}}class ah extends xh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function V0(r){return Dt(r.integerValue||r.doubleValue)}function Hb(r){return Lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function fx(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Ho&&o instanceof Ho||a instanceof Fo&&o instanceof Fo?ol(a.elements,o.elements,Hi):a instanceof ah&&o instanceof ah?Hi(a.Ae,o.Ae):a instanceof rh&&o instanceof rh})(r.transform,e.transform)}class dx{constructor(e,i){this.version=e,this.transformResults=i}}class fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rh{}function Fb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Hm(r.key,fi.none()):new Jo(r.key,r.data,fi.none());{const i=r.data,a=Yn.empty();let o=new Gt(sn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new aa(r.key,a,new hi(o.toArray()),fi.none())}}function mx(r,e,i){r instanceof Jo?(function(o,c,d){const g=o.value.clone(),v=j0(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof aa?(function(o,c,d){if(!Hc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=j0(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(Gb(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function jo(r,e,i,a){return r instanceof Jo?(function(c,d,g,v){if(!Hc(c.precondition,d))return g;const y=c.value.clone(),E=U0(c.fieldTransforms,v,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,a):r instanceof aa?(function(c,d,g,v){if(!Hc(c.precondition,d))return g;const y=U0(c.fieldTransforms,v,d),E=d.data;return E.setAll(Gb(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,i,a):(function(c,d,g){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function px(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=zb(a.transform,o||null);c!=null&&(i===null&&(i=Yn.empty()),i.set(a.field,c))}return i||null}function k0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ol(a,o,((c,d)=>fx(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Jo extends Rh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class aa extends Rh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Gb(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function j0(r,e,i){const a=new Map;We(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,hx(d,g,i[o]))}return a}function U0(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,cx(c,d,e))}return a}class Hm extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gx extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&mx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=jo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=jo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Lb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=Fb(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,((i,a)=>k0(i,a)))&&ol(this.baseMutations,e.baseMutations,((i,a)=>k0(i,a)))}}class Fm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return rx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Fm(e,i,a,o)}}class _x{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vx{constructor(e,i){this.count=e,this.unchangedNames=i}}var zt,Ke;function bx(r){switch(r){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function Kb(r){if(r===void 0)return ps("GRPC error has no .code"),J.UNKNOWN;switch(r){case zt.OK:return J.OK;case zt.CANCELLED:return J.CANCELLED;case zt.UNKNOWN:return J.UNKNOWN;case zt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case zt.INTERNAL:return J.INTERNAL;case zt.UNAVAILABLE:return J.UNAVAILABLE;case zt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case zt.NOT_FOUND:return J.NOT_FOUND;case zt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case zt.ABORTED:return J.ABORTED;case zt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case zt.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:r})}}(Ke=zt||(zt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function Tx(){return new TextEncoder}const Ex=new ar([4294967295,4294967295],0);function L0(r){const e=Tx().encode(r),i=new ob;return i.update(e),new Uint8Array(i.digest())}function P0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ar([i,a],0),new ar([o,c],0)]}class Gm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Co(`Invalid padding: ${i}`);if(a<0)throw new Co(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Co(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Co(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ar.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(ar.fromNumber(a)));return o.compare(Ex)===1&&(o=new ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=L0(e),[a,o]=P0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=L0(e),[a,o]=P0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Wo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Nh(xe.min(),o,new St(Be),gs(),He())}}class Wo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Wo(a,i,He(),He(),He())}}class Fc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class Qb{constructor(e,i){this.targetId=e,this.Ce=i}}class Yb{constructor(e,i,a=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class z0{constructor(){this.ve=0,this.Fe=q0(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),a=He();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Se(38017,{changeType:c})}})),new Wo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=q0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Sx{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=Vc(),this.He=Vc(),this.Ye=new St(Be)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(cm(c))if(a===0){const d=new be(c.path);this.et(i,d,cn.newNoDocument(d,xe.min()))}else We(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=fr(a).toUint8Array()}catch(v){if(v instanceof bb)return ll("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Gm(d,o,c)}catch(v){return ll(v instanceof Co?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&cm(g.target)){const v=new be(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,cn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=He();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Nh(e,i,this.Ye,this.je,a);return this.je=gs(),this.Je=Vc(),this.He=Vc(),this.Ye=new St(Be),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new z0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Gt(Be),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Gt(Be),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new St(be.comparator)}function q0(){return new St(be.comparator)}const Ax={asc:"ASCENDING",desc:"DESCENDING"},wx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xx={and:"AND",or:"OR"};class Rx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function fm(r,e){return r.useProto3Json||Th(e)?e:{value:e}}function lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Nx(r,e){return lh(r,e.toTimestamp())}function zi(r){return We(!!r,49232),xe.fromTimestamp((function(i){const a=hr(i);return new gt(a.seconds,a.nanos)})(r))}function Km(r,e){return dm(r,e).canonicalString()}function dm(r,e){const i=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function $b(r){const e=pt.fromString(r);return We(t1(e),10190,{key:e.toString()}),e}function mm(r,e){return Km(r.databaseId,e.path)}function Kd(r,e){const i=$b(e);if(i.get(1)!==r.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new be(Jb(i))}function Zb(r,e){return Km(r.databaseId,e)}function Cx(r){const e=$b(r);return e.length===4?pt.emptyPath():Jb(e)}function pm(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Jb(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function B0(r,e,i){return{name:mm(r,e),fields:i.value.mapValue.fields}}function Ix(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(We(E===void 0||typeof E=="string",58123),rn.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),rn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?J.UNKNOWN:Kb(y.code);return new pe(E,y.message||"")})(d);i=new Yb(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Kd(r,a.document.name),c=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):xe.min(),g=new Yn({mapValue:{fields:a.document.fields}}),v=cn.newFoundDocument(o,c,d,g),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Fc(y,E,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Kd(r,a.document),c=a.readTime?zi(a.readTime):xe.min(),d=cn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Fc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Kd(r,a.document),c=a.removedTargetIds||[];i=new Fc([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new vx(o,c),g=a.targetId;i=new Qb(g,d)}}return i}function Dx(r,e){let i;if(e instanceof Jo)i={update:B0(r,e.key,e.value)};else if(e instanceof Hm)i={delete:mm(r,e.key)};else if(e instanceof aa)i={update:B0(r,e.key,e.data),updateMask:zx(e.fieldMask)};else{if(!(e instanceof gx))return Se(16599,{Vt:e.type});i={verify:mm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Fo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ah)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Nx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(r,e.precondition)),i}function Ox(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?zi(o.updateTime):zi(c);return d.isEqual(xe.min())&&(d=zi(c)),new dx(d,o.transformResults||[])})(i,e)))):[]}function Mx(r,e){return{documents:[Zb(r,e.path)]}}function Vx(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Zb(r,o);const c=(function(y){if(y.length!==0)return e1(Fi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:Ja(M.field),direction:Ux(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=fm(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function kx(r){let e=Cx(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){We(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=Wb(w);return M instanceof Fi&&Ib(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function($){return new sh(Wa($.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,Th(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(w){const M=!!w.before,z=w.values||[];return new ih(z,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,z=w.values||[];return new ih(z,M)})(i.endAt)),W2(e,o,d,c,g,"F",v,y)}function jx(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Wb(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return Ht.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(i.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return Ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return Ht.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ht.create(Wa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Fi.create(i.compositeFilter.filters.map((a=>Wb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(i.compositeFilter.op))})(r):Se(30097,{filter:r})}function Ux(r){return Ax[r]}function Lx(r){return wx[r]}function Px(r){return xx[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return sn.fromServerFormat(r.fieldPath)}function e1(r){return r instanceof Ht?(function(i){if(i.op==="=="){if(C0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(N0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(C0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(N0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:Lx(i.op),value:i.value}}})(r):r instanceof Fi?(function(i){const a=i.getFilters().map((o=>e1(o)));return a.length===1?a[0]:{compositeFilter:{op:Px(i.op),filters:a}}})(r):Se(54877,{filter:r})}function zx(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function t1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class tr{constructor(e,i,a,o,c=xe.min(),d=xe.min(),g=rn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qx{constructor(e){this.yt=e}}function Bx(r){const e=kx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hm(e,e.limit,"L"):e}class Hx{constructor(){this.Cn=new Fx}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(cr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class Fx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Gt(pt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Gt(pt.comparator)).toArray()}}const H0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n1=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(n1,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}const F0="LruGarbageCollector",Gx=1048576;function G0([r,e],[i,a]){const o=Be(r,i);return o===0?Be(e,a):o}class Kx{constructor(e){this.Ir=e,this.buffer=new Gt(G0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();G0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Qx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(F0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bl(i)?le(F0,"Ignoring IndexedDB error during garbage collection: ",i):await vl(i)}await this.Vr(3e5)}))}}class Yx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(bh.ce);const a=new Kx(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(H0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,v,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),$a()<=qe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function Xx(r,e){return new Yx(r,e)}class $x{constructor(){this.changes=new ra((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Jx{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&jo(a.mutation,o,hi.empty(),gt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,He()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=He()){const o=$r();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=No();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=$r();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,He())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=gs();const d=ko(),g=(function(){return ko()})();return i.forEach(((v,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof aa)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),jo(E.mutation,y,E.mutation.getFieldMask(),gt.now())):d.set(y.key,hi.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new Zx(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=ko();let o=new St(((d,g)=>d-g)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let E=a.get(v)||hi.empty();E=g.applyToLocalView(y,E),a.set(v,E);const w=(o.get(g.batchId)||He()).add(v);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,E=v.value,w=Lb();E.forEach((M=>{if(!c.has(M)){const z=Fb(i.get(M),a.get(M));z!==null&&w.set(M,z),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ex(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve($r());let g=Po,v=c;return d.next((y=>X.forEach(y,((E,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{v=v.insert(E,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,v,y,He()))).next((E=>({batchId:g,changes:Ub(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new be(i)).next((a=>{let o=No();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=No();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(v=>{const y=(function(w,M){return new Sh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,cn.newInvalidDocument(E)))}));let g=No();return d.forEach(((v,y)=>{const E=c.get(v);E!==void 0&&jo(E.mutation,y,hi.empty(),gt.now()),wh(i,y)&&(g=g.insert(v,y))})),g}))}}class Wx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Bx(o.bundledQuery),readTime:zi(o.readTime)}})(i)),X.resolve()}}class eR{constructor(){this.overlays=new St(be.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=$r();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=$r(),c=i.length+1,d=new be(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new St(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=$r(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=$r(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return X.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _x(i,a));let c=this.qr.get(i);c===void 0&&(c=He(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class tR{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Qm{constructor(){this.Qr=new Gt(Xt.$r),this.Ur=new Gt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Xt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Xt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new be(new pt([])),a=new Xt(i,e),o=new Xt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new be(new pt([])),a=new Xt(i,e),o=new Xt(i,e+1);let c=He();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Xt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Xt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return be.comparator(e.key,i.key)||Be(e.Yr,i.Yr)}static Kr(e,i){return Be(e.Yr,i.Yr)||be.comparator(e.key,i.key)}}class nR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Xt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yx(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Xt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Xt(i,0),o=new Xt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Gt(Be);return i.forEach((o=>{const c=new Xt(o,0),d=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;be.isDocumentKey(c)||(c=c.child(""));const d=new Xt(new be(c),0);let g=new Gt(Be);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){We(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Xt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Xt(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iR{constructor(e){this.ri=e,this.docs=(function(){return new St(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(e,i){let a=gs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():cn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=gs();const d=i.path,g=new be(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:E}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||D2(I2(E),a)<=0||(o.has(E.key)||wh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Se(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new sR(this)}getSize(e){return X.resolve(this.size)}}class sR extends $x{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class rR{constructor(e){this.persistence=e,this.si=new ra((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=hl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new hl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class i1{constructor(e,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new tR,this.referenceDelegate=e(this),this.Pi=new rR(this),this.indexManager=new Hx,this.remoteDocumentCache=(function(o){return new iR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new qx(i),this.Ii=new Wx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new eR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new nR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new aR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class aR extends M2{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Qm,this.Vi=null}static mi(e){return new Ym(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=be.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oh{constructor(e,i){this.persistence=e,this.pi=new ra((a=>j2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Xx(this,i)}static mi(e,i){return new oh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=He(),o=He();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Xm(e,i.fromCache,a,o)}}class lR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JE()?8:V2(hn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?($a()<=qe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):($a()<=qe.DEBUG&&le("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?($a()<=qe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):X.resolve())}ys(e,i){if(M0(i))return X.resolve(null);let a=Pi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hm(i,null,"F"),a=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=He(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const y=this.Ds(i,g);return this.Cs(i,y,d,v.readTime)?this.ys(e,hm(i,null,"F")):this.vs(e,y,i,v)}))))})))))}ws(e,i,a,o){return M0(i)||o.isEqual(xe.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):($a()<=qe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(i)),this.vs(e,d,i,C2(o,Po)).next((g=>g)))}))}Ds(e,i){let a=new Gt(kb(e));return i.forEach(((o,c)=>{wh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return $a()<=qe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(e,i,cr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",uR=3e8;class cR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new St(Be),this.xs=new ra((c=>Pm(c)),zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function hR(r,e,i,a){return new cR(r,e,i,a)}async function s1(r,e){const i=Ce(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=He();for(const y of o){d.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function fR(r,e){const i=Ce(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,E){const w=y.batch,M=w.keys();let z=X.resolve();return M.forEach(($=>{z=z.next((()=>E.getEntry(v,$))).next((ee=>{const W=y.docVersions.get($);We(W!==null,48541),ee.version.compareTo(W)<0&&(w.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),E.addEntry(ee)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(v,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=He();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function r1(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function dR(r,e){const i=Ce(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,w)=>{const M=o.get(w);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let z=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?z=z.withResumeToken(rn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,a)),o=o.insert(w,z),(function(ee,W,fe){return ee.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=uR?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(M,z,E)&&g.push(i.Pi.updateTargetData(c,z))}));let v=gs(),y=He();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(mR(c,d,e.documentUpdates).next((E=>{v=E.ks,y=E.qs}))),!a.isEqual(xe.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function mR(r,e,i){let a=He(),o=He();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=gs();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(xe.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):le($m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function pR(r,e){const i=Ce(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function gR(r,e){const i=Ce(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new tr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function gm(r,e,i){const a=Ce(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!bl(d))throw d;le($m,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function K0(r,e,i){const a=Ce(r);let o=xe.min(),c=He();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,E){const w=Ce(v),M=w.xs.get(E);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(y,E)})(a,d,Pi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:xe.min(),i?c:He()))).next((g=>(yR(a,nx(e),g),{documents:g,Qs:c})))))}function yR(r,e,i){let a=r.Os.get(e)||xe.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class Q0{constructor(){this.activeTargetIds=ox()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _R{constructor(){this.Mo=new Q0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vR{Oo(e){}shutdown(){}}const Y0="ConnectivityMonitor";class X0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(Y0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(Y0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function ym(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Qd="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=ym(),g=this.zo(e,i.toUriEncodedString());le(Qd,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(g),E=pl(y);return this.Jo(e,g,v,a,E).then((w=>(le(Qd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw ll(Qd,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=bR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class ER{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class SR extends TR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=ym();return new Promise(((g,v)=>{const y=new ub;y.setWithCredentials(!0),y.listenOnce(cb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const w=y.getResponseJson();le(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case zc.TIMEOUT:le(on,`RPC '${e}' ${d} timed out`),v(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const M=y.getStatus();if(le(on,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const $=z?.error;if($&&$.status&&$.message){const ee=(function(fe){const Z=fe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Z)>=0?Z:J.UNKNOWN})($.status);v(new pe(ee,$.message))}else v(new pe(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(on,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);le(on,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=db(),g=fb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const E=c.join("");le(on,`Creating RPC '${e}' stream ${o}: ${E}`,v);const w=d.createWebChannel(E,v);this.I_(w);let M=!1,z=!1;const $=new ER({Yo:W=>{z?le(on,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(M||(le(on,`Opening RPC '${e}' stream ${o} transport.`),w.open(),M=!0),le(on,`RPC '${e}' stream ${o} sending:`,W),w.send(W))},Zo:()=>w.close()}),ee=(W,fe,Z)=>{W.listen(fe,(oe=>{try{Z(oe)}catch(Ee){setTimeout((()=>{throw Ee}),0)}}))};return ee(w,Ro.EventType.OPEN,(()=>{z||(le(on,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),ee(w,Ro.EventType.CLOSE,(()=>{z||(z=!0,le(on,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(w))})),ee(w,Ro.EventType.ERROR,(W=>{z||(z=!0,ll(on,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),$.a_(new pe(J.UNAVAILABLE,"The operation could not be completed")))})),ee(w,Ro.EventType.MESSAGE,(W=>{if(!z){const fe=W.data[0];We(!!fe,16349);const Z=fe,oe=Z?.error||Z[0]?.error;if(oe){le(on,`RPC '${e}' stream ${o} received error:`,oe);const Ee=oe.status;let se=(function(A){const R=zt[A];if(R!==void 0)return Kb(R)})(Ee),ue=oe.message;se===void 0&&(se=J.INTERNAL,ue="Unknown error status: "+Ee+" with message "+oe.message),z=!0,$.a_(new pe(se,ue)),w.close()}else le(on,`RPC '${e}' stream ${o} received:`,fe),$.u_(fe)}})),ee(g,hb.STAT_EVENT,(W=>{W.stat===rm.PROXY?le(on,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===rm.NOPROXY&&le(on,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yd(){return typeof document<"u"?document:null}function Ch(r){return new Rx(r,!0)}class a1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const $0="PersistentStream";class l1{constructor(e,i,a,o,c,d,g,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new pe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le($0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le($0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AR extends l1{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Ix(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?zi(d.readTime):xe.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=cm(v)?{documents:Mx(c,v)}:{query:Vx(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Xb(c,d.resumeToken);const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(xe.min())>0){g.readTime=lh(c,d.snapshotVersion.toTimestamp());const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=jx(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=pm(this.serializer),i.removeTarget=e,this.q_(i)}}class wR extends l1{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Ox(e.writeResults,e.commitTime),a=zi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=pm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Dx(this.serializer,a)))};this.q_(i)}}class xR{}class RR extends xR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,dm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(J.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,dm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class CR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{la(this)&&(le(ia,"Restarting streams for network reachability change."),await(async function(v){const y=Ce(v);y.Ea.add(4),await eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ih(y)})(this))}))})),this.Ra=new NR(a,o)}}async function Ih(r){if(la(r))for(const e of r.da)await e(!0)}async function eu(r){for(const e of r.da)await e(!1)}function o1(r,e){const i=Ce(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ep(i)?Wm(i):Tl(i).O_()&&Jm(i,e))}function Zm(r,e){const i=Ce(r),a=Tl(i);i.Ia.delete(e),a.O_()&&u1(i,e),i.Ia.size===0&&(a.O_()?a.L_():la(i)&&i.Ra.set("Unknown"))}function Jm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Tl(r).Y_(e)}function u1(r,e){r.Va.Ue(e),Tl(r).Z_(e)}function Wm(r){r.Va=new Sx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Tl(r).start(),r.Ra.ua()}function ep(r){return la(r)&&!Tl(r).x_()&&r.Ia.size>0}function la(r){return Ce(r).Ea.size===0}function c1(r){r.Va=void 0}async function IR(r){r.Ra.set("Online")}async function DR(r){r.Ia.forEach(((e,i)=>{Jm(r,e)}))}async function OR(r,e){c1(r),ep(r)?(r.Ra.ha(e),Wm(r)):r.Ra.set("Unknown")}async function MR(r,e,i){if(r.Ra.set("Online"),e instanceof Yb&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(a){le(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uh(r,a)}else if(e instanceof Fc?r.Va.Ze(e):e instanceof Qb?r.Va.st(e):r.Va.tt(e),!i.isEqual(xe.min()))try{const a=await r1(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const E=c.Ia.get(v);if(!E)return;c.Ia.set(v,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),u1(c,v);const w=new tr(E.target,v,y,E.sequenceNumber);Jm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){le(ia,"Failed to raise snapshot:",a),await uh(r,a)}}async function uh(r,e,i){if(!bl(e))throw e;r.Ea.add(1),await eu(r),r.Ra.set("Offline"),i||(i=()=>r1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ia,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ih(r)}))}function h1(r,e){return e().catch((i=>uh(r,i,e)))}async function Dh(r){const e=Ce(r),i=mr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;VR(e);)try{const o=await pR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,kR(e,o)}catch(o){await uh(e,o)}f1(e)&&d1(e)}function VR(r){return la(r)&&r.Ta.length<10}function kR(r,e){r.Ta.push(e);const i=mr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function f1(r){return la(r)&&!mr(r).x_()&&r.Ta.length>0}function d1(r){mr(r).start()}async function jR(r){mr(r).ra()}async function UR(r){const e=mr(r);for(const i of r.Ta)e.ea(i.mutations)}async function LR(r,e,i){const a=r.Ta.shift(),o=Fm.from(a,e,i);await h1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Dh(r)}async function PR(r,e){e&&mr(r).X_&&await(async function(a,o){if((function(d){return bx(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();mr(a).B_(),await h1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Dh(a)}})(r,e),f1(r)&&d1(r)}async function Z0(r,e){const i=Ce(r);i.asyncQueue.verifyOperationInProgress(),le(ia,"RemoteStore received new credentials");const a=la(i);i.Ea.add(3),await eu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ih(i)}async function zR(r,e){const i=Ce(r);e?(i.Ea.delete(2),await Ih(i)):e||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function Tl(r){return r.ma||(r.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new AR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:IR.bind(null,r),t_:DR.bind(null,r),r_:OR.bind(null,r),H_:MR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ep(r)?Wm(r):r.Ra.set("Unknown")):(await r.ma.stop(),c1(r))}))),r.ma}function mr(r){return r.fa||(r.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new wR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jR.bind(null,r),r_:PR.bind(null,r),ta:UR.bind(null,r),na:LR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Dh(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new tp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,e){if(ps("AsyncQueue",`${e}: ${r}`),bl(r))return new pe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||be.comparator(i.key,a.key):(i,a)=>be.comparator(i.key,a.key),this.keyedMap=No(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new sl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class J0{constructor(){this.ga=new St(be.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class fl{constructor(e,i,a,o,c,d,g,v,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new fl(e,i,sl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class qR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BR{constructor(){this.queries=W0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=W0(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function W0(){return new ra((r=>Vb(r)),Ah)}async function HR(r,e){const i=Ce(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new qR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=np(d,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ip(i)}async function FR(r,e){const i=Ce(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function GR(r,e){const i=Ce(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&ip(i)}function KR(r,e,i){const a=Ce(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function ip(r){r.Ca.forEach((e=>{e.next()}))}var _m,ev;(ev=_m||(_m={})).Ma="default",ev.Cache="cache";class QR{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new fl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}class m1{constructor(e){this.key=e}}class p1{constructor(e){this.key=e}}class YR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=kb(e),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new J0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const M=o.get(E),z=wh(this.query,w)?w:null,$=!!M&&this.mutatedKeys.has(M.key),ee=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let W=!1;M&&z?M.data.isEqual(z.data)?$!==ee&&(a.track({type:3,doc:z}),W=!0):this.su(M,z)||(a.track({type:2,doc:z}),W=!0,(v&&this.eu(z,v)>0||y&&this.eu(z,y)<0)&&(g=!0)):!M&&z?(a.track({type:0,doc:z}),W=!0):M&&!z&&(a.track({type:1,doc:M}),W=!0,(v||y)&&(g=!0)),W&&(z?(d=d.add(z),c=ee?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,w)=>(function(z,$){const ee=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:W})}};return ee(z)-ee($)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new fl(this.query,e.tu,c,d,e.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new p1(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new m1(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class XR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class $R{constructor(e){this.key=e,this.hu=!1}}class ZR{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((g=>Vb(g)),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new St(be.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JR(r,e,i=!0){const a=T1(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await g1(a,e,i,!0),o}async function WR(r,e){const i=T1(r);await g1(i,e,!0,!1)}async function g1(r,e,i,a){const o=await gR(r.localStore,Pi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await eN(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&o1(r.remoteStore,o),g}async function eN(r,e,i,a,o){r.pu=(w,M,z)=>(async function(ee,W,fe,Z){let oe=W.view.ru(fe);oe.Cs&&(oe=await K0(ee.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,oe))));const Ee=Z&&Z.targetChanges.get(W.targetId),se=Z&&Z.targetMismatches.get(W.targetId)!=null,ue=W.view.applyChanges(oe,ee.isPrimaryClient,Ee,se);return nv(ee,W.targetId,ue.au),ue.snapshot})(r,w,M,z);const c=await K0(r.localStore,e,!0),d=new YR(e,c.Qs),g=d.ru(c.documents),v=Wo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,v);nv(r,i,y.au);const E=new XR(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function tN(r,e,i){const a=Ce(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Ah(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await gm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Zm(a.remoteStore,o.targetId),vm(a,o.targetId)})).catch(vl)):(vm(a,o.targetId),await gm(a.localStore,o.targetId,!0))}async function nN(r,e){const i=Ce(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function iN(r,e,i){const a=cN(r);try{const o=await(function(d,g){const v=Ce(d),y=gt.now(),E=g.reduce(((z,$)=>z.add($.key)),He());let w,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let $=gs(),ee=He();return v.Ns.getEntries(z,E).next((W=>{$=W,$.forEach(((fe,Z)=>{Z.isValidDocument()||(ee=ee.add(fe))}))})).next((()=>v.localDocuments.getOverlayedDocuments(z,$))).next((W=>{w=W;const fe=[];for(const Z of g){const oe=px(Z,w.get(Z.key).overlayedDocument);oe!=null&&fe.push(new aa(Z.key,oe,Rb(oe.value.mapValue),fi.exists(!0)))}return v.mutationQueue.addMutationBatch(z,y,fe,g)})).next((W=>{M=W;const fe=W.applyToLocalDocumentSet(w,ee);return v.documentOverlayCache.saveOverlays(z,W.batchId,fe)}))})).then((()=>({batchId:M.batchId,changes:Ub(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new St(Be)),y=y.insert(g,v),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await tu(a,o.changes),await Dh(a.remoteStore)}catch(o){const c=np(o,"Failed to persist write");i.reject(c)}}async function y1(r,e){const i=Ce(r);try{const a=await dR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?We(d.hu,14607):o.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await tu(i,a,e)}catch(a){await vl(a)}}function tv(r,e,i){const a=Ce(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Ce(d);v.onlineState=g;let y=!1;v.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(g)&&(y=!0)})),y&&ip(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function sN(r,e,i){const a=Ce(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new St(be.comparator);d=d.insert(c,cn.newNoDocument(c,xe.min()));const g=He().add(c),v=new Nh(xe.min(),new Map,new St(Be),d,g);await y1(a,v),a.du=a.du.remove(c),a.Au.delete(e),rp(a)}else await gm(a.localStore,e,!1).then((()=>vm(a,e,i))).catch(vl)}async function rN(r,e){const i=Ce(r),a=e.batch.batchId;try{const o=await fR(i.localStore,e);v1(i,a,null),_1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,o)}catch(o){await vl(o)}}async function aN(r,e,i){const a=Ce(r);try{const o=await(function(d,g){const v=Ce(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return v.mutationQueue.lookupMutationBatch(y,g).next((w=>(We(w!==null,37113),E=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>v.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);v1(a,e,i),_1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await tu(a,o)}catch(o){await vl(o)}}function _1(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function v1(r,e,i){const a=Ce(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function vm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||b1(r,a)}))}function b1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Zm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),rp(r))}function nv(r,e,i){for(const a of i)a instanceof m1?(r.Ru.addReference(a.key,e),lN(r,a)):a instanceof p1?(le(sp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||b1(r,a.key)):Se(19791,{wu:a})}function lN(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(le(sp,"New document in limbo: "+i),r.Eu.add(a),rp(r))}function rp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new be(pt.fromString(e)),a=r.fu.next();r.Au.set(a,new $R(i)),r.du=r.du.insert(i,a),o1(r.remoteStore,new tr(Pi(qm(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function tu(r,e,i){const a=Ce(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Xm.As(v.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,y){const E=Ce(v);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(M=>X.forEach(M.Es,(z=>E.persistence.referenceDelegate.addReference(w,M.targetId,z))).next((()=>X.forEach(M.ds,(z=>E.persistence.referenceDelegate.removeReference(w,M.targetId,z)))))))))}catch(w){if(!bl(w))throw w;le($m,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const z=E.Ms.get(M),$=z.snapshotVersion,ee=z.withLastLimboFreeSnapshotVersion($);E.Ms=E.Ms.insert(M,ee)}}})(a.localStore,c))}async function oN(r,e){const i=Ce(r);if(!i.currentUser.isEqual(e)){le(sp,"User change. New user:",e.toKey());const a=await s1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new pe(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Ls)}}function uN(r,e){const i=Ce(r),a=i.Au.get(e);if(a&&a.hu)return He().add(a.key);{let o=He();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function T1(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=y1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sN.bind(null,e),e.Pu.H_=GR.bind(null,e.eventManager),e.Pu.yu=KR.bind(null,e.eventManager),e}function cN(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aN.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return hR(this.persistence,new oR,e.initialUser,this.serializer)}Cu(e){return new i1(Ym.mi,this.serializer)}Du(e){return new _R}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class hN extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){We(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Qx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new i1((a=>oh.mi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>tv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=oN.bind(null,this.syncEngine),await zR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BR})()}createDatastore(e){const i=Ch(e.databaseInfo.databaseId),a=(function(c){return new SR(c)})(e.databaseInfo);return(function(c,d,g,v){return new RR(c,d,g,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new CR(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>tv(this.syncEngine,i,0)),(function(){return X0.v()?new X0:new vR})())}createSyncEngine(e,i){return(function(o,c,d,g,v,y,E){const w=new ZR(o,c,d,g,v,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);le(ia,"RemoteStore shutting down."),a.Ea.add(5),await eu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class fN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const pr="FirestoreClient";class dN{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Xd(r,e){r.asyncQueue.verifyOperationInProgress(),le(pr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await s1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function iv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await mN(r);le(pr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Z0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Z0(e.remoteStore,o))),r._onlineComponents=e}async function mN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(pr,"Using user provided OfflineComponentProvider");try{await Xd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ll("Error using user provided cache. Falling back to memory cache: "+i),await Xd(r,new ch)}}else le(pr,"Using default OfflineComponentProvider"),await Xd(r,new hN(void 0));return r._offlineComponents}async function E1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(pr,"Using user provided OnlineComponentProvider"),await iv(r,r._uninitializedComponentsProvider._online)):(le(pr,"Using default OnlineComponentProvider"),await iv(r,new bm))),r._onlineComponents}function pN(r){return E1(r).then((e=>e.syncEngine))}async function sv(r){const e=await E1(r),i=e.eventManager;return i.onListen=JR.bind(null,e.syncEngine),i.onUnlisten=tN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=WR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=nN.bind(null,e.syncEngine),i}function S1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const rv=new Map;const A1="firestore.googleapis.com",av=!0;class lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A1,this.ssl=av}else this.host=e.host,this.ssl=e.ssl??av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gx)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _2;switch(a.type){case"firstParty":return new E2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=rv.get(i);a&&(le("ComponentProvider","Removing Datastore"),rv.delete(i),a.terminate())})(this),Promise.resolve()}}function gN(r,e,i,a={}){r=lr(r,Oh);const o=pl(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(Ev(`https://${g}`),Sv("Firestore",!0)),c.host!==A1&&c.host!==g&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!Wr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=un.MOCK_USER;else{y=HE(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(w)}r._authCredentials=new v2(new pb(y,E))}}class Mh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class Ft{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Zo(i,Ft._jsonSchema))return new Ft(e,a||null,new be(pt.fromString(i.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:qt("string",Ft._jsonSchemaVersion),referencePath:qt("string")};class or extends Mh{constructor(e,i,a){super(e,i,qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new be(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function oi(r,e,...i){if(r=Vn(r),gb("collection","path",e),r instanceof Oh){const a=pt.fromString(e,...i);return b0(a),new or(r,null,a)}{if(!(r instanceof Ft||r instanceof or))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(pt.fromString(e,...i));return b0(a),new or(r.firestore,null,a)}}function Sn(r,e,...i){if(r=Vn(r),arguments.length===1&&(e=Vm.newId()),gb("doc","path",e),r instanceof Oh){const a=pt.fromString(e,...i);return v0(a),new Ft(r,null,new be(a))}{if(!(r instanceof Ft||r instanceof or))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(pt.fromString(e,...i));return v0(a),new Ft(r.firestore,r instanceof or?r.converter:null,new be(a))}}const ov="AsyncQueue";class uv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a1(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&le(ov,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;le(ov,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",cv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=tp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function cv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function hv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class dl extends Oh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new uv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uv(e),this._firestoreClient=void 0,await e}}}function yN(r,e){const i=typeof r=="object"?r:Rv(),a=typeof r=="string"?r:th,o=wm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=qE("firestore");c&&gN(o,...c)}return o}function w1(r){if(r._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_N(r),r._firestoreClient}function _N(r){const e=r._freezeSettings(),i=(function(o,c,d,g){return new P2(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,S1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new dN(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(rn.fromBase64String(e))}catch(i){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Xn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zo(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:qt("string",Xn._jsonSchemaVersion),bytes:qt("string")};class ap{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class x1{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Zo(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:qt("string",qi._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class Bi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zo(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Bi(e.vectorValues);throw new pe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:qt("string",Bi._jsonSchemaVersion),vectorValues:qt("object")};const vN=/^__.*__$/;class bN{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,i,this.fieldTransforms):new Jo(e,this.data,i,this.fieldTransforms)}}function R1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class lp{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(R1(this.Ac)&&vN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class TN{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ch(e)}Cc(e,i,a,o=!1){return new lp({Ac:e,methodName:i,Dc:a,path:sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N1(r){const e=r._freezeSettings(),i=Ch(r._databaseId);return new TN(r._databaseId,!!e.ignoreUndefinedProperties,i)}function C1(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);M1("Data must be an object, but it was:",d,a);const g=D1(a,d);let v,y;if(c.merge)v=new hi(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=EN(e,w,i);if(!d.contains(M))throw new pe(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);AN(E,M)||E.push(M)}v=new hi(E),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new bN(new Yn(g),v,y)}function I1(r,e){if(O1(r=Vn(r)))return M1("Unsupported field value:",e,r),D1(r,e);if(r instanceof x1)return(function(a,o){if(!R1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=I1(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=Vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ux(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=gt.fromDate(a);return{timestampValue:lh(o.serializer,c)}}if(a instanceof gt){const c=new gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(o.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xn)return{bytesValue:Xb(o.serializer,a._byteString)};if(a instanceof Ft){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Bi)return(function(d,g){return{mapValue:{fields:{[wb]:{stringValue:xb},[nh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${km(a)}`)})(r,e)}function D1(r,e){const i={};return vb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(r,((a,o)=>{const c=I1(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function O1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof qi||r instanceof Xn||r instanceof Ft||r instanceof x1||r instanceof Bi)}function M1(r,e,i){if(!O1(i)||!yb(i)){const a=km(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function EN(r,e,i){if((e=Vn(e))instanceof ap)return e._internalPath;if(typeof e=="string")return V1(r,e);throw hh("Field path arguments must be of type string or ",r,!1,void 0,i)}const SN=new RegExp("[~\\*/\\[\\]]");function V1(r,e,i){if(e.search(SN)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ap(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new pe(J.INVALID_ARGUMENT,g+r+v)}function AN(r,e){return r.some((i=>i.isEqual(e)))}class k1{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(j1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class wN extends k1{data(){return super.data()}}function j1(r,e){return typeof e=="string"?V1(r,e):e instanceof ap?e._internalPath:e._delegate._internalPath}function xN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RN{convertValue(e,i="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return sa(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[nh].arrayValue?.values?.map((a=>Dt(a.doubleValue)));return new Bi(i)}convertGeoPoint(e){return new qi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Eh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(zo(e));default:return null}}convertTimestamp(e){const i=hr(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=pt.fromString(e);We(t1(a),9688,{name:e});const o=new qo(a.get(1),a.get(3)),c=new be(a.popFirst(5));return o.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function U1(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class Io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends k1{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(j1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:qt("string",Jr._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Gc extends Jr{data(e={}){return super.data(e)}}class rl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Io(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Io(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Io(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Io(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:NN(g.type),doc:v,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:qt("string",rl._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class L1 extends RN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,i)}}function Xa(r,e,i){r=lr(r,Ft);const a=lr(r.firestore,dl),o=U1(r.converter,e,i);return op(a,[C1(N1(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,fi.none())])}function Kr(r){return op(lr(r.firestore,dl),[new Hm(r._key,fi.none())])}function En(r,e){const i=lr(r.firestore,dl),a=Sn(r),o=U1(r.converter,e);return op(i,[C1(N1(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,fi.exists(!1))]).then((()=>a))}function Qr(r,...e){r=Vn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||hv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(hv(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let c,d,g;if(r instanceof Ft)d=lr(r.firestore,dl),g=qm(r._key.path),c={next:v=>{e[a]&&e[a](CN(d,r,v))},error:e[a+1],complete:e[a+2]};else{const v=lr(r,Mh);d=lr(v.firestore,dl),g=v._query;const y=new L1(d);c={next:E=>{e[a]&&e[a](new rl(d,y,v,E))},error:e[a+1],complete:e[a+2]},xN(r._query)}return(function(y,E,w,M){const z=new fN(M),$=new QR(E,z,w);return y.asyncQueue.enqueueAndForget((async()=>HR(await sv(y),$))),()=>{z.Nu(),y.asyncQueue.enqueueAndForget((async()=>FR(await sv(y),$)))}})(w1(d),g,o,c)}function op(r,e){return(function(a,o){const c=new Zr;return a.asyncQueue.enqueueAndForget((async()=>iN(await pN(a),o,c))),c.promise})(w1(r),e)}function CN(r,e,i){const a=i.docs.get(e._key),o=new L1(r);return new Jr(r,o,e._key,a,new Io(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){_l=o})(gl),al(new ea("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new dl(new b2(a.getProvider("auth-internal")),new S2(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),sr(p0,g0,e),sr(p0,g0,"esm2020")})();const IN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),fv=r=>{const e=DN(r);return e.charAt(0).toUpperCase()+e.slice(1)},P1=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),ON=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var MN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VN=me.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>me.createElement("svg",{ref:v,...MN,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:P1("lucide",o),...!c&&!ON(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,E])=>me.createElement(y,E)),...Array.isArray(c)?c:[c]]));const ct=(r,e)=>{const i=me.forwardRef(({className:a,...o},c)=>me.createElement(VN,{ref:c,iconNode:e,className:P1(`lucide-${IN(fv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=fv(r),i};const kN=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],jN=ct("arrow-up-down",kN);const UN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],LN=ct("bell",UN);const PN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zN=ct("calendar",PN);const qN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],BN=ct("camera",qN);const HN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],FN=ct("circle-check-big",HN);const GN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],KN=ct("clipboard-list",GN);const QN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],dv=ct("database",QN);const YN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],XN=ct("download",YN);const $N=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],z1=ct("file-spreadsheet",$N);const ZN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],JN=ct("history",ZN);const WN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],eC=ct("lock",WN);const tC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nC=ct("log-out",tC);const iC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],q1=ct("plus",iC);const sC=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],rC=ct("printer",sC);const aC=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],lC=ct("recycle",aC);const oC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uC=ct("save",oC);const cC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hC=ct("search",cC);const fC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],up=ct("settings",fC);const dC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],mC=ct("shield-check",dC);const pC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ml=ct("trash-2",pC);const gC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Tm=ct("triangle-alert",gC);const yC=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],fh=ct("truck",yC);const _C=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vC=ct("user",_C);const bC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],TC=ct("users",bC);const EC=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],B1=ct("wrench",EC);const SC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dh=ct("x",SC),AC={apiKey:"AIzaSyAWELn6lSPNa5WIjG_wFLv4nkzk1CaLxq8",authDomain:"tyre-tracker-ccbd1.firebaseapp.com",projectId:"tyre-tracker-ccbd1",storageBucket:"tyre-tracker-ccbd1.firebasestorage.app",messagingSenderId:"90986714992",appId:"1:90986714992:web:388e83080de978ec68e1b5",measurementId:"G-VEVZFGKE16"},H1=xv(AC),mv=g2(H1),Tt=yN(H1),Et="tyre-tracker-ccbd1",F1=`
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-enter {
    animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .glass-panel {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  .btn-press:active {
    transform: scale(0.97);
  }
  /* Custom Scrollbar */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
`,wC=()=>Math.random().toString(36).substr(2,9),pv=()=>"8"+Math.floor(1e7+Math.random()*9e7).toString(),G1=r=>{if(!r||r.length!==4)return"Unknown";const e=parseInt(r.substring(0,2)),i=parseInt("20"+r.substring(2,4)),a=new Date,o=a.getFullYear(),c=Math.floor((a-new Date(o,0,1))/(10080*60*1e3));let d=(o-i)*52+(c-e);return d<0&&(d=0),d<52?`${d}w`:`${(d/52).toFixed(1)}y`},Go=r=>r.startsWith("F")?"front":r.startsWith("D")?"drive":r.startsWith("T")?"tag":r.startsWith("R")&&(r.includes("S")||r==="RL"||r==="RR")?"rear_steer":r.startsWith("R")?"rear":"front",xC=r=>{switch(r){case"front":return"Steer Axle";case"drive":return"Drive Axle";case"tag":return"Tag Axle";case"rear_steer":return"Rear Steer Axle";case"rear":return"Rear Axle";default:return"Axle"}},ji=r=>({FL:"Front Left",FR:"Front Right",RL:"Rear Left",RR:"Rear Right",RLO:"Rear Left Outer",RLI:"Rear Left Inner",RRO:"Rear Right Outer",RRI:"Rear Right Inner",DLO:"Drive Left Outer",DLI:"Drive Left Inner",DRO:"Drive Right Outer",DRI:"Drive Right Inner",RSL:"Rear Steer Left",RSR:"Rear Steer Right"})[r]||r,mh=(r,e=null)=>{const[i,a]=me.useState(e);return{items:me.useMemo(()=>{let d=[...r];return i!==null&&d.sort((g,v)=>{let y=g[i.key],E=v[i.key];if(i.key==="dot"){const w=M=>{if(!M||M.length!==4)return 0;const z=M.substring(0,2),$=M.substring(2,4);return parseInt($+z)};y=w(y),E=w(E)}else y===void 0&&(y=""),E===void 0&&(E=""),typeof y=="string"&&(y=y.toLowerCase()),typeof E=="string"&&(E=E.toLowerCase());return y<E?i.direction==="ascending"?-1:1:y>E?i.direction==="ascending"?1:-1:0}),d},[r,i]),requestSort:d=>{let g="ascending";i&&i.key===d&&i.direction==="ascending"&&(g="descending"),a({key:d,direction:g})},sortConfig:i}},ut=({label:r,sortKey:e,requestSort:i,sortConfig:a,className:o=""})=>{const c=a?.key===e;return p.jsx("th",{className:`p-3 cursor-pointer hover:bg-blue-50 transition select-none text-slate-500 font-semibold text-xs uppercase tracking-wider ${o}`,onClick:()=>i(e),children:p.jsxs("div",{className:"flex items-center gap-1 group",children:[r,p.jsx("span",{className:`transition-opacity duration-200 ${c?"opacity-100 text-blue-600":"opacity-0 group-hover:opacity-50"}`,children:p.jsx(jN,{className:`w-3 h-3 ${a?.direction==="ascending"?"rotate-180":""}`})})]})})},Yr=({label:r,icon:e,active:i,onClick:a,badge:o})=>p.jsxs("button",{onClick:a,className:`
      relative flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all duration-200 font-medium text-sm whitespace-nowrap btn-press
      ${i?"bg-blue-600 text-white shadow-lg shadow-blue-900/20 translate-y-[-1px]":"text-slate-400 hover:text-white hover:bg-slate-800"}
    `,children:[p.jsxs("div",{className:"relative",children:[p.jsx(e,{className:`w-4 h-4 ${i?"animate-pulse":""}`}),o>0&&p.jsx("span",{className:"absolute -top-2.5 -right-2.5 bg-red-500 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full border-2 border-slate-900 animate-bounce",children:o})]}),p.jsx("span",{className:"hidden md:inline",children:r})]}),$d=({num:r,label:e,active:i})=>p.jsxs("div",{className:`flex items-center gap-3 transition-colors duration-300 ${i?"text-blue-600":"text-slate-300"}`,children:[p.jsx("div",{className:`
      w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 transition-all duration-300
      ${i?"border-blue-600 bg-blue-50 scale-110 shadow-sm":"border-slate-200"}
    `,children:r}),p.jsx("span",{className:"hidden md:inline font-medium text-sm tracking-tight",children:e})]});function K1({vehicle:r,retorques:e=[],mode:i="view",onSelect:a}){const{layout:o,wheels:c}=r,d=(v,y)=>{const E=c[v],w=e.find(z=>z.vehicleReg===r.reg&&z.positionId===v&&z.status==="Pending"),M=i==="select"||i==="view"&&E;return p.jsxs("button",{onClick:M?()=>a(v):void 0,className:`
          relative flex flex-col items-center p-2 rounded-xl border-2 transition-all duration-300 w-24 group
          ${M?"cursor-pointer hover:scale-105 active:scale-95":""}
          ${E?"bg-white border-slate-300 shadow-sm hover:border-blue-500 hover:shadow-md":"bg-slate-50 border-dashed border-slate-200 hover:border-slate-300"}
          ${w?"ring-2 ring-amber-500 ring-offset-2 animate-pulse":""}
        `,children:[p.jsx("div",{className:`
          w-10 h-14 rounded-md mb-2 border-x-4 transition-all duration-300
          ${E?"bg-slate-800 border-slate-700 group-hover:bg-slate-700":"bg-slate-200 border-slate-300 opacity-50"}
        `}),p.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:y}),i==="view"&&w&&p.jsx("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white rounded-full p-1.5 shadow-lg animate-bounce",children:p.jsx(B1,{className:"w-3 h-3"})})]},v)},g=v=>p.jsxs("div",{className:"flex justify-between items-center w-full max-w-lg mx-auto my-6 relative px-6",children:[p.jsx("div",{className:"h-3 bg-slate-200 absolute w-full top-1/2 -translate-y-1/2 -z-10 rounded-full left-0 shadow-inner"}),v]});return p.jsxs("div",{className:"flex flex-col items-center py-8 select-none",children:[p.jsxs("div",{className:"mb-6 text-slate-300 flex flex-col items-center",children:[p.jsx("div",{className:"w-0 h-0 border-l-[24px] border-l-transparent border-r-[24px] border-r-transparent border-b-[36px] border-b-slate-200 drop-shadow-sm"}),p.jsx("span",{className:"text-xs font-bold mt-2 tracking-widest opacity-50",children:"FRONT"})]}),g([d("FL","Front L"),d("FR","Front R")]),p.jsx("div",{className:"h-24 border-l-4 border-slate-200 border-dashed my-2 opacity-50"}),o==="2-axle-dual"&&g([p.jsxs("div",{className:"flex gap-2",children:[d("RLO","Outer"),d("RLI","Inner")]},"al"),p.jsxs("div",{className:"flex gap-2",children:[d("RRI","Inner"),d("RRO","Outer")]},"ar")]),o==="2-axle-single"&&g([d("RL","Rear L"),d("RR","Rear R")]),o==="3-axle-rigid"&&p.jsxs(p.Fragment,{children:[g([p.jsxs("div",{className:"flex gap-2",children:[d("DLO","Dr L-Out"),d("DLI","Dr L-In")]},"dl"),p.jsxs("div",{className:"flex gap-2",children:[d("DRI","Dr R-In"),d("DRO","Dr R-Out")]},"dr")]),p.jsx("div",{className:"h-12 border-l-4 border-slate-200 border-dashed my-2 opacity-50"}),g([d("TL","Tag L"),d("TR","Tag R")])]}),o==="3-axle-rear-steer"&&p.jsxs(p.Fragment,{children:[g([p.jsxs("div",{className:"flex gap-2",children:[d("DLO","Dr L-Out"),d("DLI","Dr L-In")]},"dl"),p.jsxs("div",{className:"flex gap-2",children:[d("DRI","Dr R-In"),d("DRO","Dr R-Out")]},"dr")]),g([d("RSL","R-Steer L"),d("RSR","R-Steer R")])]})]})}const RC=[{id:"t1",brand:"Michelin",model:"X Multi Z",size:"295/80R22.5",barcode:"88239101",status:"In Stock",dot:"1023",isUsed:!1},{id:"t2",brand:"Bridgestone",model:"R-Steer",size:"295/80R22.5",barcode:"88239103",status:"In Stock",dot:"4522",isUsed:!1},{id:"t3",brand:"Michelin",model:"X Coach",size:"295/80R22.5",barcode:"88239105",status:"In Stock",dot:"0224",isUsed:!1},{id:"t4",brand:"Continental",model:"VanContact",size:"235/65R16",barcode:"88239106",status:"In Stock",dot:"2023",isUsed:!1},{id:"t5",brand:"Goodyear",model:"Cargo Vector",size:"235/65R16",barcode:"88239107",status:"In Stock",dot:"1523",isUsed:!1}],NC=[{id:"v1",reg:"K26 CLN",type:"Luton Box Van",layout:"2-axle-dual",specs:{front:{torque:180,pressure:55},rear:{torque:180,pressure:60}},wheels:{}},{id:"v2",reg:"L10 NC",type:"2-Axle Coach",layout:"2-axle-dual",specs:{front:{torque:600,pressure:120},rear:{torque:600,pressure:115}},wheels:{}},{id:"v3",reg:"L1 CLN",type:"Tri-Axle Coach",layout:"3-axle-rear-steer",specs:{front:{torque:650,pressure:125},drive:{torque:600,pressure:115},rear_steer:{torque:650,pressure:125}},wheels:{}}],CC=[{id:"s1",name:"295/80R22.5"},{id:"s2",name:"315/80R22.5"},{id:"s3",name:"385/65R22.5"},{id:"s4",name:"235/65R16"},{id:"s5",name:"215/75R16"},{id:"s6",name:"205/65R16"}],IC=[{id:"u1",initials:"ADM",pin:"0000",role:"Admin"},{id:"u2",initials:"MGR",pin:"1111",role:"Manager"},{id:"u3",initials:"FIT",pin:"2222",role:"Fitter"}];function DC(){const[r,e]=me.useState(null),[i,a]=me.useState(null),[o,c]=me.useState("fit"),[d,g]=me.useState(null),[v,y]=me.useState([]),[E,w]=me.useState([]),[M,z]=me.useState([]),[$,ee]=me.useState([]),[W,fe]=me.useState([]),[Z,oe]=me.useState([]),[Ee,se]=me.useState([]),[ue,N]=me.useState(new Set);me.useEffect(()=>((async()=>{let ve=3;for(;ve>0;)try{await WA(mv);return}catch(De){console.error("Auth Failed, retrying...",De),ve--,ve===0&&g("Unable to connect to database. Please check your connection."),await new Promise(ke=>setTimeout(ke,1e3))}})(),rw(mv,ve=>{e(ve),ve&&g(null)})),[]),me.useEffect(()=>{if(!r)return;const re=he=>oi(Tt,"artifacts",Et,"public","data",he),ve=Qr(re("inventory"),he=>y(he.docs.map(ye=>({...ye.data(),id:ye.id}))),he=>console.error("Inv error",he)),De=Qr(re("vehicles"),he=>w(he.docs.map(ye=>({...ye.data(),id:ye.id}))),he=>console.error("Veh error",he)),ke=Qr(re("retorques"),he=>z(he.docs.map(ye=>({...ye.data(),id:ye.id})).sort((ye,xt)=>new Date(ye.dueDate)-new Date(xt.dueDate))),he=>console.error("Ret error",he)),ft=Qr(re("sizes"),he=>ee(he.docs.map(ye=>({...ye.data(),id:ye.id}))),he=>console.error("Sizes error",he)),Re=Qr(re("history"),he=>fe(he.docs.map(ye=>({...ye.data(),id:ye.id})).sort((ye,xt)=>new Date(xt.fitDate)-new Date(ye.fitDate))),he=>console.error("Hist error",he)),_t=Qr(re("users"),he=>se(he.docs.map(ye=>({...ye.data(),id:ye.id}))),he=>console.error("Users error",he)),an=Qr(re("removed_tyres"),he=>oe(he.docs.map(ye=>({...ye.data(),id:ye.id})).sort((ye,xt)=>new Date(xt.removedDate)-new Date(ye.removedDate))),he=>console.error("Removed error",he));return()=>{ve(),De(),ke(),ft(),Re(),_t(),an()}},[r]);const A=async()=>{"Notification"in window?await Notification.requestPermission()==="granted"&&new Notification("Notifications Enabled",{body:"You will be alerted when retorques are due.",icon:"/pwa-192x192.png"}):alert("This browser does not support web notifications.")};me.useEffect(()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const re=()=>{const De=new Date,ke=new Set(ue);let ft=!1;M.forEach(Re=>{if(Re.status==="Pending"&&!ke.has(Re.id)){const _t=new Date(Re.dueDate);if(De>=_t){try{new Notification(`Retorque Due: ${Re.vehicleReg} (${Re.reason})`,{body:`${Re.type} - ${ji(Re.positionId)} is due.
Fitter: ${Re.fitter}`,icon:"/pwa-192x192.png",requireInteraction:!0})}catch(an){console.log("Notification trigger error:",an)}ke.add(Re.id),ft=!0}}}),ft&&N(ke)},ve=setInterval(re,6e4);return re(),()=>clearInterval(ve)},[M,ue]);const R=async()=>{if(!confirm("This will populate the database with demo data. Continue?"))return;const re=[],ve=De=>oi(Tt,"artifacts",Et,"public","data",De);RC.forEach(De=>re.push(En(ve("inventory"),De))),NC.forEach(De=>re.push(En(ve("vehicles"),De))),CC.forEach(De=>re.push(En(ve("sizes"),De))),IC.forEach(De=>re.push(En(ve("users"),De))),await Promise.all(re),alert("Database seeded!")},I=async(re,ve)=>{const De=[],ke=oi(Tt,"artifacts",Et,"public","data","inventory");for(let ft=0;ft<ve;ft++)De.push(En(ke,{...re,barcode:pv(),status:"In Stock"}));await Promise.all(De)},D=async(re,ve)=>{const De=pv(),ke={brand:re.brand,model:re.model,size:re.size,dot:re.dot,isUsed:!0,treadDepth:ve,barcode:De,status:"In Stock",prevBarcode:re.barcode};await En(oi(Tt,"artifacts",Et,"public","data","inventory"),ke),await Kr(Sn(Tt,"artifacts",Et,"public","data","removed_tyres",re.id)),alert(`Tyre restocked with new barcode: ${De}`)},j=async re=>{window.prompt("Type 'DELETE' to confirm removing this record permanently.")==="DELETE"&&await Kr(Sn(Tt,"artifacts",Et,"public","data","inventory",re))},x=async re=>{await En(oi(Tt,"artifacts",Et,"public","data","vehicles"),{...re,wheels:{}})},Je=async re=>{const{id:ve,...De}=re;await Xa(Sn(Tt,"artifacts",Et,"public","data","vehicles",ve),De)},ht=async re=>{window.prompt("Type 'DELETE' to confirm removing this vehicle permanently.")==="DELETE"&&await Kr(Sn(Tt,"artifacts",Et,"public","data","vehicles",re))},F=async re=>{re&&await En(oi(Tt,"artifacts",Et,"public","data","sizes"),{name:re})},ne=async re=>{window.confirm("Remove this size?")&&await Kr(Sn(Tt,"artifacts",Et,"public","data","sizes",re))},ge=async re=>{await En(oi(Tt,"artifacts",Et,"public","data","users"),re)},Fe=async re=>{window.confirm("Remove this user?")&&await Kr(Sn(Tt,"artifacts",Et,"public","data","users",re))},Xe=async re=>{const ve=Sn(Tt,"artifacts",Et,"public","data","retorques",re);await Xa(ve,{status:"Completed",completedDate:new Date().toISOString()},{merge:!0})},V=async(re,ve,De,ke,ft,Re)=>{try{const _t=new Date(De).getTime(),an=oi(Tt,"artifacts",Et,"public","data","retorques");if(!re.reg||!ve||!De||!Re)throw new Error("Missing required data for logging retorques.");await En(an,{vehicleReg:re.reg,positionId:ve,fitmentDate:De,dueDate:new Date(_t+1800*1e3).toISOString(),status:"Pending",type:"30m Check",torqueSpec:ft.torque||0,fitter:Re,reason:ke||"Unknown"}),await En(an,{vehicleReg:re.reg,positionId:ve,fitmentDate:De,dueDate:new Date(_t+1440*60*1e3).toISOString(),status:"Pending",type:"24h Check",torqueSpec:ft.torque||0,fitter:Re,reason:ke||"Unknown"})}catch(_t){console.error("Error creating logs:",_t),alert(`Error generating retorque tasks: ${_t.message}`)}},Q=async(re,ve,De)=>{const ke=re.wheels[ve];if(ke&&ke.id){try{await Kr(Sn(Tt,"artifacts",Et,"public","data","inventory",ke.id))}catch{}await En(oi(Tt,"artifacts",Et,"public","data","removed_tyres"),{...ke,removedDate:De,removedFrom:re.reg,removedPosition:ve})}},ie=async(re,ve,De,ke,ft)=>{try{const Re=v.find(xt=>xt.barcode===De&&xt.status==="In Stock");if(!Re){alert("Tyre not found or not in stock!");return}const _t=E.find(xt=>xt.id===re),an=Go(ve),he=_t.specs[an]||{torque:0,pressure:0};await Q(_t,ve,ke);const ye={..._t.wheels,[ve]:{...Re,dateFitted:ke,fitter:ft}};await Xa(Sn(Tt,"artifacts",Et,"public","data","vehicles",re),{wheels:ye},{merge:!0}),await Xa(Sn(Tt,"artifacts",Et,"public","data","inventory",Re.id),{status:"Fitted",vehicleId:re,positionId:ve,vehicleReg:_t.reg},{merge:!0}),await En(oi(Tt,"artifacts",Et,"public","data","history"),{fitDate:ke,barcode:Re.barcode,brand:Re.brand,model:Re.model,size:Re.size,dot:Re.dot,vehicleReg:_t.reg,position:ve,fitter:ft,reason:"Tyre Fitted"}),await V(_t,ve,ke,"Tyre Fitted",he,ft),alert("Tyre fitted successfully!"),c("retorque")}catch(Re){console.error("Fit Error",Re),alert("Failed to process fitment. Check console for details.")}},ae=async(re,ve,De,ke,ft)=>{try{const Re=E.find(gr=>gr.id===re),_t=Go(ve),an=Re.specs[_t]||{torque:0,pressure:0},he=Re.wheels[ve]||{},ye={...he,id:he.id||wC(),barcode:he.barcode||"LEGACY",brand:he.brand||"Unknown (Legacy)",model:he.model||"-",size:he.size||"-",dot:he.dot||"",dateFitted:ke,fitter:ft},xt={...Re.wheels,[ve]:ye};await Xa(Sn(Tt,"artifacts",Et,"public","data","vehicles",re),{wheels:xt},{merge:!0});const El={fitDate:ke,barcode:ye.barcode,brand:ye.brand,model:ye.model,size:ye.size,dot:ye.dot,vehicleReg:Re.reg,position:ve,fitter:ft,reason:`Refit: ${De}`};if(await En(oi(Tt,"artifacts",Et,"public","data","history"),El),he.id)try{await Xa(Sn(Tt,"artifacts",Et,"public","data","inventory",he.id),{status:"Fitted",vehicleId:re,positionId:ve,vehicleReg:Re.reg},{merge:!0})}catch{}await V(Re,ve,ke,`Refit: ${De}`,an,ft),alert("Refit recorded! Retorque tasks generated."),c("retorque")}catch(Re){console.error("Refit Error",Re),alert(`Failed to process refit: ${Re.message}`)}},Ae=async re=>{confirm("Permanently dispose of this tyre record?")&&await Kr(Sn(Tt,"artifacts",Et,"public","data","removed_tyres",re))},Ie=M.filter(re=>re.status==="Pending").length;if(d)return p.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center",children:[p.jsx(Tm,{className:"w-12 h-12 text-red-500 mb-4"}),p.jsx("h2",{className:"text-xl font-bold mb-2",children:"Connection Failed"}),p.jsx("p",{className:"text-slate-600 mb-4",children:d}),p.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-bold",children:"Retry"})]});if(!r)return p.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-500",children:"Connecting..."});if(!i)return p.jsx(OC,{users:Ee,onLogin:a});const Le=["Admin","Manager"].includes(i.role),yt=["Admin","Manager"].includes(i.role),lt=["Admin","Fitter"].includes(i.role),di=i.role==="Admin";return p.jsxs(p.Fragment,{children:[p.jsx("style",{children:F1}),p.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900",children:[p.jsxs("div",{className:"bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50",children:[p.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[p.jsxs("h1",{className:"text-xl font-bold flex items-center gap-3",children:[p.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:p.jsx(fh,{className:"w-6 h-6 text-white"})}),"CLion Workshop ",p.jsx("span",{className:"text-blue-400 font-light",children:"Tyre Tracker"})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"text-right hidden md:block",children:[p.jsx("div",{className:"text-sm font-bold text-white",children:i.initials}),p.jsx("div",{className:"text-xs text-slate-400 uppercase",children:i.role})]}),p.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",title:"Logout",children:p.jsx(nC,{className:"w-5 h-5"})})]})]}),p.jsx("div",{className:"max-w-6xl mx-auto mt-4",children:p.jsxs("nav",{className:"flex bg-slate-800 p-1 rounded-lg overflow-x-auto",children:[p.jsx(Yr,{label:"Vehicles",icon:fh,active:o==="vehicles",onClick:()=>c("vehicles")}),lt&&p.jsx(Yr,{label:"Fit Tyre",icon:B1,active:o==="fit",onClick:()=>c("fit")}),p.jsx(Yr,{label:"Inventory",icon:KN,active:o==="inventory",onClick:()=>c("inventory")}),p.jsx(Yr,{label:"Retorques",icon:Tm,active:o==="retorque",onClick:()=>c("retorque"),badge:Ie}),yt&&p.jsx(Yr,{label:"Removed",icon:ml,active:o==="removed",onClick:()=>c("removed")}),yt&&p.jsx(Yr,{label:"Reports",icon:z1,active:o==="reports",onClick:()=>c("reports")}),di&&p.jsx(Yr,{label:"Settings",icon:up,active:o==="settings",onClick:()=>c("settings")})]})})]}),p.jsxs("main",{className:"max-w-6xl mx-auto p-4 md:p-6 animate-enter",children:[o==="vehicles"&&p.jsx(MC,{vehicles:E,onAdd:x,onUpdate:Je,onDelete:ht,retorqueRegister:M}),o==="fit"&&lt&&p.jsx(VC,{vehicles:E,inventory:v,onFit:ie,onRefit:ae,currentUser:i}),o==="inventory"&&p.jsx(kC,{inventory:v,onAddBatch:I,onDelete:j,availableSizes:$,canAdd:Le}),o==="retorque"&&p.jsx(jC,{tasks:M,onComplete:Xe}),o==="removed"&&yt&&p.jsx(UC,{removedTyres:Z,onDispose:Ae,onRestock:D}),o==="reports"&&yt&&p.jsx(LC,{history:W,retorques:M}),o==="settings"&&di&&p.jsx(PC,{sizes:$,onAddSize:F,onRemoveSize:ne,onSeed:R,users:Ee,onAddUser:ge,onRemoveUser:Fe,onRequestNotifications:A})]})]})]})}function OC({users:r,onLogin:e}){const[i,a]=me.useState(""),[o,c]=me.useState(""),[d,g]=me.useState(""),[v,y]=me.useState(0),[E,w]=me.useState(!1),M=$=>{if($.preventDefault(),r.length===0&&i==="ADM"&&o==="0000"){e({initials:"ADM",role:"Admin"});return}const ee=r.find(W=>W.initials.toUpperCase()===i.toUpperCase()&&W.pin===o);ee?e(ee):g("Invalid Credentials")},z=()=>{const $=v+1;y($),$===10&&(w(!0),y(0))};return p.jsxs(p.Fragment,{children:[p.jsx("style",{children:F1}),p.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:[E&&p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 p-4 animate-enter",onClick:()=>w(!1),children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-sm text-center border-4 border-red-500 transform scale-110",children:[p.jsx("div",{className:"text-6xl mb-4",children:""}),p.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-2 uppercase",children:"Message for Dick"}),p.jsx("p",{className:"text-xl font-bold text-red-600 leading-tight",children:'"Put the crayons down and ask for help!"'}),p.jsx("button",{onClick:$=>{$.stopPropagation(),w(!1)},className:"mt-6 bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors",children:"Okay, Sorry"})]})}),p.jsxs("div",{className:"glass-panel p-8 rounded-2xl shadow-2xl w-full max-w-md animate-enter",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{onClick:z,className:"bg-blue-600 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/30 cursor-pointer active:scale-90 transition-transform select-none",children:p.jsx(fh,{className:"w-8 h-8 text-white"})}),p.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"CLion Workshop"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Tyre Tracking System"})]}),p.jsxs("form",{onSubmit:M,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase tracking-wide",children:"Initials"}),p.jsxs("div",{className:"relative group",children:[p.jsx(vC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),p.jsx("input",{autoFocus:!0,className:"w-full pl-10 p-3 border-2 border-slate-200 rounded-xl bg-slate-50 uppercase font-bold tracking-widest text-center focus:border-blue-500 focus:outline-none focus:bg-white transition-all",maxLength:3,value:i,onChange:$=>a($.target.value.toUpperCase())})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase tracking-wide",children:"PIN"}),p.jsxs("div",{className:"relative group",children:[p.jsx(eC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),p.jsx("input",{type:"password",className:"w-full pl-10 p-3 border-2 border-slate-200 rounded-xl bg-slate-50 text-center font-bold tracking-widest focus:border-blue-500 focus:outline-none focus:bg-white transition-all",maxLength:4,value:o,onChange:$=>c($.target.value)})]})]}),d&&p.jsx("div",{className:"text-red-500 text-sm text-center font-bold bg-red-50 p-2 rounded-lg",children:d}),p.jsx("button",{className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 hover:scale-[1.02] active:scale-[0.98] transition-all",children:"LOGIN"})]})]})]})]})}function MC({vehicles:r,onAdd:e,onUpdate:i,onDelete:a,retorqueRegister:o}){const[c,d]=me.useState(null),[g,v]=me.useState(null),[y,E]=me.useState(!1),[w,M]=me.useState(null),[z,$]=me.useState({reg:"",type:"Van",layout:"2-axle-dual"}),ee=se=>{const ue={torque:600,pressure:120},N={torque:180,pressure:55};return se.includes("van")||se==="2-axle-single"?{front:N,rear:N}:se==="3-axle-rigid"?{front:ue,drive:ue,tag:ue}:se==="3-axle-rear-steer"?{front:ue,drive:ue,rear_steer:ue}:{front:ue,rear:ue}},W=se=>{se.preventDefault(),e({...z,specs:ee(z.layout)}),E(!1),$({reg:"",type:"Van",layout:"2-axle-dual"})},fe=se=>{M({...se}),d(null)},Z=()=>{i(w),M(null)},oe=(se,ue,N)=>{M({...w,specs:{...w.specs,[se]:{...w.specs[se],[ue]:parseInt(N)||0}}})},Ee=c&&g?{id:g,axleGroup:Go(g),spec:c.specs[Go(g)],tyre:c.wheels[g]}:null;return p.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"md:col-span-1 space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Fleet List"}),p.jsx("button",{onClick:()=>E(!y),className:"p-2 bg-blue-100 text-blue-700 rounded-lg btn-press",children:p.jsx(q1,{className:"w-5 h-5"})})]}),y&&p.jsxs("form",{onSubmit:W,className:"bg-white p-4 rounded-xl shadow space-y-3 animate-enter",children:[p.jsx("input",{required:!0,placeholder:"Reg",className:"w-full p-2 border rounded",value:z.reg,onChange:se=>$({...z,reg:se.target.value})}),p.jsxs("select",{className:"w-full p-2 border rounded",value:z.layout,onChange:se=>$({...z,layout:se.target.value}),children:[p.jsx("option",{value:"2-axle-dual",children:"2 Axle (Dual Rear)"}),p.jsx("option",{value:"3-axle-rear-steer",children:"3 Axle (Rear Steer)"}),p.jsx("option",{value:"3-axle-rigid",children:"3 Axle Rigid"}),p.jsx("option",{value:"2-axle-single",children:"2 Axle (Single Rear)"})]}),p.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded",children:"Save"})]}),p.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:r.map(se=>p.jsxs("div",{onClick:()=>{d(se),v(null),M(null)},className:`p-4 cursor-pointer flex justify-between items-center hover:bg-slate-50 transition-colors duration-200 ${c?.id===se.id?"bg-blue-50 border-l-4 border-blue-500 pl-3":"pl-4"}`,children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-lg text-slate-800",children:se.reg}),p.jsx("div",{className:"text-xs text-slate-500",children:se.type})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:ue=>{ue.stopPropagation(),fe(se)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-all",children:p.jsx(up,{className:"w-5 h-5"})}),p.jsx("button",{onClick:ue=>{ue.stopPropagation(),a(se.id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-100 rounded-full transition-all",children:p.jsx(ml,{className:"w-5 h-5"})})]})]},se.id))})]}),p.jsx("div",{className:"md:col-span-2 relative",children:w?p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col animate-enter",children:[p.jsxs("div",{className:"flex justify-between mb-4",children:[p.jsxs("h2",{className:"text-xl font-bold",children:["Configure ",w.reg]}),p.jsx("button",{onClick:()=>M(null),children:p.jsx(dh,{className:"w-6 h-6 text-slate-400"})})]}),p.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx("input",{className:"border p-2 rounded",value:w.reg,onChange:se=>M({...w,reg:se.target.value})}),p.jsx("input",{className:"border p-2 rounded",value:w.type,onChange:se=>M({...w,type:se.target.value})})]}),p.jsx("div",{className:"space-y-4",children:Object.keys(w.specs).map(se=>p.jsxs("div",{className:"bg-slate-50 p-4 rounded border",children:[p.jsx("h4",{className:"font-bold text-xs uppercase mb-2",children:xC(se)}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs text-slate-500",children:"Torque (Nm)"}),p.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:w.specs[se].torque,onChange:ue=>oe(se,"torque",ue.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs text-slate-500",children:"Pressure (PSI)"}),p.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:w.specs[se].pressure,onChange:ue=>oe(se,"pressure",ue.target.value)})]})]})]},se))})]}),p.jsx("div",{className:"mt-4 pt-4 border-t text-right",children:p.jsxs("button",{onClick:Z,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2 ml-auto btn-press",children:[p.jsx(uC,{className:"w-4 h-4"})," Save Changes"]})})]}):c?p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col animate-enter",children:[p.jsxs("div",{className:"mb-4 border-b pb-4 flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black text-slate-800",children:c.reg}),p.jsx("p",{className:"text-slate-500 font-medium",children:c.type})]}),p.jsx("div",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded",children:"View Mode"})]}),p.jsxs("div",{className:"flex-1 relative min-h-[400px]",children:[p.jsx(K1,{vehicle:c,retorques:o,mode:"view",onSelect:v}),Ee&&p.jsxs("div",{className:"absolute top-10 right-0 md:right-10 w-72 bg-slate-900/95 text-white p-5 rounded-xl shadow-2xl z-20 backdrop-blur-md animate-enter border border-slate-700",children:[p.jsxs("div",{className:"flex justify-between mb-4",children:[p.jsx("h3",{className:"font-bold text-lg text-blue-400",children:ji(Ee.id)}),p.jsx("button",{onClick:()=>v(null),className:"hover:text-red-400 transition-colors",children:p.jsx(dh,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center grid grid-cols-2 gap-4 border border-slate-700",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Torque"}),p.jsx("div",{className:"font-bold text-xl font-mono",children:Ee.spec?.torque})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Pressure"}),p.jsx("div",{className:"font-bold text-xl font-mono",children:Ee.spec?.pressure})]})]}),Ee.tyre?p.jsxs("div",{className:"text-sm space-y-1",children:[p.jsx("div",{className:"font-bold border-b border-slate-700 pb-2 mb-2 text-xs uppercase tracking-wider text-slate-400",children:"FITTED TYRE"}),p.jsx("div",{className:"font-bold text-lg",children:Ee.tyre.brand}),p.jsx("div",{className:"text-slate-300",children:Ee.tyre.model}),p.jsx("div",{className:"text-slate-400 text-xs",children:Ee.tyre.size}),p.jsx("div",{className:"bg-black/30 p-2 rounded text-center font-mono text-xs mt-3 tracking-widest text-emerald-400 border border-emerald-900/50",children:Ee.tyre.barcode}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4 text-xs pt-2 border-t border-slate-800",children:[p.jsxs("div",{children:[p.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Age"}),p.jsx("span",{className:"text-blue-300 font-bold",children:G1(Ee.tyre.dot)})]}),p.jsxs("div",{children:[p.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Fitter"}),p.jsx("span",{className:"text-white font-bold",children:Ee.tyre.fitter||"-"})]}),p.jsxs("div",{className:"col-span-2 mt-1",children:[p.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Date Fitted"}),p.jsxs("span",{className:"text-emerald-400 font-medium flex items-center gap-1",children:[p.jsx(zN,{className:"w-3 h-3"}),new Date(Ee.tyre.dateFitted).toLocaleString([],{dateStyle:"short",timeStyle:"short"})]})]})]})]}):p.jsx("div",{className:"text-center text-slate-500 py-6 border-2 border-dashed border-slate-700 rounded-lg",children:"Empty Position"})]})]})]})]}):p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 bg-slate-100/50 rounded-xl border-2 border-dashed border-slate-200 p-10",children:[p.jsx("div",{className:"bg-white p-4 rounded-full shadow-sm mb-4",children:p.jsx(fh,{className:"w-12 h-12 text-slate-300"})}),p.jsx("p",{className:"font-medium",children:"Select a vehicle from the list to view details."})]})})]})}function VC({vehicles:r,inventory:e,onFit:i,onRefit:a,currentUser:o}){const[c,d]=me.useState(1),[g,v]=me.useState(null),[y,E]=me.useState(null),[w,M]=me.useState("Scan"),[z,$]=me.useState(""),[ee,W]=me.useState("Brake Work"),[fe,Z]=me.useState(""),[oe,Ee]=me.useState(o.initials),[se,ue]=me.useState(new Date().toISOString().slice(0,16)),[N,A]=me.useState(!1),R=me.useRef(null),I=g&&y?g.specs[Go(y)]:null,D=()=>{if(!("BarcodeDetector"in window)){alert("Barcode Detector API not supported by this browser. Please type manually.");return}A(!0)};me.useEffect(()=>{let x=null,Je=null;if(N){const ht=new window.BarcodeDetector({formats:["code_128","ean_13","code_39"]});navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(F=>{x=F,R.current&&(R.current.srcObject=x,R.current.play(),Je=setInterval(async()=>{try{if(R.current&&R.current.readyState===4){const ne=await ht.detect(R.current);if(ne.length>0){const ge=ne[0].rawValue;$(ge),A(!1)}}}catch{}},200))}).catch(F=>{alert("Camera access denied or error: "+F),A(!1)})}return()=>{x&&x.getTracks().forEach(ht=>ht.stop()),Je&&clearInterval(Je)}},[N]);const j=()=>{if(w==="Scan"){if(!z)return;i(g.id,y,z,se,oe)}else{const x=ee==="Other"?fe:ee;if(!x)return;a(g.id,y,x,se,oe)}d(1),v(null),E(null),$(""),W("Brake Work"),Z("")};return p.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[p.jsx($d,{num:1,label:"Vehicle",active:c>=1}),p.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:p.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ease-out ${c>=2?"w-full":"w-0"}`})}),p.jsx($d,{num:2,label:"Wheel",active:c>=2}),p.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:p.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ease-out ${c>=3?"w-full":"w-0"}`})}),p.jsx($d,{num:3,label:"Details",active:c>=3})]}),p.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-200 min-h-[400px] animate-enter",children:[c===1&&p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.map(x=>p.jsxs("button",{onClick:()=>{v(x),d(2)},className:"p-6 text-left border-2 rounded-xl hover:border-blue-500 hover:bg-blue-50 hover:shadow-md transition-all duration-200 btn-press",children:[p.jsx("div",{className:"font-bold text-xl text-slate-800",children:x.reg}),p.jsx("div",{className:"text-sm text-slate-500",children:x.type})]},x.id))}),c===2&&p.jsxs("div",{className:"text-center animate-enter",children:[p.jsx("h3",{className:"font-bold mb-6 text-lg",children:"Select Wheel Position"}),p.jsx(K1,{vehicle:g,mode:"select",onSelect:x=>{E(x),d(3)}}),p.jsx("button",{onClick:()=>d(1),className:"mt-8 text-slate-400 hover:text-blue-600 underline transition-colors",children:"Back to Vehicles"})]}),c===3&&p.jsxs("div",{className:"max-w-md mx-auto space-y-6 animate-enter",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h3",{className:"text-2xl font-black text-slate-800",children:g.reg}),p.jsx("div",{className:"inline-block bg-blue-100 text-blue-800 px-4 py-1.5 rounded-full text-sm font-bold mt-2 shadow-sm",children:ji(y)})]}),p.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 p-4 rounded-xl text-center grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-3xl font-black text-slate-900",children:I?.torque}),p.jsx("div",{className:"text-xs font-bold text-amber-700 tracking-wider",children:"TORQUE (Nm)"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-3xl font-black text-slate-900",children:I?.pressure}),p.jsx("div",{className:"text-xs font-bold text-amber-700 tracking-wider",children:"PRESSURE (PSI)"})]})]}),p.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[p.jsx("button",{className:`flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 ${w==="Scan"?"bg-white shadow text-blue-600 scale-100":"text-slate-500 hover:text-slate-700"}`,onClick:()=>M("Scan"),children:"Fit New Tyre"}),p.jsx("button",{className:`flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 ${w==="Refit"?"bg-white shadow text-blue-600 scale-100":"text-slate-500 hover:text-slate-700"}`,onClick:()=>M("Refit"),children:"Refit Removed Tyre"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{type:"datetime-local",value:se,onChange:x=>ue(x.target.value),className:"w-full p-3 border-2 border-slate-200 rounded-lg text-sm focus:border-blue-500 focus:outline-none"}),w==="Scan"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{value:z,onChange:x=>$(x.target.value),className:"flex-1 p-3 border-2 border-slate-200 rounded-lg font-mono text-lg focus:border-blue-500 focus:outline-none",placeholder:"Scan Barcode",autoFocus:!0}),p.jsx("button",{onClick:D,className:"bg-slate-200 px-4 rounded-lg hover:bg-slate-300 transition-colors",title:"Open Camera",children:p.jsx(BN,{className:"w-6 h-6 text-slate-700"})})]}),N&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4 animate-enter",children:p.jsxs("div",{className:"relative w-full max-w-sm bg-black rounded-xl overflow-hidden shadow-2xl",children:[p.jsx("video",{ref:R,className:"w-full h-auto"}),p.jsx("button",{onClick:()=>A(!1),className:"absolute top-4 right-4 bg-white/20 p-2 rounded-full text-white hover:bg-white/30 transition",children:p.jsx(dh,{className:"w-6 h-6"})}),p.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center text-white text-sm font-medium",children:"Point camera at barcode"})]})})]}):p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"block text-sm font-bold text-slate-600",children:"Reason for Removal"}),p.jsxs("select",{className:"w-full p-3 border-2 border-slate-200 rounded-lg bg-white focus:border-blue-500 focus:outline-none",value:ee,onChange:x=>W(x.target.value),children:[p.jsx("option",{value:"Brake Work",children:"Brake Work"}),p.jsx("option",{value:"Turn on Rim",children:"Turn on Rim"}),p.jsx("option",{value:"Other",children:"Other..."})]}),ee==="Other"&&p.jsx("input",{placeholder:"Specify reason...",className:"w-full p-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none",value:fe,onChange:x=>Z(x.target.value)})]}),p.jsx("input",{value:oe,readOnly:!0,className:"w-full p-3 border-2 border-slate-200 rounded text-center uppercase tracking-widest font-bold bg-slate-100 text-slate-500",placeholder:"Fitter Initials"})]}),p.jsxs("button",{onClick:j,disabled:w==="Scan"&&!z,className:"w-full bg-green-600 text-white p-4 rounded-xl font-bold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-green-200 btn-press transition-all",children:["CONFIRM ",w==="Scan"?"FITMENT":"REFIT"]})]})]})]})}function kC({inventory:r,onAddBatch:e,onDelete:i,availableSizes:a,canAdd:o}){const[c,d]=me.useState({brand:"",model:"",size:a[0]?.name||"",qty:1,dot:"",isUsed:!1,treadDepth:""}),[g,v]=me.useState(""),[y,E]=me.useState(null),[w,M]=me.useState("All"),{items:z,requestSort:$,sortConfig:ee}=mh(r.filter(Z=>{const oe=Z.barcode.includes(g)||Z.brand.toLowerCase().includes(g.toLowerCase())||Z.size.includes(g),Ee=w==="All"?!0:w==="Fitted"?Z.status==="Fitted":Z.status==="In Stock";return oe&&Ee})),W=Z=>{Z.preventDefault(),e({brand:c.brand,model:c.model,size:c.size,dot:c.dot,isUsed:c.isUsed,treadDepth:c.isUsed?c.treadDepth:null},parseInt(c.qty)),d({...c,qty:1,dot:"",isUsed:!1,treadDepth:""})},fe=()=>{const Z=window.open("","_blank","width=400,height=600");Z.document.write(`
      <html>
        <head>
          <title>Print Label</title>
          <link href="https://fonts.googleapis.com/css2?family=Libre+Barcode+39+Text&display=swap" rel="stylesheet">
          <style>
            body { font-family: sans-serif; text-align: center; padding: 20px; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
            .label { border: 2px solid black; padding: 20px; width: 300px; height: 450px; display: flex; flex-direction: column; justify-content: space-between; align-items: center; }
            .barcode { font-family: 'Libre Barcode 39 Text', cursive; font-size: 48px; margin: 10px 0; }
            .meta { font-size: 14px; font-weight: bold; }
            .brand { font-size: 28px; font-weight: 900; text-transform: uppercase; }
            .model { font-size: 18px; margin-bottom: 10px; }
            .size { font-size: 32px; font-weight: bold; border: 2px solid black; padding: 5px 15px; border-radius: 8px; }
          </style>
        </head>
        <body>
          <div class="label">
            <div>
              <div class="brand">${y.brand}</div>
              <div class="model">${y.model}</div>
            </div>
            <div class="size">${y.size}</div>
            <div class="barcode">*${y.barcode}*</div>
            <div class="meta">
              <div>S/N: ${y.barcode}</div>
              <div style="margin-top:5px">DOT: ${y.dot}</div>
            </div>
          </div>
          <script>
            window.onload = function() { window.print(); }
          <\/script>
        </body>
      </html>
    `),Z.document.close()};return p.jsxs("div",{className:"space-y-8 animate-enter",children:[o&&p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[p.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[p.jsx(q1,{className:"w-5 h-5 text-green-600"})," Batch Add Stock"]}),p.jsxs("form",{onSubmit:W,className:"grid grid-cols-2 md:grid-cols-6 gap-4 items-end",children:[p.jsx("div",{className:"col-span-1",children:p.jsx("input",{required:!0,placeholder:"Brand",className:"p-2 border rounded w-full",value:c.brand,onChange:Z=>d({...c,brand:Z.target.value})})}),p.jsx("div",{className:"col-span-1",children:p.jsx("input",{required:!0,placeholder:"Model",className:"p-2 border rounded w-full",value:c.model,onChange:Z=>d({...c,model:Z.target.value})})}),p.jsx("div",{className:"col-span-1",children:p.jsx("select",{required:!0,className:"p-2 border rounded w-full bg-white",value:c.size,onChange:Z=>d({...c,size:Z.target.value}),children:a.map(Z=>p.jsx("option",{value:Z.name,children:Z.name},Z.id))})}),p.jsx("div",{className:"col-span-1",children:p.jsx("input",{required:!0,placeholder:"DOT (e.g 1024)",maxLength:"4",className:"p-2 border rounded w-full",value:c.dot,onChange:Z=>d({...c,dot:Z.target.value})})}),p.jsx("div",{className:"col-span-1",children:p.jsx("input",{type:"number",min:"1",max:"50",required:!0,placeholder:"Qty",className:"p-2 border rounded w-full",value:c.qty,onChange:Z=>d({...c,qty:Z.target.value})})}),p.jsxs("div",{className:"col-span-1 flex flex-col gap-2",children:[p.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-600 cursor-pointer select-none",children:[p.jsx("input",{type:"checkbox",checked:c.isUsed,onChange:Z=>d({...c,isUsed:Z.target.checked})}),"Used Tyre?"]}),c.isUsed&&p.jsx("input",{type:"number",placeholder:"Depth (mm)",className:"p-1 border rounded text-xs w-full animate-enter",value:c.treadDepth,onChange:Z=>d({...c,treadDepth:Z.target.value}),required:!0})]}),p.jsx("button",{className:"col-span-2 md:col-span-6 bg-slate-900 text-white rounded font-medium py-2 mt-2 hover:bg-slate-800 btn-press transition-all",children:"Add"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[p.jsxs("div",{className:"p-4 bg-slate-50 border-b flex flex-col md:flex-row justify-between items-center gap-4",children:[p.jsx("h3",{className:"font-bold text-slate-700",children:"Serialized Inventory"}),p.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[p.jsxs("select",{value:w,onChange:Z=>M(Z.target.value),className:"border p-2 rounded text-sm bg-white",children:[p.jsx("option",{value:"All",children:"All Status"}),p.jsx("option",{value:"In Stock",children:"In Stock"}),p.jsx("option",{value:"Fitted",children:"Fitted"})]}),p.jsxs("div",{className:"relative flex-1 md:flex-none",children:[p.jsx(hC,{className:"absolute left-2 top-2 w-4 h-4 text-slate-400"}),p.jsx("input",{placeholder:"Search...",className:"pl-8 p-2 border rounded text-sm w-full",value:g,onChange:Z=>v(Z.target.value)})]})]})]}),p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx(ut,{label:"Barcode",sortKey:"barcode",requestSort:$,sortConfig:ee}),p.jsx(ut,{label:"Details",sortKey:"brand",requestSort:$,sortConfig:ee}),p.jsx(ut,{label:"Age",sortKey:"dot",requestSort:$,sortConfig:ee}),p.jsx(ut,{label:"Status",sortKey:"status",requestSort:$,sortConfig:ee}),p.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y",children:z.map(Z=>p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsx("td",{className:"p-3 font-mono font-bold",children:Z.barcode}),p.jsxs("td",{className:"p-3",children:[p.jsxs("div",{className:"font-medium text-slate-900",children:[Z.brand," ",Z.model]}),p.jsx("div",{className:"text-xs text-slate-500",children:Z.size}),Z.isUsed&&p.jsxs("span",{className:"inline-block bg-amber-100 text-amber-800 text-[10px] px-1 rounded border border-amber-200 mt-1",children:["Used: ",Z.treadDepth,"mm"]})]}),p.jsxs("td",{className:"p-3",children:[p.jsx("div",{className:"text-xs font-bold text-slate-600",children:G1(Z.dot)}),p.jsxs("div",{className:"text-xs text-slate-400",children:["DOT: ",Z.dot]})]}),p.jsxs("td",{className:"p-3",children:[p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${Z.status==="In Stock"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:Z.status}),Z.status==="Fitted"&&p.jsx("div",{className:"text-xs mt-1 text-slate-500 font-medium",children:Z.vehicleReg})]}),p.jsx("td",{className:"p-3 text-right",children:p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>E(Z),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all",title:"Print Label",children:p.jsx(rC,{className:"w-4 h-4"})}),o&&p.jsx("button",{onClick:()=>i(Z.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Delete Stock",children:p.jsx(ml,{className:"w-4 h-4"})})]})})]},Z.id))})]})]}),y&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 text-center",children:[p.jsx("h3",{className:"font-bold text-xl mb-4",children:y.brand}),p.jsx("div",{className:"font-mono text-3xl font-black bg-slate-100 p-4 mb-4",children:y.barcode}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>E(null),className:"flex-1 py-2 border rounded",children:"Cancel"}),p.jsx("button",{onClick:fe,className:"flex-1 py-2 bg-blue-600 text-white rounded",children:"Print Now"})]})]})})]})}function jC({tasks:r,onComplete:e}){const[i,a]=me.useState(null),o=r.filter(y=>y.status==="Completed"),{items:c,requestSort:d,sortConfig:g}=mh(o,{key:"completedDate",direction:"descending"}),v=()=>{e(i.id),a(null)};return p.jsxs("div",{className:"space-y-6 animate-enter",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[p.jsx(Tm,{className:"w-5 h-5 text-amber-500"})," Outstanding"]}),r.filter(y=>y.status==="Pending").length===0?p.jsx("div",{className:"p-8 bg-green-50 text-green-800 text-center rounded-xl border border-green-100 font-medium",children:"All compliant"}):r.filter(y=>y.status==="Pending").map(y=>p.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border-l-4 border-amber-500 flex justify-between items-center hover:shadow-md transition-all",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex gap-2 mb-1",children:[p.jsx("span",{className:`px-2 text-xs font-bold rounded text-white ${y.type.includes("30")?"bg-red-500":"bg-blue-500"}`,children:y.type}),p.jsxs("span",{className:"text-xs text-slate-400 font-medium bg-slate-100 px-2 rounded",children:["Fitter: ",y.fitter]})]}),p.jsx("div",{className:"font-black text-lg text-slate-800",children:y.vehicleReg}),p.jsxs("div",{className:"text-sm text-slate-500",children:[ji(y.positionId)," ",p.jsxs("span",{className:"text-slate-400",children:["(",y.reason,")"]})]}),p.jsxs("div",{className:"text-xs font-bold text-amber-600 mt-1",children:["Due: ",new Date(y.dueDate).toLocaleString()]})]}),p.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[p.jsxs("div",{className:"text-xs text-slate-400 font-mono bg-slate-50 px-2 py-1 rounded",children:["Target: ",y.torqueSpec," Nm"]}),p.jsxs("button",{onClick:()=>a(y),className:"bg-slate-900 text-white px-4 py-2 rounded-lg text-sm hover:bg-slate-800 font-medium shadow-md flex items-center gap-2 btn-press",children:[p.jsx(FN,{className:"w-4 h-4"})," Confirm"]})]})]},y.id))]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[p.jsx(JN,{className:"w-5 h-5"})," History"]}),p.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx(ut,{label:"Completed",sortKey:"completedDate",requestSort:d,sortConfig:g}),p.jsx(ut,{label:"Type",sortKey:"type",requestSort:d,sortConfig:g}),p.jsx(ut,{label:"Reason",sortKey:"reason",requestSort:d,sortConfig:g}),p.jsx(ut,{label:"Vehicle",sortKey:"vehicleReg",requestSort:d,sortConfig:g}),p.jsx(ut,{label:"Fitter",sortKey:"fitter",requestSort:d,sortConfig:g}),p.jsx("th",{className:"p-3 text-right",children:"Status"})]})}),p.jsx("tbody",{children:c.map(y=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-3 text-slate-600",children:new Date(y.completedDate).toLocaleDateString()}),p.jsx("td",{className:"p-3",children:p.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${y.type.includes("30")?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:y.type})}),p.jsx("td",{className:"p-3 text-slate-500 text-xs",children:y.reason}),p.jsx("td",{className:"p-3 font-bold text-slate-700",children:y.vehicleReg}),p.jsx("td",{className:"p-3 font-medium",children:y.fitter}),p.jsx("td",{className:"p-3 text-right text-green-600 font-bold text-xs",children:"VERIFIED"})]},y.id))})]})})]}),i&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4 text-amber-600",children:[p.jsx(mC,{className:"w-8 h-8"}),p.jsx("h3",{className:"font-bold text-xl text-slate-900",children:"Safety Confirmation"})]}),p.jsx("p",{className:"text-slate-600 mb-6 text-sm leading-relaxed",children:"I confirm I have performed this retorque within the specifications and no anomalies were detected during the process."}),p.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 mb-6 text-sm",children:[p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"text-slate-500",children:"Vehicle:"}),p.jsx("span",{className:"font-bold",children:i.vehicleReg})]}),p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{className:"text-slate-500",children:"Position:"}),p.jsx("span",{className:"font-bold",children:ji(i.positionId)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-slate-500",children:"Torque Spec:"}),p.jsxs("span",{className:"font-bold font-mono",children:[i.torqueSpec," Nm"]})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>a(null),className:"flex-1 py-3 text-slate-500 hover:bg-slate-100 rounded-lg font-medium transition",children:"Cancel"}),p.jsx("button",{onClick:v,className:"flex-1 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 shadow-lg shadow-green-200 transition btn-press",children:"I Certify & Confirm"})]})]})})]})}function UC({removedTyres:r,onDispose:e,onRestock:i}){const[a,o]=me.useState(null),[c,d]=me.useState(""),g=()=>{c&&(i(a,c),o(null),d(""))};return p.jsxs("div",{className:"space-y-6 bg-white p-6 rounded shadow animate-enter",children:[p.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[p.jsx(ml,{className:"w-5 h-5 text-red-500"})," Removed Tyres"]}),p.jsx("div",{className:"overflow-x-auto border rounded",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Removed Date"}),p.jsx("th",{className:"p-3",children:"Old Barcode"}),p.jsx("th",{className:"p-3",children:"Details"}),p.jsx("th",{className:"p-3",children:"Removed From"}),p.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),p.jsxs("tbody",{className:"divide-y",children:[r.map(v=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-3",children:new Date(v.removedDate).toLocaleDateString()}),p.jsx("td",{className:"p-3 font-mono text-xs text-slate-500 line-through",children:v.barcode}),p.jsxs("td",{className:"p-3",children:[p.jsx("div",{className:"font-bold",children:v.brand}),p.jsx("div",{className:"text-xs text-slate-500",children:v.size})]}),p.jsxs("td",{className:"p-3",children:[p.jsx("div",{className:"font-bold",children:v.removedFrom}),p.jsx("div",{className:"text-xs text-slate-500",children:ji(v.removedPosition)})]}),p.jsx("td",{className:"p-3 text-right",children:p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsxs("button",{onClick:()=>o(v),className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-xs font-bold transition",children:[p.jsx(lC,{className:"w-3 h-3"})," Restock"]}),p.jsxs("button",{onClick:()=>e(v.id),className:"flex items-center gap-1 px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 text-xs font-bold transition",children:[p.jsx(ml,{className:"w-3 h-3"})," Dispose"]})]})})]},v.id)),r.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:"5",className:"p-8 text-center text-slate-400",children:"No removed tyres pending action."})})]})]})}),a&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 animate-enter",children:[p.jsx("h3",{className:"font-bold text-lg mb-4",children:"Restock Tyre"}),p.jsx("p",{className:"text-sm text-slate-600 mb-4",children:'This will generate a new barcode label and add the tyre back to stock as "Used".'}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Measured Tread Depth (mm)"}),p.jsx("input",{type:"number",autoFocus:!0,className:"w-full p-2 border rounded",value:c,onChange:v=>d(v.target.value)})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>o(null),className:"flex-1 py-2 border rounded text-slate-500 hover:bg-slate-50",children:"Cancel"}),p.jsx("button",{onClick:g,className:"flex-1 py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700 shadow-md btn-press",children:"Confirm & Print"})]})]})})]})}function LC({history:r,retorques:e}){const[i,a]=me.useState(new Date().toISOString().slice(0,10)),[o,c]=me.useState(new Date().toISOString().slice(0,10)),[d,g]=me.useState("fitment"),[v,y]=me.useState(""),[E,w]=me.useState(""),M=[...new Set([...r.map(A=>A.vehicleReg),...e.map(A=>A.vehicleReg)])].sort(),z=[...new Set([...r.map(A=>A.fitter),...e.map(A=>A.fitter)])].sort(),$=(A,R)=>{const I=A[R].split("T")[0],D=I>=i&&I<=o,j=v?A.vehicleReg===v:!0,x=E?A.fitter===E:!0;return D&&j&&x},ee=r.filter(A=>$(A,"fitDate")),W=e.filter(A=>$(A,"fitmentDate")),{items:fe,requestSort:Z,sortConfig:oe}=mh(ee,{key:"fitDate",direction:"descending"}),{items:Ee,requestSort:se,sortConfig:ue}=mh(W,{key:"fitmentDate",direction:"descending"}),N=()=>{let A="";d==="fitment"?A=`Date,Barcode,Brand,Size,DOT,Vehicle,Pos,Fitter,Reason
`+fe.map(I=>`${I.fitDate},${I.barcode},${I.brand},${I.size},${I.dot},${I.vehicleReg},${ji(I.position)},${I.fitter},${I.reason||"Tyre Fitted"}`).join(`
`):A=`Fitment Date,Due Date,Type,Reason,Vehicle,Position,Status,Fitter
`+Ee.map(I=>`${I.fitmentDate},${I.dueDate},${I.type},${I.reason},${I.vehicleReg},${ji(I.positionId)},${I.status},${I.fitter}`).join(`
`);const R=document.createElement("a");R.href="data:text/csv;charset=utf-8,"+encodeURI(A),R.download=`${d}_report.csv`,R.click()};return p.jsxs("div",{className:"space-y-6 bg-white p-6 rounded shadow animate-enter",children:[p.jsxs("div",{className:"flex items-center gap-4 border-b pb-4 mb-4",children:[p.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 flex-1",children:[p.jsx(z1,{className:"w-5 h-5 text-blue-600"})," Reports"]}),p.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[p.jsx("button",{onClick:()=>g("fitment"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${d==="fitment"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:"Fitment History"}),p.jsx("button",{onClick:()=>g("retorque"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${d==="retorque"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:"Retorque Logs"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 items-end mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"From"}),p.jsx("input",{type:"date",value:i,onChange:A=>a(A.target.value),className:"border p-2 rounded w-full"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"To"}),p.jsx("input",{type:"date",value:o,onChange:A=>c(A.target.value),className:"border p-2 rounded w-full"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"Vehicle"}),p.jsxs("select",{value:v,onChange:A=>y(A.target.value),className:"border p-2 rounded w-full bg-white",children:[p.jsx("option",{value:"",children:"All Vehicles"}),M.map(A=>p.jsx("option",{value:A,children:A},A))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"Fitter"}),p.jsxs("select",{value:E,onChange:A=>w(A.target.value),className:"border p-2 rounded w-full bg-white",children:[p.jsx("option",{value:"",children:"All Fitters"}),z.map(A=>p.jsx("option",{value:A,children:A},A))]})]}),p.jsxs("button",{onClick:N,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center justify-center gap-2 hover:bg-green-700 shadow-md transition btn-press",children:[p.jsx(XN,{className:"w-4 h-4"})," Export CSV"]})]}),p.jsx("div",{className:"overflow-x-auto border rounded",children:d==="fitment"?p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx(ut,{label:"Date",sortKey:"fitDate",requestSort:Z,sortConfig:oe}),p.jsx(ut,{label:"Barcode",sortKey:"barcode",requestSort:Z,sortConfig:oe}),p.jsx(ut,{label:"Brand",sortKey:"brand",requestSort:Z,sortConfig:oe}),p.jsx(ut,{label:"Size",sortKey:"size",requestSort:Z,sortConfig:oe}),p.jsx(ut,{label:"Reason",sortKey:"reason",requestSort:Z,sortConfig:oe}),p.jsx(ut,{label:"Vehicle",sortKey:"vehicleReg",requestSort:Z,sortConfig:oe}),p.jsx(ut,{label:"Pos",sortKey:"position",requestSort:Z,sortConfig:oe}),p.jsx(ut,{label:"Fitter",sortKey:"fitter",requestSort:Z,sortConfig:oe})]})}),p.jsx("tbody",{children:fe.map(A=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-3",children:new Date(A.fitDate).toLocaleDateString()}),p.jsx("td",{className:"p-3 font-mono",children:A.barcode}),p.jsx("td",{className:"p-3",children:A.brand}),p.jsx("td",{className:"p-3",children:A.size}),p.jsx("td",{className:"p-3 text-slate-500",children:A.reason||"Tyre Fitted"}),p.jsx("td",{className:"p-3 font-bold",children:A.vehicleReg}),p.jsx("td",{className:"p-3",children:ji(A.position)}),p.jsx("td",{className:"p-3 font-bold",children:A.fitter})]},A.id))})]}):p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx(ut,{label:"Fit Date",sortKey:"fitmentDate",requestSort:se,sortConfig:ue}),p.jsx(ut,{label:"Due Date",sortKey:"dueDate",requestSort:se,sortConfig:ue}),p.jsx(ut,{label:"Type",sortKey:"type",requestSort:se,sortConfig:ue}),p.jsx(ut,{label:"Reason",sortKey:"reason",requestSort:se,sortConfig:ue}),p.jsx(ut,{label:"Vehicle",sortKey:"vehicleReg",requestSort:se,sortConfig:ue}),p.jsx(ut,{label:"Position",sortKey:"positionId",requestSort:se,sortConfig:ue}),p.jsx(ut,{label:"Status",sortKey:"status",requestSort:se,sortConfig:ue}),p.jsx(ut,{label:"Completed",sortKey:"completedDate",requestSort:se,sortConfig:ue}),p.jsx(ut,{label:"Fitter",sortKey:"fitter",requestSort:se,sortConfig:ue})]})}),p.jsx("tbody",{children:Ee.map(A=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-3 text-slate-500",children:new Date(A.fitmentDate).toLocaleDateString()}),p.jsx("td",{className:"p-3 font-bold",children:new Date(A.dueDate).toLocaleString()}),p.jsx("td",{className:"p-3",children:p.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold text-white ${A.type.includes("30")?"bg-blue-500":"bg-purple-500"}`,children:A.type})}),p.jsx("td",{className:"p-3 text-slate-600 text-xs",children:A.reason}),p.jsx("td",{className:"p-3 font-bold",children:A.vehicleReg}),p.jsx("td",{className:"p-3",children:ji(A.positionId)}),p.jsx("td",{className:"p-3",children:p.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${A.status==="Completed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:A.status})}),p.jsx("td",{className:"p-3",children:A.completedDate?new Date(A.completedDate).toLocaleString():"-"}),p.jsx("td",{className:"p-3 font-bold",children:A.fitter})]},A.id))})]})})]})}function PC({sizes:r,onAddSize:e,onRemoveSize:i,onSeed:a,users:o,onAddUser:c,onRemoveUser:d,onRequestNotifications:g}){const[v,y]=me.useState(""),[E,w]=me.useState({initials:"",pin:"",role:"Fitter"}),M=z=>{z.preventDefault(),E.initials&&E.pin&&(c({...E,initials:E.initials.toUpperCase()}),w({initials:"",pin:"",role:"Fitter"}))};return p.jsxs("div",{className:"grid md:grid-cols-2 gap-8 animate-enter",children:[p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[p.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[p.jsx(up,{className:"w-5 h-5"})," Tyre Configuration"]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"font-bold text-sm mb-2",children:"Tyre Sizes"}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map(z=>p.jsxs("span",{className:"bg-slate-100 px-3 py-1 rounded-full text-sm flex gap-2 items-center",children:[z.name,p.jsx("button",{onClick:()=>i(z.id),className:"text-red-400 hover:text-red-600",children:p.jsx(dh,{className:"w-3 h-3"})})]},z.id))}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{className:"border p-2 rounded flex-1",placeholder:"New Size",value:v,onChange:z=>y(z.target.value)}),p.jsx("button",{onClick:()=>{e(v),y("")},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add"})]})]}),p.jsxs("div",{className:"border-t pt-6",children:[p.jsx("h4",{className:"font-bold text-sm mb-2",children:"Notifications"}),p.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Enable browser alerts for upcoming retorques."}),p.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 px-4 py-2 rounded text-sm font-medium transition",children:[p.jsx(LN,{className:"w-4 h-4"})," Enable Notifications"]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[p.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[p.jsx(dv,{className:"w-5 h-5"})," System Actions"]}),p.jsx("p",{className:"text-xs text-red-600 font-bold mb-4",children:"If you are not Dale - DO NOT press this button"}),p.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-slate-800 text-white px-4 py-2 rounded hover:bg-slate-900 w-full justify-center",children:[p.jsx(dv,{className:"w-4 h-4"})," Initialize Database"]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded shadow h-fit",children:[p.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[p.jsx(TC,{className:"w-5 h-5"})," User Management"]}),p.jsxs("form",{onSubmit:M,className:"bg-slate-50 p-4 rounded mb-6 border",children:[p.jsx("h4",{className:"font-bold text-sm mb-3",children:"Add New User"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[p.jsx("input",{className:"border p-2 rounded uppercase",placeholder:"Initials",maxLength:3,value:E.initials,onChange:z=>w({...E,initials:z.target.value}),required:!0}),p.jsx("input",{className:"border p-2 rounded",placeholder:"PIN",maxLength:4,type:"password",value:E.pin,onChange:z=>w({...E,pin:z.target.value}),required:!0})]}),p.jsxs("select",{className:"w-full border p-2 rounded mb-2",value:E.role,onChange:z=>w({...E,role:z.target.value}),children:[p.jsx("option",{value:"Admin",children:"Admin"}),p.jsx("option",{value:"Manager",children:"Manager"}),p.jsx("option",{value:"Fitter",children:"Fitter"})]}),p.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded font-bold",children:"Create User"})]}),p.jsx("div",{className:"space-y-2",children:o.map(z=>p.jsxs("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-slate-50",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold",children:z.initials}),p.jsx("div",{className:"text-xs text-slate-500",children:z.role})]}),p.jsx("button",{onClick:()=>d(z.id),className:"text-red-400 hover:text-red-600",children:p.jsx(ml,{className:"w-4 h-4"})})]},z.id))})]})]})}OE.createRoot(document.getElementById("root")).render(p.jsx(me.StrictMode,{children:p.jsx(DC,{})}));
