function Ub(s,e){for(var i=0;i<e.length;i++){const a=e[i];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in s)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(s,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Pb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var kd={exports:{}},Cl={};var H_;function jb(){if(H_)return Cl;H_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Cl.Fragment=e,Cl.jsx=i,Cl.jsxs=i,Cl}var F_;function zb(){return F_||(F_=1,kd.exports=jb()),kd.exports}var E=zb(),Ld={exports:{}},Ce={};var G_;function Bb(){if(G_)return Ce;G_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ee={};function ce(O,K,ne){this.props=O,this.context=K,this.refs=ee,this.updater=ne||Q}ce.prototype.isReactComponent={},ce.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ce.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function me(){}me.prototype=ce.prototype;function $(O,K,ne){this.props=O,this.context=K,this.refs=ee,this.updater=ne||Q}var Re=$.prototype=new me;Re.constructor=$,te(Re,ce.prototype),Re.isPureReactComponent=!0;var Oe=Array.isArray;function Se(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,K,ne){var re=ne.ref;return{$$typeof:s,type:O,key:K,ref:re!==void 0?re:null,props:ne}}function V(O,K){return C(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return K[ne]})}var R=/\/+/g;function Je(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function Le(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Se,Se):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function L(O,K,ne,re,Te){var Ne=typeof O;(Ne==="undefined"||Ne==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(Ne){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case s:case e:Be=!0;break;case b:return Be=O._init,L(Be(O._payload),K,ne,re,Te)}}if(Be)return Te=Te(O),Be=re===""?"."+Je(O,0):re,Oe(Te)?(ne="",Be!=null&&(ne=Be.replace(R,"$&/")+"/"),L(Te,K,ne,"",function(yi){return yi})):Te!=null&&(D(Te)&&(Te=V(Te,ne+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Be)),K.push(Te)),1;Be=0;var Ct=re===""?".":re+":";if(Oe(O))for(var nt=0;nt<O.length;nt++)re=O[nt],Ne=Ct+Je(re,nt),Be+=L(re,K,ne,Ne,Te);else if(nt=q(O),typeof nt=="function")for(O=nt.call(O),nt=0;!(re=O.next()).done;)re=re.value,Ne=Ct+Je(re,nt++),Be+=L(re,K,ne,Ne,Te);else if(Ne==="object"){if(typeof O.then=="function")return L(Le(O),K,ne,re,Te);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Be}function W(O,K,ne){if(O==null)return O;var re=[],Te=0;return L(O,re,"","",function(Ne){return K.call(ne,Ne,Te++)}),re}function le(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var se=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},xe={map:W,forEach:function(O,K,ne){W(O,function(){K.apply(this,arguments)},ne)},count:function(O){var K=0;return W(O,function(){K++}),K},toArray:function(O){return W(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ce.Activity=A,Ce.Children=xe,Ce.Component=ce,Ce.Fragment=i,Ce.Profiler=l,Ce.PureComponent=$,Ce.StrictMode=a,Ce.Suspense=_,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(O,K,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=te({},O.props),Te=O.key;if(K!=null)for(Ne in K.key!==void 0&&(Te=""+K.key),K)!w.call(K,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&K.ref===void 0||(re[Ne]=K[Ne]);var Ne=arguments.length-2;if(Ne===1)re.children=ne;else if(1<Ne){for(var Be=Array(Ne),Ct=0;Ct<Ne;Ct++)Be[Ct]=arguments[Ct+2];re.children=Be}return C(O.type,Te,re)},Ce.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ce.createElement=function(O,K,ne){var re,Te={},Ne=null;if(K!=null)for(re in K.key!==void 0&&(Ne=""+K.key),K)w.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Te[re]=K[re]);var Be=arguments.length-2;if(Be===1)Te.children=ne;else if(1<Be){for(var Ct=Array(Be),nt=0;nt<Be;nt++)Ct[nt]=arguments[nt+2];Te.children=Ct}if(O&&O.defaultProps)for(re in Be=O.defaultProps,Be)Te[re]===void 0&&(Te[re]=Be[re]);return C(O,Ne,Te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:g,render:O}},Ce.isValidElement=D,Ce.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:le}},Ce.memo=function(O,K){return{$$typeof:p,type:O,compare:K===void 0?null:K}},Ce.startTransition=function(O){var K=I.T,ne={};I.T=ne;try{var re=O(),Te=I.S;Te!==null&&Te(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Se,se)}catch(Ne){se(Ne)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),I.T=K}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(O){return I.H.use(O)},Ce.useActionState=function(O,K,ne){return I.H.useActionState(O,K,ne)},Ce.useCallback=function(O,K){return I.H.useCallback(O,K)},Ce.useContext=function(O){return I.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},Ce.useEffect=function(O,K){return I.H.useEffect(O,K)},Ce.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(O,K,ne){return I.H.useImperativeHandle(O,K,ne)},Ce.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},Ce.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},Ce.useMemo=function(O,K){return I.H.useMemo(O,K)},Ce.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},Ce.useReducer=function(O,K,ne){return I.H.useReducer(O,K,ne)},Ce.useRef=function(O){return I.H.useRef(O)},Ce.useState=function(O){return I.H.useState(O)},Ce.useSyncExternalStore=function(O,K,ne){return I.H.useSyncExternalStore(O,K,ne)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.3",Ce}var Q_;function Nm(){return Q_||(Q_=1,Ld.exports=Bb()),Ld.exports}var cr=Nm();const qb=Pb(cr),Hb=Ub({__proto__:null,default:qb},[cr]);var Ud={exports:{}},Il={},Pd={exports:{}},jd={};var K_;function Fb(){return K_||(K_=1,(function(s){function e(L,W){var le=L.length;L.push(W);e:for(;0<le;){var se=le-1>>>1,xe=L[se];if(0<l(xe,W))L[se]=W,L[le]=xe,le=se;else break e}}function i(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var W=L[0],le=L.pop();if(le!==W){L[0]=le;e:for(var se=0,xe=L.length,O=xe>>>1;se<O;){var K=2*(se+1)-1,ne=L[K],re=K+1,Te=L[re];if(0>l(ne,le))re<xe&&0>l(Te,ne)?(L[se]=Te,L[re]=le,se=re):(L[se]=ne,L[K]=le,se=K);else if(re<xe&&0>l(Te,le))L[se]=Te,L[re]=le,se=re;else break e}}return W}function l(L,W){var le=L.sortIndex-W.sortIndex;return le!==0?le:L.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],p=[],b=1,A=null,N=3,q=!1,Q=!1,te=!1,ee=!1,ce=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Re(L){for(var W=i(p);W!==null;){if(W.callback===null)a(p);else if(W.startTime<=L)a(p),W.sortIndex=W.expirationTime,e(_,W);else break;W=i(p)}}function Oe(L){if(te=!1,Re(L),!Q)if(i(_)!==null)Q=!0,Se||(Se=!0,k());else{var W=i(p);W!==null&&Le(Oe,W.startTime-L)}}var Se=!1,I=-1,w=5,C=-1;function V(){return ee?!0:!(s.unstable_now()-C<w)}function D(){if(ee=!1,Se){var L=s.unstable_now();C=L;var W=!0;try{e:{Q=!1,te&&(te=!1,me(I),I=-1),q=!0;var le=N;try{t:{for(Re(L),A=i(_);A!==null&&!(A.expirationTime>L&&V());){var se=A.callback;if(typeof se=="function"){A.callback=null,N=A.priorityLevel;var xe=se(A.expirationTime<=L);if(L=s.unstable_now(),typeof xe=="function"){A.callback=xe,Re(L),W=!0;break t}A===i(_)&&a(_),Re(L)}else a(_);A=i(_)}if(A!==null)W=!0;else{var O=i(p);O!==null&&Le(Oe,O.startTime-L),W=!1}}break e}finally{A=null,N=le,q=!1}W=void 0}}finally{W?k():Se=!1}}}var k;if(typeof $=="function")k=function(){$(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Je=R.port2;R.port1.onmessage=D,k=function(){Je.postMessage(null)}}else k=function(){ce(D,0)};function Le(L,W){I=ce(function(){L(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(L){switch(N){case 1:case 2:case 3:var W=3;break;default:W=N}var le=N;N=W;try{return L()}finally{N=le}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var le=N;N=L;try{return W()}finally{N=le}},s.unstable_scheduleCallback=function(L,W,le){var se=s.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?se+le:se):le=se,L){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=le+xe,L={id:b++,callback:W,priorityLevel:L,startTime:le,expirationTime:xe,sortIndex:-1},le>se?(L.sortIndex=le,e(p,L),i(_)===null&&L===i(p)&&(te?(me(I),I=-1):te=!0,Le(Oe,le-se))):(L.sortIndex=xe,e(_,L),Q||q||(Q=!0,Se||(Se=!0,k()))),L},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(L){var W=N;return function(){var le=N;N=W;try{return L.apply(this,arguments)}finally{N=le}}}})(jd)),jd}var Y_;function Gb(){return Y_||(Y_=1,Pd.exports=Fb()),Pd.exports}var zd={exports:{}},cn={};var X_;function Qb(){if(X_)return cn;X_=1;var s=Nm();function e(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,p,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:p,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(_,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(_,p,null,b)},cn.flushSync=function(_){var p=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=p,a.p=b,a.d.f()}},cn.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(_,p))},cn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},cn.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var b=p.as,A=g(b,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?a.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:q}):b==="script"&&a.d.X(_,{crossOrigin:A,integrity:N,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cn.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=g(p.as,p.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(_)},cn.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,A=g(b,p.crossOrigin);a.d.L(_,b,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cn.preloadModule=function(_,p){if(typeof _=="string")if(p){var b=g(p.as,p.crossOrigin);a.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(_)},cn.requestFormReset=function(_){a.d.r(_)},cn.unstable_batchedUpdates=function(_,p){return _(p)},cn.useFormState=function(_,p,b){return d.H.useFormState(_,p,b)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var $_;function Kb(){if($_)return zd.exports;$_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=Qb(),zd.exports}var Z_;function Yb(){if(Z_)return Il;Z_=1;var s=Gb(),e=Nm(),i=Kb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var y=!1,T=h.child;T;){if(T===r){y=!0,r=h,o=f;break}if(T===o){y=!0,o=h,r=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===r){y=!0,r=f,o=h;break}if(T===o){y=!0,o=f,r=h;break}T=T.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case ce:return"Profiler";case ee:return"StrictMode";case Oe:return"Suspense";case Se:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case $:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case Re:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Je(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Je(t(n))}catch{}}return null}var Le=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},se=[],xe=-1;function O(t){return{current:t}}function K(t){0>xe||(t.current=se[xe],se[xe]=null,xe--)}function ne(t,n){xe++,se[xe]=t.current,t.current=n}var re=O(null),Te=O(null),Ne=O(null),Be=O(null);function Ct(t,n){switch(ne(Ne,n),ne(Te,t),ne(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?f_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=f_(n),t=d_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(re),ne(re,t)}function nt(){K(re),K(Te),K(Ne)}function yi(t){t.memoizedState!==null&&ne(Be,t);var n=re.current,r=d_(n,t.type);n!==r&&(ne(Te,t),ne(re,r))}function Yi(t){Te.current===t&&(K(re),K(Te)),Be.current===t&&(K(Be),Sl._currentValue=le)}var Xi,ae;function de(t){if(Xi===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Xi=n&&n[1]||"",ae=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xi+t+ae}var pe=!1;function Xe(t,n){if(!t||pe)return"";pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var B=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){B=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){B=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var x=y.split(`
`),z=T.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===z.length)for(o=x.length-1,h=z.length-1;1<=o&&0<=h&&x[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==z[h]){var G=`
`+x[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{pe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?de(r):""}function Tt(t,n){switch(t.tag){case 26:case 27:case 5:return de(t.type);case 16:return de("Lazy");case 13:return t.child!==n&&n!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return Xe(t.type,!1);case 11:return Xe(t.type.render,!1);case 1:return Xe(t.type,!0);case 31:return de("Activity");default:return""}}function it(t){try{var n="",r=null;do n+=Tt(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Pe=Object.prototype.hasOwnProperty,Ee=s.unstable_scheduleCallback,be=s.unstable_cancelCallback,Ue=s.unstable_shouldYield,Et=s.unstable_requestPaint,bt=s.unstable_now,jn=s.unstable_getCurrentPriorityLevel,ti=s.unstable_ImmediatePriority,$i=s.unstable_UserBlockingPriority,At=s.unstable_NormalPriority,gn=s.unstable_LowPriority,Zi=s.unstable_IdlePriority,ni=s.log,Rs=s.unstable_setDisableYieldValue,In=null,Wt=null;function zn(t){if(typeof ni=="function"&&Rs(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(In,t)}catch{}}var It=Math.clz32?Math.clz32:ru,su=Math.log,pa=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(su(t)/pa|0)|0}var _i=256,Ir=262144,Vt=4194304;function vi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=vi(o):(y&=T,y!==0?h=vi(y):r||(r=T&~t,r!==0&&(h=vi(r))))):(T=o&~f,T!==0?h=vi(T):y!==0?h=vi(y):r||(r=o&~t,r!==0&&(h=vi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ii(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ph(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),t}function Ei(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function xr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jh(t,n,r,o,h,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-It(r),X=1<<G;T[G]=0,x[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var F=B[G];F!==null&&(F.lane&=-536870913)}r&=~X}o!==0&&Nr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Nr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-It(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Io(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-It(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function xo(t,n){var r=n&-n;return r=(r&42)!==0?1:Dr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:L_(t.type))}function si(t,n){var r=W.p;try{return W.p=t,n()}finally{W.p=r}}var ri=Math.random().toString(36).slice(2),kt="__reactFiber$"+ri,Yt="__reactProps$"+ri,bi="__reactContainer$"+ri,ya="__reactEvents$"+ri,zh="__reactListeners$"+ri,lu="__reactHandles$"+ri,uu="__reactResources$"+ri,Si="__reactMarker$"+ri;function _a(t){delete t[kt],delete t[Yt],delete t[ya],delete t[zh],delete t[lu]}function Ai(t){var n=t[kt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[bi]||r[kt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=T_(t);t!==null;){if(r=t[kt])return r;t=T_(t)}return n}t=r,r=t.parentNode}return null}function Bn(t){if(t=t[kt]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function xn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function wi(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[Si]=!0}var No=new Set,Do={};function Ri(t,n){Ci(t,n),Ci(t+"Capture",n)}function Ci(t,n){for(Do[t]=n,t=0;t<n.length;t++)No.add(n[t])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function cu(t){return Pe.call(Vo,t)?!0:Pe.call(Mo,t)?!1:Oo.test(t)?Vo[t]=!0:(Mo[t]=!0,!1)}function va(t,n,r){if(cu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Nn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ut(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ko(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=Cs(t)?"checked":"value";t._valueTracker=ko(t,n,""+t[n])}}function Or(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Cs(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mr=/[\n"\\]/g;function _n(t){return t.replace(Mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,r,o,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xt(n)):t.value!==""+Xt(n)&&(t.value=""+Xt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Lo(t,y,Xt(n)):r!=null?Lo(t,y,Xt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Xt(T):t.removeAttribute("name")}function hu(t,n,r,o,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){st(t);return}r=r!=null?""+Xt(r):"",n=n!=null?""+Xt(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),st(t)}function Lo(t,n,r){n==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Is(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Xt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,r){if(n!=null&&(n=""+Xt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xt(r):""}function xs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Le(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Xt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),st(t)}function vn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||du.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Po(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Uo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Uo(t,f,n[f])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var jo=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,xi=null;function Vr(t){var n=Bn(t);if(n&&(t=n.stateNode)){var r=t[Yt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Yt]||null;if(!h)throw Error(a(90));Ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Or(o)}break e;case"textarea":fu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Is(t,!!r.multiple,n,!1)}}}var Sa=!1;function Os(t,n,r){if(Sa)return t(n,r);Sa=!0;try{var o=t(n);return o}finally{if(Sa=!1,(Ds!==null||xi!==null)&&(oc(),Ds&&(n=Ds,t=xi,xi=Ds=null,Vr(n),t)))for(n=0;n<t.length;n++)Vr(t[n])}}function oi(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Yt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Hn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){kr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{kr=!1}var Ni=null,zo=null,Lr=null;function Bo(){if(Lr)return Lr;var t,n=zo,r=n.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var y=r-t;for(o=1;o<=y&&n[r-o]===h[f-o];o++);return Lr=h.slice(t,1<o?1-o:void 0)}function Ur(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function li(){return!1}function en(t){function n(r,o,h,f,y){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:li,this.isPropagationStopped=li,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),n}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=en(es),Ms=A({},es,{view:0,detail:0}),qo=en(Ms),Vs,Aa,Oi,wa=A({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Vs=t.screenX-Oi.screenX,Aa=t.screenY-Oi.screenY):Aa=Vs=0,Oi=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Ho=en(wa),Pr=A({},wa,{dataTransfer:0}),gu=en(Pr),pu=A({},Ms,{relatedTarget:0}),jr=en(pu),Fo=A({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=en(Fo),Ra=A({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=en(Ra),vu=A({},es,{data:0}),Mi=en(vu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function ks(){return Su}var pn=A({},Ms,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Au=en(pn),wu=A({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=en(wu),u=A({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=en(u),v=A({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=en(v),P=A({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=en(P),ie=A({},es,{newState:0,oldState:0}),Me=en(ie),xt=[9,13,27,32],We=Hn&&"CompositionEvent"in window,_t=null;Hn&&"documentMode"in document&&(_t=document.documentMode);var Fn=Hn&&"TextEvent"in window&&!_t,Vi=Hn&&(!We||_t&&8<_t&&11>=_t),ui=" ",ci=!1;function zr(t,n){switch(t){case"keyup":return xt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function o1(t,n){switch(t){case"compositionend":return Ca(n);case"keypress":return n.which!==32?null:(ci=!0,ui);case"textInput":return t=n.data,t===ui&&ci?null:t;default:return null}}function l1(t,n){if(Ia)return t==="compositionend"||!We&&zr(t,n)?(t=Bo(),Lr=zo=Ni=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!u1[t.type]:n==="textarea"}function Ag(t,n,r,o){Ds?xi?xi.push(o):xi=[o]:Ds=o,n=mc(n,"onChange"),0<n.length&&(r=new Di("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Go=null,Qo=null;function c1(t){a_(t,0)}function Ru(t){var n=xn(t);if(Or(n))return t}function wg(t,n){if(t==="change")return n}var Rg=!1;if(Hn){var Bh;if(Hn){var qh="oninput"in document;if(!qh){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),qh=typeof Cg.oninput=="function"}Bh=qh}else Bh=!1;Rg=Bh&&(!document.documentMode||9<document.documentMode)}function Ig(){Go&&(Go.detachEvent("onpropertychange",xg),Qo=Go=null)}function xg(t){if(t.propertyName==="value"&&Ru(Qo)){var n=[];Ag(n,Qo,t,qn(t)),Os(c1,n)}}function h1(t,n,r){t==="focusin"?(Ig(),Go=n,Qo=r,Go.attachEvent("onpropertychange",xg)):t==="focusout"&&Ig()}function f1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Qo)}function d1(t,n){if(t==="click")return Ru(n)}function m1(t,n){if(t==="input"||t==="change")return Ru(n)}function g1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dn=typeof Object.is=="function"?Object.is:g1;function Ko(t,n){if(Dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Pe.call(n,h)||!Dn(t[h],n[h]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,n){var r=Ng(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ng(r)}}function Og(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Og(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ii(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ii(t.document)}return n}function Hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var p1=Hn&&"documentMode"in document&&11>=document.documentMode,xa=null,Fh=null,Yo=null,Gh=!1;function Vg(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||xa==null||xa!==Ii(o)||(o=xa,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yo&&Ko(Yo,o)||(Yo=o,o=mc(Fh,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=xa)))}function Br(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Na={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},Qh={},kg={};Hn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function qr(t){if(Qh[t])return Qh[t];if(!Na[t])return t;var n=Na[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in kg)return Qh[t]=n[r];return t}var Lg=qr("animationend"),Ug=qr("animationiteration"),Pg=qr("animationstart"),y1=qr("transitionrun"),_1=qr("transitionstart"),v1=qr("transitioncancel"),jg=qr("transitionend"),zg=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function hi(t,n){zg.set(t,n),Ri(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],Da=0,Yh=0;function Iu(){for(var t=Da,n=Yh=Da=0;n<t;){var r=Gn[n];Gn[n++]=null;var o=Gn[n];Gn[n++]=null;var h=Gn[n];Gn[n++]=null;var f=Gn[n];if(Gn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Bg(r,h,f)}}function xu(t,n,r,o){Gn[Da++]=t,Gn[Da++]=n,Gn[Da++]=r,Gn[Da++]=o,Yh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Xh(t,n,r,o){return xu(t,n,r,o),Nu(t)}function Hr(t,n){return xu(t,null,null,n),Nu(t)}function Bg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-It(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Nu(t){if(50<pl)throw pl=0,rd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Oa={};function T1(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,n,r,o){return new T1(t,n,r,o)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,n){var r=t.alternate;return r===null?(r=On(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function qg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,r,o,h,f){var y=0;if(o=t,typeof t=="function")$h(t)&&(y=1);else if(typeof t=="string")y=wb(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=On(31,r,n,h),t.elementType=C,t.lanes=f,t;case te:return Fr(r.children,h,f,n);case ee:y=8,h|=24;break;case ce:return t=On(12,r,n,h|2),t.elementType=ce,t.lanes=f,t;case Oe:return t=On(13,r,n,h),t.elementType=Oe,t.lanes=f,t;case Se:return t=On(19,r,n,h),t.elementType=Se,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:y=10;break e;case me:y=9;break e;case Re:y=11;break e;case I:y=14;break e;case w:y=16,o=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=On(y,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Fr(t,n,r,o){return t=On(7,t,o,n),t.lanes=r,t}function Zh(t,n,r){return t=On(6,t,null,n),t.lanes=r,t}function Hg(t){var n=On(18,null,null,0);return n.stateNode=t,n}function Jh(t,n,r){return n=On(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fg=new WeakMap;function Qn(t,n){if(typeof t=="object"&&t!==null){var r=Fg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:it(n)},Fg.set(t,n),n)}return{value:t,source:n,stack:it(n)}}var Ma=[],Va=0,Ou=null,Xo=0,Kn=[],Yn=0,Ls=null,ki=1,Li="";function is(t,n){Ma[Va++]=Xo,Ma[Va++]=Ou,Ou=t,Xo=n}function Gg(t,n,r){Kn[Yn++]=ki,Kn[Yn++]=Li,Kn[Yn++]=Ls,Ls=t;var o=ki;t=Li;var h=32-It(o)-1;o&=~(1<<h),r+=1;var f=32-It(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,ki=1<<32-It(n)+h|r<<h|o,Li=f+t}else ki=1<<f|r<<h|o,Li=t}function Wh(t){t.return!==null&&(is(t,1),Gg(t,1,0))}function ef(t){for(;t===Ou;)Ou=Ma[--Va],Ma[Va]=null,Xo=Ma[--Va],Ma[Va]=null;for(;t===Ls;)Ls=Kn[--Yn],Kn[Yn]=null,Li=Kn[--Yn],Kn[Yn]=null,ki=Kn[--Yn],Kn[Yn]=null}function Qg(t,n){Kn[Yn++]=ki,Kn[Yn++]=Li,Kn[Yn++]=Ls,ki=n.id,Li=n.overflow,Ls=t}var tn=null,dt=null,Ke=!1,Us=null,Xn=!1,tf=Error(a(519));function Ps(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(Qn(n,t)),tf}function Kg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[kt]=t,n[Yt]=o,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(r=0;r<_l.length;r++)ze(_l[r],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),xs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||c_(n.textContent,r)?(o.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),o.onScroll!=null&&ze("scroll",n),o.onScrollEnd!=null&&ze("scrollend",n),o.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||Ps(t,!0)}function Yg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:tn=tn.return}}function ka(t){if(t!==tn)return!1;if(!Ke)return Yg(t),Ke=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Td(t.type,t.memoizedProps)),r=!r),r&&dt&&Ps(t),Yg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=v_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=v_(t)}else n===27?(n=dt,Js(t.type)?(t=wd,wd=null,dt=t):dt=n):dt=tn?Zn(t.stateNode.nextSibling):null;return!0}function Gr(){dt=tn=null,Ke=!1}function nf(){var t=Us;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Us=null),t}function $o(t){Us===null?Us=[t]:Us.push(t)}var sf=O(null),Qr=null,ss=null;function js(t,n,r){ne(sf,n._currentValue),n._currentValue=r}function rs(t){t._currentValue=sf.current,K(sf)}function rf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function af(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var x=0;x<n.length;x++)if(T.context===n[x]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),rf(f.return,r,t),o||(y=null);break e}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),rf(y,r,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function La(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var T=h.type;Dn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===Be.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&af(n,t,r,o),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Qr=t,ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return Xg(Qr,t)}function Vu(t,n){return Qr===null&&Kr(t),Xg(t,n)}function Xg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ss===null){if(t===null)throw Error(a(308));ss=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ss=ss.next=n;return r}var E1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},b1=s.unstable_scheduleCallback,S1=s.unstable_NormalPriority,Pt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new E1,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&b1(S1,function(){t.controller.abort()})}var Jo=null,lf=0,Ua=0,Pa=null;function A1(t,n){if(Jo===null){var r=Jo=[];lf=0,Ua=hd(),Pa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return lf++,n.then($g,$g),n}function $g(){if(--lf===0&&Jo!==null){Pa!==null&&(Pa.status="fulfilled");var t=Jo;Jo=null,Ua=0,Pa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function w1(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Zg=L.S;L.S=function(t,n){Vy=bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&A1(t,n),Zg!==null&&Zg(t,n)};var Yr=O(null);function uf(){var t=Yr.current;return t!==null?t:ht.pooledCache}function ku(t,n){n===null?ne(Yr,Yr.current):ne(Yr,n.pool)}function Jg(){var t=uf();return t===null?null:{parent:Pt._currentValue,pool:t}}var ja=Error(a(460)),cf=Error(a(474)),Lu=Error(a(542)),Uu={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ep(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ai,ai),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t;default:if(typeof n.status=="string")n.then(ai,ai);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t}throw $r=n,ja}}function Xr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?($r=r,ja):r}}var $r=null;function tp(){if($r===null)throw Error(a(459));var t=$r;return $r=null,t}function np(t){if(t===ja||t===Lu)throw Error(a(483))}var za=null,Wo=0;function Pu(t){var n=Wo;return Wo+=1,za===null&&(za=[]),ep(za,t,n)}function el(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ju(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ip(t){function n(U,M){if(t){var j=U.deletions;j===null?(U.deletions=[M],U.flags|=16):j.push(M)}}function r(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=ns(U,M),U.index=0,U.sibling=null,U}function f(U,M,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<M?(U.flags|=67108866,M):j):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,j,Y){return M===null||M.tag!==6?(M=Zh(j,U.mode,Y),M.return=U,M):(M=h(M,j),M.return=U,M)}function x(U,M,j,Y){var ge=j.type;return ge===te?G(U,M,j.props.children,Y,j.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Xr(ge)===M.type)?(M=h(M,j.props),el(M,j),M.return=U,M):(M=Du(j.type,j.key,j.props,null,U.mode,Y),el(M,j),M.return=U,M)}function z(U,M,j,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Jh(j,U.mode,Y),M.return=U,M):(M=h(M,j.children||[]),M.return=U,M)}function G(U,M,j,Y,ge){return M===null||M.tag!==7?(M=Fr(j,U.mode,Y,ge),M.return=U,M):(M=h(M,j),M.return=U,M)}function X(U,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Zh(""+M,U.mode,j),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return j=Du(M.type,M.key,M.props,null,U.mode,j),el(j,M),j.return=U,j;case Q:return M=Jh(M,U.mode,j),M.return=U,M;case w:return M=Xr(M),X(U,M,j)}if(Le(M)||k(M))return M=Fr(M,U.mode,j,null),M.return=U,M;if(typeof M.then=="function")return X(U,Pu(M),j);if(M.$$typeof===$)return X(U,Vu(U,M),j);ju(U,M)}return null}function B(U,M,j,Y){var ge=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ge!==null?null:T(U,M,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case q:return j.key===ge?x(U,M,j,Y):null;case Q:return j.key===ge?z(U,M,j,Y):null;case w:return j=Xr(j),B(U,M,j,Y)}if(Le(j)||k(j))return ge!==null?null:G(U,M,j,Y,null);if(typeof j.then=="function")return B(U,M,Pu(j),Y);if(j.$$typeof===$)return B(U,M,Vu(U,j),Y);ju(U,j)}return null}function F(U,M,j,Y,ge){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(j)||null,T(M,U,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return U=U.get(Y.key===null?j:Y.key)||null,x(M,U,Y,ge);case Q:return U=U.get(Y.key===null?j:Y.key)||null,z(M,U,Y,ge);case w:return Y=Xr(Y),F(U,M,j,Y,ge)}if(Le(Y)||k(Y))return U=U.get(j)||null,G(M,U,Y,ge,null);if(typeof Y.then=="function")return F(U,M,j,Pu(Y),ge);if(Y.$$typeof===$)return F(U,M,j,Vu(M,Y),ge);ju(M,Y)}return null}function ue(U,M,j,Y){for(var ge=null,$e=null,fe=M,ke=M=0,He=null;fe!==null&&ke<j.length;ke++){fe.index>ke?(He=fe,fe=null):He=fe.sibling;var Ze=B(U,fe,j[ke],Y);if(Ze===null){fe===null&&(fe=He);break}t&&fe&&Ze.alternate===null&&n(U,fe),M=f(Ze,M,ke),$e===null?ge=Ze:$e.sibling=Ze,$e=Ze,fe=He}if(ke===j.length)return r(U,fe),Ke&&is(U,ke),ge;if(fe===null){for(;ke<j.length;ke++)fe=X(U,j[ke],Y),fe!==null&&(M=f(fe,M,ke),$e===null?ge=fe:$e.sibling=fe,$e=fe);return Ke&&is(U,ke),ge}for(fe=o(fe);ke<j.length;ke++)He=F(fe,U,ke,j[ke],Y),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?ke:He.key),M=f(He,M,ke),$e===null?ge=He:$e.sibling=He,$e=He);return t&&fe.forEach(function(ir){return n(U,ir)}),Ke&&is(U,ke),ge}function _e(U,M,j,Y){if(j==null)throw Error(a(151));for(var ge=null,$e=null,fe=M,ke=M=0,He=null,Ze=j.next();fe!==null&&!Ze.done;ke++,Ze=j.next()){fe.index>ke?(He=fe,fe=null):He=fe.sibling;var ir=B(U,fe,Ze.value,Y);if(ir===null){fe===null&&(fe=He);break}t&&fe&&ir.alternate===null&&n(U,fe),M=f(ir,M,ke),$e===null?ge=ir:$e.sibling=ir,$e=ir,fe=He}if(Ze.done)return r(U,fe),Ke&&is(U,ke),ge;if(fe===null){for(;!Ze.done;ke++,Ze=j.next())Ze=X(U,Ze.value,Y),Ze!==null&&(M=f(Ze,M,ke),$e===null?ge=Ze:$e.sibling=Ze,$e=Ze);return Ke&&is(U,ke),ge}for(fe=o(fe);!Ze.done;ke++,Ze=j.next())Ze=F(fe,U,ke,Ze.value,Y),Ze!==null&&(t&&Ze.alternate!==null&&fe.delete(Ze.key===null?ke:Ze.key),M=f(Ze,M,ke),$e===null?ge=Ze:$e.sibling=Ze,$e=Ze);return t&&fe.forEach(function(Lb){return n(U,Lb)}),Ke&&is(U,ke),ge}function ct(U,M,j,Y){if(typeof j=="object"&&j!==null&&j.type===te&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case q:e:{for(var ge=j.key;M!==null;){if(M.key===ge){if(ge=j.type,ge===te){if(M.tag===7){r(U,M.sibling),Y=h(M,j.props.children),Y.return=U,U=Y;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Xr(ge)===M.type){r(U,M.sibling),Y=h(M,j.props),el(Y,j),Y.return=U,U=Y;break e}r(U,M);break}else n(U,M);M=M.sibling}j.type===te?(Y=Fr(j.props.children,U.mode,Y,j.key),Y.return=U,U=Y):(Y=Du(j.type,j.key,j.props,null,U.mode,Y),el(Y,j),Y.return=U,U=Y)}return y(U);case Q:e:{for(ge=j.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){r(U,M.sibling),Y=h(M,j.children||[]),Y.return=U,U=Y;break e}else{r(U,M);break}else n(U,M);M=M.sibling}Y=Jh(j,U.mode,Y),Y.return=U,U=Y}return y(U);case w:return j=Xr(j),ct(U,M,j,Y)}if(Le(j))return ue(U,M,j,Y);if(k(j)){if(ge=k(j),typeof ge!="function")throw Error(a(150));return j=ge.call(j),_e(U,M,j,Y)}if(typeof j.then=="function")return ct(U,M,Pu(j),Y);if(j.$$typeof===$)return ct(U,M,Vu(U,j),Y);ju(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(r(U,M.sibling),Y=h(M,j),Y.return=U,U=Y):(r(U,M),Y=Zh(j,U.mode,Y),Y.return=U,U=Y),y(U)):r(U,M)}return function(U,M,j,Y){try{Wo=0;var ge=ct(U,M,j,Y);return za=null,ge}catch(fe){if(fe===ja||fe===Lu)throw fe;var $e=On(29,fe,null,U.mode);return $e.lanes=Y,$e.return=U,$e}}}var Zr=ip(!0),sp=ip(!1),zs=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(t),Bg(t,null,r),n}return xu(t,o,n,r),Nu(t)}function tl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Io(t,r)}}function df(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var mf=!1;function nl(){if(mf){var t=Pa;if(t!==null)throw t}}function il(t,n,r,o){mf=!1;var h=t.updateQueue;zs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,z=x.next;x.next=null,y===null?f=z:y.next=z,y=x;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==y&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=x))}if(f!==null){var X=h.baseState;y=0,G=z=x=null,T=f;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(qe&B)===B:(o&B)===B){B!==0&&B===Ua&&(mf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,_e=T;B=n;var ct=r;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){X=ue.call(ct,X,B);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,B=typeof ue=="function"?ue.call(ct,X,B):ue,B==null)break e;X=A({},X,B);break e;case 2:zs=!0}}B=T.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=F,x=X):G=G.next=F,y|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(x=X),h.baseState=x,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ks|=y,t.lanes=y,t.memoizedState=X}}function rp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ap(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)rp(r[t],n)}var Ba=O(null),zu=O(0);function op(t,n){t=ms,ne(zu,t),ne(Ba,n),ms=t|n.baseLanes}function gf(){ne(zu,ms),ne(Ba,Ba.current)}function pf(){ms=zu.current,K(Ba),K(zu)}var Mn=O(null),$n=null;function Hs(t){var n=t.alternate;ne(Nt,Nt.current&1),ne(Mn,t),$n===null&&(n===null||Ba.current!==null||n.memoizedState!==null)&&($n=t)}function yf(t){ne(Nt,Nt.current),ne(Mn,t),$n===null&&($n=t)}function lp(t){t.tag===22?(ne(Nt,Nt.current),ne(Mn,t),$n===null&&($n=t)):Fs()}function Fs(){ne(Nt,Nt.current),ne(Mn,Mn.current)}function Vn(t){K(Mn),$n===t&&($n=null),K(Nt)}var Nt=O(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Sd(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Ve=null,lt=null,jt=null,qu=!1,qa=!1,Jr=!1,Hu=0,sl=0,Ha=null,R1=0;function wt(){throw Error(a(321))}function _f(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Dn(t[r],n[r]))return!1;return!0}function vf(t,n,r,o,h,f){return as=f,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?Gp:Vf,Jr=!1,f=r(o,h),Jr=!1,qa&&(f=cp(n,r,o,h)),up(t),f}function up(t){L.H=ol;var n=lt!==null&&lt.next!==null;if(as=0,jt=lt=Ve=null,qu=!1,sl=0,Ha=null,n)throw Error(a(300));t===null||zt||(t=t.dependencies,t!==null&&Mu(t)&&(zt=!0))}function cp(t,n,r,o){Ve=t;var h=0;do{if(qa&&(Ha=null),sl=0,qa=!1,25<=h)throw Error(a(301));if(h+=1,jt=lt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=Qp,f=n(r,o)}while(qa);return f}function C1(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?rl(n):n,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Ve.flags|=1024),n}function Tf(){var t=Hu!==0;return Hu=0,t}function Ef(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function bf(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}as=0,jt=lt=Ve=null,qa=!1,sl=Hu=0,Ha=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ve.memoizedState=jt=t:jt=jt.next=t,jt}function Dt(){if(lt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var n=jt===null?Ve.memoizedState:jt.next;if(n!==null)jt=n,lt=t;else{if(t===null)throw Ve.alternate===null?Error(a(467)):Error(a(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},jt===null?Ve.memoizedState=jt=t:jt=jt.next=t}return jt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var n=sl;return sl+=1,Ha===null&&(Ha=[]),t=ep(Ha,t,n),n=Ve,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Gp:Vf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===$)return nn(t)}throw Error(a(438,String(t)))}function Sf(t){var n=null,r=Ve.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ve.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Fu(),Ve.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function os(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=Dt();return Af(n,lt,t)}function Af(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,x=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(qe&X)===X:(as&X)===X){var B=z.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ua&&(G=!0);else if((as&B)===B){z=z.next,B===Ua&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(T=x=X,y=f):x=x.next=X,Ve.lanes|=B,Ks|=B;X=z.action,Jr&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(T=x=B,y=f):x=x.next=B,Ve.lanes|=X,Ks|=X;z=z.next}while(z!==null&&z!==n);if(x===null?y=f:x.next=T,!Dn(f,t.memoizedState)&&(zt=!0,G&&(r=Pa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function wf(t){var n=Dt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Dn(f,n.memoizedState)||(zt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function hp(t,n,r){var o=Ve,h=Dt(),f=Ke;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!Dn((lt||h).memoizedState,r);if(y&&(h.memoizedState=r,zt=!0),h=h.queue,If(mp.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||jt!==null&&jt.memoizedState.tag&1){if(o.flags|=2048,Fa(9,{destroy:void 0},dp.bind(null,o,h,r,n),null),ht===null)throw Error(a(349));f||(as&127)!==0||fp(o,n,r)}return r}function fp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ve.updateQueue,n===null?(n=Fu(),Ve.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function dp(t,n,r,o){n.value=r,n.getSnapshot=o,gp(n)&&pp(t)}function mp(t,n,r){return r(function(){gp(n)&&pp(t)})}function gp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Dn(t,r)}catch{return!0}}function pp(t){var n=Hr(t,2);n!==null&&An(n,t,2)}function Rf(t){var n=yn();if(typeof t=="function"){var r=t;if(t=r(),Jr){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n}function yp(t,n,r,o){return t.baseState=r,Af(t,lt,typeof o=="function"?o:os)}function I1(t,n,r,o,h){if(Xu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};L.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,_p(n,f)):(f.next=r.next,n.pending=r.next=f)}}function _p(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=L.T,y={};L.T=y;try{var T=r(h,o),x=L.S;x!==null&&x(y,T),vp(t,n,T)}catch(z){Cf(t,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),L.T=f}}else try{f=r(h,o),vp(t,n,f)}catch(z){Cf(t,n,z)}}function vp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Tp(t,n,o)},function(o){return Cf(t,n,o)}):Tp(t,n,r)}function Tp(t,n,r){n.status="fulfilled",n.value=r,Ep(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,_p(t,r)))}function Cf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ep(n),n=n.next;while(n!==o)}t.action=null}function Ep(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bp(t,n){return n}function Sp(t,n){if(Ke){var r=ht.formState;if(r!==null){e:{var o=Ve;if(Ke){if(dt){t:{for(var h=dt,f=Xn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=Zn(h.nextSibling),o=h.data==="F!";break e}}Ps(o)}o=!1}o&&(n=r[0])}}return r=yn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:n},r.queue=o,r=qp.bind(null,Ve,o),o.dispatch=r,o=Rf(!1),f=Mf.bind(null,Ve,!1,o.queue),o=yn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=I1.bind(null,Ve,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Ap(t){var n=Dt();return wp(n,lt,t)}function wp(t,n,r){if(n=Af(t,n,bp)[0],t=Qu(os)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=rl(n)}catch(y){throw y===ja?Lu:y}else o=n;n=Dt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ve.flags|=2048,Fa(9,{destroy:void 0},x1.bind(null,h,r),null)),[o,f,t]}function x1(t,n){t.action=n}function Rp(t){var n=Dt(),r=lt;if(r!==null)return wp(n,r,t);Dt(),n=n.memoizedState,r=Dt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Fa(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Ve.updateQueue,n===null&&(n=Fu(),Ve.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Cp(){return Dt().memoizedState}function Ku(t,n,r,o){var h=yn();Ve.flags|=t,h.memoizedState=Fa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Yu(t,n,r,o){var h=Dt();o=o===void 0?null:o;var f=h.memoizedState.inst;lt!==null&&o!==null&&_f(o,lt.memoizedState.deps)?h.memoizedState=Fa(n,f,r,o):(Ve.flags|=t,h.memoizedState=Fa(1|n,f,r,o))}function Ip(t,n){Ku(8390656,8,t,n)}function If(t,n){Yu(2048,8,t,n)}function N1(t){Ve.flags|=4;var n=Ve.updateQueue;if(n===null)n=Fu(),Ve.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function xp(t){var n=Dt().memoizedState;return N1({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Np(t,n){return Yu(4,2,t,n)}function Dp(t,n){return Yu(4,4,t,n)}function Op(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mp(t,n,r){r=r!=null?r.concat([t]):null,Yu(4,4,Op.bind(null,n,t),r)}function xf(){}function Vp(t,n){var r=Dt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function kp(t,n){var r=Dt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=t(),Jr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[o,n],o}function Nf(t,n,r){return r===void 0||(as&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ly(),Ve.lanes|=t,Ks|=t,r)}function Lp(t,n,r,o){return Dn(r,n)?r:Ba.current!==null?(t=Nf(t,r,o),Dn(t,n)||(zt=!0),t):(as&42)===0||(as&1073741824)!==0&&(qe&261930)===0?(zt=!0,t.memoizedState=r):(t=Ly(),Ve.lanes|=t,Ks|=t,n)}function Up(t,n,r,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var y=L.T,T={};L.T=T,Mf(t,!1,n,r);try{var x=h(),z=L.S;if(z!==null&&z(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=w1(x,o);al(t,n,G,Un(t))}else al(t,n,o,Un(t))}catch(X){al(t,n,{then:function(){},status:"rejected",reason:X},Un())}finally{W.p=f,y!==null&&T.types!==null&&(y.types=T.types),L.T=y}}function D1(){}function Df(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Pp(t).queue;Up(t,h,n,le,r===null?D1:function(){return jp(t),r(o)})}function Pp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:le},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jp(t){var n=Pp(t);n.next===null&&(n=t.alternate.memoizedState),al(t,n.next.queue,{},Un())}function Of(){return nn(Sl)}function zp(){return Dt().memoizedState}function Bp(){return Dt().memoizedState}function O1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Un();t=Bs(r);var o=qs(n,t,r);o!==null&&(An(o,n,r),tl(o,n,r)),n={cache:of()},t.payload=n;return}n=n.return}}function M1(t,n,r){var o=Un();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Xu(t)?Hp(n,r):(r=Xh(t,n,r,o),r!==null&&(An(r,t,o),Fp(r,n,o)))}function qp(t,n,r){var o=Un();al(t,n,r,o)}function al(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))Hp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,r);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,y))return xu(t,n,h,0),ht===null&&Iu(),!1}catch{}if(r=Xh(t,n,h,o),r!==null)return An(r,t,o),Fp(r,n,o),!0}return!1}function Mf(t,n,r,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(a(479))}else n=Xh(t,r,o,2),n!==null&&An(n,t,2)}function Xu(t){var n=t.alternate;return t===Ve||n!==null&&n===Ve}function Hp(t,n){qa=qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Fp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Io(t,r)}}var ol={readContext:nn,use:Gu,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};ol.useEffectEvent=wt;var Gp={readContext:nn,use:Gu,useCallback:function(t,n){return yn().memoizedState=[t,n===void 0?null:n],t},useContext:nn,useEffect:Ip,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ku(4194308,4,Op.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var r=yn();n=n===void 0?null:n;var o=t();if(Jr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=yn();if(r!==void 0){var h=r(n);if(Jr){zn(!0);try{r(n)}finally{zn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=M1.bind(null,Ve,t),[o.memoizedState,t]},useRef:function(t){var n=yn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rf(t);var n=t.queue,r=qp.bind(null,Ve,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:xf,useDeferredValue:function(t,n){var r=yn();return Nf(r,t,n)},useTransition:function(){var t=Rf(!1);return t=Up.bind(null,Ve,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Ve,h=yn();if(Ke){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ht===null)throw Error(a(349));(qe&127)!==0||fp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ip(mp.bind(null,o,f,t),[t]),o.flags|=2048,Fa(9,{destroy:void 0},dp.bind(null,o,f,r,n),null),r},useId:function(){var t=yn(),n=ht.identifierPrefix;if(Ke){var r=Li,o=ki;r=(o&~(1<<32-It(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=R1++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Of,useFormState:Sp,useActionState:Sp,useOptimistic:function(t){var n=yn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mf.bind(null,Ve,!0,r),r.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return yn().memoizedState=O1.bind(null,Ve)},useEffectEvent:function(t){var n=yn(),r={impl:t};return n.memoizedState=r,function(){if((et&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Vf={readContext:nn,use:Gu,useCallback:Vp,useContext:nn,useEffect:If,useImperativeHandle:Mp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:kp,useReducer:Qu,useRef:Cp,useState:function(){return Qu(os)},useDebugValue:xf,useDeferredValue:function(t,n){var r=Dt();return Lp(r,lt.memoizedState,t,n)},useTransition:function(){var t=Qu(os)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:hp,useId:zp,useHostTransitionStatus:Of,useFormState:Ap,useActionState:Ap,useOptimistic:function(t,n){var r=Dt();return yp(r,lt,t,n)},useMemoCache:Sf,useCacheRefresh:Bp};Vf.useEffectEvent=xp;var Qp={readContext:nn,use:Gu,useCallback:Vp,useContext:nn,useEffect:If,useImperativeHandle:Mp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:kp,useReducer:wf,useRef:Cp,useState:function(){return wf(os)},useDebugValue:xf,useDeferredValue:function(t,n){var r=Dt();return lt===null?Nf(r,t,n):Lp(r,lt.memoizedState,t,n)},useTransition:function(){var t=wf(os)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:hp,useId:zp,useHostTransitionStatus:Of,useFormState:Rp,useActionState:Rp,useOptimistic:function(t,n){var r=Dt();return lt!==null?yp(r,lt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Bp};Qp.useEffectEvent=xp;function kf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Un(),h=Bs(o);h.payload=n,r!=null&&(h.callback=r),n=qs(t,h,o),n!==null&&(An(n,t,o),tl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Un(),h=Bs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=qs(t,h,o),n!==null&&(An(n,t,o),tl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Un(),o=Bs(r);o.tag=2,n!=null&&(o.callback=n),n=qs(t,o,r),n!==null&&(An(n,t,r),tl(n,t,r))}};function Kp(t,n,r,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ko(r,o)||!Ko(h,f):!0}function Yp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Xp(t){Cu(t)}function $p(t){console.error(t)}function Zp(t){Cu(t)}function $u(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Jp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,n,r){return r=Bs(r),r.tag=3,r.payload={element:null},r.callback=function(){$u(t,n)},r}function Wp(t){return t=Bs(t),t.tag=3,t}function ey(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Jp(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Jp(n,r,o),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function V1(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&La(n,r,h,!0),r=Mn.current,r!==null){switch(r.tag){case 31:case 13:return $n===null?lc():r.alternate===null&&Rt===0&&(Rt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ld(t,o,h)),!1;case 22:return r.flags|=65536,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ld(t,o,h)),!1}throw Error(a(435,r.tag))}return ld(t,o,h),lc(),!1}if(Ke)return n=Mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==tf&&(t=Error(a(422),{cause:o}),$o(Qn(t,r)))):(o!==tf&&(n=Error(a(423),{cause:o}),$o(Qn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Qn(o,r),h=Uf(t.stateNode,o,h),df(t,h),Rt!==4&&(Rt=2)),!1;var f=Error(a(520),{cause:o});if(f=Qn(f,r),gl===null?gl=[f]:gl.push(f),Rt!==4&&(Rt=2),n===null)return!0;o=Qn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Uf(r.stateNode,o,t),df(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ys===null||!Ys.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Wp(h),ey(h,t,r,o),df(r,h),!1}r=r.return}while(r!==null);return!1}var Pf=Error(a(461)),zt=!1;function sn(t,n,r,o){n.child=t===null?sp(n,null,r,o):Zr(n,t.child,r,o)}function ty(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var T in o)T!=="ref"&&(y[T]=o[T])}else y=o;return Kr(n),o=vf(t,n,r,y,f,h),T=Tf(),t!==null&&!zt?(Ef(t,n,h),ls(t,n,h)):(Ke&&T&&Wh(n),n.flags|=1,sn(t,n,o,h),n.child)}function ny(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,iy(t,n,f,o,h)):(t=Du(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qf(t,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ko,r(y,o)&&t.ref===n.ref)return ls(t,n,h)}return n.flags|=1,t=ns(f,o),t.ref=n.ref,t.return=n,n.child=t}function iy(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Ko(f,o)&&t.ref===n.ref)if(zt=!1,n.pendingProps=o=f,Qf(t,h))(t.flags&131072)!==0&&(zt=!0);else return n.lanes=t.lanes,ls(t,n,h)}return jf(t,n,r,o,h)}function sy(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ry(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(n,f!==null?f.cachePool:null),f!==null?op(n,f):gf(),lp(n);else return o=n.lanes=536870912,ry(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(ku(n,f.cachePool),op(n,f),Fs(),n.memoizedState=null):(t!==null&&ku(n,null),gf(),Fs());return sn(t,n,h,r),n.child}function ll(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ry(t,n,r,o,h){var f=uf();return f=f===null?null:{parent:Pt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&ku(n,null),gf(),lp(n),t!==null&&La(t,n,o,!0),n.childLanes=h,null}function Zu(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ay(t,n,r){return Zr(n,t.child,null,r),t=Zu(n,n.pendingProps),t.flags|=2,Vn(n),n.memoizedState=null,t}function k1(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(o.mode==="hidden")return t=Zu(n,o),n.lanes=536870912,ll(null,t);if(yf(n),(t=dt)?(t=__(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Hg(t),r.return=n,n.child=r,tn=n,dt=null)):t=null,t===null)throw Ps(n);return n.lanes=536870912,null}return Zu(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=ay(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(zt||La(t,n,r,!1),h=(r&t.childLanes)!==0,zt||h){if(o=ht,o!==null&&(y=xo(o,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,Hr(t,y),An(o,t,y),Pf;lc(),n=ay(t,n,r)}else t=f.treeContext,dt=Zn(y.nextSibling),tn=n,Ke=!0,Us=null,Xn=!1,t!==null&&Qg(n,t),n=Zu(n,o),n.flags|=4096;return n}return t=ns(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function jf(t,n,r,o,h){return Kr(n),r=vf(t,n,r,o,void 0,h),o=Tf(),t!==null&&!zt?(Ef(t,n,h),ls(t,n,h)):(Ke&&o&&Wh(n),n.flags|=1,sn(t,n,r,h),n.child)}function oy(t,n,r,o,h,f){return Kr(n),n.updateQueue=null,r=cp(n,o,r,h),up(t),o=Tf(),t!==null&&!zt?(Ef(t,n,f),ls(t,n,f)):(Ke&&o&&Wh(n),n.flags|=1,sn(t,n,r,f),n.child)}function ly(t,n,r,o,h){if(Kr(n),n.stateNode===null){var f=Oa,y=r.contextType;typeof y=="object"&&y!==null&&(f=nn(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?nn(y):Oa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(kf(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Lf.enqueueReplaceState(f,f.state,null),il(n,o,f,h),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,x=Wr(r,T);f.props=x;var z=f.context,G=r.contextType;y=Oa,typeof G=="object"&&G!==null&&(y=nn(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==y)&&Yp(n,f,o,y),zs=!1;var B=n.memoizedState;f.state=B,il(n,o,f,h),nl(),z=n.memoizedState,T||B!==z||zs?(typeof X=="function"&&(kf(n,r,X,o),z=n.memoizedState),(x=zs||Kp(n,r,x,o,B,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(t,n),y=n.memoizedProps,G=Wr(r,y),f.props=G,X=n.pendingProps,B=f.context,z=r.contextType,x=Oa,typeof z=="object"&&z!==null&&(x=nn(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||B!==x)&&Yp(n,f,o,x),zs=!1,B=n.memoizedState,f.state=B,il(n,o,f,h),nl();var F=n.memoizedState;y!==X||B!==F||zs||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof T=="function"&&(kf(n,r,T,o),F=n.memoizedState),(G=zs||Kp(n,r,G,o,B,F,x)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=x,o=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Zr(n,t.child,null,h),n.child=Zr(n,null,r,h)):sn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ls(t,n,h),t}function uy(t,n,r,o){return Gr(),n.flags|=256,sn(t,n,r,o),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:Jg()}}function qf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Ln),t}function cy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?Hs(n):Fs(),(t=dt)?(t=__(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Hg(t),r.return=n,n.child=r,tn=n,dt=null)):t=null,t===null)throw Ps(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Fs(),h=n.mode,T=Wu({mode:"hidden",children:T},h),o=Fr(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Bf(r),o.childLanes=qf(t,y,r),n.memoizedState=zf,ll(null,o)):(Hs(n),Hf(n,T))}var x=t.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=Ff(t,n,r)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),T=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),T=Fr(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Zr(n,t.child,null,r),o=n.child,o.memoizedState=Bf(r),o.childLanes=qf(t,y,r),n.memoizedState=zf,n=ll(null,o));else if(Hs(n),Ad(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(a(419)),o.stack="",o.digest=y,$o({value:o,source:null,stack:null}),n=Ff(t,n,r)}else if(zt||La(t,n,r,!1),y=(r&t.childLanes)!==0,zt||y){if(y=ht,y!==null&&(o=xo(y,r),o!==0&&o!==x.retryLane))throw x.retryLane=o,Hr(t,o),An(y,t,o),Pf;Sd(T)||lc(),n=Ff(t,n,r)}else Sd(T)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,dt=Zn(T.nextSibling),tn=n,Ke=!0,Us=null,Xn=!1,t!==null&&Qg(n,t),n=Hf(n,o.children),n.flags|=4096);return n}return h?(Fs(),T=o.fallback,h=n.mode,x=t.child,z=x.sibling,o=ns(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,z!==null?T=ns(z,T):(T=Fr(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,ll(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Bf(r):(h=T.cachePool,h!==null?(x=Pt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Jg(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=qf(t,y,r),n.memoizedState=zf,ll(t.child,o)):(Hs(n),r=t.child,t=r.sibling,r=ns(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Hf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=On(22,t,null,n),t.lanes=0,t}function Ff(t,n,r){return Zr(n,t.child,null,r),t=Hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),rf(t.return,n,r)}function Gf(t,n,r,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=h,y.treeForkCount=f)}function fy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=Nt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,ne(Nt,y),sn(t,n,o,r),o=Ke?Xo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hy(t,r,n);else if(t.tag===19)hy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Bu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Gf(n,!0,r,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ls(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ks|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(La(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ns(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ns(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function L1(t,n,r){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),js(n,Pt,t.memoizedState.cache),Gr();break;case 27:case 5:yi(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Hs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?cy(t,n,r):(Hs(n),t=ls(t,n,r),t!==null?t.sibling:null);Hs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(La(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return fy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Nt,Nt.current),o)break;return null;case 22:return n.lanes=0,sy(t,n,r,n.pendingProps);case 24:js(n,Pt,t.memoizedState.cache)}return ls(t,n,r)}function dy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)zt=!0;else{if(!Qf(t,r)&&(n.flags&128)===0)return zt=!1,L1(t,n,r);zt=(t.flags&131072)!==0}else zt=!1,Ke&&(n.flags&1048576)!==0&&Gg(n,Xo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Xr(n.elementType),n.type=t,typeof t=="function")$h(t)?(o=Wr(t,o),n.tag=1,n=ly(null,n,t,o,r)):(n.tag=0,n=jf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===Re){n.tag=11,n=ty(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=ny(null,n,t,o,r);break e}}throw n=Je(t)||t,Error(a(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Wr(o,n.pendingProps),ly(t,n,o,h,r);case 3:e:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(t,n),il(n,o,null,r);var y=n.memoizedState;if(o=y.cache,js(n,Pt,o),o!==f.cache&&af(n,[Pt],r,!0),nl(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(t,n,o,r);break e}else if(o!==h){h=Qn(Error(a(424)),n),$o(h),n=uy(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Zn(t.firstChild),tn=n,Ke=!0,Us=null,Xn=!0,r=sp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Gr(),o===h){n=ls(t,n,r);break e}sn(t,n,o,r)}n=n.child}return n;case 26:return Ju(t,n),t===null?(r=A_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ke||(r=n.type,t=n.pendingProps,o=gc(Ne.current).createElement(r),o[kt]=n,o[Yt]=t,rn(o,r,t),Lt(o),n.stateNode=o):n.memoizedState=A_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return yi(n),t===null&&Ke&&(o=n.stateNode=E_(n.type,n.pendingProps,Ne.current),tn=n,Xn=!0,h=dt,Js(n.type)?(wd=h,dt=Zn(o.firstChild)):dt=h),sn(t,n,n.pendingProps.children,r),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=o=dt)&&(o=fb(o,n.type,n.pendingProps,Xn),o!==null?(n.stateNode=o,tn=n,dt=Zn(o.firstChild),Xn=!1,h=!0):h=!1),h||Ps(n)),yi(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Td(h,f)?o=null:y!==null&&Td(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(t,n,C1,null,null,r),Sl._currentValue=h),Ju(t,n),sn(t,n,o,r),n.child;case 6:return t===null&&Ke&&((t=r=dt)&&(r=db(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,tn=n,dt=null,t=!0):t=!1),t||Ps(n)),null;case 13:return cy(t,n,r);case 4:return Ct(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Zr(n,null,o,r):sn(t,n,o,r),n.child;case 11:return ty(t,n,n.type,n.pendingProps,r);case 7:return sn(t,n,n.pendingProps,r),n.child;case 8:return sn(t,n,n.pendingProps.children,r),n.child;case 12:return sn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,js(n,n.type,o.value),sn(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Kr(n),h=nn(h),o=o(h),n.flags|=1,sn(t,n,o,r),n.child;case 14:return ny(t,n,n.type,n.pendingProps,r);case 15:return iy(t,n,n.type,n.pendingProps,r);case 19:return fy(t,n,r);case 31:return k1(t,n,r);case 22:return sy(t,n,r,n.pendingProps);case 24:return Kr(n),o=nn(Pt),t===null?(h=uf(),h===null&&(h=ht,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},hf(n),js(n,Pt,h)):((t.lanes&r)!==0&&(ff(t,n),il(n,null,null,r),nl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),js(n,Pt,o)):(o=f.cache,js(n,Pt,o),o!==h.cache&&af(n,[Pt],r,!0))),sn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function us(t){t.flags|=4}function Kf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(zy())t.flags|=8192;else throw $r=Uu,cf}else t.flags&=-16777217}function my(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(n))if(zy())t.flags|=8192;else throw $r=Uu,cf}function ec(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,Ya|=n)}function ul(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function U1(t,n,r){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),rs(Pt),nt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ka(n)?us(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),mt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(us(n),f!==null?(mt(n),my(n,f)):(mt(n),Kf(n,h,null,o,r))):f?f!==t.memoizedState?(us(n),mt(n),my(n,f)):(mt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&us(n),mt(n),Kf(n,h,t,o,r)),null;case 27:if(Yi(n),r=Ne.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&us(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return mt(n),null}t=re.current,ka(n)?Kg(n):(t=E_(h,o,r),n.stateNode=t,us(n))}return mt(n),null;case 5:if(Yi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&us(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return mt(n),null}if(f=re.current,ka(n))Kg(n);else{var y=gc(Ne.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[kt]=n,f[Yt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(rn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&us(n)}}return mt(n),Kf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&us(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ne.current,ka(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[kt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||c_(t.nodeValue,r)),t||Ps(n,!0)}else t=gc(t).createTextNode(o),t[kt]=n,n.stateNode=t}return mt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=ka(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[kt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),t=!1}else r=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Vn(n),n):(Vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return mt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ka(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[kt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),h=!1}else h=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Vn(n),n):(Vn(n),null)}return Vn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ec(n,n.updateQueue),mt(n),null);case 4:return nt(),t===null&&gd(n.stateNode.containerInfo),mt(n),null;case 10:return rs(n.type),mt(n),null;case 19:if(K(Nt),o=n.memoizedState,o===null)return mt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ul(o,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bu(t),f!==null){for(n.flags|=128,ul(o,!1),t=f.updateQueue,n.updateQueue=t,ec(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)qg(r,t),r=r.sibling;return ne(Nt,Nt.current&1|2),Ke&&is(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&bt()>rc&&(n.flags|=128,h=!0,ul(o,!1),n.lanes=4194304)}else{if(!h)if(t=Bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ec(n,t),ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ke)return mt(n),null}else 2*bt()-o.renderingStartTime>rc&&r!==536870912&&(n.flags|=128,h=!0,ul(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=bt(),t.sibling=null,r=Nt.current,ne(Nt,h?r&1|2:r&1),Ke&&is(n,o.treeForkCount),t):(mt(n),null);case 22:case 23:return Vn(n),pf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),r=n.updateQueue,r!==null&&ec(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&K(Yr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),rs(Pt),mt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function P1(t,n){switch(ef(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(Pt),nt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Yi(n),null;case 31:if(n.memoizedState!==null){if(Vn(n),n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Nt),null;case 4:return nt(),null;case 10:return rs(n.type),null;case 22:case 23:return Vn(n),pf(),t!==null&&K(Yr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(Pt),null;case 25:return null;default:return null}}function gy(t,n){switch(ef(n),n.tag){case 3:rs(Pt),nt();break;case 26:case 27:case 5:Yi(n);break;case 4:nt();break;case 31:n.memoizedState!==null&&Vn(n);break;case 13:Vn(n);break;case 19:K(Nt);break;case 10:rs(n.type);break;case 22:case 23:Vn(n),pf(),t!==null&&K(Yr);break;case 24:rs(Pt)}}function cl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==h)}}catch(T){at(n,n.return,T)}}function Gs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var x=r,z=T;try{z()}catch(G){at(h,x,G)}}}o=o.next}while(o!==f)}}catch(G){at(n,n.return,G)}}function py(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ap(n,r)}catch(o){at(t,t.return,o)}}}function yy(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){at(t,n,o)}}function hl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){at(t,n,h)}}function Ui(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){at(t,n,h)}else r.current=null}function _y(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){at(t,t.return,h)}}function Yf(t,n,r){try{var o=t.stateNode;ab(o,t.type,r,n),o[Yt]=n}catch(h){at(t,t.return,h)}}function vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ai));else if(o!==4&&(o===27&&Js(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,r),t=t.sibling;t!==null;)$f(t,n,r),t=t.sibling}function tc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Js(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(tc(t,n,r),t=t.sibling;t!==null;)tc(t,n,r),t=t.sibling}function Ty(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);rn(n,o,r),n[kt]=t,n[Yt]=r}catch(f){at(t,t.return,f)}}var cs=!1,Bt=!1,Zf=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,$t=null;function j1(t,n){if(t=t.containerInfo,_d=bc,t=Mg(t),Hh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,T=-1,x=-1,z=0,G=0,X=t,B=null;t:for(;;){for(var F;X!==r||h!==0&&X.nodeType!==3||(T=y+h),X!==f||o!==0&&X.nodeType!==3||(x=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(F=X.firstChild)!==null;)B=X,X=F;for(;;){if(X===t)break t;if(B===r&&++z===h&&(T=y),B===f&&++G===o&&(x=y),(F=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=F}r=T===-1||x===-1?null:{start:T,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:t,selectionRange:r},bc=!1,$t=n;$t!==null;)if(n=$t,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,$t=t;else for(;$t!==null;){switch(n=$t,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ue=Wr(r.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){at(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)bd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,$t=t;break}$t=n.return}}function by(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:fs(t,r),o&4&&cl(5,r);break;case 1:if(fs(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){at(r,r.return,y)}else{var h=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){at(r,r.return,y)}}o&64&&py(r),o&512&&hl(r,r.return);break;case 3:if(fs(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ap(t,n)}catch(y){at(r,r.return,y)}}break;case 27:n===null&&o&4&&Ty(r);case 26:case 5:fs(t,r),n===null&&o&4&&_y(r),o&512&&hl(r,r.return);break;case 12:fs(t,r);break;case 31:fs(t,r),o&4&&wy(t,r);break;case 13:fs(t,r),o&4&&Ry(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Y1.bind(null,r),mb(t,r))));break;case 22:if(o=r.memoizedState!==null||cs,!o){n=n!==null&&n.memoizedState!==null||Bt,h=cs;var f=Bt;cs=o,(Bt=n)&&!f?ds(t,r,(r.subtreeFlags&8772)!==0):fs(t,r),cs=h,Bt=f}break;case 30:break;default:fs(t,r)}}function Sy(t){var n=t.alternate;n!==null&&(t.alternate=null,Sy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&_a(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Tn=!1;function hs(t,n,r){for(r=r.child;r!==null;)Ay(t,n,r),r=r.sibling}function Ay(t,n,r){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(In,r)}catch{}switch(r.tag){case 26:Bt||Ui(r,n),hs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Bt||Ui(r,n);var o=vt,h=Tn;Js(r.type)&&(vt=r.stateNode,Tn=!1),hs(t,n,r),Tl(r.stateNode),vt=o,Tn=h;break;case 5:Bt||Ui(r,n);case 6:if(o=vt,h=Tn,vt=null,hs(t,n,r),vt=o,Tn=h,vt!==null)if(Tn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(r.stateNode)}catch(f){at(r,n,f)}else try{vt.removeChild(r.stateNode)}catch(f){at(r,n,f)}break;case 18:vt!==null&&(Tn?(t=vt,p_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),no(t)):p_(vt,r.stateNode));break;case 4:o=vt,h=Tn,vt=r.stateNode.containerInfo,Tn=!0,hs(t,n,r),vt=o,Tn=h;break;case 0:case 11:case 14:case 15:Gs(2,r,n),Bt||Gs(4,r,n),hs(t,n,r);break;case 1:Bt||(Ui(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&yy(r,n,o)),hs(t,n,r);break;case 21:hs(t,n,r);break;case 22:Bt=(o=Bt)||r.memoizedState!==null,hs(t,n,r),Bt=o;break;default:hs(t,n,r)}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(r){at(n,n.return,r)}}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(r){at(n,n.return,r)}}function z1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ey),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ey),n;default:throw Error(a(435,t.tag))}}function nc(t,n){var r=z1(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=X1.bind(null,t,o);o.then(h,h)}})}function En(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Js(T.type)){vt=T.stateNode,Tn=!1;break e}break;case 5:vt=T.stateNode,Tn=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(vt===null)throw Error(a(160));Ay(f,y,h),vt=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,t),n=n.sibling}var fi=null;function Cy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),bn(t),o&4&&(Gs(3,t,t.return),cl(3,t),Gs(5,t,t.return));break;case 1:En(n,t),bn(t),o&512&&(Bt||r===null||Ui(r,r.return)),o&64&&cs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=fi;if(En(n,t),bn(t),o&512&&(Bt||r===null||Ui(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),rn(f,o,r),f[kt]=t,Lt(f),o=f;break e;case"link":var y=C_("link","href",h).get(o+(r.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(T,1);break t}}f=h.createElement(o),rn(f,o,r),h.head.appendChild(f);break;case"meta":if(y=C_("meta","content",h).get(o+(r.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(T,1);break t}}f=h.createElement(o),rn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[kt]=t,Lt(f),o=f}t.stateNode=o}else I_(h,t.type,t.stateNode);else t.stateNode=R_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?I_(h,t.type,t.stateNode):R_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,r.memoizedProps)}break;case 27:En(n,t),bn(t),o&512&&(Bt||r===null||Ui(r,r.return)),r!==null&&o&4&&Yf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(En(n,t),bn(t),o&512&&(Bt||r===null||Ui(r,r.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(ue){at(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Yf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(En(n,t),bn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ue){at(t,t.return,ue)}}break;case 3:if(_c=null,h=fi,fi=pc(n.containerInfo),En(n,t),fi=h,bn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{no(n.containerInfo)}catch(ue){at(t,t.return,ue)}Zf&&(Zf=!1,Iy(t));break;case 4:o=fi,fi=pc(t.stateNode.containerInfo),En(n,t),bn(t),fi=o;break;case 12:En(n,t),bn(t);break;case 31:En(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 13:En(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sc=bt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 22:h=t.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,z=cs,G=Bt;if(cs=z||h,Bt=G||x,En(n,t),Bt=G,cs=z,bn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||x||cs||Bt||ea(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=x.stateNode;var X=x.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){at(x,x.return,ue)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ue){at(x,x.return,ue)}}}else if(n.tag===18){if(r===null){x=n;try{var F=x.stateNode;h?y_(F,!0):y_(x.stateNode,!1)}catch(ue){at(x,x.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,nc(t,r))));break;case 19:En(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 30:break;case 21:break;default:En(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(vy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Xf(t);tc(t,f,h);break;case 5:var y=r.stateNode;r.flags&32&&(vn(y,""),r.flags&=-33);var T=Xf(t);tc(t,T,y);break;case 3:case 4:var x=r.stateNode.containerInfo,z=Xf(t);$f(t,z,x);break;default:throw Error(a(161))}}catch(G){at(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function fs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(t,n.alternate,n),n=n.sibling}function ea(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),ea(n);break;case 1:Ui(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&yy(n,n.return,r),ea(n);break;case 27:Tl(n.stateNode);case 26:case 5:Ui(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}t=t.sibling}}function ds(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ds(h,f,r),cl(4,f);break;case 1:if(ds(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){at(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)rp(x[h],T)}catch(z){at(o,o.return,z)}}r&&y&64&&py(f),hl(f,f.return);break;case 27:Ty(f);case 26:case 5:ds(h,f,r),r&&o===null&&y&4&&_y(f),hl(f,f.return);break;case 12:ds(h,f,r);break;case 31:ds(h,f,r),r&&y&4&&wy(h,f);break;case 13:ds(h,f,r),r&&y&4&&Ry(h,f);break;case 22:f.memoizedState===null&&ds(h,f,r),hl(f,f.return);break;case 30:break;default:ds(h,f,r)}n=n.sibling}}function Jf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Zo(r))}function Wf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zo(t))}function di(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(t,n,r,o),n=n.sibling}function xy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:di(t,n,r,o),h&2048&&cl(9,n);break;case 1:di(t,n,r,o);break;case 3:di(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zo(t)));break;case 12:if(h&2048){di(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){at(n,n.return,x)}}else di(t,n,r,o);break;case 31:di(t,n,r,o);break;case 13:di(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?di(t,n,r,o):fl(t,n):f._visibility&2?di(t,n,r,o):(f._visibility|=2,Ga(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(y,n);break;case 24:di(t,n,r,o),h&2048&&Wf(n.alternate,n);break;default:di(t,n,r,o)}}function Ga(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=r,x=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ga(f,y,T,x,h),cl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ga(f,y,T,x,h):fl(f,y):(G._visibility|=2,Ga(f,y,T,x,h)),h&&z&2048&&Jf(y.alternate,y);break;case 24:Ga(f,y,T,x,h),h&&z&2048&&Wf(y.alternate,y);break;default:Ga(f,y,T,x,h)}n=n.sibling}}function fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:fl(r,o),h&2048&&Jf(o.alternate,o);break;case 24:fl(r,o),h&2048&&Wf(o.alternate,o);break;default:fl(r,o)}n=n.sibling}}var dl=8192;function Qa(t,n,r){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Ny(t,n,r),t=t.sibling}function Ny(t,n,r){switch(t.tag){case 26:Qa(t,n,r),t.flags&dl&&t.memoizedState!==null&&Rb(r,fi,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,r);break;case 3:case 4:var o=fi;fi=pc(t.stateNode.containerInfo),Qa(t,n,r),fi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=dl,dl=16777216,Qa(t,n,r),dl=o):Qa(t,n,r));break;default:Qa(t,n,r)}}function Dy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];$t=o,My(o,t)}Dy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):ml(t);break;default:ml(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];$t=o,My(o,t)}Dy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),ic(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function My(t,n){for(;$t!==null;){var r=$t;switch(r.tag){case 0:case 11:case 15:Gs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Zo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,$t=o;else e:for(r=t;$t!==null;){o=$t;var h=o.sibling,f=o.return;if(Sy(o),o===r){$t=null;break e}if(h!==null){h.return=f,$t=h;break e}$t=f}}}var B1={getCacheForType:function(t){var n=nn(Pt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return nn(Pt).controller.signal}},q1=typeof WeakMap=="function"?WeakMap:Map,et=0,ht=null,je=null,qe=0,rt=0,kn=null,Qs=!1,Ka=!1,ed=!1,ms=0,Rt=0,Ks=0,ta=0,td=0,Ln=0,Ya=0,gl=null,Sn=null,nd=!1,sc=0,Vy=0,rc=1/0,ac=null,Ys=null,Ft=0,Xs=null,Xa=null,gs=0,id=0,sd=null,ky=null,pl=0,rd=null;function Un(){return(et&2)!==0&&qe!==0?qe&-qe:L.T!==null?hd():ou()}function Ly(){if(Ln===0)if((qe&536870912)===0||Ke){var t=Ir;Ir<<=1,(Ir&3932160)===0&&(Ir=262144),Ln=t}else Ln=536870912;return t=Mn.current,t!==null&&(t.flags|=32),Ln}function An(t,n,r){(t===ht&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&($a(t,0),$s(t,qe,Ln,!1)),xr(t,r),((et&2)===0||t!==ht)&&(t===ht&&((et&2)===0&&(ta|=r),Rt===4&&$s(t,qe,Ln,!1)),Pi(t))}function Uy(t,n,r){if((et&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ii(t,n),h=o?G1(t,n):od(t,n,!0),f=o;do{if(h===0){Ka&&!o&&$s(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!H1(r)){h=od(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=gl;var x=T.current.memoizedState.isDehydrated;if(x&&($a(T,y).flags|=256),y=od(T,y,!1),y!==2){if(ed&&!x){T.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break e}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){$a(t,0),$s(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$s(o,n,Ln,!Qs);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-bt(),10<h)){if($s(o,n,Ln,!Qs),Ti(o,0,!0)!==0)break e;gs=n,o.timeoutHandle=m_(Py.bind(null,o,r,Sn,ac,nd,n,Ln,ta,Ya,Qs,f,"Throttled",-0,0),h);break e}Py(o,r,Sn,ac,nd,n,Ln,ta,Ya,Qs,f,null,-0,0)}}break}while(!0);Pi(t)}function Py(t,n,r,o,h,f,y,T,x,z,G,X,B,F){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},Ny(n,f,X);var ue=(f&62914560)===f?sc-bt():(f&4194048)===f?Vy-bt():0;if(ue=Cb(X,ue),ue!==null){gs=f,t.cancelPendingCommit=ue(Qy.bind(null,t,n,f,r,o,h,y,T,x,G,X,null,B,F)),$s(t,f,y,!z);return}}Qy(t,n,f,r,o,h,y,T,x)}function H1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(t,n,r,o){n&=~td,n&=~ta,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-It(h),y=1<<f;o[f]=-1,h&=~y}r!==0&&Nr(t,r,n)}function oc(){return(et&6)===0?(yl(0),!1):!0}function ad(){if(je!==null){if(rt===0)var t=je.return;else t=je,ss=Qr=null,bf(t),za=null,Wo=0,t=je;for(;t!==null;)gy(t.alternate,t),t=t.return;je=null}}function $a(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ub(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),gs=0,ad(),ht=t,je=r=ns(t.current,null),qe=n,rt=0,kn=null,Qs=!1,Ka=ii(t,n),ed=!1,Ya=Ln=td=ta=Ks=Rt=0,Sn=gl=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-It(o),f=1<<h;n|=t[h],o&=~f}return ms=n,Iu(),r}function jy(t,n){Ve=null,L.H=ol,n===ja||n===Lu?(n=tp(),rt=3):n===cf?(n=tp(),rt=4):rt=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,je===null&&(Rt=1,$u(t,Qn(n,t.current)))}function zy(){var t=Mn.current;return t===null?!0:(qe&4194048)===qe?$n===null:(qe&62914560)===qe||(qe&536870912)!==0?t===$n:!1}function By(){var t=L.H;return L.H=ol,t===null?ol:t}function qy(){var t=L.A;return L.A=B1,t}function lc(){Rt=4,Qs||(qe&4194048)!==qe&&Mn.current!==null||(Ka=!0),(Ks&134217727)===0&&(ta&134217727)===0||ht===null||$s(ht,qe,Ln,!1)}function od(t,n,r){var o=et;et|=2;var h=By(),f=qy();(ht!==t||qe!==n)&&(ac=null,$a(t,n)),n=!1;var y=Rt;e:do try{if(rt!==0&&je!==null){var T=je,x=kn;switch(rt){case 8:ad(),y=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(n=!0);var z=rt;if(rt=0,kn=null,Za(t,T,x,z),r&&Ka){y=0;break e}break;default:z=rt,rt=0,kn=null,Za(t,T,x,z)}}F1(),y=Rt;break}catch(G){jy(t,G)}while(!0);return n&&t.shellSuspendCounter++,ss=Qr=null,et=o,L.H=h,L.A=f,je===null&&(ht=null,qe=0,Iu()),y}function F1(){for(;je!==null;)Hy(je)}function G1(t,n){var r=et;et|=2;var o=By(),h=qy();ht!==t||qe!==n?(ac=null,rc=bt()+500,$a(t,n)):Ka=ii(t,n);e:do try{if(rt!==0&&je!==null){n=je;var f=kn;t:switch(rt){case 1:rt=0,kn=null,Za(t,n,f,1);break;case 2:case 9:if(Wg(f)){rt=0,kn=null,Fy(n);break}n=function(){rt!==2&&rt!==9||ht!==t||(rt=7),Pi(t)},f.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Wg(f)?(rt=0,kn=null,Fy(n)):(rt=0,kn=null,Za(t,n,f,7));break;case 5:var y=null;switch(je.tag){case 26:y=je.memoizedState;case 5:case 27:var T=je;if(y?x_(y):T.stateNode.complete){rt=0,kn=null;var x=T.sibling;if(x!==null)je=x;else{var z=T.return;z!==null?(je=z,uc(z)):je=null}break t}}rt=0,kn=null,Za(t,n,f,5);break;case 6:rt=0,kn=null,Za(t,n,f,6);break;case 8:ad(),Rt=6;break e;default:throw Error(a(462))}}Q1();break}catch(G){jy(t,G)}while(!0);return ss=Qr=null,L.H=o,L.A=h,et=r,je!==null?0:(ht=null,qe=0,Iu(),Rt)}function Q1(){for(;je!==null&&!Ue();)Hy(je)}function Hy(t){var n=dy(t.alternate,t,ms);t.memoizedProps=t.pendingProps,n===null?uc(t):je=n}function Fy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=oy(r,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=oy(r,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:bf(n);default:gy(r,n),n=je=qg(n,ms),n=dy(r,n,ms)}t.memoizedProps=t.pendingProps,n===null?uc(t):je=n}function Za(t,n,r,o){ss=Qr=null,bf(n),za=null,Wo=0;var h=n.return;try{if(V1(t,h,n,r,qe)){Rt=1,$u(t,Qn(r,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;Rt=1,$u(t,Qn(r,t.current)),je=null;return}n.flags&32768?(Ke||o===1?t=!0:Ka||(qe&536870912)!==0?t=!1:(Qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gy(n,t)):uc(n)}function uc(t){var n=t;do{if((n.flags&32768)!==0){Gy(n,Qs);return}t=n.return;var r=U1(n.alternate,n,ms);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);Rt===0&&(Rt=5)}function Gy(t,n){do{var r=P1(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);Rt=6,je=null}function Qy(t,n,r,o,h,f,y,T,x){t.cancelPendingCommit=null;do cc();while(Ft!==0);if((et&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yh,jh(t,r,f,y,T,x),t===ht&&(je=ht=null,qe=0),Xa=n,Xs=t,gs=r,id=f,sd=h,ky=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$1(At,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,h=W.p,W.p=2,y=et,et|=4;try{j1(t,n,r)}finally{et=y,W.p=h,L.T=o}}Ft=1,Ky(),Yy(),Xy()}}function Ky(){if(Ft===1){Ft=0;var t=Xs,n=Xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=L.T,L.T=null;var o=W.p;W.p=2;var h=et;et|=4;try{Cy(n,t);var f=vd,y=Mg(t.containerInfo),T=f.focusedElem,x=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Og(T.ownerDocument.documentElement,T)){if(x!==null&&Hh(T)){var z=x.start,G=x.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var F=B.getSelection(),ue=T.textContent.length,_e=Math.min(x.start,ue),ct=x.end===void 0?_e:Math.min(x.end,ue);!F.extend&&_e>ct&&(y=ct,ct=_e,_e=y);var U=Dg(T,_e),M=Dg(T,ct);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var j=X.createRange();j.setStart(U.node,U.offset),F.removeAllRanges(),_e>ct?(F.addRange(j),F.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),F.addRange(j))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}bc=!!_d,vd=_d=null}finally{et=h,W.p=o,L.T=r}}t.current=n,Ft=2}}function Yy(){if(Ft===2){Ft=0;var t=Xs,n=Xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=L.T,L.T=null;var o=W.p;W.p=2;var h=et;et|=4;try{by(t,n.alternate,n)}finally{et=h,W.p=o,L.T=r}}Ft=3}}function Xy(){if(Ft===4||Ft===3){Ft=0,Et();var t=Xs,n=Xa,r=gs,o=ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ft=5:(Ft=0,Xa=Xs=null,$y(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Ji(r),n=n.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(In,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,h=W.p,W.p=2,L.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var T=o[y];f(T.value,{componentStack:T.stack})}}finally{L.T=n,W.p=h}}(gs&3)!==0&&cc(),Pi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===rd?pl++:(pl=0,rd=t):pl=0,yl(0)}}function $y(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zo(n)))}function cc(){return Ky(),Yy(),Xy(),Zy()}function Zy(){if(Ft!==5)return!1;var t=Xs,n=id;id=0;var r=Ji(gs),o=L.T,h=W.p;try{W.p=32>r?32:r,L.T=null,r=sd,sd=null;var f=Xs,y=gs;if(Ft=0,Xa=Xs=null,gs=0,(et&6)!==0)throw Error(a(331));var T=et;if(et|=4,Oy(f.current),xy(f,f.current,y,r),et=T,yl(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(In,f)}catch{}return!0}finally{W.p=h,L.T=o,$y(t,n)}}function Jy(t,n,r){n=Qn(r,n),n=Uf(t.stateNode,n,2),t=qs(t,n,2),t!==null&&(xr(t,2),Pi(t))}function at(t,n,r){if(t.tag===3)Jy(t,t,r);else for(;n!==null;){if(n.tag===3){Jy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){t=Qn(r,t),r=Wp(2),o=qs(n,r,2),o!==null&&(ey(r,o,n,t),xr(o,2),Pi(o));break}}n=n.return}}function ld(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new q1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(ed=!0,h.add(r),t=K1.bind(null,t,n,r),n.then(t,t))}function K1(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ht===t&&(qe&r)===r&&(Rt===4||Rt===3&&(qe&62914560)===qe&&300>bt()-sc?(et&2)===0&&$a(t,0):td|=r,Ya===qe&&(Ya=0)),Pi(t)}function Wy(t,n){n===0&&(n=au()),t=Hr(t,n),t!==null&&(xr(t,n),Pi(t))}function Y1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wy(t,r)}function X1(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Wy(t,r)}function $1(t,n){return Ee(t,n)}var hc=null,Ja=null,ud=!1,fc=!1,cd=!1,Zs=0;function Pi(t){t!==Ja&&t.next===null&&(Ja===null?hc=Ja=t:Ja=Ja.next=t),fc=!0,ud||(ud=!0,J1())}function yl(t,n){if(!cd&&fc){cd=!0;do for(var r=!1,o=hc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-It(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,i_(o,f))}else f=qe,f=Ti(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ii(o,f)||(r=!0,i_(o,f));o=o.next}while(r);cd=!1}}function Z1(){e_()}function e_(){fc=ud=!1;var t=0;Zs!==0&&lb()&&(t=Zs);for(var n=bt(),r=null,o=hc;o!==null;){var h=o.next,f=t_(o,n);f===0?(o.next=null,r===null?hc=h:r.next=h,h===null&&(Ja=r)):(r=o,(t!==0||(f&3)!==0)&&(fc=!0)),o=h}Ft!==0&&Ft!==5||yl(t),Zs!==0&&(Zs=0)}function t_(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-It(f),T=1<<y,x=h[y];x===-1?((T&r)===0||(T&o)!==0)&&(h[y]=Ph(T,n)):x<=n&&(t.expiredLanes|=T),f&=~T}if(n=ht,r=qe,r=Ti(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&be(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ii(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&be(o),Ji(r)){case 2:case 8:r=$i;break;case 32:r=At;break;case 268435456:r=Zi;break;default:r=At}return o=n_.bind(null,t),r=Ee(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&be(o),t.callbackPriority=2,t.callbackNode=null,2}function n_(t,n){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var o=qe;return o=Ti(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Uy(t,o,n),t_(t,bt()),t.callbackNode!=null&&t.callbackNode===r?n_.bind(null,t):null)}function i_(t,n){if(cc())return null;Uy(t,n,!0)}function J1(){cb(function(){(et&6)!==0?Ee(ti,Z1):e_()})}function hd(){if(Zs===0){var t=Ua;t===0&&(t=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Zs=t}return Zs}function s_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function r_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function W1(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=s_((h[Yt]||null).action),y=o.submitter;y&&(n=(n=y[Yt]||null)?s_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Di("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zs!==0){var x=y?r_(h,y):new FormData(h);Df(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(T.preventDefault(),x=y?r_(h,y):new FormData(h),Df(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var fd=0;fd<Kh.length;fd++){var dd=Kh[fd],eb=dd.toLowerCase(),tb=dd[0].toUpperCase()+dd.slice(1);hi(eb,"on"+tb)}hi(Lg,"onAnimationEnd"),hi(Ug,"onAnimationIteration"),hi(Pg,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(y1,"onTransitionRun"),hi(_1,"onTransitionStart"),hi(v1,"onTransitionCancel"),hi(jg,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function a_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var T=o[y],x=T.instance,z=T.currentTarget;if(T=T.listener,x!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=x}else for(y=0;y<o.length;y++){if(T=o[y],x=T.instance,z=T.currentTarget,T=T.listener,x!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=x}}}}function ze(t,n){var r=n[ya];r===void 0&&(r=n[ya]=new Set);var o=t+"__bubble";r.has(o)||(o_(n,t,2,!1),r.add(o))}function md(t,n,r){var o=0;n&&(o|=4),o_(r,t,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[dc]){t[dc]=!0,No.forEach(function(r){r!=="selectionchange"&&(nb.has(r)||md(r,!1,t),md(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[dc]||(n[dc]=!0,md("selectionchange",!1,n))}}function o_(t,n,r,o){switch(L_(n)){case 2:var h=Nb;break;case 8:h=Db;break;default:h=Nd}r=h.bind(null,n,r,t),h=void 0,!kr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function pd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var T=o.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=o.return;y!==null;){var x=y.tag;if((x===3||x===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=Ai(T),y===null)return;if(x=y.tag,x===5||x===6||x===26||x===27){o=f=y;continue e}T=T.parentNode}}o=o.return}Os(function(){var z=f,G=qn(r),X=[];e:{var B=zg.get(t);if(B!==void 0){var F=Di,ue=t;switch(t){case"keypress":if(Ur(r)===0)break e;case"keydown":case"keyup":F=Au;break;case"focusin":ue="focus",F=jr;break;case"focusout":ue="blur",F=jr;break;case"beforeblur":case"afterblur":F=jr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Lg:case Ug:case Pg:F=yu;break;case jg:F=S;break;case"scroll":case"scrollend":F=qo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ts;break;case"toggle":case"beforetoggle":F=Me}var _e=(n&4)!==0,ct=!_e&&(t==="scroll"||t==="scrollend"),U=_e?B!==null?B+"Capture":null:B;_e=[];for(var M=z,j;M!==null;){var Y=M;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||U===null||(Y=oi(M,U),Y!=null&&_e.push(vl(M,Y,j))),ct)break;M=M.return}0<_e.length&&(B=new F(B,ue,null,r,G),X.push({event:B,listeners:_e}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&r!==jo&&(ue=r.relatedTarget||r.fromElement)&&(Ai(ue)||ue[bi]))break e;if((F||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ue=r.relatedTarget||r.toElement,F=z,ue=ue?Ai(ue):null,ue!==null&&(ct=c(ue),_e=ue.tag,ue!==ct||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(F=null,ue=z),F!==ue)){if(_e=Ho,Y="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ts,Y="onPointerLeave",U="onPointerEnter",M="pointer"),ct=F==null?B:xn(F),j=ue==null?B:xn(ue),B=new _e(Y,M+"leave",F,r,G),B.target=ct,B.relatedTarget=j,Y=null,Ai(G)===z&&(_e=new _e(U,M+"enter",ue,r,G),_e.target=j,_e.relatedTarget=ct,Y=_e),ct=Y,F&&ue)t:{for(_e=ib,U=F,M=ue,j=0,Y=U;Y;Y=_e(Y))j++;Y=0;for(var ge=M;ge;ge=_e(ge))Y++;for(;0<j-Y;)U=_e(U),j--;for(;0<Y-j;)M=_e(M),Y--;for(;j--;){if(U===M||M!==null&&U===M.alternate){_e=U;break t}U=_e(U),M=_e(M)}_e=null}else _e=null;F!==null&&l_(X,B,F,_e,!1),ue!==null&&ct!==null&&l_(X,ct,ue,_e,!0)}}e:{if(B=z?xn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var $e=wg;else if(Sg(B))if(Rg)$e=m1;else{$e=f1;var fe=h1}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ea(z.elementType)&&($e=wg):$e=d1;if($e&&($e=$e(t,z))){Ag(X,$e,r,G);break e}fe&&fe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Lo(B,"number",B.value)}switch(fe=z?xn(z):window,t){case"focusin":(Sg(fe)||fe.contentEditable==="true")&&(xa=fe,Fh=z,Yo=null);break;case"focusout":Yo=Fh=xa=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Vg(X,r,G);break;case"selectionchange":if(p1)break;case"keydown":case"keyup":Vg(X,r,G)}var ke;if(We)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ia?zr(t,r)&&(He="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(He="onCompositionStart");He&&(Vi&&r.locale!=="ko"&&(Ia||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ia&&(ke=Bo()):(Ni=G,zo="value"in Ni?Ni.value:Ni.textContent,Ia=!0)),fe=mc(z,He),0<fe.length&&(He=new Mi(He,t,null,r,G),X.push({event:He,listeners:fe}),ke?He.data=ke:(ke=Ca(r),ke!==null&&(He.data=ke)))),(ke=Fn?o1(t,r):l1(t,r))&&(He=mc(z,"onBeforeInput"),0<He.length&&(fe=new Mi("onBeforeInput","beforeinput",null,r,G),X.push({event:fe,listeners:He}),fe.data=ke)),W1(X,t,z,r,G)}a_(X,n)})}function vl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function mc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(t,r),h!=null&&o.unshift(vl(t,h,f)),h=oi(t,n),h!=null&&o.push(vl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function ib(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l_(t,n,r,o,h){for(var f=n._reactName,y=[];r!==null&&r!==o;){var T=r,x=T.alternate,z=T.stateNode;if(T=T.tag,x!==null&&x===o)break;T!==5&&T!==26&&T!==27||z===null||(x=z,h?(z=oi(r,f),z!=null&&y.unshift(vl(r,z,x))):h||(z=oi(r,f),z!=null&&y.push(vl(r,z,x)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var sb=/\r\n?/g,rb=/\u0000|\uFFFD/g;function u_(t){return(typeof t=="string"?t:""+t).replace(sb,`
`).replace(rb,"")}function c_(t,n){return n=u_(n),u_(t)===n}function ut(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(t,""+o);break;case"className":Nn(t,"class",o);break;case"tabIndex":Nn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,r,o);break;case"style":Po(t,o,f);break;case"data":if(n!=="object"){Nn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ba(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ba(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ai);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ba(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":ze("beforetoggle",t),ze("toggle",t),va(t,"popover",o);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":va(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mu.get(r)||r,va(t,r,o))}}function yd(t,n,r,o,h,f){switch(r){case"style":Po(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?vn(t,o):(typeof o=="number"||typeof o=="bigint")&&vn(t,""+o);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Yt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):va(t,r,o)}}}function rn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ut(t,n,f,y,r,null)}}h&&ut(t,n,"srcSet",r.srcSet,r,null),o&&ut(t,n,"src",r.src,r,null);return;case"input":ze("invalid",t);var T=f=y=h=null,x=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":x=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ut(t,n,o,G,r,null)}}hu(t,f,T,x,z,y,h,!1);return;case"select":ze("invalid",t),o=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":o=T;default:ut(t,n,h,T,r,null)}n=f,r=y,t.multiple=!!o,n!=null?Is(t,!!o,n,!1):r!=null&&Is(t,!!o,r,!0);return;case"textarea":ze("invalid",t),f=h=o=null;for(y in r)if(r.hasOwnProperty(y)&&(T=r[y],T!=null))switch(y){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ut(t,n,y,T,r,null)}xs(t,o,h,f);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(o=r[x],o!=null))switch(x){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ut(t,n,x,o,r,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(o=0;o<_l.length;o++)ze(_l[o],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ut(t,n,z,o,r,null)}return;default:if(Ea(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&yd(t,n,G,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&ut(t,n,T,o,r,null))}function ab(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,x=null,z=null,G=null;for(F in r){var X=r[F];if(r.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":x=X;default:o.hasOwnProperty(F)||ut(t,n,F,null,o,X)}}for(var B in o){var F=o[B];if(X=r[B],o.hasOwnProperty(B)&&(F!=null||X!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":G=F;break;case"value":y=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==X&&ut(t,n,B,F,o,X)}}Ta(t,y,T,x,z,G,f,h);return;case"select":F=y=T=B=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":F=x;default:o.hasOwnProperty(f)||ut(t,n,f,null,o,x)}for(h in o)if(f=o[h],x=r[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==x&&ut(t,n,h,f,o,x)}n=T,r=y,o=F,B!=null?Is(t,!!r,B,!1):!!o!=!!r&&(n!=null?Is(t,!!r,n,!0):Is(t,!!r,r?[]:"",!1));return;case"textarea":F=B=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ut(t,n,T,null,o,h)}for(y in o)if(h=o[y],f=r[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ut(t,n,y,h,o,f)}fu(t,B,F);return;case"option":for(var ue in r)if(B=r[ue],r.hasOwnProperty(ue)&&B!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:ut(t,n,ue,null,o,B)}for(x in o)if(B=o[x],F=r[x],o.hasOwnProperty(x)&&B!==F&&(B!=null||F!=null))switch(x){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ut(t,n,x,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)B=r[_e],r.hasOwnProperty(_e)&&B!=null&&!o.hasOwnProperty(_e)&&ut(t,n,_e,null,o,B);for(z in o)if(B=o[z],F=r[z],o.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ut(t,n,z,B,o,F)}return;default:if(Ea(n)){for(var ct in r)B=r[ct],r.hasOwnProperty(ct)&&B!==void 0&&!o.hasOwnProperty(ct)&&yd(t,n,ct,void 0,o,B);for(G in o)B=o[G],F=r[G],!o.hasOwnProperty(G)||B===F||B===void 0&&F===void 0||yd(t,n,G,B,o,F);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&ut(t,n,U,null,o,B);for(X in o)B=o[X],F=r[X],!o.hasOwnProperty(X)||B===F||B==null&&F==null||ut(t,n,X,B,o,F)}function h_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ob(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&h_(y)){for(y=0,T=h.responseEnd,o+=1;o<r.length;o++){var x=r[o],z=x.startTime;if(z>T)break;var G=x.transferSize,X=x.initiatorType;G&&h_(X)&&(x=x.responseEnd,y+=G*(x<T?1:(T-z)/(x-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _d=null,vd=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function f_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function lb(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(t){return g_.resolve(null).then(t).catch(hb)}:m_;function hb(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function p_(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),no(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Tl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Tl(r);for(var f=r.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[Si]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&Tl(t.ownerDocument.body);r=h}while(r);no(n)}function y_(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),_a(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function fb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function db(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Zn(t.nextSibling),t===null))return null;return t}function __(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zn(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wd=null;function v_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Zn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function T_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function E_(t,n,r){switch(n=gc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);_a(t)}var Jn=new Map,b_=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=W.d;W.d={f:gb,r:pb,D:yb,C:_b,L:vb,m:Tb,X:bb,S:Eb,M:Sb};function gb(){var t=ps.f(),n=oc();return t||n}function pb(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?jp(n):ps.r(t)}var Wa=typeof document>"u"?null:document;function S_(t,n,r){var o=Wa;if(o&&typeof n=="string"&&n){var h=_n(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),b_.has(h)||(b_.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),rn(n,"link",t),Lt(n),o.head.appendChild(n)))}}function yb(t){ps.D(t),S_("dns-prefetch",t,null)}function _b(t,n){ps.C(t,n),S_("preconnect",t,n)}function vb(t,n,r){ps.L(t,n,r);var o=Wa;if(o&&t&&n){var h='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+_n(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+_n(r.imageSizes)+'"]')):h+='[href="'+_n(t)+'"]';var f=h;switch(n){case"style":f=eo(t);break;case"script":f=to(t)}Jn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Jn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(El(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),rn(n,"link",t),Lt(n),o.head.appendChild(n)))}}function Tb(t,n){ps.m(t,n);var r=Wa;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=to(t)}if(!Jn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Jn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(f)))return}o=r.createElement("link"),rn(o,"link",t),Lt(o),r.head.appendChild(o)}}}function Eb(t,n,r){ps.S(t,n,r);var o=Wa;if(o&&t){var h=wi(o).hoistableStyles,f=eo(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=o.querySelector(El(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Jn.get(f))&&Rd(t,r);var x=y=o.createElement("link");Lt(x),rn(x,"link",t),x._p=new Promise(function(z,G){x.onload=z,x.onerror=G}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function bb(t,n){ps.X(t,n);var r=Wa;if(r&&t){var o=wi(r).hoistableScripts,h=to(t),f=o.get(h);f||(f=r.querySelector(bl(h)),f||(t=A({src:t,async:!0},n),(n=Jn.get(h))&&Cd(t,n),f=r.createElement("script"),Lt(f),rn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Sb(t,n){ps.M(t,n);var r=Wa;if(r&&t){var o=wi(r).hoistableScripts,h=to(t),f=o.get(h);f||(f=r.querySelector(bl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Jn.get(h))&&Cd(t,n),f=r.createElement("script"),Lt(f),rn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function A_(t,n,r,o){var h=(h=Ne.current)?pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=eo(r.href),r=wi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=eo(r.href);var f=wi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(El(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Jn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Jn.set(t,r),f||Ab(h,t,r,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=to(r),r=wi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function eo(t){return'href="'+_n(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function w_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Ab(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),rn(n,"link",r),Lt(n),t.head.appendChild(n))}function to(t){return'[src="'+_n(t)+'"]'}function bl(t){return"script[async]"+t}function R_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+_n(r.href)+'"]');if(o)return n.instance=o,Lt(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Lt(o),rn(o,"style",h),yc(o,r.precedence,t),n.instance=o;case"stylesheet":h=eo(r.href);var f=t.querySelector(El(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;o=w_(r),(h=Jn.get(h))&&Rd(o,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var y=f;return y._p=new Promise(function(T,x){y.onload=T,y.onerror=x}),rn(f,"link",o),n.state.loading|=4,yc(f,r.precedence,t),n.instance=f;case"script":return f=to(r.src),(h=t.querySelector(bl(f)))?(n.instance=h,Lt(h),h):(o=r,(h=Jn.get(f))&&(o=A({},r),Cd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),rn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,r.precedence,t));return n.instance}function yc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var T=o[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function C_(t,n,r){if(_c===null){var o=new Map,h=_c=new Map;h.set(r,o)}else h=_c,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Si]||f[kt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=o.get(y);T?T.push(f):o.set(y,[f])}}return o}function I_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function wb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Rb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=eo(o.href),f=n.querySelector(El(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Lt(f);return}f=n.ownerDocument||n,o=w_(o),(h=Jn.get(h))&&Rd(o,h),f=f.createElement("link"),Lt(f);var y=f;y._p=new Promise(function(T,x){y.onload=T,y.onerror=x}),rn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=vc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Id=0;function Cb(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*ob());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(Ib,t),Tc=null,vc.call(t))}function Ib(t,n){if(!(n.state.loading&4)){var r=Tc.get(t);if(r)var o=r.get(null);else{r=new Map,Tc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,h),r.set(y,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Sl={$$typeof:$,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function xb(t,n,r,o,h,f,y,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function N_(t,n,r,o,h,f,y,T,x,z,G,X){return t=new xb(t,n,r,y,x,z,G,X,T),n=1,f===!0&&(n|=24),f=On(3,null,null,n),t.current=f,f.stateNode=t,n=of(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},hf(f),t}function D_(t){return t?(t=Oa,t):Oa}function O_(t,n,r,o,h,f){h=D_(h),o.context===null?o.context=h:o.pendingContext=h,o=Bs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=qs(t,o,n),r!==null&&(An(r,t,n),tl(r,t,n))}function M_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function xd(t,n){M_(t,n),(t=t.alternate)&&M_(t,n)}function V_(t){if(t.tag===13||t.tag===31){var n=Hr(t,67108864);n!==null&&An(n,t,67108864),xd(t,67108864)}}function k_(t){if(t.tag===13||t.tag===31){var n=Un();n=Dr(n);var r=Hr(t,n);r!==null&&An(r,t,n),xd(t,n)}}var bc=!0;function Nb(t,n,r,o){var h=L.T;L.T=null;var f=W.p;try{W.p=2,Nd(t,n,r,o)}finally{W.p=f,L.T=h}}function Db(t,n,r,o){var h=L.T;L.T=null;var f=W.p;try{W.p=8,Nd(t,n,r,o)}finally{W.p=f,L.T=h}}function Nd(t,n,r,o){if(bc){var h=Dd(o);if(h===null)pd(t,n,o,Sc,r),U_(t,o);else if(Mb(h,t,n,r,o))o.stopPropagation();else if(U_(t,o),n&4&&-1<Ob.indexOf(t)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=vi(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var x=1<<31-It(y);T.entanglements[1]|=x,y&=~x}Pi(f),(et&6)===0&&(rc=bt()+500,yl(0))}}break;case 31:case 13:T=Hr(f,2),T!==null&&An(T,f,2),oc(),xd(f,2)}if(f=Dd(o),f===null&&pd(t,n,o,Sc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(t,n,o,null,r)}}function Dd(t){return t=qn(t),Od(t)}var Sc=null;function Od(t){if(Sc=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function L_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jn()){case ti:return 2;case $i:return 8;case At:case gn:return 32;case Zi:return 268435456;default:return 32}default:return 32}}var Md=!1,Ws=null,er=null,tr=null,Al=new Map,wl=new Map,nr=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(n.pointerId)}}function Rl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&V_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Mb(t,n,r,o,h){switch(n){case"focusin":return Ws=Rl(Ws,t,n,r,o,h),!0;case"dragenter":return er=Rl(er,t,n,r,o,h),!0;case"mouseover":return tr=Rl(tr,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Al.set(f,Rl(Al.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,wl.set(f,Rl(wl.get(f)||null,t,n,r,o,h)),!0}return!1}function P_(t){var n=Ai(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,si(t.priority,function(){k_(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,si(t.priority,function(){k_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Dd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);jo=o,r.target.dispatchEvent(o),jo=null}else return n=Bn(r),n!==null&&V_(n),t.blockedOn=r,!1;n.shift()}return!0}function j_(t,n,r){Ac(t)&&r.delete(n)}function Vb(){Md=!1,Ws!==null&&Ac(Ws)&&(Ws=null),er!==null&&Ac(er)&&(er=null),tr!==null&&Ac(tr)&&(tr=null),Al.forEach(j_),wl.forEach(j_)}function wc(t,n){t.blockedOn===n&&(t.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vb)))}var Rc=null;function z_(t){Rc!==t&&(Rc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Od(o||r)===null)continue;break}var f=Bn(r);f!==null&&(t.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function no(t){function n(x){return wc(x,t)}Ws!==null&&wc(Ws,t),er!==null&&wc(er,t),tr!==null&&wc(tr,t),Al.forEach(n),wl.forEach(n);for(var r=0;r<nr.length;r++){var o=nr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)P_(r),r.blockedOn===null&&nr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],y=h[Yt]||null;if(typeof f=="function")y||z_(r);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Yt]||null)T=y.formAction;else if(Od(h)!==null)continue}else T=y.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),z_(r)}}}function B_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(t){this._internalRoot=t}Cc.prototype.render=Vd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Un();O_(r,o,t,n,null,null)},Cc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;O_(t.current,2,null,t,null,null),oc(),n[bi]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var r=0;r<nr.length&&n!==0&&n<nr[r].priority;r++);nr.splice(r,0,t),r===0&&P_(t)}};var q_=e.version;if(q_!=="19.2.3")throw Error(a(527,q_,"19.2.3"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var kb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{In=Ic.inject(kb),Wt=Ic}catch{}}return Il.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Xp,f=$p,y=Zp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=N_(t,1,!1,null,null,r,o,null,h,f,y,B_),t[bi]=n.current,gd(t),new Vd(n)},Il.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Xp,y=$p,T=Zp,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=N_(t,1,!0,n,r??null,o,h,x,f,y,T,B_),n.context=D_(null),r=n.current,o=Un(),o=Dr(o),h=Bs(o),h.callback=null,qs(r,h,o),r=o,n.current.lanes=r,xr(n,r),Pi(n),t[bi]=n.current,gd(t),new Cc(n)},Il.version="19.2.3",Il}var J_;function Xb(){if(J_)return Ud.exports;J_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=Yb(),Ud.exports}var $b=Xb();const Zb=()=>{};var W_={};const xv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Jb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,p=_?s[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let N=(g&15)<<2|p>>6,q=p&63;_||(q=64,d||(N=64)),a.push(i[b],i[A],i[N],i[q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(xv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Jb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const p=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||p==null||A==null)throw new Wb;const N=c<<2|g>>4;if(a.push(N),p!==64){const q=g<<4&240|p>>2;if(a.push(q),A!==64){const Q=p<<6&192|A;a.push(Q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(s){const e=xv(s);return Nv.encodeByteArray(e,!0)},Kc=function(s){return eS(s).replace(/\./g,"")},Dv=function(s){try{return Nv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nS=()=>tS().__FIREBASE_DEFAULTS__,iS=()=>{if(typeof process>"u"||typeof W_>"u")return;const s=W_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Dv(s[1]);return e&&JSON.parse(e)},mh=()=>{try{return Zb()||nS()||iS()||sS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ov=s=>mh()?.emulatorHosts?.[s],rS=s=>{const e=Ov(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Mv=()=>mh()?.config,Vv=s=>mh()?.[`_${s}`];class aS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(s){return(await fetch(s,{credentials:"include"})).ok}function oS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const Ml={};function lS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?s.emulator.push(e):s.prod.push(e);return s}function uS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let e0=!1;function Lv(s,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Ml[s]===e||Ml[s]||e0)return;Ml[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=lS().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{e0=!0,d()},N}function b(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=uS(a),q=i("text"),Q=document.getElementById(q)||document.createElement("span"),te=i("learnmore"),ee=document.getElementById(te)||document.createElement("a"),ce=i("preprendIcon"),me=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const $=N.element;g($),b(ee,te);const Re=p();_(me,ce),$.append(me,Q,ee,Re),document.body.appendChild($)}c?(Q.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function hS(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gS(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function pS(){return!hS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yS(){try{return typeof indexedDB=="object"}catch{return!1}}function _S(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const vS="FirebaseError";class ws extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=vS,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?TS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ws(l,g,a)}}function TS(s,e){return s.replace(ES,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const ES=/\{\$([^}]+)}/g;function bS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ua(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(t0(c)&&t0(d)){if(!ua(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function t0(s){return s!==null&&typeof s=="object"}function Yl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function SS(s,e){const i=new AS(s,e);return i.subscribe.bind(i)}class AS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");wS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}function ln(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ra="[DEFAULT]";class RS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new aS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CS(s){return s===ra?void 0:s}function IS(s){return s.instantiationMode==="EAGER"}class xS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new RS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const NS={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},DS=Fe.INFO,OS={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},MS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=OS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=DS,this._logHandler=MS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const VS=(s,e)=>e.some(i=>s instanceof i);let n0,i0;function kS(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LS(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,tm=new WeakMap,Pv=new WeakMap,qd=new WeakMap,Om=new WeakMap;function US(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(hr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uv.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function PS(s){if(tm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,e)}let nm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return tm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Pv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function jS(s){nm=s(nm)}function zS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hd(this),e,...i);return Pv.set(a,e.sort?e.sort():[e]),hr(a)}:LS().includes(s)?function(...e){return s.apply(Hd(this),e),hr(Uv.get(this))}:function(...e){return hr(s.apply(Hd(this),e))}}function BS(s){return typeof s=="function"?zS(s):(s instanceof IDBTransaction&&PS(s),VS(s,kS())?new Proxy(s,nm):s)}function hr(s){if(s instanceof IDBRequest)return US(s);if(qd.has(s))return qd.get(s);const e=BS(s);return e!==s&&(qd.set(s,e),Om.set(e,s)),e}const Hd=s=>Om.get(s);function qS(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=hr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(hr(d.result),_.oldVersion,_.newVersion,hr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const HS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],Fd=new Map;function s0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=FS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||HS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let p=_.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),l&&_.done]))[0]};return Fd.set(e,c),c}jS(s=>({...s,get:(e,i,a)=>s0(e,i)||s.get(e,i,a),has:(e,i)=>!!s0(e,i)||s.has(e,i)}));class GS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function QS(s){return s.getComponent()?.type==="VERSION"}const im="@firebase/app",r0="0.14.6";const Ts=new Dm("@firebase/app"),KS="@firebase/app-compat",YS="@firebase/analytics-compat",XS="@firebase/analytics",$S="@firebase/app-check-compat",ZS="@firebase/app-check",JS="@firebase/auth",WS="@firebase/auth-compat",eA="@firebase/database",tA="@firebase/data-connect",nA="@firebase/database-compat",iA="@firebase/functions",sA="@firebase/functions-compat",rA="@firebase/installations",aA="@firebase/installations-compat",oA="@firebase/messaging",lA="@firebase/messaging-compat",uA="@firebase/performance",cA="@firebase/performance-compat",hA="@firebase/remote-config",fA="@firebase/remote-config-compat",dA="@firebase/storage",mA="@firebase/storage-compat",gA="@firebase/firestore",pA="@firebase/ai",yA="@firebase/firestore-compat",_A="firebase",vA="12.6.0";const sm="[DEFAULT]",TA={[im]:"fire-core",[KS]:"fire-core-compat",[XS]:"fire-analytics",[YS]:"fire-analytics-compat",[ZS]:"fire-app-check",[$S]:"fire-app-check-compat",[JS]:"fire-auth",[WS]:"fire-auth-compat",[eA]:"fire-rtdb",[tA]:"fire-data-connect",[nA]:"fire-rtdb-compat",[iA]:"fire-fn",[sA]:"fire-fn-compat",[rA]:"fire-iid",[aA]:"fire-iid-compat",[oA]:"fire-fcm",[lA]:"fire-fcm-compat",[uA]:"fire-perf",[cA]:"fire-perf-compat",[hA]:"fire-rc",[fA]:"fire-rc-compat",[dA]:"fire-gcs",[mA]:"fire-gcs-compat",[gA]:"fire-fst",[yA]:"fire-fst-compat",[pA]:"fire-vertex","fire-js":"fire-js",[_A]:"fire-js-all"};const Yc=new Map,EA=new Map,rm=new Map;function a0(s,e){try{s.container.addComponent(e)}catch(i){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function mo(s){const e=s.name;if(rm.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,s);for(const i of Yc.values())a0(i,s);for(const i of EA.values())a0(i,s);return!0}function Mm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function mi(s){return s==null?!1:s.settings!==void 0}const bA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Kl("app","Firebase",bA);class SA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const bo=vA;function jv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:sm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(i||(i=Mv()),!i)throw fr.create("no-options");const c=Yc.get(l);if(c){if(ua(i,c.options)&&ua(a,c.config))return c;throw fr.create("duplicate-app",{appName:l})}const d=new xS(l);for(const _ of rm.values())d.addComponent(_);const g=new SA(i,a,d);return Yc.set(l,g),g}function zv(s=sm){const e=Yc.get(s);if(!e&&s===sm&&Mv())return jv();if(!e)throw fr.create("no-app",{appName:s});return e}function dr(s,e,i){let a=TA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(d.join(" "));return}mo(new ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const AA="firebase-heartbeat-database",wA=1,jl="firebase-heartbeat-store";let Gd=null;function Bv(){return Gd||(Gd=qS(AA,wA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function RA(s){try{const i=(await Bv()).transaction(jl),a=await i.objectStore(jl).get(qv(s));return await i.done,a}catch(e){if(e instanceof ws)Ts.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(i.message)}}}async function o0(s,e){try{const a=(await Bv()).transaction(jl,"readwrite");await a.objectStore(jl).put(e,qv(s)),await a.done}catch(i){if(i instanceof ws)Ts.warn(i.message);else{const a=fr.create("idb-set",{originalErrorMessage:i?.message});Ts.warn(a.message)}}}function qv(s){return`${s.name}!${s.options.appId}`}const CA=1024,IA=30;class xA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>IA){const l=OA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l0(),{heartbeatsToSend:i,unsentEntries:a}=NA(this._heartbeatsCache.heartbeats),l=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ts.warn(e),""}}}function l0(){return new Date().toISOString().substring(0,10)}function NA(s,e=CA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),u0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),u0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class DA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yS()?_S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function u0(s){return Kc(JSON.stringify({version:2,heartbeats:s})).length}function OA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function MA(s){mo(new ca("platform-logger",e=>new GS(e),"PRIVATE")),mo(new ca("heartbeat",e=>new xA(e),"PRIVATE")),dr(im,r0,s),dr(im,r0,"esm2020"),dr("fire-js","")}MA("");var VA="firebase",kA="12.7.0";dr(VA,kA,"app");function Hv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LA=Hv,Fv=new Kl("auth","Firebase",Hv());const Xc=new Dm("@firebase/auth");function UA(s,...e){Xc.logLevel<=Fe.WARN&&Xc.warn(`Auth (${bo}): ${s}`,...e)}function Uc(s,...e){Xc.logLevel<=Fe.ERROR&&Xc.error(`Auth (${bo}): ${s}`,...e)}function Es(s,...e){throw Vm(s,...e)}function zi(s,...e){return Vm(s,...e)}function Gv(s,e,i){const a={...LA(),[e]:i};return new Kl("auth","Firebase",a).create(e,{appName:s.name})}function mr(s){return Gv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Fv.create(s,...e)}function Ae(s,e,...i){if(!s)throw Vm(e,...i)}function _s(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Uc(e),new Error(e)}function bs(s,e){s||_s(e)}function am(){return typeof self<"u"&&self.location?.href||""}function PA(){return c0()==="http:"||c0()==="https:"}function c0(){return typeof self<"u"&&self.location?.protocol||null}function jA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PA()||dS()||"connection"in navigator)?navigator.onLine:!0}function zA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xl{constructor(e,i){this.shortDelay=e,this.longDelay=i,bs(i>e,"Short delay should be less than long delay!"),this.isMobile=cS()||mS()}get(){return jA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function km(s,e){bs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Qv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HA=new Xl(3e4,6e4);function gh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function So(s,e,i,a,l={}){return Kv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Yl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:_,...c};return fS()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(p.credentials="include"),Qv.fetch()(await Xv(s,s.config.apiHost,i,g),p)})}async function Kv(s,e,i){s._canInitEmulator=!1;const a={...BA,...e};try{const l=new FA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,p]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw xc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw xc(s,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Gv(s,b,p);Es(s,b)}}catch(l){if(l instanceof ws)throw l;Es(s,"network-request-failed",{message:String(l)})}}async function Yv(s,e,i,a,l={}){const c=await So(s,e,i,a,l);return"mfaPendingCredential"in c&&Es(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Xv(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?km(s.config,l):`${s.config.apiScheme}://${l}`;return qA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class FA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),HA.get())})}}function xc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=zi(s,e,a);return l.customData._tokenResponse=i,l}async function GA(s,e){return So(s,"POST","/v1/accounts:delete",e)}async function $c(s,e){return So(s,"POST","/v1/accounts:lookup",e)}function Vl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QA(s,e=!1){const i=ln(s),a=await i.getIdToken(e),l=Lm(a);Ae(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Vl(Qd(l.auth_time)),issuedAtTime:Vl(Qd(l.iat)),expirationTime:Vl(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(s){return Number(s)*1e3}function Lm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Dv(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function h0(s){const e=Lm(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ws&&KA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function KA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class YA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(s){const e=s.auth,i=await s.getIdToken(),a=await zl(s,$c(e,{idToken:i}));Ae(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?$v(l.providerUserInfo):[],d=$A(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,p=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,b)}async function XA(s){const e=ln(s);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $A(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function $v(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ZA(s,e){const i=await Kv(s,{},async()=>{const a=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Xv(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(_.credentials="include"),Qv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function JA(s,e){return So(s,"POST","/v2/accounts:revokeToken",gh(s,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=h0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await ZA(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new lo;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ae(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return _s("not implemented")}}function sr(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new YA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await zl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return QA(this,e)}reload(){return XA(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await zl(this,GA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,p=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:q,providerData:Q,stsTokenManager:te}=i;Ae(A&&te,e,"internal-error");const ee=lo.fromJSON(this.name,te);Ae(typeof A=="string",e,"internal-error"),sr(a,e.name),sr(l,e.name),Ae(typeof N=="boolean",e,"internal-error"),Ae(typeof q=="boolean",e,"internal-error"),sr(c,e.name),sr(d,e.name),sr(g,e.name),sr(_,e.name),sr(p,e.name),sr(b,e.name);const ce=new gi({uid:A,auth:e,email:l,emailVerified:N,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ee,createdAt:p,lastLoginAt:b});return Q&&Array.isArray(Q)&&(ce.providerData=Q.map(me=>({...me}))),_&&(ce._redirectEventId=_),ce}static async _fromIdTokenResponse(e,i,a=!1){const l=new lo;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ae(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?$v(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new lo;g.updateFromIdToken(a);const _=new gi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,p),_}}const f0=new Map;function vs(s){bs(s instanceof Function,"Expected a class definition");let e=f0.get(s);return e?(bs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,f0.set(s,e),e)}class Zv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Zv.type="NONE";const d0=Zv;function Pc(s,e,i){return`firebase:${s}:${e}:${i}`}class uo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await $c(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new uo(vs(d0),e,a);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=l[0]||vs(d0);const d=Pc(a,e.config.apiKey,e.name);let g=null;for(const p of i)try{const b=await p._get(d);if(b){let A;if(typeof b=="string"){const N=await $c(e,{idToken:b}).catch(()=>{});if(!N)break;A=await gi._fromGetAccountInfoResponse(e,N,b)}else A=gi._fromJSON(e,b);p!==c&&(g=A),c=p;break}}catch{}const _=l.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new uo(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new uo(c,e,a))}}function m0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iT(e))return"Blackberry";if(sT(e))return"Webos";if(Wv(e))return"Safari";if((e.includes("chrome/")||eT(e))&&!e.includes("edge/"))return"Chrome";if(nT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Jv(s=mn()){return/firefox\//i.test(s)}function Wv(s=mn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eT(s=mn()){return/crios\//i.test(s)}function tT(s=mn()){return/iemobile/i.test(s)}function nT(s=mn()){return/android/i.test(s)}function iT(s=mn()){return/blackberry/i.test(s)}function sT(s=mn()){return/webos/i.test(s)}function Um(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function WA(s=mn()){return Um(s)&&!!window.navigator?.standalone}function ew(){return gS()&&document.documentMode===10}function rT(s=mn()){return Um(s)||nT(s)||sT(s)||iT(s)||/windows phone/i.test(s)||tT(s)}function aT(s,e=[]){let i;switch(s){case"Browser":i=m0(mn());break;case"Worker":i=`${m0(mn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${bo}/${a}`}class tw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function nw(s,e={}){return So(s,"GET","/v2/passwordPolicy",gh(s,e))}const iw=6;class sw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??iw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class rw{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new tw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await $c(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(mr(this));const i=e?ln(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nw(this),i=new sw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await JA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&vs(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ph(s){return ln(s)}class g0{constructor(e){this.auth=e,this.observer=null,this.addObserver=SS(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aw(s){Pm=s}function ow(s){return Pm.loadJS(s)}function lw(){return Pm.gapiScript}function uw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function cw(s,e){const i=Mm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ua(c,e??{}))return l;Es(l,"already-initialized")}return i.initialize({options:e})}function hw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(vs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function fw(s,e,i){const a=ph(s);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=oT(e),{host:d,port:g}=dw(e),_=g===null?"":`:${g}`,p={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(ua(p,a.config.emulator)&&ua(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Eo(d)?(kv(`${c}//${d}${_}`),Lv("Auth",!0)):mw()}function oT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function dw(s){const e=oT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:p0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:p0(d)}}}function p0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class lT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,i){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function co(s,e){return Yv(s,"POST","/v1/accounts:signInWithIdp",gh(s,e))}const gw="http://localhost";class ha extends lT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ha(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return co(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,co(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,co(e,i)}buildRequest(){const e={requestUri:gw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Yl(i)}return e}}class uT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $l extends uT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rr extends $l{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class or extends $l{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";class lr extends $l{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function pw(s,e){return Yv(s,"POST","/v1/accounts:signUp",gh(s,e))}class _r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await gi._fromIdTokenResponse(e,a,l),d=y0(a);return new _r({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=y0(a);return new _r({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function y0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function yw(s){if(mi(s.app))return Promise.reject(mr(s));const e=ph(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new _r({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await pw(e,{returnSecureToken:!0}),a=await _r._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Jc extends ws{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Jc(e,i,a,l)}}function cT(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,e,a):c})}async function _w(s,e,i=!1){const a=await zl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return _r._forOperation(s,"link",a)}async function vw(s,e,i=!1){const{auth:a}=s;if(mi(a.app))return Promise.reject(mr(a));const l="reauthenticate";try{const c=await zl(s,cT(a,l,e,s),i);Ae(c.idToken,a,"internal-error");const d=Lm(c.idToken);Ae(d,a,"internal-error");const{sub:g}=d;return Ae(s.uid===g,a,"user-mismatch"),_r._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Es(a,"user-mismatch"),c}}async function Tw(s,e,i=!1){if(mi(s.app))return Promise.reject(mr(s));const a="signIn",l=await cT(s,a,e),c=await _r._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function Ew(s,e,i,a){return ln(s).onIdTokenChanged(e,i,a)}function bw(s,e,i){return ln(s).beforeAuthStateChanged(e,i)}function Sw(s,e,i,a){return ln(s).onAuthStateChanged(e,i,a)}const Wc="__sak";class hT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Aw=1e3,ww=10;class fT extends hT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);ew()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,ww):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}fT.type="LOCAL";const Rw=fT;class dT extends hT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}dT.type="SESSION";const mT=dT;function Cw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new yh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async p=>p(i.origin,c)),_=await Cw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function jm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Iw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const p=jm("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const N=A;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function xw(s){Bi().location.href=s}function gT(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function Nw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dw(){return navigator?.serviceWorker?.controller||null}function Ow(){return gT()?self:null}const pT="firebaseLocalStorageDb",Mw=1,eh="firebaseLocalStorage",yT="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(s,e){return s.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function Vw(){const s=indexedDB.deleteDatabase(pT);return new Zl(s).toPromise()}function lm(){const s=indexedDB.open(pT,Mw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:yT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?e(a):(a.close(),await Vw(),e(await lm()))})})}async function _0(s,e,i){const a=_h(s,!0).put({[yT]:e,value:i});return new Zl(a).toPromise()}async function kw(s,e){const i=_h(s,!1).get(e),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function v0(s,e){const i=_h(s,!0).delete(e);return new Zl(i).toPromise()}const Lw=800,Uw=3;class _T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Uw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(Ow()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Nw(),!this.activeServiceWorker)return;this.sender=new Iw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await _0(e,Wc,"1"),await v0(e,Wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>_0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>kw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>v0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new Zl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_T.type="LOCAL";const Pw=_T;new Xl(3e4,6e4);function jw(s,e){return e?vs(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zm extends lT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,i){return co(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function zw(s){return Tw(s.auth,new zm(s),s.bypassAuthState)}function Bw(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),vw(i,new zm(s),s.bypassAuthState)}async function qw(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),_w(i,new zm(s),s.bypassAuthState)}class vT{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zw;case"linkViaPopup":case"linkViaRedirect":return qw;case"reauthViaPopup":case"reauthViaRedirect":return Bw;default:Es(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hw=new Xl(2e3,1e4);class oo extends vT{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hw.get())};e()}}oo.currentPopupAction=null;const Fw="pendingRedirect",jc=new Map;class Gw extends vT{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const a=await Qw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qw(s,e){const i=Xw(e),a=Yw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Kw(s,e){jc.set(s._key(),e)}function Yw(s){return vs(s._redirectPersistence)}function Xw(s){return Pc(Fw,s.config.apiKey,s.name)}async function $w(s,e,i=!1){if(mi(s.app))return Promise.reject(mr(s));const a=ph(s),l=jw(a,e),d=await new Gw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Zw=600*1e3;class Jw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ww(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!TT(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zw&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(e))}saveEventToCache(e){this.cachedEventUids.add(T0(e)),this.lastProcessedEventTime=Date.now()}}function T0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function TT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Ww(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TT(s);default:return!1}}async function e2(s,e={}){return So(s,"GET","/v1/projects",e)}const t2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n2=/^https?/;async function i2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await e2(s);for(const i of e)try{if(s2(i))return}catch{}Es(s,"unauthorized-domain")}function s2(s){const e=am(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!n2.test(i))return!1;if(t2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const r2=new Xl(3e4,6e4);function E0(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function a2(s){return new Promise((e,i)=>{function a(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),i(zi(s,"network-request-failed"))},timeout:r2.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const l=uw("iframefcb");return Bi()[l]=()=>{gapi.load?a():i(zi(s,"network-request-failed"))},ow(`${lw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw zc=null,e})}let zc=null;function o2(s){return zc=zc||a2(s),zc}const l2=new Xl(5e3,15e3),u2="__/auth/iframe",c2="emulator/auth/iframe",h2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d2(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?km(e,c2):`https://${s.config.authDomain}/${u2}`,a={apiKey:e.apiKey,appName:s.name,v:bo},l=f2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Yl(a).slice(1)}`}async function m2(s){const e=await o2(s),i=Bi().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:d2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),g=Bi().setTimeout(()=>{c(d)},l2.get());function _(){Bi().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const g2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p2=500,y2=600,_2="_blank",v2="http://localhost";class b0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T2(s,e,i,a=p2,l=y2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...g2,width:a.toString(),height:l.toString(),top:c,left:d},p=mn().toLowerCase();i&&(g=eT(p)?_2:i),Jv(p)&&(e=e||v2,_.scrollbars="yes");const b=Object.entries(_).reduce((N,[q,Q])=>`${N}${q}=${Q},`,"");if(WA(p)&&g!=="_self")return E2(e||"",g),new b0(null);const A=window.open(e||"",g,b);Ae(A,s,"popup-blocked");try{A.focus()}catch{}return new b0(A)}function E2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const b2="__/auth/handler",S2="emulator/auth/handler",A2=encodeURIComponent("fac");async function S0(s,e,i,a,l,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:bo,eventId:l};if(e instanceof uT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",bS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof $l){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await s._getAppCheckToken(),p=_?`#${A2}=${encodeURIComponent(_)}`:"";return`${w2(s)}?${Yl(g).slice(1)}${p}`}function w2({config:s}){return s.emulator?km(s,S2):`https://${s.authDomain}/${b2}`}const Kd="webStorageSupport";class R2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=$w,this._overrideRedirectResult=Kw}async _openPopup(e,i,a,l){bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await S0(e,i,a,am(),l);return T2(e,c,jm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await S0(e,i,a,am(),l);return xw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(bs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await m2(e),a=new Jw(e);return i.register("authEvent",l=>(Ae(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&i(!!c),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=i2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return rT()||Wv()||Um()}}const C2=R2;var A0="@firebase/auth",w0="1.12.0";class I2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function x2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N2(s){mo(new ca("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(s)},p=new rw(a,l,c,_);return hw(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),mo(new ca("auth-internal",e=>{const i=ph(e.getProvider("auth").getImmediate());return(a=>new I2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(A0,w0,x2(s)),dr(A0,w0,"esm2020")}const D2=300,O2=Vv("authIdTokenMaxAge")||D2;let R0=null;const M2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>O2)return;const l=i?.token;R0!==l&&(R0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function V2(s=zv()){const e=Mm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=cw(s,{popupRedirectResolver:C2,persistence:[Pw,Rw,mT]}),a=Vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=M2(c.toString());bw(i,d,()=>d(i.currentUser)),Ew(i,g=>d(g))}}const l=Ov("auth");return l&&fw(i,`http://${l}`),i}function k2(){return document.getElementsByTagName("head")?.[0]??document}aw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=zi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",k2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N2("Browser");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,ET;(function(){var s;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,D,k){for(var R=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)R[Je-2]=arguments[Je];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],R;R=w+(k^C&(D^k))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+V[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+V[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+V[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+V[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+V[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+V[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+V[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+V[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^k&(C^D))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+V[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+V[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+V[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+V[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+V[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+V[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+V[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+V[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^k)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+V[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+V[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+V[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+V[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+V[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+V[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+V[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+V[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~k))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+V[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+V[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+V[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+V[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+V[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+V[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+V[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(V[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<w;)if(V[D++]=I[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[w++]=this.g[C]>>>V&255;return I};function c(I,w){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function d(I,w){this.h=w;const C=[];let V=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;V&&k==w||(C[D]=k,V=!1)}this.g=C}var g={};function _(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return ee(p(-I));const w=[];let C=1;for(let V=0;I>=C;V++)w[V]=I/C|0,C*=4294967296;return new d(w,0)}function b(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return ee(b(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(w,8));let V=A;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+D),w);D<8?(D=p(Math.pow(w,D)),V=V.j(D).add(p(R))):(V=V.j(C),V=V.add(p(R)))}return V}var A=_(0),N=_(1),q=_(16777216);s=d.prototype,s.m=function(){if(te(this))return-ee(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Q(this))return"0";if(te(this))return"-"+ee(this).toString(I);const w=p(Math.pow(I,6));var C=this;let V="";for(;;){const D=Re(C,w).g;C=ce(C,D.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,Q(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Q(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function te(I){return I.h==-1}s.l=function(I){return I=ce(this,I),te(I)?-1:Q(I)?0:1};function ee(I){const w=I.g.length,C=[];for(let V=0;V<w;V++)C[V]=~I.g[V];return new d(C,~I.h).add(N)}s.abs=function(){return te(this)?ee(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(I.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=R>>>16,k&=65535,R&=65535,C[D]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ce(I,w){return I.add(ee(w))}s.j=function(I){if(Q(this)||Q(I))return A;if(te(this))return te(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(te(I))return ee(this.j(ee(I)));if(this.l(q)<0&&I.l(q)<0)return p(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const k=this.i(V)>>>16,R=this.i(V)&65535,Je=I.i(D)>>>16,Le=I.i(D)&65535;C[2*V+2*D]+=R*Le,me(C,2*V+2*D),C[2*V+2*D+1]+=k*Le,me(C,2*V+2*D+1),C[2*V+2*D+1]+=R*Je,me(C,2*V+2*D+1),C[2*V+2*D+2]+=k*Je,me(C,2*V+2*D+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new d(C,0)};function me(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function $(I,w){this.g=I,this.h=w}function Re(I,w){if(Q(w))throw Error("division by zero");if(Q(I))return new $(A,A);if(te(I))return w=Re(ee(I),w),new $(ee(w.g),ee(w.h));if(te(w))return w=Re(I,ee(w)),new $(ee(w.g),w.h);if(I.g.length>30){if(te(I)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var C=N,V=w;V.l(I)<=0;)C=Oe(C),V=Oe(V);var D=Se(C,1),k=Se(V,1);for(V=Se(V,2),C=Se(C,2);!Q(V);){var R=k.add(V);R.l(I)<=0&&(D=D.add(C),k=R),V=Se(V,1),C=Se(C,1)}return w=ce(I,D.j(w)),new $(D,w)}for(D=A;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=p(C),R=k.j(w);te(R)||R.l(I)>0;)C-=V,k=p(C),R=k.j(w);Q(k)&&(k=N),D=D.add(k),I=ce(I,R)}return new $(D,I)}s.B=function(I){return Re(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function Oe(I){const w=I.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Se(I,w){const C=w>>5;w%=32;const V=I.g.length-C,D=[];for(let k=0;k<V;k++)D[k]=w>0?I.i(k+C)>>>w|I.i(k+C+1)<<32-w:I.i(k+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,ET=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=b,gr=d}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bT,xl,ST,Bc,um,AT,wT,RT;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in v))break e;v=v[P]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=_,p.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,P,H){for(var ie=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ie[Me-2]=arguments[Me];return m.prototype[P].apply(S,ie)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function Q(u,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const H=P.length||0;u.length=v+H;for(let ie=0;ie<H;ie++)u[v+ie]=P[ie]}else u.push(P)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function ce(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,v){const S=$.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var $=new te(()=>new Re,u=>u.reset());class Re{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,Se=!1,I=new me,w=()=>{const u=Promise.resolve(void 0);Oe=()=>{u.then(C)}};function C(){for(var u;u=ce();){try{u.h.call(u.g)}catch(v){ee(v)}var m=$;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Se=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Je(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Je,D),Je.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Je.Z.h.call(this)},Je.prototype.h=function(){Je.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),L=0;function W(u,m,v,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=P,this.key=++L,this.da=this.fa=!1}function le(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function se(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)u[v]=S[v];for(let H=0;H<K.length;H++)v=K[H],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,S,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ie=Ne(u,m,S,P);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new W(m,this.src,H,!!S,P),m.fa=v,u.push(m)),m};function Te(u,m){const v=m.type;if(v in u.g){var S=u.g[v],P=Array.prototype.indexOf.call(S,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(S,P,1),H&&(le(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ne(u,m,v,S){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==S)return P}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ct={};function nt(u,m,v,S,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)nt(u,m[H],v,S,P);return null}return v=it(v),u&&u[Le]?u.J(m,v,g(S)?!!S.capture:!1,P):yi(u,m,v,!1,S,P)}function yi(u,m,v,S,P,H){if(!m)throw Error("Invalid event type");const ie=g(P)?!!P.capture:!!P;let Me=Xe(u);if(Me||(u[Be]=Me=new re(u)),v=Me.add(m,v,S,ie,H),v.proxy)return v;if(S=Yi(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)k||(P=ie),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(de(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yi(){function u(v){return m.call(u.src,u.listener,v)}const m=pe;return u}function Xi(u,m,v,S,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Xi(u,m[H],v,S,P);else S=g(S)?!!S.capture:!!S,v=it(v),u&&u[Le]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ne(m,v,S,P),v>-1&&(le(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Xe(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ne(m,v,S,P)),(v=u>-1?m[u]:null)&&ae(v))}function ae(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Le])Te(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(de(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Xe(m))?(Te(v,u),v.h==0&&(v.src=null,m[Be]=null)):le(u)}}}function de(u){return u in Ct?Ct[u]:Ct[u]="on"+u}function pe(u,m){if(u.da)u=!0;else{m=new Je(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&ae(u),u=v.call(S,m)}return u}function Xe(u){return u=u[Be],u instanceof re?u:null}var Tt="__closure_events_fn_"+(Math.random()*1e9>>>0);function it(u){return typeof u=="function"?u:(u[Tt]||(u[Tt]=function(m){return u.handleEvent(m)}),u[Tt])}function Pe(){V.call(this),this.i=new re(this),this.M=this,this.G=null}A(Pe,V),Pe.prototype[Le]=!0,Pe.prototype.removeEventListener=function(u,m,v,S){Xi(this,u,m,v,S)};function Ee(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(S,u),ne(m,P)}P=!0;let H,ie;if(v)for(ie=v.length-1;ie>=0;ie--)H=m.g=v[ie],P=be(H,S,!0,m)&&P;if(H=m.g=u,P=be(H,S,!0,m)&&P,P=be(H,S,!1,m)&&P,v)for(ie=0;ie<v.length;ie++)H=m.g=v[ie],P=be(H,S,!1,m)&&P}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)le(v[S]);delete u.g[m],u.h--}}this.G=null},Pe.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},Pe.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function be(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const ie=m[H];if(ie&&!ie.da&&ie.capture==v){const Me=ie.listener,xt=ie.ha||ie.src;ie.fa&&Te(u.i,ie),P=Me.call(xt,S)!==!1&&P}}return P&&!S.defaultPrevented}function Ue(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Et(u){u.g=Ue(()=>{u.g=null,u.i&&(u.i=!1,Et(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class bt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(u){V.call(this),this.h=u,this.g={}}A(jn,V);var ti=[];function $i(u){se(u.g,function(m,v){this.g.hasOwnProperty(v)&&ae(m)},u),u.g={}}jn.prototype.N=function(){jn.Z.N.call(this),$i(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var At=d.JSON.stringify,gn=d.JSON.parse,Zi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ni(){}function Rs(){}var In={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){D.call(this,"d")}A(Wt,D);function zn(){D.call(this,"c")}A(zn,D);var It={},su=null;function pa(){return su=su||new Pe}It.Ia="serverreachability";function ru(u){D.call(this,It.Ia,u)}A(ru,D);function _i(u){const m=pa();Ee(m,new ru(m))}It.STAT_EVENT="statevent";function Ir(u,m){D.call(this,It.STAT_EVENT,u),this.stat=m}A(Ir,D);function Vt(u){const m=pa();Ee(m,new Ir(m,u))}It.Ja="timingevent";function vi(u,m){D.call(this,It.Ja,u),this.size=m}A(vi,D);function Ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Ph(u,m,v,S,P,H){u.info(function(){if(u.g)if(H){var ie="",Me=H.split("&");for(let We=0;We<Me.length;We++){var xt=Me[We].split("=");if(xt.length>1){const _t=xt[0];xt=xt[1];const Fn=_t.split("_");ie=Fn.length>=2&&Fn[1]=="type"?ie+(_t+"="+xt+"&"):ie+(_t+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+v+`
`+ie})}function au(u,m,v,S,P,H,ie){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+v+`
`+H+" "+ie})}function Ei(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(S?" "+S:"")})}function xr(u,m){u.info(function(){return"TIMEOUT: "+m})}ii.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return At(H)}catch{return m}}var Nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function Dr(){}A(Dr,ni),Dr.prototype.g=function(){return new XMLHttpRequest},xo=new Dr;function Ji(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function si(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new jn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var kt={},Yt={};function bi(u,m,v){u.M=1,u.A=Or(Ut(m)),u.u=v,u.R=!0,ya(u,null)}function ya(u,m){u.F=Date.now(),Si(u),u.B=Ut(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Ea(v.i,"t",S),u.C=0,v=u.j.L,u.h=new ri,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new bt(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(ti[0]=P.toString()),P=ti);for(let H=0;H<P.length;H++){const ie=nt(v,P[H],S||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),_i(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}si.prototype.ba=function(u){u=u.target;const m=this.O;m&&li(u)==3?m.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{const Me=li(this.g),xt=this.g.ya(),We=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Me!=4||xt==7||(xt==8||We<=0?_i(3):_i(2)),Ai(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Me,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var H=S;break t}}H=null}if(u=H)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,Vt(12),xn(this),Bn(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<v.length;)if(_t=uu(this,v),_t==Yt){Me==4&&(this.m=4,Vt(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==kt){this.m=4,Vt(15),Ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,_t,null),wi(this,_t);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||v.length!=0||this.h.h||(this.m=1,Vt(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,v,"[Invalid Chunked Response]"),xn(this),Bn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fo(ie),ie.P=!0,Vt(11))}}else Ei(this.i,this.l,v,null),wi(this,v);Me==4&&xn(this),this.o&&!this.K&&(Me==4?_u(this.j,this):(this.o=!1,Si(this)))}else es(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),xn(this),Bn(this)}}}catch{}};function zh(u){if(!lu(u))return u.g.la();const m=en(u.g);if(m==="")return"";let v="";const S=m.length,P=li(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return xn(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<S;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(P&&H==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Yt:(v=Number(m.substring(v,S)),isNaN(v)?kt:(S+=1,S+v>m.length?Yt:(m=m.slice(S,S+v),u.C=S+v,m)))}si.prototype.cancel=function(){this.K=!0,xn(this)};function Si(u){u.T=Date.now()+u.H,_a(u,u.H)}function _a(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ti(p(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}si.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xr(this.i,this.B),this.M!=2&&(_i(),Vt(17)),xn(this),this.m=2,Bn(this)):_a(this,this.T-u)};function Bn(u){u.j.I==0||u.K||_u(u.j,u)}function xn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,$i(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ci(v.h,u))){if(!u.L&&Ci(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ra(v),Vs(v);else break e;jr(v),Vt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ti(p(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&Ra(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let We=P[m];const _t=We[0];if(!(_t<=v.K))if(v.K=_t,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const Fn=We[3];Fn!=null&&(v.ka=Fn,v.j.info("VER="+v.ka));const Vi=We[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const ui=We[5];ui!=null&&typeof ui=="number"&&ui>0&&(S=1.5*ui,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ci=u.g;if(ci){const zr=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var H=S.h;H.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Oo(H,H.h),H.h=null))}if(S.G){const Ca=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(S.wa=Ca,st(S.J,S.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ie=u;if(S.na=Eu(S,S.L?S.ba:null,S.W),ie.L){Mo(S.h,ie);var Me=ie,xt=S.O;xt&&(Me.H=xt),Me.D&&(Ai(Me),Si(Me)),S.g=ie}else pu(S);v.i.length>0&&Oi(v)}else We[0]!="stop"&&We[0]!="close"||Mi(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Mi(v,7):qo(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}_i(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function No(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Oo(u,m){u.g?u.g.add(m):u.h=m}function Mo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}No.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let P,H=null;S>=0?(P=u[v].substring(0,S),H=u[v].substring(S+1)):P=u[v],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Nn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Nn?(this.l=u.l,Xt(this,u.j),this.o=u.o,this.g=u.g,Cs(this,u.u),this.h=u.h,ko(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Xt(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),Cs(this,m[4]),this.h=Ii(m[5]||"",!0),ko(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}Nn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Mr(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mr(m,Ta,!0),"@"),u.push(Ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mr(v,v.charAt(0)=="/"?Lo:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mr(v,fu)),u.join("")},Nn.prototype.resolve=function(u){const m=Ut(this);let v=!!u.j;v?Xt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)Cs(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let ie=0;ie<P.length;){const Me=P[ie++];Me=="."?S&&ie==P.length&&H.push(""):Me==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&ie==P.length&&H.push("")):(H.push(Me),S=!0)}S=H.join("/")}else S=P}return v?m.h=S:v=u.i.toString()!=="",v?ko(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ut(u){return new Nn(u)}function Xt(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ko(u,m,v){m instanceof xs?(u.i=m,ba(u.i,u.l)):(v||(m=Mr(m,Is)),u.i=new xs(m,u.l))}function st(u,m,v){u.i.set(m,v)}function Or(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,_n),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,hu=/[#\?:]/g,Lo=/[#\?]/g,Is=/[#\?@]/g,fu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&va(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=xs.prototype,s.add=function(u,m){vn(this),this.i=null,u=Ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){vn(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Uo(u,m){return vn(u),m=Ns(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(v,S){v.forEach(function(P){u.call(m,P,S,this)},this)},this)};function Po(u,m){vn(u);let v=[];if(typeof m=="string")Uo(u,m)&&(v=v.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return vn(this),this.i=null,u=Ns(this,u),Uo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Po(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(Ns(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const P=Ji(v);v=Po(this,v);for(let H=0;H<v.length;H++){let ie=P;v[H]!==""&&(ie+="="+Ji(v[H])),u.push(ie)}}return this.i=u.join("&")};function mu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(du(this,S),Ea(this,P,v))},u)),u.j=m}function ai(u,m){const v=new ii;if(d.Image){const S=new Image;S.onload=b(qn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=b(qn,v,"TestLoadImage: error",!1,m,S),S.onabort=b(qn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(qn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function jo(u,m){const v=new ii,S=new AbortController,P=setTimeout(()=>{S.abort(),qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(P),H.ok?qn(v,"TestPingServer: ok",!0,m):qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),qn(v,"TestPingServer: error",!1,m)})}function qn(u,m,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function Ds(){this.g=new Zi}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(xi,ni),xi.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(u,m){Pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Vr,Pe),s=Vr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,oi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Os(this):oi(this),this.readyState==3&&Sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Os(this))},s.Na=function(u){this.g&&(this.response=u,Os(this))},s.ga=function(){this.g&&Os(this)};function Os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hn(u){let m="";return se(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function kr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Hn(v),typeof u=="string"?v!=null&&Ji(v):st(u,m,v))}function ot(u){Pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ot,Pe);var Ni=/^https?$/i,zo=["POST","PUT"];s=ot.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Lr(this,H);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zo,m,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of v)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Lr(this,H)}};function Lr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Bo(u),Wi(u)}function Bo(u){u.A||(u.A=!0,Ee(u,"complete"),Ee(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ee(this,"complete"),Ee(this,"abort"),Wi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},s.Xa=function(){Ur(this)};function Ur(u){if(u.h&&typeof c<"u"){if(u.v&&li(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ee(u,"readystatechange"),li(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=H===0){let ie=String(u.D).match(cu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),S=!Ni.test(ie?ie.toLowerCase():"")}v=S}if(v)Ee(u,"complete"),Ee(u,"success");else{u.o=6;try{var P=li(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Bo(u)}}finally{Wi(u)}}}}function Wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ee(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function li(u){return u.g?u.g.readyState:0}s.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),gn(m)}};function en(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function es(u){const m={};u=(u.g&&li(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var v=ou(u[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[P]||[];m[P]=H,H.push(v)}xe(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new No(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){Vt(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Eu(this,null,this.W),Oi(this)};function qo(u){if(Aa(u),u.I==3){var m=u.V++,v=Ut(u.J);if(st(v,"SID",u.M),st(v,"RID",m),st(v,"TYPE","terminate"),Pr(u,v),m=new si(u,u.j,m),m.M=2,m.A=Or(Ut(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Si(m)}Tu(u)}function Vs(u){u.g&&(Fo(u),u.g.cancel(),u.g=null)}function Aa(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!Do(u.h)&&!u.m){u.m=!0;var m=u.Ea;Oe||w(),Se||(Oe(),Se=!0),I.add(m,u),u.D=0}}function wa(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ti(p(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new si(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),ne(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=gu(this,P,m),v=Ut(this.J),st(v,"RID",u),st(v,"CVER",22),this.G&&st(v,"X-HTTP-Session-Id",this.G),Pr(this,v),H&&(this.R?m="headers="+Ji(Hn(H))+"&"+m:this.u&&kr(v,this.u,H)),Oo(this.h,P),this.Ra&&st(v,"TYPE","init"),this.S?(st(v,"$req",m),st(v,"SID","null"),P.U=!0,bi(P,v,null)):bi(P,v,m),this.I=2}}else this.I==3&&(u?Ho(this,u):this.i.length==0||Do(this.h)||Ho(this))};function Ho(u,m){var v;m?v=m.l:v=u.V++;const S=Ut(u.J);st(S,"SID",u.M),st(S,"RID",v),st(S,"AID",u.K),Pr(u,S),u.u&&u.o&&kr(S,u.u,u.o),v=new si(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Oo(u.h,v),bi(v,S,m)}function Pr(u,m){u.H&&se(u.H,function(v,S){st(m,S,v)}),u.l&&se({},function(v,S){st(m,S,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?p(u.l.Ka,u.l,u):null;e:{var P=u.i;let Me=-1;for(;;){const xt=["count="+v];Me==-1?v>0?(Me=P[0].g,xt.push("ofs="+Me)):Me=0:xt.push("ofs="+Me);let We=!0;for(let _t=0;_t<v;_t++){var H=P[_t].g;const Fn=P[_t].map;if(H-=Me,H<0)Me=Math.max(0,P[_t].g-100),We=!1;else try{H="req"+H+"_"||"";try{var ie=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Vi,ui]of ie){let ci=ui;g(ui)&&(ci=At(ui)),xt.push(H+Vi+"="+encodeURIComponent(ci))}}catch(Vi){throw xt.push(H+"type="+encodeURIComponent("_badmap")),Vi}}catch{S&&S(Fn)}}if(We){ie=xt.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Oe||w(),Se||(Oe(),Se=!0),I.add(m,u),u.A=0}}function jr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ti(p(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ti(p(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Vs(this),yu(this))};function Fo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new si(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ut(u.na);st(m,"RID","rpc"),st(m,"SID",u.M),st(m,"AID",u.K),st(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(m,"TO",u.ia),st(m,"TYPE","xmlhttp"),Pr(u,m),u.u&&u.o&&kr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Or(Ut(m)),v.u=null,v.R=!0,ya(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Vs(this),jr(this),Vt(19))};function Ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){Ra(u),Fo(u),u.g=null;var S=2}else if(Ci(u.h,m))v=m.G,Mo(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;S=pa(),Ee(S,new vi(S,v)),Oi(u)}else pu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&wa(u,m)||S==2&&jr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),S=u.Ua;const P=!S;S=new Nn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xt(S,"https"),Or(S),P?ai(S.toString(),v):jo(S.toString(),v)}else Vt(2);u.I=0,u.l&&u.l.pa(m),Tu(u),Aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Vo(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ja,m),Q(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var S=v instanceof Nn?Ut(v):new Nn(v);if(S.g!="")m&&(S.g=m+"."+S.g),Cs(S,S.u);else{var P=d.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new Nn(null);S&&Xt(H,S),m&&(H.g=m),P&&Cs(H,P),v&&(H.h=v),S=H}return v=u.G,m=u.wa,v&&m&&st(S,v,m),st(S,"VER",u.ka),Pr(u,S),S}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ot(new xi({ab:v})):new ot(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){Pe.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ts(this)}A(pn,Pe),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){qo(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=At(u),u=v);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Oi(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,pn.Z.N.call(this)};function Au(u){Wt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Au,Wt);function wu(){zn.call(this),this.status=1}A(wu,zn);function ts(u){this.g=u}A(ts,Su),ts.prototype.ra=function(){Ee(this.g,"a")},ts.prototype.qa=function(u){Ee(this.g,new Au(u))},ts.prototype.pa=function(u){Ee(this.g,new wu)},ts.prototype.oa=function(){Ee(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,RT=function(){return new ks},wT=function(){return pa()},AT=It,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,Bc=Nr,Io.COMPLETE="complete",ST=Io,Rs.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,xl=Rs,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,bT=ot}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const I0="@firebase/firestore",x0="4.9.3";let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Ao="12.7.0";const fa=new Dm("@firebase/firestore");function io(){return fa.logLevel}function oe(s,...e){if(fa.logLevel<=Fe.DEBUG){const i=e.map(Bm);fa.debug(`Firestore (${Ao}): ${s}`,...i)}}function Ss(s,...e){if(fa.logLevel<=Fe.ERROR){const i=e.map(Bm);fa.error(`Firestore (${Ao}): ${s}`,...i)}}function go(s,...e){if(fa.logLevel<=Fe.WARN){const i=e.map(Bm);fa.warn(`Firestore (${Ao}): ${s}`,...i)}}function Bm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,CT(s,a,i)}function CT(s,e,i){let a=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ss(a),new Error(a)}function tt(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||CT(e,l,a)}function Ie(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class IT{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class P2{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(tt(typeof a.accessToken=="string",31837,{l:a}),new IT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class j2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new j2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=q2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Ge(s,e){return s<e?-1:s>e?1:0}function cm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Yd(l)===Yd(c)?Ge(l,c):Yd(l)?1:-1}return Ge(s.length,e.length)}const H2=55296,F2=57343;function Yd(s){const e=s.charCodeAt(0);return e>=H2&&e<=F2}function po(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const D0="__name__";class ji{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=ji.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const a=ji.isNumericId(e),l=ji.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ji.extractNumericId(e).compare(ji.extractNumericId(i)):cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class pt extends ji{construct(e,i,a){return new pt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new pt(i)}static emptyPath(){return new pt([])}}const G2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ji{construct(e,i,a){return new on(e,i,a)}static isValidIdentifier(e){return G2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new on([D0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(i)}static emptyPath(){return new on([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(pt.fromString(e))}static fromName(e){return new ye(pt.fromString(e).popFirst(5))}static empty(){return new ye(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return pt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new pt(e.slice()))}}function xT(s,e,i){if(!i)throw new he(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Q2(s,e,i,a){if(e===!0&&a===!0)throw new he(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function O0(s){if(!ye.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function M0(s){if(ye.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function NT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Hm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function pi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hm(s);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ht(s,e){const i={typeString:s};return e&&(i.value=e),i}function Jl(s,e){if(!NT(s))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he(J.INVALID_ARGUMENT,i);return!0}const V0=-62135596800,k0=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*k0);return new yt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<V0)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Ht("string",yt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new yt(0,0))}static max(){return new we(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function K2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(a===1e9?new yt(i+1,0):new yt(i,a));return new vr(l,ye.empty(),e)}function Y2(s){return new vr(s.readTime,s.key,Bl)}class vr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new vr(we.min(),ye.empty(),Bl)}static max(){return new vr(we.max(),ye.empty(),Bl)}}function X2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:Ge(s.largestBatchId,e.largestBatchId))}const $2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==$2)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;i(e[p]).next((b=>{d[p]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new Z(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function J2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ro(s){return s.name==="IndexedDbTransactionError"}class vh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vh.ce=-1;const Fm=-1;function Th(s){return s==null}function th(s){return s===0&&1/s==-1/0}function W2(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const DT="";function eR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=L0(e)),e=tR(s.get(i),e);return L0(e)}function tR(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case DT:i+="";break;default:i+=c}}return i}function L0(s){return s+DT+""}function U0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Rr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function OT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||an.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??an.RED,this.left=l??an.EMPTY,this.right=c??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new an(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return an.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new an(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new P0(this.data.getIterator())}getIteratorFrom(e){return new P0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Kt(this.comparator);return i.data=e,i}}class P0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Kt(on.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new MT("Invalid base64 string: "+c):c}})(e);return new un(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const nR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const i=nR.exec(s);if(tt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ot(s.seconds),nanos:Ot(s.nanos)}}function Ot(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Er(s){return typeof s=="string"?un.fromBase64String(s):un.fromUint8Array(s)}const VT="server_timestamp",kT="__type__",LT="__previous_value__",UT="__local_write_time__";function Gm(s){return(s?.mapValue?.fields||{})[kT]?.stringValue===VT}function Eh(s){const e=s.mapValue.fields[LT];return Gm(e)?Eh(e):e}function ql(s){const e=Tr(s.mapValue.fields[UT].timestampValue);return new yt(e.seconds,e.nanos)}class iR{constructor(e,i,a,l,c,d,g,_,p,b){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=b}}const nh="(default)";class Hl{constructor(e,i){this.projectId=e,this.database=i||nh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}const PT="__type__",sR="__max__",Oc={mapValue:{}},jT="__vector__",ih="value";function br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Gm(s)?4:aR(s)?9007199254740991:rR(s)?10:11:ve(28295,{value:s})}function Qi(s,e){if(s===e)return!0;const i=br(s);if(i!==br(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ql(s).isEqual(ql(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Tr(l.timestampValue),g=Tr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Er(l.bytesValue).isEqual(Er(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ot(l.geoPointValue.latitude)===Ot(c.geoPointValue.latitude)&&Ot(l.geoPointValue.longitude)===Ot(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ot(l.integerValue)===Ot(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ot(l.doubleValue),g=Ot(c.doubleValue);return d===g?th(d)===th(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return po(s.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(U0(d)!==U0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Qi(d[_],g[_])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Fl(s,e){return(s.values||[]).find((i=>Qi(i,e)))!==void 0}function yo(s,e){if(s===e)return 0;const i=br(s),a=br(e);if(i!==a)return Ge(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ot(c.integerValue||c.doubleValue),_=Ot(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return j0(s.timestampValue,e.timestampValue);case 4:return j0(ql(s),ql(e));case 5:return cm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Er(c),_=Er(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const b=Ge(g[p],_[p]);if(b!==0)return b}return Ge(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ge(Ot(c.latitude),Ot(d.latitude));return g!==0?g:Ge(Ot(c.longitude),Ot(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return z0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},p=g[ih]?.arrayValue,b=_[ih]?.arrayValue,A=Ge(p?.values?.length||0,b?.values?.length||0);return A!==0?A:z0(p,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=d.fields||{},b=Object.keys(p);_.sort(),b.sort();for(let A=0;A<_.length&&A<b.length;++A){const N=cm(_[A],b[A]);if(N!==0)return N;const q=yo(g[_[A]],p[b[A]]);if(q!==0)return q}return Ge(_.length,b.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function j0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const i=Tr(s),a=Tr(e),l=Ge(i.seconds,a.seconds);return l!==0?l:Ge(i.nanos,a.nanos)}function z0(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=yo(i[l],a[l]);if(c)return c}return Ge(i.length,a.length)}function _o(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Tr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Er(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=hm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function qc(s){switch(br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(s);return e?16+qc(e):16;case 5:return 2*s.stringValue.length;case 6:return Er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Rr(a.fields,((c,d)=>{l+=c.length+qc(d)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function Qm(s){return!!s&&"arrayValue"in s}function B0(s){return!!s&&"nullValue"in s}function q0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hc(s){return!!s&&"mapValue"in s}function rR(s){return(s?.mapValue?.fields||{})[PT]?.stringValue===jT}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Rr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=kl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(s.arrayValue.values[i]);return e}return{...s}}function aR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sR}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Hc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=on.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=kl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Rr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Rn(kl(this.value))}}function zT(s){const e=[];return Rr(s.fields,((i,a)=>{const l=new on([i]);if(Hc(a)){const c=zT(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Pn(e)}class dn{constructor(e,i,a,l,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new dn(e,0,we.min(),we.min(),we.min(),Rn.empty(),0)}static newFoundDocument(e,i,a,l){return new dn(e,1,i,we.min(),a,l,0)}static newNoDocument(e,i){return new dn(e,2,i,we.min(),we.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,we.min(),we.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,i){this.position=e,this.inclusive=i}}function H0(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=yo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function F0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Qi(s.position[i],e.position[i]))return!1;return!0}class rh{constructor(e,i="asc"){this.field=e,this.dir=i}}function oR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class BT{}class Gt extends BT{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new uR(e,i,a):i==="array-contains"?new fR(e,a):i==="in"?new dR(e,a):i==="not-in"?new mR(e,a):i==="array-contains-any"?new gR(e,a):new Gt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new cR(e,a):new hR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yo(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(yo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends BT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ki(e,i)}matches(e){return qT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qT(s){return s.op==="and"}function HT(s){return lR(s)&&qT(s)}function lR(s){for(const e of s.filters)if(e instanceof Ki)return!1;return!0}function dm(s){if(s instanceof Gt)return s.field.canonicalString()+s.op.toString()+_o(s.value);if(HT(s))return s.filters.map((e=>dm(e))).join(",");{const e=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${e})`}}function FT(s,e){return s instanceof Gt?(function(a,l){return l instanceof Gt&&a.op===l.op&&a.field.isEqual(l.field)&&Qi(a.value,l.value)})(s,e):s instanceof Ki?(function(a,l){return l instanceof Ki&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&FT(d,l.filters[g])),!0):!1})(s,e):void ve(19439)}function GT(s){return s instanceof Gt?(function(i){return`${i.field.canonicalString()} ${i.op} ${_o(i.value)}`})(s):s instanceof Ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(GT).join(" ,")+"}"})(s):"Filter"}class uR extends Gt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class cR extends Gt{constructor(e,i){super(e,"in",i),this.keys=QT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class hR extends Gt{constructor(e,i){super(e,"not-in",i),this.keys=QT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function QT(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class fR extends Gt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Qm(i)&&Fl(i.arrayValue,this.value)}}class dR extends Gt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class mR extends Gt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class gR extends Gt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Fl(this.value.arrayValue,a)))}}class pR{constructor(e,i=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function G0(s,e=null,i=[],a=[],l=null,c=null,d=null){return new pR(s,e,i,a,l,c,d)}function Km(s){const e=Ie(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>dm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>_o(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>_o(a))).join(",")),e.Te=i}return e.Te}function Ym(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!oR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!FT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!F0(s.startAt,e.startAt)&&F0(s.endAt,e.endAt)}function mm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bh{constructor(e,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yR(s,e,i,a,l,c,d,g){return new bh(s,e,i,a,l,c,d,g)}function Xm(s){return new bh(s)}function Q0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _R(s){return s.collectionGroup!==null}function Ll(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Kt(on.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new rh(c,a))})),i.has(on.keyField().canonicalString())||e.Ie.push(new rh(on.keyField(),a))}return e.Ie}function qi(s){const e=Ie(s);return e.Ee||(e.Ee=vR(e,Ll(s))),e.Ee}function vR(s,e){if(s.limitType==="F")return G0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new rh(l.field,c)}));const i=s.endAt?new sh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new sh(s.startAt.position,s.startAt.inclusive):null;return G0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function gm(s,e,i){return new bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Sh(s,e){return Ym(qi(s),qi(e))&&s.limitType===e.limitType}function KT(s){return`${Km(qi(s))}|lt:${s.limitType}`}function so(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>GT(l))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>_o(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>_o(l))).join(",")),`Target(${a})`})(qi(s))}; limitType=${s.limitType})`}function Ah(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Ll(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const p=H0(d,g,_);return d.inclusive?p<=0:p<0})(a.startAt,Ll(a),l)||a.endAt&&!(function(d,g,_){const p=H0(d,g,_);return d.inclusive?p>=0:p>0})(a.endAt,Ll(a),l))})(s,e)}function TR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function YT(s){return(e,i)=>{let a=!1;for(const l of Ll(s)){const c=ER(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function ER(s,e,i){const a=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),p=g.data.field(c);return _!==null&&p!==null?yo(_,p):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}const bR=new St(ye.comparator);function As(){return bR}const XT=new St(ye.comparator);function Nl(...s){let e=XT;for(const i of s)e=e.insert(i.key,i);return e}function $T(s){let e=XT;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function aa(){return Ul()}function ZT(){return Ul()}function Ul(){return new ma((s=>s.toString()),((s,e)=>s.isEqual(e)))}const SR=new St(ye.comparator),AR=new Kt(ye.comparator);function Qe(...s){let e=AR;for(const i of s)e=e.add(i);return e}const wR=new Kt(Ge);function RR(){return wR}function $m(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function JT(s){return{integerValue:""+s}}function CR(s,e){return W2(e)?JT(e):$m(s,e)}class wh{constructor(){this._=void 0}}function IR(s,e,i){return s instanceof ah?(function(l,c){const d={fields:{[kT]:{stringValue:VT},[UT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Gm(c)&&(c=Eh(c)),c&&(d.fields[LT]=c),{mapValue:d}})(i,e):s instanceof Gl?eE(s,e):s instanceof Ql?tE(s,e):(function(l,c){const d=WT(l,c),g=K0(d)+K0(l.Ae);return fm(d)&&fm(l.Ae)?JT(g):$m(l.serializer,g)})(s,e)}function xR(s,e,i){return s instanceof Gl?eE(s,e):s instanceof Ql?tE(s,e):i}function WT(s,e){return s instanceof oh?(function(a){return fm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ah extends wh{}class Gl extends wh{constructor(e){super(),this.elements=e}}function eE(s,e){const i=nE(e);for(const a of s.elements)i.some((l=>Qi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ql extends wh{constructor(e){super(),this.elements=e}}function tE(s,e){let i=nE(e);for(const a of s.elements)i=i.filter((l=>!Qi(l,a)));return{arrayValue:{values:i}}}class oh extends wh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function K0(s){return Ot(s.integerValue||s.doubleValue)}function nE(s){return Qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function NR(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Gl&&l instanceof Gl||a instanceof Ql&&l instanceof Ql?po(a.elements,l.elements,Qi):a instanceof oh&&l instanceof oh?Qi(a.Ae,l.Ae):a instanceof ah&&l instanceof ah})(s.transform,e.transform)}class DR{constructor(e,i){this.version=e,this.transformResults=i}}class Cn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Rh{}function iE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ch(s.key,Cn.none()):new Wl(s.key,s.data,Cn.none());{const i=s.data,a=Rn.empty();let l=new Kt(on.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Cr(s.key,a,new Pn(l.toArray()),Cn.none())}}function OR(s,e,i){s instanceof Wl?(function(l,c,d){const g=l.value.clone(),_=X0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Cr?(function(l,c,d){if(!Fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=X0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(sE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Pl(s,e,i,a){return s instanceof Wl?(function(c,d,g,_){if(!Fc(c.precondition,d))return g;const p=c.value.clone(),b=$0(c.fieldTransforms,_,d);return p.setAll(b),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,e,i,a):s instanceof Cr?(function(c,d,g,_){if(!Fc(c.precondition,d))return g;const p=$0(c.fieldTransforms,_,d),b=d.data;return b.setAll(sE(c)),b.setAll(p),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,g){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function MR(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=WT(a.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,c))}return i||null}function Y0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&po(a,l,((c,d)=>NR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Wl extends Rh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Cr extends Rh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function X0(s,e,i){const a=new Map;tt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,xR(d,g,i[l]))}return a}function $0(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,IR(c,d,e))}return a}class Ch extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&OR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ZT();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=iE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((i,a)=>Y0(i,a)))&&po(this.baseMutations,e.baseMutations,((i,a)=>Y0(i,a)))}}class Zm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){tt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return SR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Zm(e,i,a,l)}}class LR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UR{constructor(e,i){this.count=e,this.unchangedNames=i}}var qt,Ye;function PR(s){switch(s){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function rE(s){if(s===void 0)return Ss("GRPC error has no .code"),J.UNKNOWN;switch(s){case qt.OK:return J.OK;case qt.CANCELLED:return J.CANCELLED;case qt.UNKNOWN:return J.UNKNOWN;case qt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case qt.INTERNAL:return J.INTERNAL;case qt.UNAVAILABLE:return J.UNAVAILABLE;case qt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case qt.NOT_FOUND:return J.NOT_FOUND;case qt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case qt.ABORTED:return J.ABORTED;case qt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case qt.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:s})}}(Ye=qt||(qt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function jR(){return new TextEncoder}const zR=new gr([4294967295,4294967295],0);function Z0(s){const e=jR().encode(s),i=new ET;return i.update(e),new Uint8Array(i.digest())}function J0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gr([i,a],0),new gr([l,c],0)]}class Jm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(a<0)throw new Dl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=gr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(gr.fromNumber(a)));return l.compare(zR)===1&&(l=new gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Z0(e),[a,l]=J0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Z0(e),[a,l]=J0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ih(we.min(),l,new St(Ge),As(),Qe())}}class eu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new eu(a,i,Qe(),Qe(),Qe())}}class Gc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class aE{constructor(e,i){this.targetId=e,this.Ce=i}}class oE{constructor(e,i,a=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class W0{constructor(){this.ve=0,this.Fe=ev(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),i=Qe(),a=Qe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:c})}})),new eu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=ev()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BR{constructor(e){this.Ge=e,this.ze=new Map,this.je=As(),this.Je=Mc(),this.He=Mc(),this.Ye=new St(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(a===0){const d=new ye(c.path);this.et(i,d,dn.newNoDocument(d,we.min()))}else tt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Er(a).toUint8Array()}catch(_){if(_ instanceof MT)return go("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Jm(d,l,c)}catch(_){return go(_ instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const _=new ye(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,dn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Qe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ih(e,i,this.Ye,this.je,a);return this.je=As(),this.Je=Mc(),this.He=Mc(),this.Ye=new St(Ge),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new W0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Kt(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Kt(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new W0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new St(ye.comparator)}function ev(){return new St(ye.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},HR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FR={and:"AND",or:"OR"};class GR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pm(s,e){return s.useProto3Json||Th(e)?e:{value:e}}function lh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function QR(s,e){return lh(s,e.toTimestamp())}function Hi(s){return tt(!!s,49232),we.fromTimestamp((function(i){const a=Tr(i);return new yt(a.seconds,a.nanos)})(s))}function Wm(s,e){return ym(s,e).canonicalString()}function ym(s,e){const i=(function(l){return new pt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function uE(s){const e=pt.fromString(s);return tt(mE(e),10190,{key:e.toString()}),e}function _m(s,e){return Wm(s.databaseId,e.path)}function Xd(s,e){const i=uE(e);if(i.get(1)!==s.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(hE(i))}function cE(s,e){return Wm(s.databaseId,e)}function KR(s){const e=uE(s);return e.length===4?pt.emptyPath():hE(e)}function vm(s){return new pt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function hE(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function tv(s,e,i){return{name:_m(s,e),fields:i.value.mapValue.fields}}function YR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ve(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(p,b){return p.useProto3Json?(tt(b===void 0||typeof b=="string",58123),un.fromBase64String(b||"")):(tt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),un.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const b=p.code===void 0?J.UNKNOWN:rE(p.code);return new he(b,p.message||"")})(d);i=new oE(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Xd(s,a.document.name),c=Hi(a.document.updateTime),d=a.document.createTime?Hi(a.document.createTime):we.min(),g=new Rn({mapValue:{fields:a.document.fields}}),_=dn.newFoundDocument(l,c,d,g),p=a.targetIds||[],b=a.removedTargetIds||[];i=new Gc(p,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Xd(s,a.document),c=a.readTime?Hi(a.readTime):we.min(),d=dn.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Gc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Xd(s,a.document),c=a.removedTargetIds||[];i=new Gc([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new UR(l,c),g=a.targetId;i=new aE(g,d)}}return i}function XR(s,e){let i;if(e instanceof Wl)i={update:tv(s,e.key,e.value)};else if(e instanceof Ch)i={delete:_m(s,e.key)};else if(e instanceof Cr)i={update:tv(s,e.key,e.data),updateMask:sC(e.fieldMask)};else{if(!(e instanceof VR))return ve(16599,{Vt:e.type});i={verify:_m(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof oh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:QR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function $R(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Hi(l.updateTime):Hi(c);return d.isEqual(we.min())&&(d=Hi(c)),new DR(d,l.transformResults||[])})(i,e)))):[]}function ZR(s,e){return{documents:[cE(s,e.path)]}}function JR(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=cE(s,l);const c=(function(p){if(p.length!==0)return dE(Ki.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((b=>(function(N){return{field:ro(N.field),direction:tC(N.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:l}}function WR(s){let e=KR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){tt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const N=fE(A);return N instanceof Ki&&HT(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(Q){return new rh(ao(Q.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let N;return N=typeof A=="object"?A.value:A,Th(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(A){const N=!!A.before,q=A.values||[];return new sh(q,N)})(i.startAt));let p=null;return i.endAt&&(p=(function(A){const N=!A.before,q=A.values||[];return new sh(q,N)})(i.endAt)),yR(e,l,d,c,g,"F",_,p)}function eC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function fE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ao(i.unaryFilter.field);return Gt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ao(i.unaryFilter.field);return Gt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ao(i.unaryFilter.field);return Gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ao(i.unaryFilter.field);return Gt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Gt.create(ao(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ki.create(i.compositeFilter.filters.map((a=>fE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function tC(s){return qR[s]}function nC(s){return HR[s]}function iC(s){return FR[s]}function ro(s){return{fieldPath:s.canonicalString()}}function ao(s){return on.fromServerFormat(s.fieldPath)}function dE(s){return s instanceof Gt?(function(i){if(i.op==="=="){if(q0(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NAN"}};if(B0(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(q0(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NAN"}};if(B0(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(i.field),op:nC(i.op),value:i.value}}})(s):s instanceof Ki?(function(i){const a=i.getFilters().map((l=>dE(l)));return a.length===1?a[0]:{compositeFilter:{op:iC(i.op),filters:a}}})(s):ve(54877,{filter:s})}function sC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function mE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ur{constructor(e,i,a,l,c=we.min(),d=we.min(),g=un.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rC{constructor(e){this.yt=e}}function aC(s){const e=WR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(e,e.limit,"L"):e}class oC{constructor(){this.Cn=new lC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(vr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class lC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Kt(pt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Kt(pt.comparator)).toArray()}}const nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(gE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}const iv="LruGarbageCollector",uC=1048576;function sv([s,e],[i,a]){const l=Ge(s,i);return l===0?Ge(e,a):l}class cC{constructor(e){this.Ir=e,this.buffer=new Kt(sv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();sv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(iv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ro(i)?oe(iv,"Ignoring IndexedDB error during garbage collection: ",i):await wo(i)}await this.Vr(3e5)}))}}class fC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(vh.ce);const a=new cC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(nv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,g,_,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(p=Date.now(),io()<=Fe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(p-_)+`ms
Total Duration: ${p-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function dC(s,e){return new fC(s,e)}class mC{constructor(){this.changes=new ma((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class pC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Pl(a.mutation,l,Pn.empty(),yt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Qe()){const l=aa();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Nl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=aa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Qe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let c=As();const d=Ul(),g=(function(){return Ul()})();return i.forEach(((_,p)=>{const b=a.get(p.key);l.has(p.key)&&(b===void 0||b.mutation instanceof Cr)?c=c.insert(p.key,p):b!==void 0?(d.set(p.key,b.mutation.getFieldMask()),Pl(b.mutation,p,b.mutation.getFieldMask(),yt.now())):d.set(p.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((p,b)=>d.set(p,b))),i.forEach(((p,b)=>g.set(p,new gC(b,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Ul();let l=new St(((d,g)=>d-g)),c=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let b=a.get(_)||Pn.empty();b=g.applyToLocalView(p,b),a.set(_,b);const A=(l.get(g.batchId)||Qe()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,b=_.value,A=ZT();b.forEach((N=>{if(!c.has(N)){const q=iE(i.get(N),a.get(N));q!==null&&A.set(N,q),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,A))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):_R(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):Z.resolve(aa());let g=Bl,_=c;return d.next((p=>Z.forEach(p,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((N=>{_=_.insert(b,N)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,_,p,Qe()))).next((b=>({batchId:g,changes:$T(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let l=Nl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(_=>{const p=(function(A,N){return new bh(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,a,l).next((b=>{b.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,p)=>{const b=p.getKey();d.get(b)===null&&(d=d.insert(b,dn.newInvalidDocument(b)))}));let g=Nl();return d.forEach(((_,p)=>{const b=c.get(_);b!==void 0&&Pl(b.mutation,p,Pn.empty(),yt.now()),Ah(i,p)&&(g=g.insert(_,p))})),g}))}}class yC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Hi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:aC(l.bundledQuery),readTime:Hi(l.readTime)}})(i)),Z.resolve()}}class _C{constructor(){this.overlays=new St(ye.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=aa();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const l=aa(),c=i.length+1,d=new ye(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new St(((p,b)=>p-b));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let b=c.get(p.largestBatchId);b===null&&(b=aa(),c=c.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const g=aa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,b)=>g.set(p,b))),!(g.size()>=l)););return Z.resolve(g)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new LR(i,a));let c=this.qr.get(i);c===void 0&&(c=Qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class vC{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class eg{constructor(){this.Qr=new Kt(Jt.$r),this.Ur=new Kt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Jt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Jt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new pt([])),a=new Jt(i,e),l=new Jt(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new pt([])),a=new Jt(i,e),l=new Jt(i,e+1);let c=Qe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Jt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Jt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class TC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Jt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Jt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Fm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Jt(i,0),l=new Jt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Kt(Ge);return i.forEach((l=>{const c=new Jt(l,0),d=new Jt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new Jt(new ye(c),0);let g=new Kt(Ge);return this.Zr.forEachWhile((_=>{const p=_.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(g=g.add(_.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){tt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Jt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Jt(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class EC{constructor(e){this.ri=e,this.docs=(function(){return new St(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let a=As();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():dn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=As();const d=i.path,g=new ye(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:b}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||X2(Y2(b),a)<=0||(l.has(b.key)||Ah(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ve(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new bC(this)}getSize(e){return Z.resolve(this.size)}}class bC extends mC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class SC{constructor(e){this.persistence=e,this.si=new ma((i=>Km(i)),Ym),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new eg,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new vo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class pE{constructor(e,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new vC,this.referenceDelegate=e(this),this.Pi=new SC(this),this.indexManager=new oC,this.remoteDocumentCache=(function(l){return new EC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new rC(i),this.Ii=new yC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _C,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new TC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const l=new AC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class AC extends Z2{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Ri=new eg,this.Vi=null}static mi(e){return new tg(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=ye.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uh{constructor(e,i){this.persistence=e,this.pi=new ma((a=>eR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=dC(this,i)}static mi(e,i){return new uh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ng{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Qe(),l=Qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ng(e,i.fromCache,a,l)}}class wC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pS()?8:J2(mn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new wC;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(io()<=Fe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",so(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(io()<=Fe.DEBUG&&oe("QueryEngine","Query:",so(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(io()<=Fe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",so(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):Z.resolve())}ys(e,i){if(Q0(i))return Z.resolve(null);let a=qi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Qe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const p=this.Ds(i,g);return this.Cs(i,p,d,_.readTime)?this.ys(e,gm(i,null,"F")):this.vs(e,p,i,_)}))))})))))}ws(e,i,a,l){return Q0(i)||l.isEqual(we.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(io()<=Fe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),so(i)),this.vs(e,d,i,K2(l,Bl)).next((g=>g)))}))}Ds(e,i){let a=new Kt(YT(e));return i.forEach(((l,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return io()<=Fe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",so(i)),this.ps.getDocumentsMatchingQuery(e,i,vr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ig="LocalStore",CC=3e8;class IC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new St(Ge),this.xs=new ma((c=>Km(c)),Ym),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function xC(s,e,i,a){return new IC(s,e,i,a)}async function yE(s,e){const i=Ie(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Qe();for(const p of l){d.push(p.batchId);for(const b of p.mutations)_=_.add(b.key)}for(const p of c){g.push(p.batchId);for(const b of p.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function NC(s,e){const i=Ie(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,b){const A=p.batch,N=A.keys();let q=Z.resolve();return N.forEach((Q=>{q=q.next((()=>b.getEntry(_,Q))).next((te=>{const ee=p.docVersions.get(Q);tt(ee!==null,48541),te.version.compareTo(ee)<0&&(A.applyToRemoteDocument(te,p),te.isValidDocument()&&(te.setReadTime(p.commitVersion),b.addEntry(te)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Qe();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function _E(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function DC(s,e){const i=Ie(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((b,A)=>{const N=l.get(A);if(!N)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let q=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(un.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,a)),l=l.insert(A,q),(function(te,ee,ce){return te.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=CC?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(N,q,b)&&g.push(i.Pi.updateTargetData(c,q))}));let _=As(),p=Qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(OC(c,d,e.documentUpdates).next((b=>{_=b.ks,p=b.qs}))),!a.isEqual(we.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function OC(s,e,i){let a=Qe(),l=Qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=As();return i.forEach(((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):oe(ig,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function MC(s,e){const i=Ie(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Fm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function VC(s,e){const i=Ie(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Tm(s,e,i){const a=Ie(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ro(d))throw d;oe(ig,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function rv(s,e,i){const a=Ie(s);let l=we.min(),c=Qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,b){const A=Ie(_),N=A.xs.get(b);return N!==void 0?Z.resolve(A.Ms.get(N)):A.Pi.getTargetData(p,b)})(a,d,qi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:we.min(),i?c:Qe()))).next((g=>(kC(a,TR(e),g),{documents:g,Qs:c})))))}function kC(s,e,i){let a=s.Os.get(e)||we.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class av{constructor(){this.activeTargetIds=RR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LC{constructor(){this.Mo=new av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new av,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UC{Oo(e){}shutdown(){}}const ov="ConnectivityMonitor";class lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function Em(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const $d="RestConnection",PC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=Em(),g=this.zo(e,i.toUriEncodedString());oe($d,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:p}=new URL(g),b=Eo(p);return this.Jo(e,g,_,a,b).then((A=>(oe($d,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw go($d,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=PC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class zC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class BC extends jC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=Em();return new Promise(((g,_)=>{const p=new bT;p.setWithCredentials(!0),p.listenOnce(ST.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Bc.NO_ERROR:const A=p.getResponseJson();oe(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Bc.TIMEOUT:oe(hn,`RPC '${e}' ${d} timed out`),_(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const N=p.getStatus();if(oe(hn,`RPC '${e}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let q=p.getResponseJson();Array.isArray(q)&&(q=q[0]);const Q=q?.error;if(Q&&Q.status&&Q.message){const te=(function(ce){const me=ce.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(me)>=0?me:J.UNKNOWN})(Q.status);_(new he(te,Q.message))}else _(new he(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new he(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{oe(hn,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);oe(hn,`RPC '${e}' ${d} sending request:`,l),p.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=RT(),g=wT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=c.join("");oe(hn,`Creating RPC '${e}' stream ${l}: ${b}`,_);const A=d.createWebChannel(b,_);this.I_(A);let N=!1,q=!1;const Q=new zC({Yo:ee=>{q?oe(hn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(N||(oe(hn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),N=!0),oe(hn,`RPC '${e}' stream ${l} sending:`,ee),A.send(ee))},Zo:()=>A.close()}),te=(ee,ce,me)=>{ee.listen(ce,($=>{try{me($)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return te(A,xl.EventType.OPEN,(()=>{q||(oe(hn,`RPC '${e}' stream ${l} transport opened.`),Q.o_())})),te(A,xl.EventType.CLOSE,(()=>{q||(q=!0,oe(hn,`RPC '${e}' stream ${l} transport closed`),Q.a_(),this.E_(A))})),te(A,xl.EventType.ERROR,(ee=>{q||(q=!0,go(hn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),Q.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),te(A,xl.EventType.MESSAGE,(ee=>{if(!q){const ce=ee.data[0];tt(!!ce,16349);const me=ce,$=me?.error||me[0]?.error;if($){oe(hn,`RPC '${e}' stream ${l} received error:`,$);const Re=$.status;let Oe=(function(w){const C=qt[w];if(C!==void 0)return rE(C)})(Re),Se=$.message;Oe===void 0&&(Oe=J.INTERNAL,Se="Unknown error status: "+Re+" with message "+$.message),q=!0,Q.a_(new he(Oe,Se)),A.close()}else oe(hn,`RPC '${e}' stream ${l} received:`,ce),Q.u_(ce)}})),te(g,AT.STAT_EVENT,(ee=>{ee.stat===um.PROXY?oe(hn,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===um.NOPROXY&&oe(hn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zd(){return typeof document<"u"?document:null}function xh(s){return new GR(s,!0)}class vE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const uv="PersistentStream";class TE{constructor(e,i,a,l,c,d,g,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ss(i.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new he(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(uv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qC extends TE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=YR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Hi(d.readTime):we.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=mm(_)?{documents:ZR(c,_)}:{query:JR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=lE(c,d.resumeToken);const p=pm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=lh(c,d.snapshotVersion.toTimestamp());const p=pm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const a=eC(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=vm(this.serializer),i.removeTarget=e,this.q_(i)}}class HC extends TE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=$R(e.writeResults,e.commitTime),a=Hi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=vm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>XR(this.serializer,a)))};this.q_(i)}}class FC{}class GC extends FC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,ym(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(J.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,ym(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class KC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(oe(da,"Restarting streams for network reachability change."),await(async function(_){const p=Ie(_);p.Ea.add(4),await tu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nh(p)})(this))}))})),this.Ra=new QC(a,l)}}async function Nh(s){if(ga(s))for(const e of s.da)await e(!0)}async function tu(s){for(const e of s.da)await e(!1)}function EE(s,e){const i=Ie(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),og(i)?ag(i):Co(i).O_()&&rg(i,e))}function sg(s,e){const i=Ie(s),a=Co(i);i.Ia.delete(e),a.O_()&&bE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function rg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Co(s).Y_(e)}function bE(s,e){s.Va.Ue(e),Co(s).Z_(e)}function ag(s){s.Va=new BR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Co(s).start(),s.Ra.ua()}function og(s){return ga(s)&&!Co(s).x_()&&s.Ia.size>0}function ga(s){return Ie(s).Ea.size===0}function SE(s){s.Va=void 0}async function YC(s){s.Ra.set("Online")}async function XC(s){s.Ia.forEach(((e,i)=>{rg(s,e)}))}async function $C(s,e){SE(s),og(s)?(s.Ra.ha(e),ag(s)):s.Ra.set("Unknown")}async function ZC(s,e,i){if(s.Ra.set("Online"),e instanceof oE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(a){oe(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ch(s,a)}else if(e instanceof Gc?s.Va.Ze(e):e instanceof aE?s.Va.st(e):s.Va.tt(e),!i.isEqual(we.min()))try{const a=await _E(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(p);b&&c.Ia.set(p,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,p)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(un.EMPTY_BYTE_STRING,b.snapshotVersion)),bE(c,_);const A=new ur(b.target,_,p,b.sequenceNumber);rg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){oe(da,"Failed to raise snapshot:",a),await ch(s,a)}}async function ch(s,e,i){if(!Ro(e))throw e;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>_E(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(da,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Nh(s)}))}function AE(s,e){return e().catch((i=>ch(s,i,e)))}async function Dh(s){const e=Ie(s),i=Sr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fm;for(;JC(e);)try{const l=await MC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,WC(e,l)}catch(l){await ch(e,l)}wE(e)&&RE(e)}function JC(s){return ga(s)&&s.Ta.length<10}function WC(s,e){s.Ta.push(e);const i=Sr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function wE(s){return ga(s)&&!Sr(s).x_()&&s.Ta.length>0}function RE(s){Sr(s).start()}async function eI(s){Sr(s).ra()}async function tI(s){const e=Sr(s);for(const i of s.Ta)e.ea(i.mutations)}async function nI(s,e,i){const a=s.Ta.shift(),l=Zm.from(a,e,i);await AE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Dh(s)}async function iI(s,e){e&&Sr(s).X_&&await(async function(a,l){if((function(d){return PR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Sr(a).B_(),await AE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Dh(a)}})(s,e),wE(s)&&RE(s)}async function cv(s,e){const i=Ie(s);i.asyncQueue.verifyOperationInProgress(),oe(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Nh(i)}async function sI(s,e){const i=Ie(s);e?(i.Ea.delete(2),await Nh(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function Co(s){return s.ma||(s.ma=(function(i,a,l){const c=Ie(i);return c.sa(),new qC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:YC.bind(null,s),t_:XC.bind(null,s),r_:$C.bind(null,s),H_:ZC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),og(s)?ag(s):s.Ra.set("Unknown")):(await s.ma.stop(),SE(s))}))),s.ma}function Sr(s){return s.fa||(s.fa=(function(i,a,l){const c=Ie(i);return c.sa(),new HC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:eI.bind(null,s),r_:iI.bind(null,s),ta:tI.bind(null,s),na:nI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Dh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class lg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,g=new lg(e,i,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(s,e){if(Ss("AsyncQueue",`${e}: ${s}`),Ro(s))return new he(J.UNAVAILABLE,`${e}: ${s}`);throw s}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=Nl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ho;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class hv{constructor(){this.ga=new St(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class To{constructor(e,i,a,l,c,d,g,_,p){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new To(e,i,ho.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class rI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aI{constructor(){this.queries=fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ie(i),c=l.queries;l.queries=fv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function fv(){return new ma((s=>KT(s)),Sh)}async function CE(s,e){const i=Ie(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new rI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ug(d,`Initialization of query '${so(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&cg(i)}async function IE(s,e){const i=Ie(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function oI(s,e){const i=Ie(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&cg(i)}function lI(s,e,i){const a=Ie(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function cg(s){s.Ca.forEach((e=>{e.next()}))}var bm,dv;(dv=bm||(bm={})).Ma="default",dv.Cache="cache";class xE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new To(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}class NE{constructor(e){this.key=e}}class DE{constructor(e){this.key=e}}class uI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=YT(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new hv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const N=l.get(b),q=Ah(this.query,A)?A:null,Q=!!N&&this.mutatedKeys.has(N.key),te=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ee=!1;N&&q?N.data.isEqual(q.data)?Q!==te&&(a.track({type:3,doc:q}),ee=!0):this.su(N,q)||(a.track({type:2,doc:q}),ee=!0,(_&&this.eu(q,_)>0||p&&this.eu(q,p)<0)&&(g=!0)):!N&&q?(a.track({type:0,doc:q}),ee=!0):N&&!q&&(a.track({type:1,doc:N}),ee=!0,(_||p)&&(g=!0)),ee&&(q?(d=d.add(q),c=te?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(q,Q){const te=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:ee})}};return te(q)-te(Q)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,p=_!==this.Za;return this.Za=_,d.length!==0||p?{snapshot:new To(this.query,e.tu,c,d,e.mutatedKeys,_===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new DE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new NE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hg="SyncEngine";class cI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class hI{constructor(e){this.key=e,this.hu=!1}}class fI{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((g=>KT(g)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new St(ye.comparator),this.Au=new Map,this.Ru=new eg,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dI(s,e,i=!0){const a=UE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await OE(a,e,i,!0),l}async function mI(s,e){const i=UE(s);await OE(i,e,!0,!1)}async function OE(s,e,i,a){const l=await VC(s.localStore,qi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await gI(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&EE(s.remoteStore,l),g}async function gI(s,e,i,a,l){s.pu=(A,N,q)=>(async function(te,ee,ce,me){let $=ee.view.ru(ce);$.Cs&&($=await rv(te.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,$))));const Re=me&&me.targetChanges.get(ee.targetId),Oe=me&&me.targetMismatches.get(ee.targetId)!=null,Se=ee.view.applyChanges($,te.isPrimaryClient,Re,Oe);return gv(te,ee.targetId,Se.au),Se.snapshot})(s,A,N,q);const c=await rv(s.localStore,e,!0),d=new uI(e,c.Qs),g=d.ru(c.documents),_=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,_);gv(s,i,p.au);const b=new cI(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),p.snapshot}async function pI(s,e,i){const a=Ie(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Sh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&sg(a.remoteStore,l.targetId),Sm(a,l.targetId)})).catch(wo)):(Sm(a,l.targetId),await Tm(a.localStore,l.targetId,!0))}async function yI(s,e){const i=Ie(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),sg(i.remoteStore,a.targetId))}async function _I(s,e,i){const a=wI(s);try{const l=await(function(d,g){const _=Ie(d),p=yt.now(),b=g.reduce(((q,Q)=>q.add(Q.key)),Qe());let A,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Q=As(),te=Qe();return _.Ns.getEntries(q,b).next((ee=>{Q=ee,Q.forEach(((ce,me)=>{me.isValidDocument()||(te=te.add(ce))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,Q))).next((ee=>{A=ee;const ce=[];for(const me of g){const $=MR(me,A.get(me.key).overlayedDocument);$!=null&&ce.push(new Cr(me.key,$,zT($.value.mapValue),Cn.exists(!0)))}return _.mutationQueue.addMutationBatch(q,p,ce,g)})).next((ee=>{N=ee;const ce=ee.applyToLocalDocumentSet(A,te);return _.documentOverlayCache.saveOverlays(q,ee.batchId,ce)}))})).then((()=>({batchId:N.batchId,changes:$T(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let p=d.Vu[d.currentUser.toKey()];p||(p=new St(Ge)),p=p.insert(g,_),d.Vu[d.currentUser.toKey()]=p})(a,l.batchId,i),await nu(a,l.changes),await Dh(a.remoteStore)}catch(l){const c=ug(l,"Failed to persist write");i.reject(c)}}async function ME(s,e){const i=Ie(s);try{const a=await DC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(tt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?tt(d.hu,14607):l.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await nu(i,a,e)}catch(a){await wo(a)}}function mv(s,e,i){const a=Ie(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Ie(d);_.onlineState=g;let p=!1;_.queries.forEach(((b,A)=>{for(const N of A.Sa)N.va(g)&&(p=!0)})),p&&cg(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function vI(s,e,i){const a=Ie(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new St(ye.comparator);d=d.insert(c,dn.newNoDocument(c,we.min()));const g=Qe().add(c),_=new Ih(we.min(),new Map,new St(Ge),d,g);await ME(a,_),a.du=a.du.remove(c),a.Au.delete(e),fg(a)}else await Tm(a.localStore,e,!1).then((()=>Sm(a,e,i))).catch(wo)}async function TI(s,e){const i=Ie(s),a=e.batch.batchId;try{const l=await NC(i.localStore,e);kE(i,a,null),VE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,l)}catch(l){await wo(l)}}async function EI(s,e,i){const a=Ie(s);try{const l=await(function(d,g){const _=Ie(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return _.mutationQueue.lookupMutationBatch(p,g).next((A=>(tt(A!==null,37113),b=A.keys(),_.mutationQueue.removeMutationBatch(p,A)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>_.localDocuments.getDocuments(p,b)))}))})(a.localStore,e);kE(a,e,i),VE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await nu(a,l)}catch(l){await wo(l)}}function VE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function kE(s,e,i){const a=Ie(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Sm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||LE(s,a)}))}function LE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(sg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),fg(s))}function gv(s,e,i){for(const a of i)a instanceof NE?(s.Ru.addReference(a.key,e),bI(s,a)):a instanceof DE?(oe(hg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||LE(s,a.key)):ve(19791,{wu:a})}function bI(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(oe(hg,"New document in limbo: "+i),s.Eu.add(a),fg(s))}function fg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(pt.fromString(e)),a=s.fu.next();s.Au.set(a,new hI(i)),s.du=s.du.insert(i,a),EE(s.remoteStore,new ur(qi(Xm(i.path)),a,"TargetPurposeLimboResolution",vh.ce))}}async function nu(s,e,i){const a=Ie(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((p=>{if((p||i)&&a.isPrimaryClient){const b=p?!p.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(p){l.push(p);const b=ng.As(_.targetId,p);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,p){const b=Ie(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(p,(N=>Z.forEach(N.Es,(q=>b.persistence.referenceDelegate.addReference(A,N.targetId,q))).next((()=>Z.forEach(N.ds,(q=>b.persistence.referenceDelegate.removeReference(A,N.targetId,q)))))))))}catch(A){if(!Ro(A))throw A;oe(ig,"Failed to update sequence numbers: "+A)}for(const A of p){const N=A.targetId;if(!A.fromCache){const q=b.Ms.get(N),Q=q.snapshotVersion,te=q.withLastLimboFreeSnapshotVersion(Q);b.Ms=b.Ms.insert(N,te)}}})(a.localStore,c))}async function SI(s,e){const i=Ie(s);if(!i.currentUser.isEqual(e)){oe(hg,"User change. New user:",e.toKey());const a=await yE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new he(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ls)}}function AI(s,e){const i=Ie(s),a=i.Au.get(e);if(a&&a.hu)return Qe().add(a.key);{let l=Qe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function UE(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vI.bind(null,e),e.Pu.H_=oI.bind(null,e.eventManager),e.Pu.yu=lI.bind(null,e.eventManager),e}function wI(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EI.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return xC(this.persistence,new RC,e.initialUser,this.serializer)}Cu(e){return new pE(tg.mi,this.serializer)}Du(e){return new LC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class RI extends hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new hC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new pE((a=>uh.mi(a,i)),this.serializer)}}class Am{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>mv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=SI.bind(null,this.syncEngine),await sI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aI})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),a=(function(c){return new BC(c)})(e.databaseInfo);return(function(c,d,g,_){return new GC(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,g){return new KC(a,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>mv(this.syncEngine,i,0)),(function(){return lv.v()?new lv:new UC})())}createSyncEngine(e,i){return(function(l,c,d,g,_,p,b){const A=new fI(l,c,d,g,_,p);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ie(i);oe(da,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class PE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ar="FirestoreClient";class CI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ug(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await yE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function pv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await II(s);oe(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>cv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>cv(e.remoteStore,l))),s._onlineComponents=e}async function II(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Ar,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;go("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new hh)}}else oe(Ar,"Using default OfflineComponentProvider"),await Jd(s,new RI(void 0));return s._offlineComponents}async function jE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Ar,"Using user provided OnlineComponentProvider"),await pv(s,s._uninitializedComponentsProvider._online)):(oe(Ar,"Using default OnlineComponentProvider"),await pv(s,new Am))),s._onlineComponents}function xI(s){return jE(s).then((e=>e.syncEngine))}async function wm(s){const e=await jE(s),i=e.eventManager;return i.onListen=dI.bind(null,e.syncEngine),i.onUnlisten=pI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=mI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=yI.bind(null,e.syncEngine),i}function NI(s,e,i={}){const a=new pr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,p){const b=new PE({next:N=>{b.Nu(),d.enqueueAndForget((()=>IE(c,A))),N.fromCache&&_.source==="server"?p.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(N)},error:N=>p.reject(N)}),A=new xE(g,b,{includeMetadataChanges:!0,qa:!0});return CE(c,A)})(await wm(s),s.asyncQueue,e,i,a))),a.promise}function zE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const yv=new Map;const BE="firestore.googleapis.com",_v=!0;class vv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=_v}else this.host=e.host,this.ssl=e.ssl??_v;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uC)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new L2;switch(a.type){case"firstParty":return new z2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=yv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),yv.delete(i),a.terminate())})(this),Promise.resolve()}}function DI(s,e,i,a={}){s=pi(s,Oh);const l=Eo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(kv(`https://${g}`),Lv("Firestore",!0)),c.host!==BE&&c.host!==g&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!ua(_,d)&&(s._setSettings(_),a.mockUserToken)){let p,b;if(typeof a.mockUserToken=="string")p=a.mockUserToken,b=fn.MOCK_USER;else{p=oS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new fn(A)}s._authCredentials=new U2(new IT(p,b))}}class iu{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new iu(this.firestore,e,this._query)}}class Qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Jl(i,Qt._jsonSchema))return new Qt(e,a||null,new ye(pt.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Ht("string",Qt._jsonSchemaVersion),referencePath:Ht("string")};class yr extends iu{constructor(e,i,a){super(e,i,Xm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new ye(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function Wn(s,e,...i){if(s=ln(s),xT("collection","path",e),s instanceof Oh){const a=pt.fromString(e,...i);return M0(a),new yr(s,null,a)}{if(!(s instanceof Qt||s instanceof yr))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(pt.fromString(e,...i));return M0(a),new yr(s.firestore,null,a)}}function Zt(s,e,...i){if(s=ln(s),arguments.length===1&&(e=qm.newId()),xT("doc","path",e),s instanceof Oh){const a=pt.fromString(e,...i);return O0(a),new Qt(s,null,new ye(a))}{if(!(s instanceof Qt||s instanceof yr))throw new he(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(pt.fromString(e,...i));return O0(a),new Qt(s.firestore,s instanceof yr?s.converter:null,new ye(a))}}const Tv="AsyncQueue";class Ev{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vE(this,"async_queue_retry"),this._c=()=>{const a=Zd();a&&oe(Tv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;oe(Tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",bv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=lg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function bv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Sv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class wr extends Oh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Ev,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ev(e),this._firestoreClient=void 0,await e}}}function OI(s,e){const i=typeof s=="object"?s:zv(),a=typeof s=="string"?s:nh,l=Mm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=rS("firestore");c&&DI(l,...c)}return l}function Mh(s){if(s._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MI(s),s._firestoreClient}function MI(s){const e=s._freezeSettings(),i=(function(l,c,d,g){return new iR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,zE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new CI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(un.fromBase64String(e))}catch(i){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ei(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Ht("string",ei._jsonSchemaVersion),bytes:Ht("string")};class Vh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dg{constructor(e){this._methodName=e}}class Fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Ht("string",Fi._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class Gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Gi(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Ht("string",Gi._jsonSchemaVersion),vectorValues:Ht("object")};const VI=/^__.*__$/;class kI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}class qE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Cr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function HE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:s})}}class mg{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HE(this.Ac)&&VI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||xh(e)}Cc(e,i,a,l=!1){return new mg({Ac:e,methodName:i,Dc:a,path:on.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gg(s){const e=s._freezeSettings(),i=xh(s._databaseId);return new LI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function pg(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);yg("Data must be an object, but it was:",d,a);const g=FE(a,d);let _,p;if(c.merge)_=new Pn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const N=Rm(e,A,i);if(!d.contains(N))throw new he(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);QE(b,N)||b.push(N)}_=new Pn(b),p=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,p=d.fieldTransforms;return new kI(new Rn(g),_,p)}class kh extends dg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}function UI(s,e,i,a){const l=s.Cc(1,e,i);yg("Data must be an object, but it was:",l,a);const c=[],d=Rn.empty();Rr(a,((_,p)=>{const b=_g(e,_,i);p=ln(p);const A=l.yc(b);if(p instanceof kh)c.push(b);else{const N=Lh(p,A);N!=null&&(c.push(b),d.set(b,N))}}));const g=new Pn(c);return new qE(d,g,l.fieldTransforms)}function PI(s,e,i,a,l,c){const d=s.Cc(1,e,i),g=[Rm(e,a,i)],_=[l];if(c.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(Rm(e,c[N])),_.push(c[N+1]);const p=[],b=Rn.empty();for(let N=g.length-1;N>=0;--N)if(!QE(p,g[N])){const q=g[N];let Q=_[N];Q=ln(Q);const te=d.yc(q);if(Q instanceof kh)p.push(q);else{const ee=Lh(Q,te);ee!=null&&(p.push(q),b.set(q,ee))}}const A=new Pn(p);return new qE(b,A,d.fieldTransforms)}function Lh(s,e){if(GE(s=ln(s)))return yg("Unsupported field value:",e,s),FE(s,e);if(s instanceof dg)return(function(a,l){if(!HE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=Lh(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return CR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=yt.fromDate(a);return{timestampValue:lh(l.serializer,c)}}if(a instanceof yt){const c=new yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(l.serializer,c)}}if(a instanceof Fi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ei)return{bytesValue:lE(l.serializer,a._byteString)};if(a instanceof Qt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Gi)return(function(d,g){return{mapValue:{fields:{[PT]:{stringValue:jT},[ih]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return $m(g.serializer,p)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Hm(a)}`)})(s,e)}function FE(s,e){const i={};return OT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(s,((a,l)=>{const c=Lh(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function GE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof yt||s instanceof Fi||s instanceof ei||s instanceof Qt||s instanceof dg||s instanceof Gi)}function yg(s,e,i){if(!GE(i)||!NT(i)){const a=Hm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Rm(s,e,i){if((e=ln(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return _g(s,e);throw fh("Field path arguments must be of type string or ",s,!1,void 0,i)}const jI=new RegExp("[~\\*/\\[\\]]");function _g(s,e,i){if(e.search(jI)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Vh(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function fh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new he(J.INVALID_ARGUMENT,g+s+_)}function QE(s,e){return s.some((i=>i.isEqual(e)))}class KE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(YE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zI extends KE{data(){return super.data()}}function YE(s,e){return typeof e=="string"?_g(s,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}function XE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BI{convertValue(e,i="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Rr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ih].arrayValue?.values?.map((a=>Ot(a.doubleValue)));return new Gi(i)}convertGeoPoint(e){return new Fi(Ot(e.latitude),Ot(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Eh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const i=Tr(e);return new yt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=pt.fromString(e);tt(mE(a),9688,{name:e});const l=new Hl(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return l.isEqual(i)||Ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function vg(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Ol{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends KE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(YE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=oa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Ht("string",oa._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Qc extends oa{data(e={}){return super.data(e)}}class la{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ol(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new Ol(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ol(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ol(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,b=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:qI(g.type),doc:_,oldIndex:p,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:Ht("string",la._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Tg extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,i)}}function Av(s){s=pi(s,iu);const e=pi(s.firestore,wr),i=Mh(e),a=new Tg(e);return XE(s._query),NI(i,s._query).then((l=>new la(e,a,s,l)))}function kc(s,e,i){s=pi(s,Qt);const a=pi(s.firestore,wr),l=vg(s.converter,e,i);return Uh(a,[pg(gg(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Cn.none())])}function na(s){return Uh(pi(s.firestore,wr),[new Ch(s._key,Cn.none())])}function ys(s,e){const i=pi(s.firestore,wr),a=Zt(s),l=vg(s.converter,e);return Uh(i,[pg(gg(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Cn.exists(!1))]).then((()=>a))}function ia(s,...e){s=ln(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Sv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Sv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Qt)d=pi(s.firestore,wr),g=Xm(s._key.path),c={next:_=>{e[a]&&e[a](HI(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=pi(s,iu);d=pi(_.firestore,wr),g=_._query;const p=new Tg(d);c={next:b=>{e[a]&&e[a](new la(d,p,_,b))},error:e[a+1],complete:e[a+2]},XE(s._query)}return(function(p,b,A,N){const q=new PE(N),Q=new xE(b,q,A);return p.asyncQueue.enqueueAndForget((async()=>CE(await wm(p),Q))),()=>{q.Nu(),p.asyncQueue.enqueueAndForget((async()=>IE(await wm(p),Q)))}})(Mh(d),g,l,c)}function Uh(s,e){return(function(a,l){const c=new pr;return a.asyncQueue.enqueueAndForget((async()=>_I(await xI(a),l,c))),c.promise})(Mh(s),e)}function HI(s,e,i){const a=i.docs.get(e._key),l=new Tg(s);return new oa(s,l,e._key,a,new Ol(i.hasPendingWrites,i.fromCache),e.converter)}class FI{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=gg(e)}set(e,i,a){this._verifyNotCommitted();const l=Wd(e,this._firestore),c=vg(l.converter,i,a),d=pg(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,Cn.none())),this}update(e,i,a,...l){this._verifyNotCommitted();const c=Wd(e,this._firestore);let d;return d=typeof(i=ln(i))=="string"||i instanceof Vh?PI(this._dataReader,"WriteBatch.update",c._key,i,a,l):UI(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Wd(e,this._firestore);return this._mutations=this._mutations.concat(new Ch(i._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wd(s,e){if((s=ln(s)).firestore!==e)throw new he(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function GI(s){return Mh(s=pi(s,wr)),new FI(s,(e=>Uh(s,e)))}(function(e,i=!0){(function(l){Ao=l})(bo),mo(new ca("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new wr(new P2(a.getProvider("auth-internal")),new B2(d,a.getProvider("app-check-internal")),(function(p,b){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(p.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),dr(I0,x0,e),dr(I0,x0,"esm2020")})();const QI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),wv=s=>{const e=KI(s);return e.charAt(0).toUpperCase()+e.slice(1)},$E=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),YI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var XI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $I=cr.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>cr.createElement("svg",{ref:_,...XI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:$E("lucide",l),...!c&&!YI(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,b])=>cr.createElement(p,b)),...Array.isArray(c)?c:[c]]));const Mt=(s,e)=>{const i=cr.forwardRef(({className:a,...l},c)=>cr.createElement($I,{ref:c,iconNode:e,className:$E(`lucide-${QI(wv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=wv(s),i};const ZI=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ZE=Mt("arrow-up-down",ZI);const JI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WI=Mt("calendar",JI);const ex=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],tx=Mt("camera",ex);const nx=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ix=Mt("clipboard-list",nx);const sx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],rx=Mt("file-spreadsheet",sx);const ax=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ox=Mt("grip-vertical",ax);const lx=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ux=Mt("layers",lx);const cx=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],hx=Mt("link-2",cx);const fx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dx=Mt("lock",fx);const mx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gx=Mt("log-out",mx);const px=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JE=Mt("plus",px);const yx=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Rv=Mt("printer",yx);const _x=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vx=Mt("save",_x);const Tx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WE=Mt("search",Tx);const Ex=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e1=Mt("settings",Ex);const bx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Eg=Mt("trash-2",bx);const Sx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ax=Mt("triangle-alert",Sx);const wx=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],dh=Mt("truck",wx);const Rx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cx=Mt("user",Rx);const Ix=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],t1=Mt("wrench",Ix);const xx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cm=Mt("x",xx),{useState:De,useEffect:fo,useRef:Nx,useMemo:Dx}=Hb,Ox={apiKey:"AIzaSyAWELn6lSPNa5WIjG_wFLv4nkzk1CaLxq8",authDomain:"tyre-tracker-ccbd1.firebaseapp.com",projectId:"tyre-tracker-ccbd1",storageBucket:"tyre-tracker-ccbd1.firebasestorage.app",messagingSenderId:"90986714992",appId:"1:90986714992:web:388e83080de978ec68e1b5",measurementId:"G-VEVZFGKE16"},n1=jv(Ox),Cv=V2(n1),ft=OI(n1),gt="tyre-tracker-ccbd1",Im=[{id:"white",label:"Default",bg:"bg-white",border:"border-slate-200",hover:"hover:bg-slate-50"},{id:"red",label:"Red",bg:"bg-red-50",border:"border-red-200",hover:"hover:bg-red-100"},{id:"orange",label:"Orange",bg:"bg-orange-50",border:"border-orange-200",hover:"hover:bg-orange-100"},{id:"amber",label:"Yellow",bg:"bg-amber-50",border:"border-amber-200",hover:"hover:bg-amber-100"},{id:"green",label:"Green",bg:"bg-green-50",border:"border-green-200",hover:"hover:bg-green-100"},{id:"blue",label:"Blue",bg:"bg-blue-50",border:"border-blue-200",hover:"hover:bg-blue-100"},{id:"purple",label:"Purple",bg:"bg-purple-50",border:"border-purple-200",hover:"hover:bg-purple-100"},{id:"slate",label:"Grey",bg:"bg-slate-100",border:"border-slate-300",hover:"hover:bg-slate-200"}],i1=s=>Im.find(e=>e.id===s)||Im[0],s1=`
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-enter {
    animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .glass-panel {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  .btn-press:active {
    transform: scale(0.97);
  }
  .drag-item {
    cursor: grab;
  }
  .drag-item:active {
    cursor: grabbing;
  }
  /* Custom Scrollbar */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
`,Mx=()=>Math.random().toString(36).substr(2,9),Iv=()=>"8"+Math.floor(1e7+Math.random()*9e7).toString(),Vx=()=>{try{const s=window.AudioContext||window.webkitAudioContext;if(!s)return;const e=new s,i=(l,c,d)=>{const g=e.createOscillator(),_=e.createGain();g.type="sawtooth",g.frequency.value=l,g.connect(_),_.connect(e.destination),_.gain.setValueAtTime(.1,c),_.gain.exponentialRampToValueAtTime(.001,c+d),g.start(c),g.stop(c+d)},a=e.currentTime;i(150,a,.15),i(150,a+.2,.3)}catch(s){console.error("Audio error",s)}},r1=s=>{if(!s||s.length!==4)return"Unknown";const e=parseInt(s.substring(0,2)),i=parseInt("20"+s.substring(2,4)),a=new Date,l=a.getFullYear(),c=Math.floor((a-new Date(l,0,1))/(10080*60*1e3));let d=(l-i)*52+(c-e);return d<0&&(d=0),d<52?`${d}w`:`${(d/52).toFixed(1)}y`},xm=s=>s.startsWith("F")?"front":s.startsWith("D")?"drive":s.startsWith("T")?"tag":s.startsWith("R")&&(s.includes("S")||s==="RL"||s==="RR")?"rear_steer":s.startsWith("R")?"rear":"front",kx=s=>s.length===3&&(s.endsWith("I")||s.endsWith("O"))?s.substring(0,2):s,Lx=s=>{switch(s){case"front":return"Steer Axle";case"drive":return"Drive Axle";case"tag":return"Tag Axle";case"rear_steer":return"Rear Steer Axle";case"rear":return"Rear Axle";default:return"Axle"}},bg=s=>({FL:"Front Left",FR:"Front Right",RL:"Rear Left",RR:"Rear Right",RLO:"Rear Left Outer",RLI:"Rear Left Inner",RRO:"Rear Right Outer",RRI:"Rear Right Inner",DLO:"Drive Left Outer",DLI:"Drive Left Inner",DRO:"Drive Right Outer",DRI:"Drive Right Inner",RSL:"Rear Steer Left",RSR:"Rear Steer Right"})[s]||s,Ux=(s,e=null)=>{const[i,a]=De(e);return{items:Dx(()=>{let d=[...s];return i!==null&&d.sort((g,_)=>{let p=g[i.key],b=_[i.key];if(i.key==="dot"){const A=N=>{if(!N||N.length!==4)return 0;const q=N.substring(0,2),Q=N.substring(2,4);return parseInt(Q+q)};p=A(p),b=A(b)}else p===void 0&&(p=""),b===void 0&&(b=""),typeof p=="string"&&(p=p.toLowerCase()),typeof b=="string"&&(b=b.toLowerCase());return p<b?i.direction==="ascending"?-1:1:p>b?i.direction==="ascending"?1:-1:0}),d},[s,i]),requestSort:d=>{let g="ascending";i&&i.key===d&&i.direction==="ascending"&&(g="descending"),a({key:d,direction:g})},sortConfig:i}},Lc=({label:s,sortKey:e,requestSort:i,sortConfig:a,className:l=""})=>{const c=a?.key===e;return E.jsx("th",{className:`p-3 cursor-pointer hover:bg-blue-50 transition select-none text-slate-500 font-semibold text-xs uppercase tracking-wider ${l}`,onClick:()=>i(e),children:E.jsxs("div",{className:"flex items-center gap-1 group",children:[s,E.jsx("span",{className:`transition-opacity duration-200 ${c?"opacity-100 text-blue-600":"opacity-0 group-hover:opacity-50"}`,children:E.jsx(ZE,{className:`w-3 h-3 ${a?.direction==="ascending"?"rotate-180":""}`})})]})})},sa=({label:s,icon:e,active:i,onClick:a,badge:l})=>E.jsxs("button",{onClick:a,className:`
      relative flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all duration-200 font-medium text-sm whitespace-nowrap btn-press
      ${i?"bg-blue-600 text-white shadow-lg shadow-blue-900/20 translate-y-[-1px]":"text-slate-400 hover:text-white hover:bg-slate-800"}
    `,children:[E.jsxs("div",{className:"relative",children:[E.jsx(e,{className:`w-4 h-4 ${i?"animate-pulse":""}`}),l>0&&E.jsx("span",{className:"absolute -top-2.5 -right-2.5 bg-red-500 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full border-2 border-slate-900 animate-bounce",children:l})]}),E.jsx("span",{className:"hidden md:inline",children:s})]}),em=({num:s,label:e,active:i})=>E.jsxs("div",{className:`flex items-center gap-3 transition-colors duration-300 ${i?"text-blue-600":"text-slate-300"}`,children:[E.jsx("div",{className:`
      w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 transition-all duration-300
      ${i?"border-blue-600 bg-blue-50 scale-110 shadow-sm":"border-slate-200"}
    `,children:s}),E.jsx("span",{className:"hidden md:inline font-medium text-sm tracking-tight",children:e})]});function a1({vehicle:s,retorques:e=[],mode:i="view",onSelect:a}){const{layout:l,wheels:c}=s,d=(p,b)=>{const A=c[p],N=e.find(Q=>Q.vehicleReg===s.reg&&Q.positionId===p&&Q.status==="Pending"),q=i==="select"||i==="view"&&A;return E.jsxs("button",{onClick:q?()=>a({type:"single",pos:p}):void 0,className:`
          relative flex flex-col items-center p-2 rounded-xl border-2 transition-all duration-300 w-24 group
          ${q?"cursor-pointer hover:scale-105 active:scale-95":""}
          ${A?"bg-white border-slate-300 shadow-sm hover:border-blue-500 hover:shadow-md":"bg-slate-50 border-dashed border-slate-200 hover:border-slate-300"}
          ${N?"ring-2 ring-amber-500 ring-offset-2 animate-pulse":""}
        `,children:[E.jsx("div",{className:`
          w-10 h-14 rounded-md mb-2 border-x-4 transition-all duration-300
          ${A?"bg-slate-800 border-slate-700 group-hover:bg-slate-700":"bg-slate-200 border-slate-300 opacity-50"}
        `}),E.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:b}),i==="view"&&N&&E.jsx("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white rounded-full p-1.5 shadow-lg animate-bounce",children:E.jsx(t1,{className:"w-3 h-3"})})]},p)},g=(p,b=[])=>E.jsxs("div",{className:"flex justify-between items-center w-full max-w-lg mx-auto my-6 relative px-6 group/axle",children:[E.jsx("div",{className:"h-3 bg-slate-200 absolute w-full top-1/2 -translate-y-1/2 -z-10 rounded-full left-0 shadow-inner group-hover/axle:bg-slate-300 transition-colors"}),i==="select"&&b.length>0&&E.jsx("button",{onClick:()=>a({type:"axle",positions:b}),className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 bg-slate-100 hover:bg-blue-600 hover:text-white p-1 rounded-full shadow border text-slate-400 transition-all scale-0 group-hover/axle:scale-100",title:"Fit entire axle",children:E.jsx(ux,{className:"w-4 h-4"})}),p]}),_=(p,b,A)=>E.jsxs("div",{className:"flex gap-2 items-center relative group/dual",children:[d(p,"Outer"),i==="select"&&E.jsx("button",{onClick:()=>a({type:"dual",positions:[b,p]}),className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 bg-white hover:bg-blue-600 hover:text-white p-1 rounded-full shadow border text-slate-400 transition-all opacity-0 group-hover/dual:opacity-100",title:"Fit both tyres",children:E.jsx(hx,{className:"w-3 h-3"})}),d(b,"Inner")]},A);return E.jsxs("div",{className:"flex flex-col items-center py-8 select-none transform scale-[0.6] sm:scale-100 origin-top -my-10 sm:my-0",children:[E.jsxs("div",{className:"mb-6 text-slate-300 flex flex-col items-center",children:[E.jsx("div",{className:"w-0 h-0 border-l-[24px] border-l-transparent border-r-[24px] border-r-transparent border-b-[36px] border-b-slate-200 drop-shadow-sm"}),E.jsx("span",{className:"text-xs font-bold mt-2 tracking-widest opacity-50",children:"FRONT"})]}),g([d("FL","Front L"),d("FR","Front R")],["FL","FR"]),E.jsx("div",{className:"h-24 border-l-4 border-slate-200 border-dashed my-2 opacity-50"}),l==="2-axle-dual"&&g([_("RLO","RLI","left"),_("RRO","RRI","right")],["RLO","RLI","RRI","RRO"]),l==="2-axle-single"&&g([d("RL","Rear L"),d("RR","Rear R")],["RL","RR"]),l==="3-axle-rigid"&&E.jsxs(E.Fragment,{children:[g([_("DLO","DLI","dl"),_("DRO","DRI","dr")],["DLO","DLI","DRI","DRO"]),E.jsx("div",{className:"h-12 border-l-4 border-slate-200 border-dashed my-2 opacity-50"}),g([d("TL","Tag L"),d("TR","Tag R")],["TL","TR"])]}),l==="3-axle-rear-steer"&&E.jsxs(E.Fragment,{children:[g([_("DLO","DLI","dl"),_("DRO","DRI","dr")],["DLO","DLI","DRI","DRO"]),g([d("RSL","R-Steer L"),d("RSR","R-Steer R")],["RSL","RSR"])]})]})}const Px=[{id:"t1",brand:"Michelin",model:"X Multi Z",size:"295/80R22.5",barcode:"88239101",status:"In Stock",dot:"1023",isUsed:!1},{id:"t2",brand:"Bridgestone",model:"R-Steer",size:"295/80R22.5",barcode:"88239103",status:"In Stock",dot:"4522",isUsed:!1},{id:"t3",brand:"Michelin",model:"X Coach",size:"295/80R22.5",barcode:"88239105",status:"In Stock",dot:"0224",isUsed:!1},{id:"t4",brand:"Continental",model:"VanContact",size:"235/65R16",barcode:"88239106",status:"In Stock",dot:"2023",isUsed:!1},{id:"t5",brand:"Goodyear",model:"Cargo Vector",size:"235/65R16",barcode:"88239107",status:"In Stock",dot:"1523",isUsed:!1}],jx=[{id:"v1",reg:"K26 CLN",type:"Luton Box Van",layout:"2-axle-dual",specs:{front:{torque:180,pressure:55},rear:{torque:180,pressure:60}},wheels:{},order:0},{id:"v2",reg:"L10 NC",type:"2-Axle Coach",layout:"2-axle-dual",specs:{front:{torque:600,pressure:120},rear:{torque:600,pressure:115}},wheels:{},order:1},{id:"v3",reg:"L1 CLN",type:"Tri-Axle Coach",layout:"3-axle-rear-steer",specs:{front:{torque:650,pressure:125},drive:{torque:600,pressure:115},rear_steer:{torque:650,pressure:125}},wheels:{},order:2}],zx=[{id:"s1",name:"295/80R22.5"},{id:"s2",name:"315/80R22.5"},{id:"s3",name:"385/65R22.5"},{id:"s4",name:"235/65R16"},{id:"s5",name:"215/75R16"},{id:"s6",name:"205/65R16"}],Bx=[{id:"u1",initials:"ADM",pin:"0000",role:"Admin"},{id:"u2",initials:"MGR",pin:"1111",role:"Manager"},{id:"u3",initials:"FIT",pin:"2222",role:"Fitter"}];function qx(){const[s,e]=De(null),[i,a]=De(null),[l,c]=De("fit"),[d,g]=De(null),[_,p]=De([]),[b,A]=De([]),[N,q]=De([]),[Q,te]=De([]),[ee,ce]=De([]),[me,$]=De([]),[Re,Oe]=De([]),[Se,I]=De(new Set);fo(()=>((async()=>{let de=3;for(;de>0;)try{await yw(Cv);return}catch(pe){console.error("Auth Failed, retrying...",pe),de--,de===0&&g("Unable to connect to database. Please check your connection."),await new Promise(Xe=>setTimeout(Xe,1e3))}})(),Sw(Cv,de=>{e(de),de&&g(null)})),[]),fo(()=>{if(!s)return;const ae=be=>Wn(ft,"artifacts",gt,"public","data",be),de=ia(ae("inventory"),be=>p(be.docs.map(Ue=>({...Ue.data(),id:Ue.id}))),be=>console.error("Inv error",be)),pe=ia(ae("vehicles"),be=>{const Ue=be.docs.map(Et=>({...Et.data(),id:Et.id}));Ue.sort((Et,bt)=>(Et.order??0)-(bt.order??0)),A(Ue)},be=>console.error("Veh error",be)),Xe=ia(ae("retorques"),be=>q(be.docs.map(Ue=>({...Ue.data(),id:Ue.id})).sort((Ue,Et)=>new Date(Ue.dueDate)-new Date(Et.dueDate))),be=>console.error("Ret error",be)),Tt=ia(ae("sizes"),be=>te(be.docs.map(Ue=>({...Ue.data(),id:Ue.id}))),be=>console.error("Sizes error",be)),it=ia(ae("history"),be=>ce(be.docs.map(Ue=>({...Ue.data(),id:Ue.id})).sort((Ue,Et)=>new Date(Et.fitDate)-new Date(Ue.fitDate))),be=>console.error("Hist error",be)),Pe=ia(ae("users"),be=>Oe(be.docs.map(Ue=>({...Ue.data(),id:Ue.id}))),be=>console.error("Users error",be)),Ee=ia(ae("removed_tyres"),be=>$(be.docs.map(Ue=>({...Ue.data(),id:Ue.id})).sort((Ue,Et)=>new Date(Et.removedDate)-new Date(Ue.removedDate))),be=>console.error("Removed error",be));return()=>{de(),pe(),Xe(),Tt(),it(),Pe(),Ee()}},[s]);const w=async()=>{"Notification"in window?await Notification.requestPermission()==="granted"&&new Notification("Notifications Enabled",{body:"You will be alerted when retorques are due.",icon:"/pwa-192x192.png"}):alert("This browser does not support web notifications.")};fo(()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const ae=()=>{const pe=new Date,Xe=new Set(Se);let Tt=!1;N.forEach(it=>{if(it.status==="Pending"&&!Xe.has(it.id)){const Pe=new Date(it.dueDate);if(pe>=Pe){try{new Notification(`Retorque Due: ${it.vehicleReg} (${it.reason})`,{body:`${it.type} - ${bg(it.positionId)} is due.
Fitter: ${it.fitter}`,icon:"/pwa-192x192.png",requireInteraction:!0})}catch(Ee){console.log("Notification trigger error:",Ee)}Xe.add(it.id),Tt=!0}}}),Tt&&I(Xe)},de=setInterval(ae,6e4);return ae(),()=>clearInterval(de)},[N,Se]);const C=async()=>{if(!confirm("This will populate the database with demo data. Continue?"))return;const ae=[],de=pe=>Wn(ft,"artifacts",gt,"public","data",pe);Px.forEach(pe=>ae.push(ys(de("inventory"),pe))),jx.forEach(pe=>ae.push(ys(de("vehicles"),pe))),zx.forEach(pe=>ae.push(ys(de("sizes"),pe))),Bx.forEach(pe=>ae.push(ys(de("users"),pe))),await Promise.all(ae),alert("Database seeded!")},V=async(ae,de)=>{const pe=[],Xe=Wn(ft,"artifacts",gt,"public","data","inventory");for(let Tt=0;Tt<de;Tt++)pe.push(ys(Xe,{...ae,barcode:Iv(),status:"In Stock"}));await Promise.all(pe)},D=async(ae,de)=>{const pe=Iv(),Xe={brand:ae.brand,model:ae.model,size:ae.size,dot:ae.dot,isUsed:!0,treadDepth:de,barcode:pe,status:"In Stock",prevBarcode:ae.barcode};await ys(Wn(ft,"artifacts",gt,"public","data","inventory"),Xe),await na(Zt(ft,"artifacts",gt,"public","data","removed_tyres",ae.id)),alert(`Tyre restocked with new barcode: ${pe}`)},k=async ae=>{window.prompt("Type 'DELETE' to confirm removing this record permanently.")==="DELETE"&&await na(Zt(ft,"artifacts",gt,"public","data","inventory",ae))},R=async ae=>{const de=b.reduce((pe,Xe)=>Math.max(pe,Xe.order||0),-1);await ys(Wn(ft,"artifacts",gt,"public","data","vehicles"),{...ae,wheels:{},order:de+1})},Je=async ae=>{const{id:de,...pe}=ae;await kc(Zt(ft,"artifacts",gt,"public","data","vehicles",de),pe)},Le=async ae=>{const de=ae.map((pe,Xe)=>pe.order!==Xe?kc(Zt(ft,"artifacts",gt,"public","data","vehicles",pe.id),{order:Xe},{merge:!0}):Promise.resolve());await Promise.all(de)},L=async ae=>{window.prompt("Type 'DELETE' to confirm removing this vehicle permanently.")==="DELETE"&&await na(Zt(ft,"artifacts",gt,"public","data","vehicles",ae))},W=async ae=>{ae&&await ys(Wn(ft,"artifacts",gt,"public","data","sizes"),{name:ae})},le=async ae=>{window.confirm("Remove this size?")&&await na(Zt(ft,"artifacts",gt,"public","data","sizes",ae))},se=async ae=>{await ys(Wn(ft,"artifacts",gt,"public","data","users"),ae)},xe=async ae=>{window.confirm("Remove this user?")&&await na(Zt(ft,"artifacts",gt,"public","data","users",ae))},O=async ae=>{const de=Zt(ft,"artifacts",gt,"public","data","retorques",ae);await kc(de,{status:"Completed",completedDate:new Date().toISOString()},{merge:!0})},K=async()=>{if(window.confirm("DANGER: This will delete ALL Inventory, Retorque Tasks, History Logs, and Removed Tyres. Vehicles and Users will be kept. Are you sure?")){const ae=["inventory","retorques","history","removed_tyres"],de=async pe=>{const Xe=Wn(ft,"artifacts",gt,"public","data",pe),it=(await Av(Xe)).docs.map(Pe=>na(Pe.ref));await Promise.all(it)};try{if(await Promise.all(ae.map(pe=>de(pe))),window.confirm("Do you also want to remove currently fitted tyres from ALL vehicles? (Recommended for a clean start)")){const pe=Wn(ft,"artifacts",gt,"public","data","vehicles"),Tt=(await Av(pe)).docs.map(it=>kc(it.ref,{wheels:{}},{merge:!0}));await Promise.all(Tt)}alert("Operational data wiped successfully.")}catch(pe){console.error("Wipe failed",pe),alert("Failed to wipe some data. Check console.")}}},ne=async ae=>{try{const de=GI(ft),pe={},Xe=[];for(const Pe of ae){const{vehicle:Ee,positionId:be,newTyre:Ue,fitDateStr:Et,fitterInitials:bt,isRefit:jn,refitReason:ti}=Pe,$i=Zt(ft,"artifacts",gt,"public","data","vehicles",Ee.id);pe[Ee.id]||(pe[Ee.id]={...Ee.wheels});const At=pe[Ee.id][be];if(At&&At.id){const ni=Zt(Wn(ft,"artifacts",gt,"public","data","removed_tyres"));de.set(ni,{...At,removedDate:Et,removedFrom:Ee.reg,removedPosition:be});const Rs=Zt(ft,"artifacts",gt,"public","data","inventory",At.id);de.delete(Rs)}let gn=Ue;if(jn)gn={...At,dateFitted:Et,fitter:bt,id:At?.id||Mx(),barcode:At?.barcode||"LEGACY",brand:At?.brand||"Legacy",model:At?.model||"-",size:At?.size||"-",dot:At?.dot||""};else{gn={...Ue,dateFitted:Et,fitter:bt,vehicleId:Ee.id,positionId:be,vehicleReg:Ee.reg};const ni=Zt(ft,"artifacts",gt,"public","data","inventory",Ue.id);de.update(ni,{status:"Fitted",vehicleId:Ee.id,positionId:be,vehicleReg:Ee.reg})}pe[Ee.id][be]=gn;const Zi=Zt(Wn(ft,"artifacts",gt,"public","data","history"));de.set(Zi,{fitDate:Et,barcode:gn.barcode,brand:gn.brand,model:gn.model,size:gn.size,dot:gn.dot,vehicleReg:Ee.reg,position:be,fitter:bt,reason:jn?`Refit: ${ti}`:"Tyre Fitted"})}Object.keys(pe).forEach(Pe=>{const Ee=Zt(ft,"artifacts",gt,"public","data","vehicles",Pe);de.update(Ee,{wheels:pe[Pe]})});const Tt=new Set,it=Wn(ft,"artifacts",gt,"public","data","retorques");for(const Pe of ae){const{vehicle:Ee,positionId:be,fitDateStr:Ue,fitterInitials:Et,isRefit:bt,refitReason:jn}=Pe,ti=kx(be),$i=`${Ee.id}_${ti}`;if(!Tt.has($i)){Tt.add($i);const At=xm(be),gn=Ee.specs[At]||{torque:0},Zi=new Date(Ue).getTime(),ni=bt?`Refit: ${jn}`:"Tyre Fitted",Rs=Zt(it);de.set(Rs,{vehicleReg:Ee.reg,positionId:ti,fitmentDate:Ue,dueDate:new Date(Zi+1800*1e3).toISOString(),status:"Pending",type:"30m Check",torqueSpec:gn.torque||0,fitter:Et,reason:ni});const In=Zt(it);de.set(In,{vehicleReg:Ee.reg,positionId:ti,fitmentDate:Ue,dueDate:new Date(Zi+1440*60*1e3).toISOString(),status:"Pending",type:"24h Check",torqueSpec:gn.torque||0,fitter:Et,reason:ni})}}await de.commit(),alert("Batch fitment complete!")}catch(de){console.error("Batch Error",de),alert("Batch fitment failed: "+de.message)}},re=async(ae,de,pe,Xe,Tt)=>{const it=_.find(Ee=>Ee.barcode===pe&&Ee.status==="In Stock");if(!it){alert("Tyre not found!");return}const Pe=b.find(Ee=>Ee.id===ae);await ne([{vehicle:Pe,positionId:de,newTyre:it,fitDateStr:Xe,fitterInitials:Tt,isRefit:!1}])},Te=async(ae,de,pe,Xe,Tt)=>{const it=b.find(Pe=>Pe.id===ae);await ne([{vehicle:it,positionId:de,newTyre:null,fitDateStr:Xe,fitterInitials:Tt,isRefit:!0,refitReason:pe}])},Ne=async ae=>{confirm("Permanently dispose of this tyre record?")&&await na(Zt(ft,"artifacts",gt,"public","data","removed_tyres",ae))},Be=N.filter(ae=>ae.status==="Pending").length;if(d)return E.jsx("div",{className:"text-center p-10 text-red-500",children:d});if(!s)return E.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-500",children:"Connecting..."});if(!i)return E.jsx(Hx,{users:Re,onLogin:a});const Ct=["Admin","Manager"].includes(i.role),nt=["Admin","Manager"].includes(i.role),yi=["Admin","Fitter"].includes(i.role),Yi=i.role==="Admin",Xi=i.role==="Admin";return E.jsxs(E.Fragment,{children:[E.jsx("style",{children:s1}),E.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900",children:[E.jsxs("div",{className:"bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50",children:[E.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[E.jsxs("h1",{className:"text-xl font-bold flex items-center gap-3",children:[E.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:E.jsx(dh,{className:"w-6 h-6 text-white"})}),"CLion Workshop ",E.jsx("span",{className:"text-blue-400 font-light",children:"Tyre Tracker"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"text-right hidden md:block",children:[E.jsx("div",{className:"text-sm font-bold text-white",children:i.initials}),E.jsx("div",{className:"text-xs text-slate-400 uppercase",children:i.role})]}),E.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",title:"Logout",children:E.jsx(gx,{className:"w-5 h-5"})})]})]}),E.jsx("div",{className:"max-w-6xl mx-auto mt-4",children:E.jsxs("nav",{className:"flex bg-slate-800 p-1 rounded-lg overflow-x-auto",children:[E.jsx(sa,{label:"Vehicles",icon:dh,active:l==="vehicles",onClick:()=>c("vehicles")}),yi&&E.jsx(sa,{label:"Fit Tyre",icon:t1,active:l==="fit",onClick:()=>c("fit")}),E.jsx(sa,{label:"Inventory",icon:ix,active:l==="inventory",onClick:()=>c("inventory")}),E.jsx(sa,{label:"Retorques",icon:Ax,active:l==="retorque",onClick:()=>c("retorque"),badge:Be}),nt&&E.jsx(sa,{label:"Removed",icon:Eg,active:l==="removed",onClick:()=>c("removed")}),nt&&E.jsx(sa,{label:"Reports",icon:rx,active:l==="reports",onClick:()=>c("reports")}),Yi&&E.jsx(sa,{label:"Settings",icon:e1,active:l==="settings",onClick:()=>c("settings")})]})})]}),E.jsxs("main",{className:"max-w-6xl mx-auto p-4 md:p-6 animate-enter",children:[l==="vehicles"&&E.jsx(Fx,{vehicles:b,onAdd:R,onUpdate:Je,onDelete:L,onReorder:Le,canReorder:Xi,retorqueRegister:N}),l==="fit"&&yi&&E.jsx(Gx,{vehicles:b,inventory:_,onFit:re,onRefit:Te,onReorder:Le,canReorder:Xi,currentUser:i,onFitBatch:ne}),l==="inventory"&&E.jsx(Qx,{inventory:_,onAddBatch:V,onDelete:k,availableSizes:Q,canAdd:Ct}),l==="retorque"&&E.jsx(RetorqueManager,{tasks:N,onComplete:O}),l==="removed"&&nt&&E.jsx(RemovedTyresManager,{removedTyres:me,onDispose:Ne,onRestock:D}),l==="reports"&&nt&&E.jsx(ReportsManager,{history:ee,retorques:N}),l==="settings"&&Yi&&E.jsx(SettingsManager,{sizes:Q,onAddSize:W,onRemoveSize:le,onSeed:C,users:Re,onAddUser:se,onRemoveUser:xe,onRequestNotifications:w,onWipe:K})]})]})]})}function Hx({users:s,onLogin:e}){const[i,a]=De(""),[l,c]=De(""),[d,g]=De(""),[_,p]=De(0),[b,A]=De(!1),N=Q=>{if(Q.preventDefault(),s.length===0&&i==="ADM"&&l==="0000"){e({initials:"ADM",role:"Admin"});return}const te=s.find(ee=>ee.initials.toUpperCase()===i.toUpperCase()&&ee.pin===l);te?e(te):g("Invalid Credentials")},q=()=>{Vx();const Q=_+1;p(Q),Q===10&&(A(!0),p(0))};return E.jsxs(E.Fragment,{children:[E.jsx("style",{children:s1}),E.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:[b&&E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 p-4 animate-enter",onClick:()=>A(!1),children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-sm text-center border-4 border-red-500 transform scale-110",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-2 uppercase",children:"Message for Dick"}),E.jsx("p",{className:"text-xl font-bold text-red-600 leading-tight",children:'"Put the crayons down and ask for help!"'}),E.jsx("button",{onClick:Q=>{Q.stopPropagation(),A(!1)},className:"mt-6 bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors",children:"Okay, Sorry"})]})}),E.jsxs("div",{className:"glass-panel p-8 rounded-2xl shadow-2xl w-full max-w-md animate-enter",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{onClick:q,className:"bg-blue-600 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/30 cursor-pointer active:scale-90 transition-transform select-none",children:E.jsx(dh,{className:"w-8 h-8 text-white"})}),E.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"CLion Workshop"}),E.jsx("p",{className:"text-slate-500 font-medium",children:"Tyre Tracking System"})]}),E.jsxs("form",{onSubmit:N,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase tracking-wide",children:"Initials"}),E.jsxs("div",{className:"relative group",children:[E.jsx(Cx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),E.jsx("input",{autoFocus:!0,className:"w-full pl-10 p-3 border-2 border-slate-200 rounded-xl bg-slate-50 uppercase font-bold tracking-widest text-center focus:border-blue-500 focus:outline-none focus:bg-white transition-all",maxLength:3,value:i,onChange:Q=>a(Q.target.value.toUpperCase())})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase tracking-wide",children:"PIN"}),E.jsxs("div",{className:"relative group",children:[E.jsx(dx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),E.jsx("input",{type:"password",className:"w-full pl-10 p-3 border-2 border-slate-200 rounded-xl bg-slate-50 text-center font-bold tracking-widest focus:border-blue-500 focus:outline-none focus:bg-white transition-all",maxLength:4,value:l,onChange:Q=>c(Q.target.value)})]})]}),d&&E.jsx("div",{className:"text-red-500 text-sm text-center font-bold bg-red-50 p-2 rounded-lg",children:d}),E.jsx("button",{className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 hover:scale-[1.02] active:scale-[0.98] transition-all",children:"LOGIN"})]})]})]})]})}function Fx({vehicles:s,onAdd:e,onUpdate:i,onDelete:a,onReorder:l,canReorder:c,retorqueRegister:d}){const[g,_]=De(null),[p,b]=De(null),[A,N]=De(!1),[q,Q]=De(null),[te,ee]=De({reg:"",type:"Van",layout:"2-axle-dual",color:"white"}),[ce,me]=De(!1),[$,Re]=De(s),[Oe,Se]=De(null);fo(()=>{Oe===null&&Re(s)},[s,Oe]);const I=L=>{const W={torque:600,pressure:120},le={torque:180,pressure:55};return L.includes("van")||L==="2-axle-single"?{front:le,rear:le}:L==="3-axle-rigid"?{front:W,drive:W,tag:W}:L==="3-axle-rear-steer"?{front:W,drive:W,rear_steer:W}:{front:W,rear:W}},w=L=>{L.preventDefault(),e({...te,specs:I(te.layout)}),N(!1),ee({reg:"",type:"Van",layout:"2-axle-dual",color:"white"})},C=L=>{Q({...L}),_(null)},V=()=>{i(q),Q(null)},D=(L,W,le)=>{Q({...q,specs:{...q.specs,[L]:{...q.specs[L],[W]:parseInt(le)||0}}})},k=L=>Se(L),R=L=>{if(Oe===null||Oe===L)return;const W=[...$],le=W[Oe];W.splice(Oe,1),W.splice(L,0,le),Se(L),Re(W)},Je=()=>{Se(null),l&&l($)},Le=g&&p?{id:p,axleGroup:xm(p),spec:g.specs[xm(p)],tyre:g.wheels[p]}:null;return E.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"md:col-span-1 space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Fleet List"}),E.jsxs("div",{className:"flex gap-2",children:[c&&E.jsx("button",{onClick:()=>me(!ce),className:`p-2 rounded-lg transition ${ce?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-500 hover:text-slate-700"}`,title:"Toggle Reorder Mode",children:E.jsx(ZE,{className:"w-5 h-5"})}),E.jsx("button",{onClick:()=>N(!A),className:"p-2 bg-blue-100 text-blue-700 rounded-lg btn-press",children:E.jsx(JE,{className:"w-5 h-5"})})]})]}),A&&E.jsxs("form",{onSubmit:w,className:"bg-white p-4 rounded-xl shadow space-y-3 animate-enter",children:[E.jsx("input",{required:!0,placeholder:"Reg",className:"w-full p-2 border rounded",value:te.reg,onChange:L=>ee({...te,reg:L.target.value})}),E.jsxs("select",{className:"w-full p-2 border rounded",value:te.layout,onChange:L=>ee({...te,layout:L.target.value}),children:[E.jsx("option",{value:"2-axle-dual",children:"2 Axle (Dual Rear)"}),E.jsx("option",{value:"3-axle-rear-steer",children:"3 Axle (Rear Steer)"}),E.jsx("option",{value:"3-axle-rigid",children:"3 Axle Rigid"}),E.jsx("option",{value:"2-axle-single",children:"2 Axle (Single Rear)"})]}),E.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded",children:"Save"})]}),E.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:$.map((L,W)=>{const le=i1(L.color||"white");return E.jsxs("div",{draggable:ce,onDragStart:se=>k(W),onDragEnter:se=>R(W),onDragEnd:Je,onDragOver:se=>se.preventDefault(),onClick:()=>{ce||(_(L),b(null),Q(null))},className:`p-4 cursor-pointer flex justify-between items-center transition-all duration-200 border-l-4 ${g?.id===L.id?"border-blue-500 shadow-md":"border-transparent"} ${le.bg} ${le.hover} ${ce?"drag-item":""}`,children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-lg text-slate-800",children:L.reg}),E.jsx("div",{className:"text-xs text-slate-500",children:L.type})]}),E.jsx("div",{className:"flex gap-1 items-center",children:ce?E.jsx("div",{className:"text-slate-400 cursor-grab active:cursor-grabbing p-2",children:E.jsx(ox,{className:"w-5 h-5"})}):E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:se=>{se.stopPropagation(),C(L)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-100/50 rounded-full transition-all",children:E.jsx(e1,{className:"w-5 h-5"})}),E.jsx("button",{onClick:se=>{se.stopPropagation(),a(L.id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-100/50 rounded-full transition-all",children:E.jsx(Eg,{className:"w-5 h-5"})})]})})]},L.id)})})]}),E.jsx("div",{className:"md:col-span-2 relative",children:q?E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col animate-enter",children:[E.jsxs("div",{className:"flex justify-between mb-4",children:[E.jsxs("h2",{className:"text-xl font-bold",children:["Configure ",q.reg]}),E.jsx("button",{onClick:()=>Q(null),children:E.jsx(Cm,{className:"w-6 h-6 text-slate-400"})})]}),E.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{className:"border p-2 rounded",value:q.reg,onChange:L=>Q({...q,reg:L.target.value})}),E.jsx("input",{className:"border p-2 rounded",value:q.type,onChange:L=>Q({...q,type:L.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Color Tag"}),E.jsx("div",{className:"flex gap-2 flex-wrap",children:Im.map(L=>E.jsx("button",{type:"button",onClick:()=>Q({...q,color:L.id}),className:`w-8 h-8 rounded-full border-2 transition-all ${L.bg} ${q.color===L.id?"border-blue-600 scale-110 shadow":"border-transparent hover:scale-105"}`,title:L.label},L.id))})]}),E.jsxs("div",{className:"space-y-4 border-t pt-4",children:[E.jsx("h4",{className:"font-bold text-slate-700",children:"Axle Specs"}),Object.keys(q.specs).map(L=>E.jsxs("div",{className:"bg-slate-50 p-4 rounded border",children:[E.jsx("h4",{className:"font-bold text-xs uppercase mb-2",children:Lx(L)}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-slate-500",children:"Torque (Nm)"}),E.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:q.specs[L].torque,onChange:W=>D(L,"torque",W.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-slate-500",children:"Pressure (PSI)"}),E.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:q.specs[L].pressure,onChange:W=>D(L,"pressure",W.target.value)})]})]})]},L))]})]}),E.jsx("div",{className:"mt-4 pt-4 border-t text-right",children:E.jsxs("button",{onClick:V,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2 ml-auto btn-press",children:[E.jsx(vx,{className:"w-4 h-4"})," Save Changes"]})})]}):g?E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col animate-enter",children:[E.jsxs("div",{className:"mb-4 border-b pb-4 flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-black text-slate-800",children:g.reg}),E.jsx("p",{className:"text-slate-500 font-medium",children:g.type})]}),E.jsx("div",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded",children:"View Mode"})]}),E.jsxs("div",{className:"flex-1 relative min-h-[400px]",children:[E.jsx(a1,{vehicle:g,retorques:d,mode:"view",onSelect:b}),Le&&E.jsxs("div",{className:"absolute top-10 right-0 md:right-10 w-72 bg-slate-900/95 text-white p-5 rounded-xl shadow-2xl z-20 backdrop-blur-md animate-enter border border-slate-700",children:[E.jsxs("div",{className:"flex justify-between mb-4",children:[E.jsx("h3",{className:"font-bold text-lg text-blue-400",children:bg(Le.id)}),E.jsx("button",{onClick:()=>b(null),className:"hover:text-red-400 transition-colors",children:E.jsx(Cm,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center grid grid-cols-2 gap-4 border border-slate-700",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Torque"}),E.jsx("div",{className:"font-bold text-xl font-mono",children:Le.spec?.torque})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Pressure"}),E.jsx("div",{className:"font-bold text-xl font-mono",children:Le.spec?.pressure})]})]}),Le.tyre?E.jsxs("div",{className:"text-sm space-y-1",children:[E.jsx("div",{className:"font-bold border-b border-slate-700 pb-2 mb-2 text-xs uppercase tracking-wider text-slate-400",children:"FITTED TYRE"}),E.jsx("div",{className:"font-bold text-lg",children:Le.tyre.brand}),E.jsx("div",{className:"text-slate-300",children:Le.tyre.model}),E.jsx("div",{className:"text-slate-400 text-xs",children:Le.tyre.size}),E.jsx("div",{className:"bg-black/30 p-2 rounded text-center font-mono text-xs mt-3 tracking-widest text-emerald-400 border border-emerald-900/50",children:Le.tyre.barcode}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4 text-xs pt-2 border-t border-slate-800",children:[E.jsxs("div",{children:[E.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Age"}),E.jsx("span",{className:"text-blue-300 font-bold",children:r1(Le.tyre.dot)})]}),E.jsxs("div",{children:[E.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Fitter"}),E.jsx("span",{className:"text-white font-bold",children:Le.tyre.fitter||"-"})]}),E.jsxs("div",{className:"col-span-2 mt-1",children:[E.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Date Fitted"}),E.jsxs("span",{className:"text-emerald-400 font-medium flex items-center gap-1",children:[E.jsx(WI,{className:"w-3 h-3"})," ",new Date(Le.tyre.dateFitted).toLocaleString([],{dateStyle:"short",timeStyle:"short"})]})]})]})]}):E.jsx("div",{className:"text-center text-slate-500 py-6 border-2 border-dashed border-slate-700 rounded-lg",children:"Empty Position"})]})]})]})]}):E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 bg-slate-100/50 rounded-xl border-2 border-dashed border-slate-200 p-10",children:[E.jsx(dh,{className:"w-16 h-16 mb-4 opacity-50"}),E.jsx("p",{children:"Select a vehicle from the list to view details."})]})})]})}function Gx({vehicles:s,inventory:e,onFitBatch:i,currentUser:a}){const[l,c]=De(1),[d,g]=De(null),[_,p]=De([]),[b,A]=De(0),[N,q]=De([]),[Q,te]=De("Scan"),[ee,ce]=De(""),[me,$]=De("Brake Work"),[Re,Oe]=De(""),[Se,I]=De(!1),w=Nx(null),[C,V]=De(a.initials),[D,k]=De(new Date().toISOString().slice(0,16)),[R,Je]=De(""),Le=s.filter(se=>se.reg.toUpperCase().includes(R.toUpperCase())),L=se=>{p(se),A(0),q([]),c(3)},W=()=>{if(!("BarcodeDetector"in window)){alert("Barcode Detector API not supported. Please type manually.");return}I(!0)};fo(()=>{let se=null,xe=null;if(Se){const O=new window.BarcodeDetector({formats:["code_128","ean_13","code_39"]});navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(K=>{se=K,w.current&&(w.current.srcObject=se,w.current.play(),xe=setInterval(async()=>{try{if(w.current&&w.current.readyState===4){const ne=await O.detect(w.current);ne.length>0&&(ce(ne[0].rawValue),I(!1))}}catch{}},200))}).catch(()=>I(!1))}return()=>{se&&se.getTracks().forEach(O=>O.stop()),xe&&clearInterval(xe)}},[Se]);const le=()=>{const se=_[b];let xe=null;if(Q==="Scan"){if(!ee)return;if(xe=e.find(K=>K.barcode===ee&&K.status==="In Stock"),!xe){alert("Tyre not found in stock!");return}}else if(!(me==="Other"?Re:me))return;const O=[...N,{vehicle:d,positionId:se.pos||se,newTyre:xe,fitDateStr:D,fitterInitials:C,isRefit:Q==="Refit",refitReason:Q==="Refit"?me==="Other"?Re:me:null}];q(O),ce(""),b+1<_.length?A(b+1):(i(O),c(1),g(null),p([]),q([]))};return E.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[E.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[E.jsx(em,{num:1,label:"Vehicle",active:l>=1}),E.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:E.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ease-out ${l>=2?"w-full":"w-0"}`})}),E.jsx(em,{num:2,label:"Positions",active:l>=2}),E.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:E.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ease-out ${l>=3?"w-full":"w-0"}`})}),E.jsx(em,{num:3,label:"Scan",active:l>=3})]}),E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-200 min-h-[400px] animate-enter",children:[l===1&&E.jsxs("div",{children:[E.jsxs("div",{className:"relative mb-4",children:[E.jsx(WE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),E.jsx("input",{placeholder:"Search Registration...",className:"w-full pl-10 p-3 border rounded-xl bg-slate-50 focus:border-blue-500 focus:bg-white transition-colors",value:R,onChange:se=>Je(se.target.value)})]}),E.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2",children:Le.map(se=>{const xe=i1(se.color||"white");return E.jsxs("button",{onClick:()=>{g(se),c(2)},className:`w-full p-2 text-left border-2 rounded-xl transition-all duration-200 btn-press h-full flex flex-col justify-between min-h-[80px] ${xe.bg} ${xe.border} ${xe.hover} hover:shadow-md`,children:[E.jsx("div",{className:"font-bold text-base text-slate-800 leading-tight",children:se.reg}),E.jsx("div",{className:"text-[10px] text-slate-500 mt-1 uppercase font-semibold",children:se.type})]},se.id)})})]}),l===2&&E.jsxs("div",{className:"text-center animate-enter",children:[E.jsx("h3",{className:"font-bold mb-6 text-lg",children:"Select Position(s) to Fit"}),E.jsx(a1,{vehicle:d,mode:"select",onSelect:se=>{se.type==="single"?L([se.pos]):se.type==="dual"||se.type==="axle"?L(se.positions):L([se])}}),E.jsx("button",{onClick:()=>c(1),className:"mt-8 text-slate-400 hover:text-blue-600 underline transition-colors",children:"Back to Vehicles"})]}),l===3&&E.jsxs("div",{className:"max-w-md mx-auto space-y-6 animate-enter",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsx("h3",{className:"text-xl font-bold",children:d.reg}),E.jsxs("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-bold mt-2 inline-flex items-center gap-2",children:[E.jsxs("span",{children:["Scanning ",b+1," of ",_.length,":"]}),E.jsx("span",{className:"uppercase",children:bg(_[b])})]})]}),E.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[E.jsx("button",{className:`flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 ${Q==="Scan"?"bg-white shadow text-blue-600 scale-100":"text-slate-500 hover:text-slate-700"}`,onClick:()=>te("Scan"),children:"Fit New Tyre"}),E.jsx("button",{className:`flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 ${Q==="Refit"?"bg-white shadow text-blue-600 scale-100":"text-slate-500 hover:text-slate-700"}`,onClick:()=>te("Refit"),children:"Refit Removed Tyre"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{type:"datetime-local",value:D,onChange:se=>k(se.target.value),className:"w-full p-3 border-2 border-slate-200 rounded-lg text-sm"}),Q==="Scan"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{value:ee,onChange:se=>ce(se.target.value),className:"flex-1 p-3 border-2 border-slate-200 rounded-lg font-mono text-lg",placeholder:"Scan Barcode",autoFocus:!0}),E.jsx("button",{onClick:W,className:"bg-slate-200 px-4 rounded-lg hover:bg-slate-300",title:"Open Camera",children:E.jsx(tx,{className:"w-6 h-6 text-slate-700"})})]}),Se&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:E.jsxs("div",{className:"relative w-full max-w-sm bg-black rounded-xl overflow-hidden shadow-2xl",children:[E.jsx("video",{ref:w,className:"w-full h-auto"}),E.jsx("button",{onClick:()=>I(!1),className:"absolute top-4 right-4 bg-white/20 p-2 rounded-full text-white",children:E.jsx(Cm,{className:"w-6 h-6"})})]})})]}):E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"block text-sm font-bold text-slate-600",children:"Reason for Removal"}),E.jsxs("select",{className:"w-full p-3 border-2 border-slate-200 rounded-lg bg-white focus:border-blue-500 focus:outline-none",value:me,onChange:se=>$(se.target.value),children:[E.jsx("option",{value:"Brake Work",children:"Brake Work"}),E.jsx("option",{value:"Turn on Rim",children:"Turn on Rim"}),E.jsx("option",{value:"Other",children:"Other..."})]}),me==="Other"&&E.jsx("input",{placeholder:"Specify reason...",className:"w-full p-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none",value:Re,onChange:se=>Oe(se.target.value)})]}),E.jsx("input",{value:C,readOnly:!0,className:"w-full p-3 border-2 border-slate-200 rounded text-center uppercase tracking-widest font-bold bg-slate-100 text-slate-500"})]}),E.jsx("button",{onClick:le,disabled:Q==="Scan"&&!ee,className:"w-full bg-green-600 text-white p-4 rounded-xl font-bold hover:bg-green-700 disabled:opacity-50 shadow-lg btn-press transition-all",children:b+1===_.length?"FINISH & SUBMIT":"NEXT TYRE"})]})]})]})}function Qx({inventory:s,onAddBatch:e,onDelete:i,availableSizes:a,canAdd:l}){const[c,d]=De({brand:"",model:"",size:a[0]?.name||"",qty:1,dot:"",isUsed:!1,treadDepth:""}),[g,_]=De(""),[p,b]=De(null),[A,N]=De("All");fo(()=>{!c.size&&a.length>0&&d($=>({...$,size:a[0].name}))},[a]);const{items:q,requestSort:Q,sortConfig:te}=Ux(s.filter($=>{const Re=($.barcode||"").includes(g)||($.brand||"").toLowerCase().includes(g.toLowerCase())||($.size||"").includes(g),Oe=A==="All"?!0:A==="Fitted"?$.status==="Fitted":$.status==="In Stock";return Re&&Oe})),ee=$=>{$.preventDefault(),e({brand:c.brand,model:c.model,size:c.size||a[0]?.name,dot:c.dot,isUsed:c.isUsed,treadDepth:c.isUsed?c.treadDepth:null},parseInt(c.qty)),d({...c,qty:1,dot:"",isUsed:!1,treadDepth:""})},ce=$=>{const Re={0:"000110100",1:"100100001",2:"001100001",3:"101100000",4:"000110001",5:"100110000",6:"001110000",7:"000100101",8:"100100100",9:"001100100","*":"010010100"},Oe=`*${$}*`;let Se="",I=0;const w=80,C=2,V=5;for(let D of Oe){const k=Re[D];if(k){for(let R=0;R<9;R++){const Le=k[R]==="1"?V:C;R%2===0&&(Se+=`<rect x="${I}" y="0" width="${Le}" height="${w}" fill="black"/>`),I+=Le}I+=C}}return`<svg viewBox="0 0 ${I} ${w}" preserveAspectRatio="none" style="width: 100%; height: 100%;">${Se}</svg>`},me=()=>{if(!p)return;const $=window.open("","_blank","width=500,height=700");if(!$){alert("Please allow popups to print labels.");return}const Re=ce(p.barcode),Oe=`
      <html>
        <head>
          <title>Print Label - ${p.barcode}</title>
          <style>
             /* Physical Paper Size: 60mm Width x 80mm Height */
             @page { size: 60mm 80mm; margin: 0; }
             
             body { 
               margin: 0; 
               padding: 0; 
               width: 60mm; 
               height: 80mm; 
               font-family: sans-serif; 
               overflow: hidden; 
               position: relative;
             }
             
             /* Rotate content 90deg to print Landscape on the Portrait roll. */
             .label-container {
               position: absolute;
               width: 76mm;  /* 80mm height - margins */
               height: 56mm; /* 60mm width - margins */
               left: 50%;
               top: 50%;
               transform: translate(-50%, -50%) rotate(90deg);
               
               display: flex;
               flex-direction: column;
               justify-content: center;
               align-items: center;
               text-align: center;
             }

             .brand { 
               font-size: 22px; 
               font-weight: 900; 
               text-transform: uppercase; 
               line-height: 1;
               margin-bottom: 4px;
             }
             
             .model { 
               font-size: 16px; 
               font-weight: bold; 
               margin-bottom: 8px; 
               white-space: nowrap;
             }
             
             .size { 
               font-size: 32px; 
               font-weight: 900; 
               border: 4px solid black; 
               padding: 0px 14px; 
               border-radius: 8px; 
               margin: 4px 0; 
               background: white;
               line-height: 1.2;
             }
             
             .barcode-container {
               width: 95%;
               height: 25mm;
               margin-top: 4px;
             }
             
             .meta { 
               font-size: 12px; 
               font-weight: bold; 
               margin-top: 4px;
             }
          </style>
        </head>
        <body>
          <div class="label-container">
            <div class="brand">${p.brand}</div>
            <div class="model">${p.model}</div>
            <div class="size">${p.size}</div>
            <div class="barcode-container">${Re}</div>
            <div class="meta">DOT: ${p.dot||"N/A"} - ${p.barcode}</div>
          </div>
        </body>
      </html>
    `;$.document.write(Oe),$.document.close(),setTimeout(()=>{$.focus(),$.print()},500)};return E.jsxs("div",{className:"space-y-8 animate-enter",children:[l&&E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[E.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[E.jsx(JE,{className:"w-5 h-5 text-green-600"})," Batch Add Stock"]}),E.jsxs("form",{onSubmit:ee,className:"grid grid-cols-2 md:grid-cols-6 gap-4 items-end",children:[E.jsx("div",{className:"col-span-1",children:E.jsx("input",{required:!0,placeholder:"Brand",className:"p-2 border rounded w-full",value:c.brand,onChange:$=>d({...c,brand:$.target.value})})}),E.jsx("div",{className:"col-span-1",children:E.jsx("input",{required:!0,placeholder:"Model",className:"p-2 border rounded w-full",value:c.model,onChange:$=>d({...c,model:$.target.value})})}),E.jsx("div",{className:"col-span-1",children:E.jsx("select",{required:!0,className:"p-2 border rounded w-full bg-white",value:c.size,onChange:$=>d({...c,size:$.target.value}),children:a.map($=>E.jsx("option",{value:$.name,children:$.name},$.id))})}),E.jsx("div",{className:"col-span-1",children:E.jsx("input",{required:!0,placeholder:"DOT (e.g 1024)",maxLength:"4",className:"p-2 border rounded w-full",value:c.dot,onChange:$=>d({...c,dot:$.target.value})})}),E.jsx("div",{className:"col-span-1",children:E.jsx("input",{type:"number",min:"1",max:"50",required:!0,placeholder:"Qty",className:"p-2 border rounded w-full",value:c.qty,onChange:$=>d({...c,qty:$.target.value})})}),E.jsxs("div",{className:"col-span-1 flex flex-col gap-2",children:[E.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-600 cursor-pointer select-none",children:[E.jsx("input",{type:"checkbox",checked:c.isUsed,onChange:$=>d({...c,isUsed:$.target.checked})})," Used Tyre?"]}),c.isUsed&&E.jsx("input",{type:"number",placeholder:"Depth (mm)",className:"p-1 border rounded text-xs w-full animate-enter",value:c.treadDepth,onChange:$=>d({...c,treadDepth:$.target.value}),required:!0})]}),E.jsx("button",{className:"col-span-2 md:col-span-6 bg-slate-900 text-white rounded font-medium py-2 mt-2 hover:bg-slate-800 btn-press transition-all",children:"Add"})]})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[E.jsxs("div",{className:"p-4 bg-slate-50 border-b flex flex-col md:flex-row justify-between items-center gap-4",children:[E.jsx("h3",{className:"font-bold text-slate-700",children:"Serialized Inventory"}),E.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[E.jsxs("select",{value:A,onChange:$=>N($.target.value),className:"border p-2 rounded text-sm bg-white",children:[E.jsx("option",{value:"All",children:"All Status"}),E.jsx("option",{value:"In Stock",children:"In Stock"}),E.jsx("option",{value:"Fitted",children:"Fitted"})]}),E.jsxs("div",{className:"relative flex-1 md:flex-none",children:[E.jsx(WE,{className:"absolute left-2 top-2 w-4 h-4 text-slate-400"}),E.jsx("input",{placeholder:"Search...",className:"pl-8 p-2 border rounded text-sm w-full",value:g,onChange:$=>_($.target.value)})]})]})]}),E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx(Lc,{label:"Barcode",sortKey:"barcode",requestSort:Q,sortConfig:te}),E.jsx(Lc,{label:"Details",sortKey:"brand",requestSort:Q,sortConfig:te}),E.jsx(Lc,{label:"Age",sortKey:"dot",requestSort:Q,sortConfig:te}),E.jsx(Lc,{label:"Status",sortKey:"status",requestSort:Q,sortConfig:te}),E.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y",children:q.map($=>E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[E.jsx("td",{className:"p-3 font-mono font-bold",children:$.barcode}),E.jsxs("td",{className:"p-3",children:[E.jsxs("div",{className:"font-medium text-slate-900",children:[$.brand," ",$.model]}),E.jsx("div",{className:"text-xs text-slate-500",children:$.size}),$.isUsed&&E.jsxs("span",{className:"inline-block bg-amber-100 text-amber-800 text-[10px] px-1 rounded border border-amber-200 mt-1",children:["Used: ",$.treadDepth,"mm"]})]}),E.jsxs("td",{className:"p-3",children:[E.jsx("div",{className:"text-xs font-bold text-slate-600",children:r1($.dot)}),E.jsxs("div",{className:"text-xs text-slate-400",children:["DOT: ",$.dot]})]}),E.jsxs("td",{className:"p-3",children:[E.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${$.status==="In Stock"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:$.status}),$.status==="Fitted"&&E.jsx("div",{className:"text-xs mt-1 text-slate-500 font-medium",children:$.vehicleReg})]}),E.jsx("td",{className:"p-3 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>b($),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all",title:"Print Label",children:E.jsx(Rv,{className:"w-4 h-4"})}),l&&E.jsx("button",{onClick:()=>i($.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Delete Stock",children:E.jsx(Eg,{className:"w-4 h-4"})})]})})]},$.id))})]})]}),p&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 text-center",children:[E.jsx("h3",{className:"font-bold text-xl mb-4",children:p.brand}),E.jsx("div",{className:"font-mono text-3xl font-black bg-slate-100 p-4 mb-4",children:p.barcode}),E.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Ensure printer is set to 60mm x 80mm media."}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>b(null),className:"flex-1 py-3 border rounded-lg hover:bg-slate-50 font-medium",children:"Cancel"}),E.jsxs("button",{onClick:me,className:"flex-1 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 shadow-lg btn-press flex items-center justify-center gap-2",children:[E.jsx(Rv,{className:"w-5 h-5"})," Print Label"]})]})]})})]})}$b.createRoot(document.getElementById("root")).render(E.jsx(cr.StrictMode,{children:E.jsx(qx,{})}));
