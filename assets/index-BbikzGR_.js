function nS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var ZF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bg={exports:{}},qd={};var iw;function iS(){if(iw)return qd;iw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return qd.Fragment=e,qd.jsx=t,qd.jsxs=t,qd}var aw;function aS(){return aw||(aw=1,Bg.exports=iS()),Bg.exports}var D=aS(),Fg={exports:{}},cn={};var ow;function oS(){if(ow)return cn;ow=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),_=Symbol.iterator;function v(Z){return Z===null||typeof Z!="object"?null:(Z=_&&Z[_]||Z["@@iterator"],typeof Z=="function"?Z:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function N(Z,F,$){this.props=Z,this.context=F,this.refs=I,this.updater=$||A}N.prototype.isReactComponent={},N.prototype.setState=function(Z,F){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,F,"setState")},N.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function V(){}V.prototype=N.prototype;function q(Z,F,$){this.props=Z,this.context=F,this.refs=I,this.updater=$||A}var U=q.prototype=new V;U.constructor=q,S(U,N.prototype),U.isPureReactComponent=!0;var re=Array.isArray;function ue(){}var z={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function P(Z,F,$){var ie=$.ref;return{$$typeof:n,type:Z,key:F,ref:ie!==void 0?ie:null,props:$}}function H(Z,F){return P(Z.type,F,Z.props)}function O(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function k(Z){var F={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function($){return F[$]})}var j=/\/+/g;function ce(Z,F){return typeof Z=="object"&&Z!==null&&Z.key!=null?k(""+Z.key):F.toString(36)}function xe(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(ue,ue):(Z.status="pending",Z.then(function(F){Z.status==="pending"&&(Z.status="fulfilled",Z.value=F)},function(F){Z.status==="pending"&&(Z.status="rejected",Z.reason=F)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function te(Z,F,$,ie,fe){var de=typeof Z;(de==="undefined"||de==="boolean")&&(Z=null);var ye=!1;if(Z===null)ye=!0;else switch(de){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(Z.$$typeof){case n:case e:ye=!0;break;case d:return ye=Z._init,te(ye(Z._payload),F,$,ie,fe)}}if(ye)return fe=fe(Z),ye=ie===""?"."+ce(Z,0):ie,re(fe)?($="",ye!=null&&($=ye.replace(j,"$&/")+"/"),te(fe,F,$,"",function(ze){return ze})):fe!=null&&(O(fe)&&(fe=H(fe,$+(fe.key==null||Z&&Z.key===fe.key?"":(""+fe.key).replace(j,"$&/")+"/")+ye)),F.push(fe)),1;ye=0;var Le=ie===""?".":ie+":";if(re(Z))for(var Ne=0;Ne<Z.length;Ne++)ie=Z[Ne],de=Le+ce(ie,Ne),ye+=te(ie,F,$,de,fe);else if(Ne=v(Z),typeof Ne=="function")for(Z=Ne.call(Z),Ne=0;!(ie=Z.next()).done;)ie=ie.value,de=Le+ce(ie,Ne++),ye+=te(ie,F,$,de,fe);else if(de==="object"){if(typeof Z.then=="function")return te(xe(Z),F,$,ie,fe);throw F=String(Z),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ye}function he(Z,F,$){if(Z==null)return Z;var ie=[],fe=0;return te(Z,ie,"","",function(de){return F.call($,de,fe++)}),ie}function pe(Z){if(Z._status===-1){var F=Z._result;F=F(),F.then(function($){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=$)},function($){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=$)}),Z._status===-1&&(Z._status=0,Z._result=F)}if(Z._status===1)return Z._result.default;throw Z._result}var Ce=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},We={map:he,forEach:function(Z,F,$){he(Z,function(){F.apply(this,arguments)},$)},count:function(Z){var F=0;return he(Z,function(){F++}),F},toArray:function(Z){return he(Z,function(F){return F})||[]},only:function(Z){if(!O(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return cn.Activity=g,cn.Children=We,cn.Component=N,cn.Fragment=t,cn.Profiler=i,cn.PureComponent=q,cn.StrictMode=r,cn.Suspense=c,cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,cn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return z.H.useMemoCache(Z)}},cn.cache=function(Z){return function(){return Z.apply(null,arguments)}},cn.cacheSignal=function(){return null},cn.cloneElement=function(Z,F,$){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var ie=S({},Z.props),fe=Z.key;if(F!=null)for(de in F.key!==void 0&&(fe=""+F.key),F)!R.call(F,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&F.ref===void 0||(ie[de]=F[de]);var de=arguments.length-2;if(de===1)ie.children=$;else if(1<de){for(var ye=Array(de),Le=0;Le<de;Le++)ye[Le]=arguments[Le+2];ie.children=ye}return P(Z.type,fe,ie)},cn.createContext=function(Z){return Z={$$typeof:s,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:a,_context:Z},Z},cn.createElement=function(Z,F,$){var ie,fe={},de=null;if(F!=null)for(ie in F.key!==void 0&&(de=""+F.key),F)R.call(F,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(fe[ie]=F[ie]);var ye=arguments.length-2;if(ye===1)fe.children=$;else if(1<ye){for(var Le=Array(ye),Ne=0;Ne<ye;Ne++)Le[Ne]=arguments[Ne+2];fe.children=Le}if(Z&&Z.defaultProps)for(ie in ye=Z.defaultProps,ye)fe[ie]===void 0&&(fe[ie]=ye[ie]);return P(Z,de,fe)},cn.createRef=function(){return{current:null}},cn.forwardRef=function(Z){return{$$typeof:l,render:Z}},cn.isValidElement=O,cn.lazy=function(Z){return{$$typeof:d,_payload:{_status:-1,_result:Z},_init:pe}},cn.memo=function(Z,F){return{$$typeof:f,type:Z,compare:F===void 0?null:F}},cn.startTransition=function(Z){var F=z.T,$={};z.T=$;try{var ie=Z(),fe=z.S;fe!==null&&fe($,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ue,Ce)}catch(de){Ce(de)}finally{F!==null&&$.types!==null&&(F.types=$.types),z.T=F}},cn.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},cn.use=function(Z){return z.H.use(Z)},cn.useActionState=function(Z,F,$){return z.H.useActionState(Z,F,$)},cn.useCallback=function(Z,F){return z.H.useCallback(Z,F)},cn.useContext=function(Z){return z.H.useContext(Z)},cn.useDebugValue=function(){},cn.useDeferredValue=function(Z,F){return z.H.useDeferredValue(Z,F)},cn.useEffect=function(Z,F){return z.H.useEffect(Z,F)},cn.useEffectEvent=function(Z){return z.H.useEffectEvent(Z)},cn.useId=function(){return z.H.useId()},cn.useImperativeHandle=function(Z,F,$){return z.H.useImperativeHandle(Z,F,$)},cn.useInsertionEffect=function(Z,F){return z.H.useInsertionEffect(Z,F)},cn.useLayoutEffect=function(Z,F){return z.H.useLayoutEffect(Z,F)},cn.useMemo=function(Z,F){return z.H.useMemo(Z,F)},cn.useOptimistic=function(Z,F){return z.H.useOptimistic(Z,F)},cn.useReducer=function(Z,F,$){return z.H.useReducer(Z,F,$)},cn.useRef=function(Z){return z.H.useRef(Z)},cn.useState=function(Z){return z.H.useState(Z)},cn.useSyncExternalStore=function(Z,F,$){return z.H.useSyncExternalStore(Z,F,$)},cn.useTransition=function(){return z.H.useTransition()},cn.version="19.2.3",cn}var sw;function jm(){return sw||(sw=1,Fg.exports=oS()),Fg.exports}var Tc=jm();const sS=rS(Tc),lS=nS({__proto__:null,default:sS},[Tc]);var jg={exports:{}},Gd={},Ug={exports:{}},Vg={};var lw;function uS(){return lw||(lw=1,(function(n){function e(te,he){var pe=te.length;te.push(he);e:for(;0<pe;){var Ce=pe-1>>>1,We=te[Ce];if(0<i(We,he))te[Ce]=he,te[pe]=We,pe=Ce;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var he=te[0],pe=te.pop();if(pe!==he){te[0]=pe;e:for(var Ce=0,We=te.length,Z=We>>>1;Ce<Z;){var F=2*(Ce+1)-1,$=te[F],ie=F+1,fe=te[ie];if(0>i($,pe))ie<We&&0>i(fe,$)?(te[Ce]=fe,te[ie]=pe,Ce=ie):(te[Ce]=$,te[F]=pe,Ce=F);else if(ie<We&&0>i(fe,pe))te[Ce]=fe,te[ie]=pe,Ce=ie;else break e}}return he}function i(te,he){var pe=te.sortIndex-he.sortIndex;return pe!==0?pe:te.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],f=[],d=1,g=null,_=3,v=!1,A=!1,S=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function U(te){for(var he=t(f);he!==null;){if(he.callback===null)r(f);else if(he.startTime<=te)r(f),he.sortIndex=he.expirationTime,e(c,he);else break;he=t(f)}}function re(te){if(S=!1,U(te),!A)if(t(c)!==null)A=!0,ue||(ue=!0,k());else{var he=t(f);he!==null&&xe(re,he.startTime-te)}}var ue=!1,z=-1,R=5,P=-1;function H(){return I?!0:!(n.unstable_now()-P<R)}function O(){if(I=!1,ue){var te=n.unstable_now();P=te;var he=!0;try{e:{A=!1,S&&(S=!1,V(z),z=-1),v=!0;var pe=_;try{t:{for(U(te),g=t(c);g!==null&&!(g.expirationTime>te&&H());){var Ce=g.callback;if(typeof Ce=="function"){g.callback=null,_=g.priorityLevel;var We=Ce(g.expirationTime<=te);if(te=n.unstable_now(),typeof We=="function"){g.callback=We,U(te),he=!0;break t}g===t(c)&&r(c),U(te)}else r(c);g=t(c)}if(g!==null)he=!0;else{var Z=t(f);Z!==null&&xe(re,Z.startTime-te),he=!1}}break e}finally{g=null,_=pe,v=!1}he=void 0}}finally{he?k():ue=!1}}}var k;if(typeof q=="function")k=function(){q(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ce=j.port2;j.port1.onmessage=O,k=function(){ce.postMessage(null)}}else k=function(){N(O,0)};function xe(te,he){z=N(function(){te(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(te){switch(_){case 1:case 2:case 3:var he=3;break;default:he=_}var pe=_;_=he;try{return te()}finally{_=pe}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var pe=_;_=te;try{return he()}finally{_=pe}},n.unstable_scheduleCallback=function(te,he,pe){var Ce=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ce+pe:Ce):pe=Ce,te){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=pe+We,te={id:d++,callback:he,priorityLevel:te,startTime:pe,expirationTime:We,sortIndex:-1},pe>Ce?(te.sortIndex=pe,e(f,te),t(c)===null&&te===t(f)&&(S?(V(z),z=-1):S=!0,xe(re,pe-Ce))):(te.sortIndex=We,e(c,te),A||v||(A=!0,ue||(ue=!0,k()))),te},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(te){var he=_;return function(){var pe=_;_=he;try{return te.apply(this,arguments)}finally{_=pe}}}})(Vg)),Vg}var uw;function cS(){return uw||(uw=1,Ug.exports=uS()),Ug.exports}var zg={exports:{}},Qa={};var cw;function fS(){if(cw)return Qa;cw=1;var n=jm();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:c,containerInfo:f,implementation:d}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Qa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qa.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,d)},Qa.flushSync=function(c){var f=s.T,d=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=d,r.d.f()}},Qa.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Qa.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Qa.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,g=l(d,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:_,fetchPriority:v}):d==="script"&&r.d.X(c,{crossOrigin:g,integrity:_,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Qa.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Qa.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,g=l(d,f.crossOrigin);r.d.L(c,d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Qa.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Qa.requestFormReset=function(c){r.d.r(c)},Qa.unstable_batchedUpdates=function(c,f){return c(f)},Qa.useFormState=function(c,f,d){return s.H.useFormState(c,f,d)},Qa.useFormStatus=function(){return s.H.useHostTransitionStatus()},Qa.version="19.2.3",Qa}var fw;function hS(){if(fw)return zg.exports;fw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zg.exports=fS(),zg.exports}var hw;function dS(){if(hw)return Gd;hw=1;var n=cS(),e=jm(),t=hS();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,h=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(h=u.return),o=u.return;while(o)}return u.tag===3?h:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var h=o,p=u;;){var w=h.return;if(w===null)break;var b=w.alternate;if(b===null){if(p=w.return,p!==null){h=p;continue}break}if(w.child===b.child){for(b=w.child;b;){if(b===h)return c(w),o;if(b===p)return c(w),u;b=b.sibling}throw Error(r(188))}if(h.return!==p.return)h=w,p=b;else{for(var M=!1,K=w.child;K;){if(K===h){M=!0,h=w,p=b;break}if(K===p){M=!0,p=w,h=b;break}K=K.sibling}if(!M){for(K=b.child;K;){if(K===h){M=!0,h=b,p=w;break}if(K===p){M=!0,p=b,h=w;break}K=K.sibling}if(!M)throw Error(r(189))}}if(h.alternate!==p)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:u}function d(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=d(o),u!==null)return u;o=o.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),q=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(o){return o===null||typeof o!="object"?null:(o=O&&o[O]||o["@@iterator"],typeof o=="function"?o:null)}var j=Symbol.for("react.client.reference");function ce(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===j?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case N:return"Profiler";case I:return"StrictMode";case re:return"Suspense";case ue:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case A:return"Portal";case q:return o.displayName||"Context";case V:return(o._context.displayName||"Context")+".Consumer";case U:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case z:return u=o.displayName||null,u!==null?u:ce(o.type)||"Memo";case R:u=o._payload,o=o._init;try{return ce(o(u))}catch{}}return null}var xe=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ce=[],We=-1;function Z(o){return{current:o}}function F(o){0>We||(o.current=Ce[We],Ce[We]=null,We--)}function $(o,u){We++,Ce[We]=o.current,o.current=u}var ie=Z(null),fe=Z(null),de=Z(null),ye=Z(null);function Le(o,u){switch($(de,u),$(fe,o),$(ie,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?T_(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=T_(u),o=N_(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}F(ie),$(ie,o)}function Ne(){F(ie),F(fe),F(de)}function ze(o){o.memoizedState!==null&&$(ye,o);var u=ie.current,h=N_(u,o.type);u!==h&&($(fe,o),$(ie,h))}function nt(o){fe.current===o&&(F(ie),F(fe)),ye.current===o&&(F(ye),Ud._currentValue=pe)}var ut,ke;function Ke(o){if(ut===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);ut=u&&u[1]||"",ke=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+o+ke}var Q=!1;function et(o,u){if(!o||Q)return"";Q=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(u){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(Be){var Me=Be}Reflect.construct(o,[],Ye)}else{try{Ye.call()}catch(Be){Me=Be}o.call(Ye.prototype)}}else{try{throw Error()}catch(Be){Me=Be}(Ye=o())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(Be){if(Be&&Me&&typeof Be.stack=="string")return[Be.stack,Me.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=p.DetermineComponentFrameRoot(),M=b[0],K=b[1];if(M&&K){var ge=M.split(`
`),De=K.split(`
`);for(w=p=0;p<ge.length&&!ge[p].includes("DetermineComponentFrameRoot");)p++;for(;w<De.length&&!De[w].includes("DetermineComponentFrameRoot");)w++;if(p===ge.length||w===De.length)for(p=ge.length-1,w=De.length-1;1<=p&&0<=w&&ge[p]!==De[w];)w--;for(;1<=p&&0<=w;p--,w--)if(ge[p]!==De[w]){if(p!==1||w!==1)do if(p--,w--,0>w||ge[p]!==De[w]){var qe=`
`+ge[p].replace(" at new "," at ");return o.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",o.displayName)),qe}while(1<=p&&0<=w);break}}}finally{Q=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Ke(h):""}function wt(o,u){switch(o.tag){case 26:case 27:case 5:return Ke(o.type);case 16:return Ke("Lazy");case 13:return o.child!==u&&u!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return et(o.type,!1);case 11:return et(o.type.render,!1);case 1:return et(o.type,!0);case 31:return Ke("Activity");default:return""}}function ct(o){try{var u="",h=null;do u+=wt(o,h),h=o,o=o.return;while(o);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Fe=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,$e=n.unstable_cancelCallback,ot=n.unstable_shouldYield,ft=n.unstable_requestPaint,Vt=n.unstable_now,Qt=n.unstable_getCurrentPriorityLevel,Bt=n.unstable_ImmediatePriority,sn=n.unstable_UserBlockingPriority,Nt=n.unstable_NormalPriority,ht=n.unstable_LowPriority,Yt=n.unstable_IdlePriority,gt=n.log,tr=n.unstable_setDisableYieldValue,tn=null,Pt=null;function Kt(o){if(typeof gt=="function"&&tr(o),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(tn,o)}catch{}}var on=Math.clz32?Math.clz32:zt,Rt=Math.log,jn=Math.LN2;function zt(o){return o>>>=0,o===0?32:31-(Rt(o)/jn|0)|0}var Ht=256,Hn=262144,It=4194304;function Ct(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function pn(o,u,h){var p=o.pendingLanes;if(p===0)return 0;var w=0,b=o.suspendedLanes,M=o.pingedLanes;o=o.warmLanes;var K=p&134217727;return K!==0?(p=K&~b,p!==0?w=Ct(p):(M&=K,M!==0?w=Ct(M):h||(h=K&~o,h!==0&&(w=Ct(h))))):(K=p&~b,K!==0?w=Ct(K):M!==0?w=Ct(M):h||(h=p&~o,h!==0&&(w=Ct(h)))),w===0?0:u!==0&&u!==w&&(u&b)===0&&(b=w&-w,h=u&-u,b>=h||b===32&&(h&4194048)!==0)?u:w}function Bi(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Ci(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ao(){var o=It;return It<<=1,(It&62914560)===0&&(It=4194304),o}function vi(o){for(var u=[],h=0;31>h;h++)u.push(o);return u}function Ot(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Zo(o,u,h,p,w,b){var M=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var K=o.entanglements,ge=o.expirationTimes,De=o.hiddenUpdates;for(h=M&~h;0<h;){var qe=31-on(h),Ye=1<<qe;K[qe]=0,ge[qe]=-1;var Me=De[qe];if(Me!==null)for(De[qe]=null,qe=0;qe<Me.length;qe++){var Be=Me[qe];Be!==null&&(Be.lane&=-536870913)}h&=~Ye}p!==0&&Ea(o,p,0),b!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=b&~(M&~u))}function Ea(o,u,h){o.pendingLanes|=u,o.suspendedLanes&=~u;var p=31-on(u);o.entangledLanes|=u,o.entanglements[p]=o.entanglements[p]|1073741824|h&261930}function aa(o,u){var h=o.entangledLanes|=u;for(o=o.entanglements;h;){var p=31-on(h),w=1<<p;w&u|o[p]&u&&(o[p]|=u),h&=~w}}function oa(o,u){var h=u&-u;return h=(h&42)!==0?1:nr(h),(h&(o.suspendedLanes|u))!==0?0:h}function nr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function gr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function oi(){var o=he.p;return o!==0?o:(o=window.event,o===void 0?32:Z_(o.type))}function Fi(o,u){var h=he.p;try{return he.p=o,u()}finally{he.p=h}}var Ti=Math.random().toString(36).slice(2),qn="__reactFiber$"+Ti,sr="__reactProps$"+Ti,si="__reactContainer$"+Ti,sa="__reactEvents$"+Ti,Ga="__reactListeners$"+Ti,ps="__reactHandles$"+Ti,uo="__reactResources$"+Ti,la="__reactMarker$"+Ti;function Qo(o){delete o[qn],delete o[sr],delete o[sa],delete o[Ga],delete o[ps]}function Sa(o){var u=o[qn];if(u)return u;for(var h=o.parentNode;h;){if(u=h[si]||h[qn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(o=M_(o);o!==null;){if(h=o[qn])return h;o=M_(o)}return u}o=h,h=o.parentNode}return null}function ji(o){if(o=o[qn]||o[si]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function Ca(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Wa(o){var u=o[uo];return u||(u=o[uo]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Lr(o){o[la]=!0}var vl=new Set,ua={};function Xa(o,u){co(o,u),co(o+"Capture",u)}function co(o,u){for(ua[o]=u,o=0;o<u.length;o++)vl.add(u[o])}var js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},yl={};function eu(o){return Fe.call(yl,o)?!0:Fe.call(ml,o)?!1:js.test(o)?yl[o]=!0:(ml[o]=!0,!1)}function Ta(o,u,h){if(eu(u))if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var p=u.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+h)}}function Ni(o,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+h)}}function qr(o,u,h,p){if(p===null)o.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(u,h,""+p)}}function yn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Jo(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ya(o,u,h){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,b=p.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return w.call(this)},set:function(M){h=""+M,b.call(this,M)}}),Object.defineProperty(o,u,{enumerable:p.enumerable}),{getValue:function(){return h},setValue:function(M){h=""+M},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Cn(o){if(!o._valueTracker){var u=Jo(o)?"checked":"value";o._valueTracker=Ya(o,u,""+o[u])}}function gs(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var h=u.getValue(),p="";return o&&(p=Jo(o)?o.checked?"true":"false":o.value),o=p,o!==h?(u.setValue(o),!0):!1}function Zr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Er=/[\n"\\]/g;function Gr(o){return o.replace(Er,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Us(o,u,h,p,w,b,M,K){o.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.type=M:o.removeAttribute("type"),u!=null?M==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+yn(u)):o.value!==""+yn(u)&&(o.value=""+yn(u)):M!=="submit"&&M!=="reset"||o.removeAttribute("value"),u!=null?tu(o,M,yn(u)):h!=null?tu(o,M,yn(h)):p!=null&&o.removeAttribute("value"),w==null&&b!=null&&(o.defaultChecked=!!b),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.name=""+yn(K):o.removeAttribute("name")}function Uu(o,u,h,p,w,b,M,K){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.type=b),u!=null||h!=null){if(!(b!=="submit"&&b!=="reset"||u!=null)){Cn(o);return}h=h!=null?""+yn(h):"",u=u!=null?""+yn(u):h,K||u===o.value||(o.value=u),o.defaultValue=u}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=K?o.checked:!!p,o.defaultChecked=!!p,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.name=M),Cn(o)}function tu(o,u,h){u==="number"&&Zr(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Ui(o,u,h,p){if(o=o.options,u){u={};for(var w=0;w<h.length;w++)u["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=u.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&p&&(o[h].defaultSelected=!0)}else{for(h=""+yn(h),u=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,p&&(o[w].defaultSelected=!0);return}u!==null||o[w].disabled||(u=o[w])}u!==null&&(u.selected=!0)}}function nu(o,u,h){if(u!=null&&(u=""+yn(u),u!==o.value&&(o.value=u),h==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=h!=null?""+yn(h):""}function es(o,u,h,p){if(u==null){if(p!=null){if(h!=null)throw Error(r(92));if(xe(p)){if(1<p.length)throw Error(r(93));p=p[0]}h=p}h==null&&(h=""),u=h}h=yn(u),o.defaultValue=h,p=o.textContent,p===h&&p!==""&&p!==null&&(o.value=p),Cn(o)}function mi(o,u){if(u){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=u;return}}o.textContent=u}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(o,u,h){var p=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":p?o.setProperty(u,h):typeof h!="number"||h===0||vs.has(u)?u==="float"?o.cssFloat=h:o[u]=(""+h).trim():o[u]=h+"px"}function iu(o,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||u!=null&&u.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var w in u)p=u[w],u.hasOwnProperty(w)&&h[w]!==p&&ru(o,w,p)}else for(var b in u)u.hasOwnProperty(b)&&ru(o,b,u[b])}function _l(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(o){return ts.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function fo(){}var ns=null;function fa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ms=null,Mt=null;function Vs(o){var u=ji(o);if(u&&(o=u.stateNode)){var h=o[sr]||null;e:switch(o=u.stateNode,u.type){case"input":if(Us(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Gr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var p=h[u];if(p!==o&&p.form===o.form){var w=p[sr]||null;if(!w)throw Error(r(90));Us(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<h.length;u++)p=h[u],p.form===o.form&&gs(p)}break e;case"textarea":nu(o,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Ui(o,!!h.multiple,u,!1)}}}var xl=!1;function ys(o,u,h){if(xl)return o(u,h);xl=!0;try{var p=o(u);return p}finally{if(xl=!1,(ms!==null||Mt!==null)&&(s0(),ms&&(u=ms,o=Mt,Mt=ms=null,Vs(u),o)))for(u=0;u<o.length;u++)Vs(o[u])}}function yi(o,u){var h=o.stateNode;if(h===null)return null;var p=h[sr]||null;if(p===null)return null;h=p[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(li)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{zs=!1}var Na=null,Hs=null,ho=null;function au(){if(ho)return ho;var o,u=Hs,h=u.length,p,w="value"in Na?Na.value:Na.textContent,b=w.length;for(o=0;o<h&&u[o]===w[o];o++);var M=h-o;for(p=1;p<=M&&u[h-p]===w[b-p];p++);return ho=w.slice(o,1<p?1-p:void 0)}function Ia(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function rs(){return!0}function Ra(){return!1}function Qr(o){function u(h,p,w,b,M){this._reactName=h,this._targetInst=w,this.type=p,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(h=o[K],this[K]=h?h(b):b[K]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?rs:Ra,this.isPropagationStopped=Ra,this}return g(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),u}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Qr(Eo),So=g({},Eo,{view:0,detail:0}),_s=Qr(So),Co,To,Ka,qs=g({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ft,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ka&&(Ka&&o.type==="mousemove"?(Co=o.screenX-Ka.screenX,To=o.screenY-Ka.screenY):To=Co=0,Ka=o),Co)},movementY:function(o){return"movementY"in o?o.movementY:To}}),bl=Qr(qs),Oa=g({},qs,{dataTransfer:0}),No=Qr(Oa),ou=g({},So,{relatedTarget:0}),po=Qr(ou),Al=g({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),E=Qr(Al),G=g({},Eo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),se=Qr(G),ve=g({},Eo,{data:0}),be=Qr(ve),He={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xt(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=vt[o])?!!u[o]:!1}function Ft(){return xt}var Dt=g({},So,{key:function(o){if(o.key){var u=He[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Ia(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Qe[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ft,charCode:function(o){return o.type==="keypress"?Ia(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ia(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),wn=Qr(Dt),vr=g({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Qr(vr),y=g({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ft}),T=Qr(y),B=g({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=Qr(B),Ee=g({},qs,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=Qr(Ee),at=g({},Eo,{newState:0,oldState:0}),en=Qr(at),mr=[9,13,27,32],vn=li&&"CompositionEvent"in window,Wn=null;li&&"documentMode"in document&&(Wn=document.documentMode);var Ri=li&&"TextEvent"in window&&!Wn,Vi=li&&(!vn||Wn&&8<Wn&&11>=Wn),lr=" ",zi=!1;function go(o,u){switch(o){case"keyup":return mr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ws(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var xs=!1;function Da(o,u){switch(o){case"compositionend":return ws(u);case"keypress":return u.which!==32?null:(zi=!0,lr);case"textInput":return o=u.data,o===lr&&zi?null:o;default:return null}}function Gs(o,u){if(xs)return o==="compositionend"||!vn&&go(o,u)?(o=au(),ho=Hs=Na=null,xs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Vi&&u.locale!=="ko"?null:u.data;default:return null}}var Vu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Vu[o.type]:u==="textarea"}function vo(o,u,h,p){ms?Mt?Mt.push(p):Mt=[p]:ms=p,u=p0(u,"onChange"),0<u.length&&(h=new Ii("onChange","change",null,h,p),o.push({event:h,listeners:u}))}var is=null,Ws=null;function Kc(o){x_(o,0)}function as(o){var u=Ca(o);if(gs(u))return o}function El(o,u){if(o==="change")return u}var $a=!1;if(li){var La;if(li){var bs="oninput"in document;if(!bs){var As=document.createElement("div");As.setAttribute("oninput","return;"),bs=typeof As.oninput=="function"}La=bs}else La=!1;$a=La&&(!document.documentMode||9<document.documentMode)}function Xs(){is&&(is.detachEvent("onpropertychange",zu),Ws=is=null)}function zu(o){if(o.propertyName==="value"&&as(Ws)){var u=[];vo(u,Ws,o,fa(o)),ys(Kc,u)}}function Hu(o,u,h){o==="focusin"?(Xs(),is=u,Ws=h,is.attachEvent("onpropertychange",zu)):o==="focusout"&&Xs()}function Jr(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return as(Ws)}function Ff(o,u){if(o==="click")return as(u)}function Es(o,u){if(o==="input"||o==="change")return as(u)}function Ss(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Hi=typeof Object.is=="function"?Object.is:Ss;function Ys(o,u){if(Hi(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var h=Object.keys(o),p=Object.keys(u);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var w=h[p];if(!Fe.call(u,w)||!Hi(o[w],u[w]))return!1}return!0}function qu(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Gu(o,u){var h=qu(o);o=0;for(var p;h;){if(h.nodeType===3){if(p=o+h.textContent.length,o<=u&&p>=u)return{node:h,offset:u-o};o=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=qu(h)}}function Ks(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Ks(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function $s(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Zr(o.document);u instanceof o.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)o=u.contentWindow;else break;u=Zr(o.document)}return u}function Cs(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var su=li&&"documentMode"in document&&11>=document.documentMode,mo=null,Zs=null,ha=null,Io=!1;function Un(o,u,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Io||mo==null||mo!==Zr(p)||(p=mo,"selectionStart"in p&&Cs(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ha&&Ys(ha,p)||(ha=p,p=p0(Zs,"onSelect"),0<p.length&&(u=new Ii("onSelect","select",null,u,h),o.push({event:u,listeners:p}),u.target=mo)))}function Dn(o,u){var h={};return h[o.toLowerCase()]=u.toLowerCase(),h["Webkit"+o]="webkit"+u,h["Moz"+o]="moz"+u,h}var yr={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionrun:Dn("Transition","TransitionRun"),transitionstart:Dn("Transition","TransitionStart"),transitioncancel:Dn("Transition","TransitionCancel"),transitionend:Dn("Transition","TransitionEnd")},ei={},Ts={};li&&(Ts=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function os(o){if(ei[o])return ei[o];if(!yr[o])return o;var u=yr[o],h;for(h in u)if(u.hasOwnProperty(h)&&h in Ts)return ei[o]=u[h];return o}var lu=os("animationend"),$c=os("animationiteration"),ud=os("animationstart"),B1=os("transitionrun"),F1=os("transitionstart"),j1=os("transitioncancel"),cd=os("transitionend"),fd=new Map,uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uu.push("scrollEnd");function Ro(o,u){fd.set(o,u),Xa(u,[o])}var Zc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},yo=[],cu=0,jf=0;function Qc(){for(var o=cu,u=jf=cu=0;u<o;){var h=yo[u];yo[u++]=null;var p=yo[u];yo[u++]=null;var w=yo[u];yo[u++]=null;var b=yo[u];if(yo[u++]=null,p!==null&&w!==null){var M=p.pending;M===null?w.next=w:(w.next=M.next,M.next=w),p.pending=w}b!==0&&ef(h,w,b)}}function Jc(o,u,h,p){yo[cu++]=o,yo[cu++]=u,yo[cu++]=h,yo[cu++]=p,jf|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Uf(o,u,h,p){return Jc(o,u,h,p),da(o)}function Qs(o,u){return Jc(o,null,null,u),da(o)}function ef(o,u,h){o.lanes|=h;var p=o.alternate;p!==null&&(p.lanes|=h);for(var w=!1,b=o.return;b!==null;)b.childLanes|=h,p=b.alternate,p!==null&&(p.childLanes|=h),b.tag===22&&(o=b.stateNode,o===null||o._visibility&1||(w=!0)),o=b,b=b.return;return o.tag===3?(b=o.stateNode,w&&u!==null&&(w=31-on(h),o=b.hiddenUpdates,p=o[w],p===null?o[w]=[u]:p.push(u),u.lane=h|536870912),b):null}function da(o){if(50<Ld)throw Ld=0,sg=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var qi={};function Vf(o,u,h,p){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(o,u,h,p){return new Vf(o,u,h,p)}function zf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Oo(o,u){var h=o.alternate;return h===null?(h=pa(o.tag,u,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=u,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,u=o.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function tf(o,u){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,u=h.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Wu(o,u,h,p,w,b){var M=0;if(p=o,typeof o=="function")zf(o)&&(M=1);else if(typeof o=="string")M=q8(o,h,ie.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=pa(31,h,u,w),o.elementType=P,o.lanes=b,o;case S:return Sl(h.children,w,b,u);case I:M=8,w|=24;break;case N:return o=pa(12,h,u,w|2),o.elementType=N,o.lanes=b,o;case re:return o=pa(13,h,u,w),o.elementType=re,o.lanes=b,o;case ue:return o=pa(19,h,u,w),o.elementType=ue,o.lanes=b,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case q:M=10;break e;case V:M=9;break e;case U:M=11;break e;case z:M=14;break e;case R:M=16,p=null;break e}M=29,h=Error(r(130,o===null?"null":typeof o,"")),p=null}return u=pa(M,h,u,w),u.elementType=o,u.type=p,u.lanes=b,u}function Sl(o,u,h,p){return o=pa(7,o,p,u),o.lanes=h,o}function nf(o,u,h){return o=pa(6,o,null,u),o.lanes=h,o}function Hf(o){var u=pa(18,null,null,0);return u.stateNode=o,u}function Xu(o,u,h){return u=pa(4,o.children!==null?o.children:[],o.key,u),u.lanes=h,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var qf=new WeakMap;function Do(o,u){if(typeof o=="object"&&o!==null){var h=qf.get(o);return h!==void 0?h:(u={value:o,source:u,stack:ct(u)},qf.set(o,u),u)}return{value:o,source:u,stack:ct(u)}}var Yu=[],fu=0,Gf=null,rf=0,Lo=[],Po=0,Cl=null,Mo=1,ko="";function _o(o,u){Yu[fu++]=rf,Yu[fu++]=Gf,Gf=o,rf=u}function U1(o,u,h){Lo[Po++]=Mo,Lo[Po++]=ko,Lo[Po++]=Cl,Cl=o;var p=Mo;o=ko;var w=32-on(p)-1;p&=~(1<<w),h+=1;var b=32-on(u)+w;if(30<b){var M=w-w%5;b=(p&(1<<M)-1).toString(32),p>>=M,w-=M,Mo=1<<32-on(u)+w|h<<w|p,ko=b+o}else Mo=1<<b|h<<w|p,ko=o}function hd(o){o.return!==null&&(_o(o,1),U1(o,1,0))}function Wf(o){for(;o===Gf;)Gf=Yu[--fu],Yu[fu]=null,rf=Yu[--fu],Yu[fu]=null;for(;o===Cl;)Cl=Lo[--Po],Lo[Po]=null,ko=Lo[--Po],Lo[Po]=null,Mo=Lo[--Po],Lo[Po]=null}function V1(o,u){Lo[Po++]=Mo,Lo[Po++]=ko,Lo[Po++]=Cl,Mo=u.id,ko=u.overflow,Cl=o}var Gi=null,Sr=null,An=!1,Pa=null,Wr=!1,ss=Error(r(519));function Tl(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ku(Do(u,o)),ss}function dd(o){var u=o.stateNode,h=o.type,p=o.memoizedProps;switch(u[qn]=o,u[sr]=p,h){case"dialog":Sn("cancel",u),Sn("close",u);break;case"iframe":case"object":case"embed":Sn("load",u);break;case"video":case"audio":for(h=0;h<Md.length;h++)Sn(Md[h],u);break;case"source":Sn("error",u);break;case"img":case"image":case"link":Sn("error",u),Sn("load",u);break;case"details":Sn("toggle",u);break;case"input":Sn("invalid",u),Uu(u,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Sn("invalid",u);break;case"textarea":Sn("invalid",u),es(u,p.value,p.defaultValue,p.children)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||p.suppressHydrationWarning===!0||S_(u.textContent,h)?(p.popover!=null&&(Sn("beforetoggle",u),Sn("toggle",u)),p.onScroll!=null&&Sn("scroll",u),p.onScrollEnd!=null&&Sn("scrollend",u),p.onClick!=null&&(u.onclick=fo),u=!0):u=!1,u||Tl(o,!0)}function Js(o){for(Gi=o.return;Gi;)switch(Gi.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Gi=Gi.return}}function Wi(o){if(o!==Gi)return!1;if(!An)return Js(o),An=!0,!1;var u=o.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||bg(o.type,o.memoizedProps)),h=!h),h&&Sr&&Tl(o),Js(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Sr=P_(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Sr=P_(o)}else u===27?(u=Sr,uc(o.type)?(o=Tg,Tg=null,Sr=o):Sr=u):Sr=Gi?Os(o.stateNode.nextSibling):null;return!0}function hu(){Sr=Gi=null,An=!1}function pd(){var o=Pa;return o!==null&&(zo===null?zo=o:zo.push.apply(zo,o),Pa=null),o}function Ku(o){Pa===null?Pa=[o]:Pa.push(o)}var Xf=Z(null),Nl=null,Ns=null;function Il(o,u,h){$(Xf,u._currentValue),u._currentValue=h}function Bo(o){o._currentValue=Xf.current,F(Xf)}function $u(o,u,h){for(;o!==null;){var p=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,p!==null&&(p.childLanes|=u)):p!==null&&(p.childLanes&u)!==u&&(p.childLanes|=u),o===h)break;o=o.return}}function du(o,u,h,p){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var b=w.dependencies;if(b!==null){var M=w.child;b=b.firstContext;e:for(;b!==null;){var K=b;b=w;for(var ge=0;ge<u.length;ge++)if(K.context===u[ge]){b.lanes|=h,K=b.alternate,K!==null&&(K.lanes|=h),$u(b.return,h,o),p||(M=null);break e}b=K.next}}else if(w.tag===18){if(M=w.return,M===null)throw Error(r(341));M.lanes|=h,b=M.alternate,b!==null&&(b.lanes|=h),$u(M,h,o),M=null}else M=w.child;if(M!==null)M.return=w;else for(M=w;M!==null;){if(M===o){M=null;break}if(w=M.sibling,w!==null){w.return=M.return,M=w;break}M=M.return}w=M}}function Rl(o,u,h,p){o=null;for(var w=u,b=!1;w!==null;){if(!b){if((w.flags&524288)!==0)b=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var M=w.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var K=w.type;Hi(w.pendingProps.value,M.value)||(o!==null?o.push(K):o=[K])}}else if(w===ye.current){if(M=w.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Ud):o=[Ud])}w=w.return}o!==null&&du(u,o,h,p),u.flags|=262144}function Yf(o){for(o=o.firstContext;o!==null;){if(!Hi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ol(o){Nl=o,Ns=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Xi(o){return z1(Nl,o)}function Kf(o,u){return Nl===null&&Ol(o),z1(o,u)}function z1(o,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Ns===null){if(o===null)throw Error(r(308));Ns=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Ns=Ns.next=u;return h}var C2=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(h,p){o.push(p)}};this.abort=function(){u.aborted=!0,o.forEach(function(h){return h()})}},T2=n.unstable_scheduleCallback,N2=n.unstable_NormalPriority,ti={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zu(){return{controller:new C2,data:new Map,refCount:0}}function af(o){o.refCount--,o.refCount===0&&T2(N2,function(){o.controller.abort()})}var of=null,$f=0,m=0,x=null;function C(o,u){if(of===null){var h=of=[];$f=0,m=dg(),x={status:"pending",value:void 0,then:function(p){h.push(p)}}}return $f++,u.then(L,L),u}function L(){if(--$f===0&&of!==null){x!==null&&(x.status="fulfilled");var o=of;of=null,m=0,x=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function W(o,u){var h=[],p={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){p.status="fulfilled",p.value=u;for(var w=0;w<h.length;w++)(0,h[w])(u)},function(w){for(p.status="rejected",p.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),p}var X=te.S;te.S=function(o,u){K5=Vt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&C(o,u),X!==null&&X(o,u)};var Y=Z(null);function J(){var o=Y.current;return o!==null?o:Tr.pooledCache}function ne(o,u){u===null?$(Y,Y.current):$(Y,u.pool)}function le(){var o=J();return o===null?null:{parent:ti._currentValue,pool:o}}var me=Error(r(460)),Ie=Error(r(474)),oe=Error(r(542)),we={then:function(){}};function Se(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ue(o,u,h){switch(h=o[h],h===void 0?o.push(u):h!==u&&(u.then(fo,fo),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,it(o),o;default:if(typeof u.status=="string")u.then(fo,fo);else{if(o=Tr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(p){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=p}},function(p){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=p}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,it(o),o}throw je=u,me}}function Te(o){try{var u=o._init;return u(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(je=h,me):h}}var je=null;function Ge(){if(je===null)throw Error(r(459));var o=je;return je=null,o}function it(o){if(o===me||o===oe)throw Error(r(483))}var Ze=null,bt=0;function dt(o){var u=bt;return bt+=1,Ze===null&&(Ze=[]),Ue(Ze,o,u)}function nn(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function yt(o,u){throw u.$$typeof===_?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function xn(o){function u(Ae,_e){if(o){var Oe=Ae.deletions;Oe===null?(Ae.deletions=[_e],Ae.flags|=16):Oe.push(_e)}}function h(Ae,_e){if(!o)return null;for(;_e!==null;)u(Ae,_e),_e=_e.sibling;return null}function p(Ae){for(var _e=new Map;Ae!==null;)Ae.key!==null?_e.set(Ae.key,Ae):_e.set(Ae.index,Ae),Ae=Ae.sibling;return _e}function w(Ae,_e){return Ae=Oo(Ae,_e),Ae.index=0,Ae.sibling=null,Ae}function b(Ae,_e,Oe){return Ae.index=Oe,o?(Oe=Ae.alternate,Oe!==null?(Oe=Oe.index,Oe<_e?(Ae.flags|=67108866,_e):Oe):(Ae.flags|=67108866,_e)):(Ae.flags|=1048576,_e)}function M(Ae){return o&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function K(Ae,_e,Oe,Xe){return _e===null||_e.tag!==6?(_e=nf(Oe,Ae.mode,Xe),_e.return=Ae,_e):(_e=w(_e,Oe),_e.return=Ae,_e)}function ge(Ae,_e,Oe,Xe){var Ut=Oe.type;return Ut===S?qe(Ae,_e,Oe.props.children,Xe,Oe.key):_e!==null&&(_e.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===R&&Te(Ut)===_e.type)?(_e=w(_e,Oe.props),nn(_e,Oe),_e.return=Ae,_e):(_e=Wu(Oe.type,Oe.key,Oe.props,null,Ae.mode,Xe),nn(_e,Oe),_e.return=Ae,_e)}function De(Ae,_e,Oe,Xe){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Oe.containerInfo||_e.stateNode.implementation!==Oe.implementation?(_e=Xu(Oe,Ae.mode,Xe),_e.return=Ae,_e):(_e=w(_e,Oe.children||[]),_e.return=Ae,_e)}function qe(Ae,_e,Oe,Xe,Ut){return _e===null||_e.tag!==7?(_e=Sl(Oe,Ae.mode,Xe,Ut),_e.return=Ae,_e):(_e=w(_e,Oe),_e.return=Ae,_e)}function Ye(Ae,_e,Oe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=nf(""+_e,Ae.mode,Oe),_e.return=Ae,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case v:return Oe=Wu(_e.type,_e.key,_e.props,null,Ae.mode,Oe),nn(Oe,_e),Oe.return=Ae,Oe;case A:return _e=Xu(_e,Ae.mode,Oe),_e.return=Ae,_e;case R:return _e=Te(_e),Ye(Ae,_e,Oe)}if(xe(_e)||k(_e))return _e=Sl(_e,Ae.mode,Oe,null),_e.return=Ae,_e;if(typeof _e.then=="function")return Ye(Ae,dt(_e),Oe);if(_e.$$typeof===q)return Ye(Ae,Kf(Ae,_e),Oe);yt(Ae,_e)}return null}function Me(Ae,_e,Oe,Xe){var Ut=_e!==null?_e.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Ut!==null?null:K(Ae,_e,""+Oe,Xe);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case v:return Oe.key===Ut?ge(Ae,_e,Oe,Xe):null;case A:return Oe.key===Ut?De(Ae,_e,Oe,Xe):null;case R:return Oe=Te(Oe),Me(Ae,_e,Oe,Xe)}if(xe(Oe)||k(Oe))return Ut!==null?null:qe(Ae,_e,Oe,Xe,null);if(typeof Oe.then=="function")return Me(Ae,_e,dt(Oe),Xe);if(Oe.$$typeof===q)return Me(Ae,_e,Kf(Ae,Oe),Xe);yt(Ae,Oe)}return null}function Be(Ae,_e,Oe,Xe,Ut){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Ae=Ae.get(Oe)||null,K(_e,Ae,""+Xe,Ut);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case v:return Ae=Ae.get(Xe.key===null?Oe:Xe.key)||null,ge(_e,Ae,Xe,Ut);case A:return Ae=Ae.get(Xe.key===null?Oe:Xe.key)||null,De(_e,Ae,Xe,Ut);case R:return Xe=Te(Xe),Be(Ae,_e,Oe,Xe,Ut)}if(xe(Xe)||k(Xe))return Ae=Ae.get(Oe)||null,qe(_e,Ae,Xe,Ut,null);if(typeof Xe.then=="function")return Be(Ae,_e,Oe,dt(Xe),Ut);if(Xe.$$typeof===q)return Be(Ae,_e,Oe,Kf(_e,Xe),Ut);yt(_e,Xe)}return null}function _t(Ae,_e,Oe,Xe){for(var Ut=null,Xn=null,Tt=_e,gn=_e=0,Nn=null;Tt!==null&&gn<Oe.length;gn++){Tt.index>gn?(Nn=Tt,Tt=null):Nn=Tt.sibling;var Yn=Me(Ae,Tt,Oe[gn],Xe);if(Yn===null){Tt===null&&(Tt=Nn);break}o&&Tt&&Yn.alternate===null&&u(Ae,Tt),_e=b(Yn,_e,gn),Xn===null?Ut=Yn:Xn.sibling=Yn,Xn=Yn,Tt=Nn}if(gn===Oe.length)return h(Ae,Tt),An&&_o(Ae,gn),Ut;if(Tt===null){for(;gn<Oe.length;gn++)Tt=Ye(Ae,Oe[gn],Xe),Tt!==null&&(_e=b(Tt,_e,gn),Xn===null?Ut=Tt:Xn.sibling=Tt,Xn=Tt);return An&&_o(Ae,gn),Ut}for(Tt=p(Tt);gn<Oe.length;gn++)Nn=Be(Tt,Ae,gn,Oe[gn],Xe),Nn!==null&&(o&&Nn.alternate!==null&&Tt.delete(Nn.key===null?gn:Nn.key),_e=b(Nn,_e,gn),Xn===null?Ut=Nn:Xn.sibling=Nn,Xn=Nn);return o&&Tt.forEach(function(pc){return u(Ae,pc)}),An&&_o(Ae,gn),Ut}function Zt(Ae,_e,Oe,Xe){if(Oe==null)throw Error(r(151));for(var Ut=null,Xn=null,Tt=_e,gn=_e=0,Nn=null,Yn=Oe.next();Tt!==null&&!Yn.done;gn++,Yn=Oe.next()){Tt.index>gn?(Nn=Tt,Tt=null):Nn=Tt.sibling;var pc=Me(Ae,Tt,Yn.value,Xe);if(pc===null){Tt===null&&(Tt=Nn);break}o&&Tt&&pc.alternate===null&&u(Ae,Tt),_e=b(pc,_e,gn),Xn===null?Ut=pc:Xn.sibling=pc,Xn=pc,Tt=Nn}if(Yn.done)return h(Ae,Tt),An&&_o(Ae,gn),Ut;if(Tt===null){for(;!Yn.done;gn++,Yn=Oe.next())Yn=Ye(Ae,Yn.value,Xe),Yn!==null&&(_e=b(Yn,_e,gn),Xn===null?Ut=Yn:Xn.sibling=Yn,Xn=Yn);return An&&_o(Ae,gn),Ut}for(Tt=p(Tt);!Yn.done;gn++,Yn=Oe.next())Yn=Be(Tt,Ae,gn,Yn.value,Xe),Yn!==null&&(o&&Yn.alternate!==null&&Tt.delete(Yn.key===null?gn:Yn.key),_e=b(Yn,_e,gn),Xn===null?Ut=Yn:Xn.sibling=Yn,Xn=Yn);return o&&Tt.forEach(function(tS){return u(Ae,tS)}),An&&_o(Ae,gn),Ut}function br(Ae,_e,Oe,Xe){if(typeof Oe=="object"&&Oe!==null&&Oe.type===S&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case v:e:{for(var Ut=Oe.key;_e!==null;){if(_e.key===Ut){if(Ut=Oe.type,Ut===S){if(_e.tag===7){h(Ae,_e.sibling),Xe=w(_e,Oe.props.children),Xe.return=Ae,Ae=Xe;break e}}else if(_e.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===R&&Te(Ut)===_e.type){h(Ae,_e.sibling),Xe=w(_e,Oe.props),nn(Xe,Oe),Xe.return=Ae,Ae=Xe;break e}h(Ae,_e);break}else u(Ae,_e);_e=_e.sibling}Oe.type===S?(Xe=Sl(Oe.props.children,Ae.mode,Xe,Oe.key),Xe.return=Ae,Ae=Xe):(Xe=Wu(Oe.type,Oe.key,Oe.props,null,Ae.mode,Xe),nn(Xe,Oe),Xe.return=Ae,Ae=Xe)}return M(Ae);case A:e:{for(Ut=Oe.key;_e!==null;){if(_e.key===Ut)if(_e.tag===4&&_e.stateNode.containerInfo===Oe.containerInfo&&_e.stateNode.implementation===Oe.implementation){h(Ae,_e.sibling),Xe=w(_e,Oe.children||[]),Xe.return=Ae,Ae=Xe;break e}else{h(Ae,_e);break}else u(Ae,_e);_e=_e.sibling}Xe=Xu(Oe,Ae.mode,Xe),Xe.return=Ae,Ae=Xe}return M(Ae);case R:return Oe=Te(Oe),br(Ae,_e,Oe,Xe)}if(xe(Oe))return _t(Ae,_e,Oe,Xe);if(k(Oe)){if(Ut=k(Oe),typeof Ut!="function")throw Error(r(150));return Oe=Ut.call(Oe),Zt(Ae,_e,Oe,Xe)}if(typeof Oe.then=="function")return br(Ae,_e,dt(Oe),Xe);if(Oe.$$typeof===q)return br(Ae,_e,Kf(Ae,Oe),Xe);yt(Ae,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,_e!==null&&_e.tag===6?(h(Ae,_e.sibling),Xe=w(_e,Oe),Xe.return=Ae,Ae=Xe):(h(Ae,_e),Xe=nf(Oe,Ae.mode,Xe),Xe.return=Ae,Ae=Xe),M(Ae)):h(Ae,_e)}return function(Ae,_e,Oe,Xe){try{bt=0;var Ut=br(Ae,_e,Oe,Xe);return Ze=null,Ut}catch(Tt){if(Tt===me||Tt===oe)throw Tt;var Xn=pa(29,Tt,null,Ae.mode);return Xn.lanes=Xe,Xn.return=Ae,Xn}}}var Cr=xn(!0),un=xn(!1),pt=!1;function lt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pr(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function $t(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function dn(o,u,h){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Qn&2)!==0){var w=p.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),p.pending=u,u=da(o),ef(o,null,h),u}return Jc(o,p,u,h),da(o)}function $n(o,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var p=u.lanes;p&=o.pendingLanes,h|=p,u.lanes=h,aa(o,h)}}function _i(o,u){var h=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var w=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var M={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};b===null?w=b=M:b=b.next=M,h=h.next}while(h!==null);b===null?w=b=u:b=b.next=u}else w=b=u;h={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:b,shared:p.shared,callbacks:p.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=u}var Yi=!1;function _r(){if(Yi){var o=x;if(o!==null)throw o}}function ui(o,u,h,p){Yi=!1;var w=o.updateQueue;pt=!1;var b=w.firstBaseUpdate,M=w.lastBaseUpdate,K=w.shared.pending;if(K!==null){w.shared.pending=null;var ge=K,De=ge.next;ge.next=null,M===null?b=De:M.next=De,M=ge;var qe=o.alternate;qe!==null&&(qe=qe.updateQueue,K=qe.lastBaseUpdate,K!==M&&(K===null?qe.firstBaseUpdate=De:K.next=De,qe.lastBaseUpdate=ge))}if(b!==null){var Ye=w.baseState;M=0,qe=De=ge=null,K=b;do{var Me=K.lane&-536870913,Be=Me!==K.lane;if(Be?(Tn&Me)===Me:(p&Me)===Me){Me!==0&&Me===m&&(Yi=!0),qe!==null&&(qe=qe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var _t=o,Zt=K;Me=u;var br=h;switch(Zt.tag){case 1:if(_t=Zt.payload,typeof _t=="function"){Ye=_t.call(br,Ye,Me);break e}Ye=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Zt.payload,Me=typeof _t=="function"?_t.call(br,Ye,Me):_t,Me==null)break e;Ye=g({},Ye,Me);break e;case 2:pt=!0}}Me=K.callback,Me!==null&&(o.flags|=64,Be&&(o.flags|=8192),Be=w.callbacks,Be===null?w.callbacks=[Me]:Be.push(Me))}else Be={lane:Me,tag:K.tag,payload:K.payload,callback:K.callback,next:null},qe===null?(De=qe=Be,ge=Ye):qe=qe.next=Be,M|=Me;if(K=K.next,K===null){if(K=w.shared.pending,K===null)break;Be=K,K=Be.next,Be.next=null,w.lastBaseUpdate=Be,w.shared.pending=null}}while(!0);qe===null&&(ge=Ye),w.baseState=ge,w.firstBaseUpdate=De,w.lastBaseUpdate=qe,b===null&&(w.shared.lanes=0),ic|=M,o.lanes=M,o.memoizedState=Ye}}function ga(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function ci(o,u){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)ga(h[o],u)}var mn=Z(null),Pn=Z(0);function Mr(o,u){o=Au,$(Pn,o),$(mn,u),Au=o|u.baseLanes}function Vn(){$(Pn,Au),$(mn,mn.current)}function wi(){Au=Pn.current,F(mn),F(Pn)}var kr=Z(null),Mn=null;function ni(o){var u=o.alternate;$(Ln,Ln.current&1),$(kr,o),Mn===null&&(u===null||mn.current!==null||u.memoizedState!==null)&&(Mn=o)}function Zn(o){$(Ln,Ln.current),$(kr,o),Mn===null&&(Mn=o)}function fi(o){o.tag===22?($(Ln,Ln.current),$(kr,o),Mn===null&&(Mn=o)):hi()}function hi(){$(Ln,Ln.current),$(kr,kr.current)}function ur(o){F(kr),Mn===o&&(Mn=null),F(Ln)}var Ln=Z(0);function va(o){for(var u=o;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Sg(h)||Cg(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Xr=0,kt=null,jt=null,kn=null,Za=!1,Fo=!1,Ma=!1,di=0,Dl=0,Ll=null,Zf=0;function wr(){throw Error(r(321))}function gd(o,u){if(u===null)return!1;for(var h=0;h<u.length&&h<o.length;h++)if(!Hi(o[h],u[h]))return!1;return!0}function vd(o,u,h,p,w,b){return Xr=b,kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,te.H=o===null||o.memoizedState===null?o5:k2,Ma=!1,b=h(p,w),Ma=!1,Fo&&(b=el(u,h,p,w)),Qf(o),b}function Qf(o){te.H=Ed;var u=jt!==null&&jt.next!==null;if(Xr=0,kn=jt=kt=null,Za=!1,Dl=0,Ll=null,u)throw Error(r(300));o===null||Di||(o=o.dependencies,o!==null&&Yf(o)&&(Di=!0))}function el(o,u,h,p){kt=o;var w=0;do{if(Fo&&(Ll=null),Dl=0,Fo=!1,25<=w)throw Error(r(301));if(w+=1,kn=jt=null,o.updateQueue!=null){var b=o.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}te.H=s5,b=u(h,p)}while(Fo);return b}function I2(){var o=te.H,u=o.useState()[0];return u=typeof u.then=="function"?Pl(u):u,o=o.useState()[0],(jt!==null?jt.memoizedState:null)!==o&&(kt.flags|=1024),u}function md(){var o=di!==0;return di=0,o}function yd(o,u,h){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~h}function Jf(o){if(Za){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Za=!1}Xr=0,kn=jt=kt=null,Fo=!1,Dl=di=0,Ll=null}function Oi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?kt.memoizedState=kn=o:kn=kn.next=o,kn}function Yr(){if(jt===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=jt.next;var u=kn===null?kt.memoizedState:kn.next;if(u!==null)kn=u,jt=o;else{if(o===null)throw kt.alternate===null?Error(r(467)):Error(r(310));jt=o,o={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},kn===null?kt.memoizedState=kn=o:kn=kn.next=o}return kn}function sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(o){var u=Dl;return Dl+=1,Ll===null&&(Ll=[]),o=Ue(Ll,o,u),u=kt,(kn===null?u.memoizedState:kn.next)===null&&(u=u.alternate,te.H=u===null||u.memoizedState===null?o5:k2),o}function Qu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Pl(o);if(o.$$typeof===q)return Xi(o)}throw Error(r(438,String(o)))}function pu(o){var u=null,h=kt.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var p=kt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(u={data:p.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=sf(),kt.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(o),p=0;p<o;p++)h[p]=H;return u.index++,h}function Is(o,u){return typeof u=="function"?u(o):u}function eh(o){var u=Yr();return Ju(u,jt,o)}function Ju(o,u,h){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=h;var w=o.baseQueue,b=p.pending;if(b!==null){if(w!==null){var M=w.next;w.next=b.next,b.next=M}u.baseQueue=w=b,p.pending=null}if(b=o.baseState,w===null)o.memoizedState=b;else{u=w.next;var K=M=null,ge=null,De=u,qe=!1;do{var Ye=De.lane&-536870913;if(Ye!==De.lane?(Tn&Ye)===Ye:(Xr&Ye)===Ye){var Me=De.revertLane;if(Me===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Ye===m&&(qe=!0);else if((Xr&Me)===Me){De=De.next,Me===m&&(qe=!0);continue}else Ye={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ge===null?(K=ge=Ye,M=b):ge=ge.next=Ye,kt.lanes|=Me,ic|=Me;Ye=De.action,Ma&&h(b,Ye),b=De.hasEagerState?De.eagerState:h(b,Ye)}else Me={lane:Ye,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ge===null?(K=ge=Me,M=b):ge=ge.next=Me,kt.lanes|=Ye,ic|=Ye;De=De.next}while(De!==null&&De!==u);if(ge===null?M=b:ge.next=K,!Hi(b,o.memoizedState)&&(Di=!0,qe&&(h=x,h!==null)))throw h;o.memoizedState=b,o.baseState=M,o.baseQueue=ge,p.lastRenderedState=b}return w===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function th(o){var u=Yr(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var p=h.dispatch,w=h.pending,b=u.memoizedState;if(w!==null){h.pending=null;var M=w=w.next;do b=o(b,M.action),M=M.next;while(M!==w);Hi(b,u.memoizedState)||(Di=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),h.lastRenderedState=b}return[b,p]}function nh(o,u,h){var p=kt,w=Yr(),b=An;if(b){if(h===void 0)throw Error(r(407));h=h()}else h=u();var M=!Hi((jt||w).memoizedState,h);if(M&&(w.memoizedState=h,Di=!0),w=w.queue,R2(wd.bind(null,p,w,o),[o]),w.getSnapshot!==u||M||kn!==null&&kn.memoizedState.tag&1){if(p.flags|=2048,vu(9,{destroy:void 0},_d.bind(null,p,w,h,u),null),Tr===null)throw Error(r(349));b||(Xr&127)!==0||tl(p,u,h)}return h}function tl(o,u,h){o.flags|=16384,o={getSnapshot:u,value:h},u=kt.updateQueue,u===null?(u=sf(),kt.updateQueue=u,u.stores=[o]):(h=u.stores,h===null?u.stores=[o]:h.push(o))}function _d(o,u,h,p){u.value=h,u.getSnapshot=p,H1(u)&&xd(o)}function wd(o,u,h){return h(function(){H1(u)&&xd(o)})}function H1(o){var u=o.getSnapshot;o=o.value;try{var h=u();return!Hi(o,h)}catch{return!0}}function xd(o){var u=Qs(o,2);u!==null&&Ho(u,o,2)}function Ml(o){var u=Oi();if(typeof o=="function"){var h=o;if(o=h(),Ma){Kt(!0);try{h()}finally{Kt(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:o},u}function q1(o,u,h,p){return o.baseState=h,Ju(o,jt,typeof p=="function"?p:Is)}function G1(o,u,h,p,w){if(K1(o))throw Error(r(485));if(o=u.action,o!==null){var b={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};te.T!==null?h(!0):b.isTransition=!1,p(b),h=u.pending,h===null?(b.next=u.pending=b,W1(u,b)):(b.next=h.next,u.pending=h.next=b)}}function W1(o,u){var h=u.action,p=u.payload,w=o.state;if(u.isTransition){var b=te.T,M={};te.T=M;try{var K=h(w,p),ge=te.S;ge!==null&&ge(M,K),bd(o,u,K)}catch(De){gu(o,u,De)}finally{b!==null&&M.types!==null&&(b.types=M.types),te.T=b}}else try{b=h(w,p),bd(o,u,b)}catch(De){gu(o,u,De)}}function bd(o,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){X1(o,u,p)},function(p){return gu(o,u,p)}):X1(o,u,h)}function X1(o,u,h){u.status="fulfilled",u.value=h,rh(u),o.state=h,u=o.pending,u!==null&&(h=u.next,h===u?o.pending=null:(h=h.next,u.next=h,W1(o,h)))}function gu(o,u,h){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do u.status="rejected",u.reason=h,rh(u),u=u.next;while(u!==p)}o.action=null}function rh(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function lf(o,u){return u}function Rs(o,u){if(An){var h=Tr.formState;if(h!==null){e:{var p=kt;if(An){if(Sr){t:{for(var w=Sr,b=Wr;w.nodeType!==8;){if(!b){w=null;break t}if(w=Os(w.nextSibling),w===null){w=null;break t}}b=w.data,w=b==="F!"||b==="F"?w:null}if(w){Sr=Os(w.nextSibling),p=w.data==="F!";break e}}Tl(p)}p=!1}p&&(u=h[0])}}return h=Oi(),h.memoizedState=h.baseState=u,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lf,lastRenderedState:u},h.queue=p,h=r5.bind(null,kt,p),p.dispatch=h,p=Ml(!1),b=M2.bind(null,kt,!1,p.queue),p=Oi(),w={state:u,dispatch:null,action:o,pending:null},p.queue=w,h=G1.bind(null,kt,w,b,h),w.dispatch=h,p.memoizedState=o,[u,h,!1]}function nl(o){var u=Yr();return rl(u,jt,o)}function rl(o,u,h){if(u=Ju(o,u,lf)[0],o=eh(Is)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var p=Pl(u)}catch(M){throw M===me?oe:M}else p=u;u=Yr();var w=u.queue,b=w.dispatch;return h!==u.memoizedState&&(kt.flags|=2048,vu(9,{destroy:void 0},ih.bind(null,w,h),null)),[p,b,o]}function ih(o,u){o.action=u}function ah(o){var u=Yr(),h=jt;if(h!==null)return rl(u,h,o);Yr(),u=u.memoizedState,h=Yr();var p=h.queue.dispatch;return h.memoizedState=o,[u,p,!1]}function vu(o,u,h,p){return o={tag:o,create:h,deps:p,inst:u,next:null},u=kt.updateQueue,u===null&&(u=sf(),kt.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=o.next=o:(p=h.next,h.next=o,o.next=p,u.lastEffect=o),o}function Y1(){return Yr().memoizedState}function ec(o,u,h,p){var w=Oi();kt.flags|=o,w.memoizedState=vu(1|u,{destroy:void 0},h,p===void 0?null:p)}function tc(o,u,h,p){var w=Yr();p=p===void 0?null:p;var b=w.memoizedState.inst;jt!==null&&p!==null&&gd(p,jt.memoizedState.deps)?w.memoizedState=vu(u,b,h,p):(kt.flags|=o,w.memoizedState=vu(1|u,b,h,p))}function Hy(o,u){ec(8390656,8,o,u)}function R2(o,u){tc(2048,8,o,u)}function KE(o){kt.flags|=4;var u=kt.updateQueue;if(u===null)u=sf(),kt.updateQueue=u,u.events=[o];else{var h=u.events;h===null?u.events=[o]:h.push(o)}}function qy(o){var u=Yr().memoizedState;return KE({ref:u,nextImpl:o}),function(){if((Qn&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function Gy(o,u){return tc(4,2,o,u)}function Wy(o,u){return tc(4,4,o,u)}function Xy(o,u){if(typeof u=="function"){o=o();var h=u(o);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Yy(o,u,h){h=h!=null?h.concat([o]):null,tc(4,4,Xy.bind(null,u,o),h)}function O2(){}function Ky(o,u){var h=Yr();u=u===void 0?null:u;var p=h.memoizedState;return u!==null&&gd(u,p[1])?p[0]:(h.memoizedState=[o,u],o)}function $y(o,u){var h=Yr();u=u===void 0?null:u;var p=h.memoizedState;if(u!==null&&gd(u,p[1]))return p[0];if(p=o(),Ma){Kt(!0);try{o()}finally{Kt(!1)}}return h.memoizedState=[p,u],p}function D2(o,u,h){return h===void 0||(Xr&1073741824)!==0&&(Tn&261930)===0?o.memoizedState=u:(o.memoizedState=h,o=Z5(),kt.lanes|=o,ic|=o,h)}function Zy(o,u,h,p){return Hi(h,u)?h:mn.current!==null?(o=D2(o,h,p),Hi(o,u)||(Di=!0),o):(Xr&42)===0||(Xr&1073741824)!==0&&(Tn&261930)===0?(Di=!0,o.memoizedState=h):(o=Z5(),kt.lanes|=o,ic|=o,u)}function Qy(o,u,h,p,w){var b=he.p;he.p=b!==0&&8>b?b:8;var M=te.T,K={};te.T=K,M2(o,!1,u,h);try{var ge=w(),De=te.S;if(De!==null&&De(K,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var qe=W(ge,p);Ad(o,u,qe,cs(o))}else Ad(o,u,p,cs(o))}catch(Ye){Ad(o,u,{then:function(){},status:"rejected",reason:Ye},cs())}finally{he.p=b,M!==null&&K.types!==null&&(M.types=K.types),te.T=M}}function $E(){}function L2(o,u,h,p){if(o.tag!==5)throw Error(r(476));var w=Jy(o).queue;Qy(o,w,u,pe,h===null?$E:function(){return e5(o),h(p)})}function Jy(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:pe},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:h},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function e5(o){var u=Jy(o);u.next===null&&(u=o.alternate.memoizedState),Ad(o,u.next.queue,{},cs())}function P2(){return Xi(Ud)}function t5(){return Yr().memoizedState}function n5(){return Yr().memoizedState}function ZE(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var h=cs();o=$t(h);var p=dn(u,o,h);p!==null&&(Ho(p,u,h),$n(p,u,h)),u={cache:Zu()},o.payload=u;return}u=u.return}}function QE(o,u,h){var p=cs();h={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},K1(o)?i5(u,h):(h=Uf(o,u,h,p),h!==null&&(Ho(h,o,p),a5(h,u,p)))}function r5(o,u,h){var p=cs();Ad(o,u,h,p)}function Ad(o,u,h,p){var w={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(K1(o))i5(u,w);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer,b!==null))try{var M=u.lastRenderedState,K=b(M,h);if(w.hasEagerState=!0,w.eagerState=K,Hi(K,M))return Jc(o,u,w,0),Tr===null&&Qc(),!1}catch{}if(h=Uf(o,u,w,p),h!==null)return Ho(h,o,p),a5(h,u,p),!0}return!1}function M2(o,u,h,p){if(p={lane:2,revertLane:dg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},K1(o)){if(u)throw Error(r(479))}else u=Uf(o,h,p,2),u!==null&&Ho(u,o,2)}function K1(o){var u=o.alternate;return o===kt||u!==null&&u===kt}function i5(o,u){Fo=Za=!0;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}function a5(o,u,h){if((h&4194048)!==0){var p=u.lanes;p&=o.pendingLanes,h|=p,u.lanes=h,aa(o,h)}}var Ed={readContext:Xi,use:Qu,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useLayoutEffect:wr,useInsertionEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useSyncExternalStore:wr,useId:wr,useHostTransitionStatus:wr,useFormState:wr,useActionState:wr,useOptimistic:wr,useMemoCache:wr,useCacheRefresh:wr};Ed.useEffectEvent=wr;var o5={readContext:Xi,use:Qu,useCallback:function(o,u){return Oi().memoizedState=[o,u===void 0?null:u],o},useContext:Xi,useEffect:Hy,useImperativeHandle:function(o,u,h){h=h!=null?h.concat([o]):null,ec(4194308,4,Xy.bind(null,u,o),h)},useLayoutEffect:function(o,u){return ec(4194308,4,o,u)},useInsertionEffect:function(o,u){ec(4,2,o,u)},useMemo:function(o,u){var h=Oi();u=u===void 0?null:u;var p=o();if(Ma){Kt(!0);try{o()}finally{Kt(!1)}}return h.memoizedState=[p,u],p},useReducer:function(o,u,h){var p=Oi();if(h!==void 0){var w=h(u);if(Ma){Kt(!0);try{h(u)}finally{Kt(!1)}}}else w=u;return p.memoizedState=p.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},p.queue=o,o=o.dispatch=QE.bind(null,kt,o),[p.memoizedState,o]},useRef:function(o){var u=Oi();return o={current:o},u.memoizedState=o},useState:function(o){o=Ml(o);var u=o.queue,h=r5.bind(null,kt,u);return u.dispatch=h,[o.memoizedState,h]},useDebugValue:O2,useDeferredValue:function(o,u){var h=Oi();return D2(h,o,u)},useTransition:function(){var o=Ml(!1);return o=Qy.bind(null,kt,o.queue,!0,!1),Oi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,h){var p=kt,w=Oi();if(An){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Tr===null)throw Error(r(349));(Tn&127)!==0||tl(p,u,h)}w.memoizedState=h;var b={value:h,getSnapshot:u};return w.queue=b,Hy(wd.bind(null,p,b,o),[o]),p.flags|=2048,vu(9,{destroy:void 0},_d.bind(null,p,b,h,u),null),h},useId:function(){var o=Oi(),u=Tr.identifierPrefix;if(An){var h=ko,p=Mo;h=(p&~(1<<32-on(p)-1)).toString(32)+h,u="_"+u+"R_"+h,h=di++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=Zf++,u="_"+u+"r_"+h.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:P2,useFormState:Rs,useActionState:Rs,useOptimistic:function(o){var u=Oi();u.memoizedState=u.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=M2.bind(null,kt,!0,h),h.dispatch=u,[o,u]},useMemoCache:pu,useCacheRefresh:function(){return Oi().memoizedState=ZE.bind(null,kt)},useEffectEvent:function(o){var u=Oi(),h={impl:o};return u.memoizedState=h,function(){if((Qn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},k2={readContext:Xi,use:Qu,useCallback:Ky,useContext:Xi,useEffect:R2,useImperativeHandle:Yy,useInsertionEffect:Gy,useLayoutEffect:Wy,useMemo:$y,useReducer:eh,useRef:Y1,useState:function(){return eh(Is)},useDebugValue:O2,useDeferredValue:function(o,u){var h=Yr();return Zy(h,jt.memoizedState,o,u)},useTransition:function(){var o=eh(Is)[0],u=Yr().memoizedState;return[typeof o=="boolean"?o:Pl(o),u]},useSyncExternalStore:nh,useId:t5,useHostTransitionStatus:P2,useFormState:nl,useActionState:nl,useOptimistic:function(o,u){var h=Yr();return q1(h,jt,o,u)},useMemoCache:pu,useCacheRefresh:n5};k2.useEffectEvent=qy;var s5={readContext:Xi,use:Qu,useCallback:Ky,useContext:Xi,useEffect:R2,useImperativeHandle:Yy,useInsertionEffect:Gy,useLayoutEffect:Wy,useMemo:$y,useReducer:th,useRef:Y1,useState:function(){return th(Is)},useDebugValue:O2,useDeferredValue:function(o,u){var h=Yr();return jt===null?D2(h,o,u):Zy(h,jt.memoizedState,o,u)},useTransition:function(){var o=th(Is)[0],u=Yr().memoizedState;return[typeof o=="boolean"?o:Pl(o),u]},useSyncExternalStore:nh,useId:t5,useHostTransitionStatus:P2,useFormState:ah,useActionState:ah,useOptimistic:function(o,u){var h=Yr();return jt!==null?q1(h,jt,o,u):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:pu,useCacheRefresh:n5};s5.useEffectEvent=qy;function B2(o,u,h,p){u=o.memoizedState,h=h(p,u),h=h==null?u:g({},u,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var F2={enqueueSetState:function(o,u,h){o=o._reactInternals;var p=cs(),w=$t(p);w.payload=u,h!=null&&(w.callback=h),u=dn(o,w,p),u!==null&&(Ho(u,o,p),$n(u,o,p))},enqueueReplaceState:function(o,u,h){o=o._reactInternals;var p=cs(),w=$t(p);w.tag=1,w.payload=u,h!=null&&(w.callback=h),u=dn(o,w,p),u!==null&&(Ho(u,o,p),$n(u,o,p))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var h=cs(),p=$t(h);p.tag=2,u!=null&&(p.callback=u),u=dn(o,p,h),u!==null&&(Ho(u,o,h),$n(u,o,h))}};function l5(o,u,h,p,w,b,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,b,M):u.prototype&&u.prototype.isPureReactComponent?!Ys(h,p)||!Ys(w,b):!0}function u5(o,u,h,p){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,p),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,p),u.state!==o&&F2.enqueueReplaceState(u,u.state,null)}function uf(o,u){var h=u;if("ref"in u){h={};for(var p in u)p!=="ref"&&(h[p]=u[p])}if(o=o.defaultProps){h===u&&(h=g({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}function c5(o){Zc(o)}function f5(o){console.error(o)}function h5(o){Zc(o)}function $1(o,u){try{var h=o.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(p){setTimeout(function(){throw p})}}function d5(o,u,h){try{var p=o.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function j2(o,u,h){return h=$t(h),h.tag=3,h.payload={element:null},h.callback=function(){$1(o,u)},h}function p5(o){return o=$t(o),o.tag=3,o}function g5(o,u,h,p){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var b=p.value;o.payload=function(){return w(b)},o.callback=function(){d5(u,h,p)}}var M=h.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){d5(u,h,p),typeof w!="function"&&(ac===null?ac=new Set([this]):ac.add(this));var K=p.stack;this.componentDidCatch(p.value,{componentStack:K!==null?K:""})})}function JE(o,u,h,p,w){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(u=h.alternate,u!==null&&Rl(u,h,w,!0),h=kr.current,h!==null){switch(h.tag){case 31:case 13:return Mn===null?l0():h.alternate===null&&pi===0&&(pi=3),h.flags&=-257,h.flags|=65536,h.lanes=w,p===we?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([p]):u.add(p),cg(o,p,w)),!1;case 22:return h.flags|=65536,p===we?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([p]):h.add(p)),cg(o,p,w)),!1}throw Error(r(435,h.tag))}return cg(o,p,w),l0(),!1}if(An)return u=kr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,p!==ss&&(o=Error(r(422),{cause:p}),Ku(Do(o,h)))):(p!==ss&&(u=Error(r(423),{cause:p}),Ku(Do(u,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,p=Do(p,h),w=j2(o.stateNode,p,w),_i(o,w),pi!==4&&(pi=2)),!1;var b=Error(r(520),{cause:p});if(b=Do(b,h),Dd===null?Dd=[b]:Dd.push(b),pi!==4&&(pi=2),u===null)return!0;p=Do(p,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=j2(h.stateNode,p,o),_i(h,o),!1;case 1:if(u=h.type,b=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ac===null||!ac.has(b))))return h.flags|=65536,w&=-w,h.lanes|=w,w=p5(w),g5(w,o,h,p),_i(h,w),!1}h=h.return}while(h!==null);return!1}var U2=Error(r(461)),Di=!1;function ka(o,u,h,p){u.child=o===null?un(u,null,h,p):Cr(u,o.child,h,p)}function v5(o,u,h,p,w){h=h.render;var b=u.ref;if("ref"in p){var M={};for(var K in p)K!=="ref"&&(M[K]=p[K])}else M=p;return Ol(u),p=vd(o,u,h,M,b,w),K=md(),o!==null&&!Di?(yd(o,u,w),mu(o,u,w)):(An&&K&&hd(u),u.flags|=1,ka(o,u,p,w),u.child)}function m5(o,u,h,p,w){if(o===null){var b=h.type;return typeof b=="function"&&!zf(b)&&b.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=b,y5(o,u,b,p,w)):(o=Wu(h.type,null,p,u,u.mode,w),o.ref=u.ref,o.return=u,u.child=o)}if(b=o.child,!Y2(o,w)){var M=b.memoizedProps;if(h=h.compare,h=h!==null?h:Ys,h(M,p)&&o.ref===u.ref)return mu(o,u,w)}return u.flags|=1,o=Oo(b,p),o.ref=u.ref,o.return=u,u.child=o}function y5(o,u,h,p,w){if(o!==null){var b=o.memoizedProps;if(Ys(b,p)&&o.ref===u.ref)if(Di=!1,u.pendingProps=p=b,Y2(o,w))(o.flags&131072)!==0&&(Di=!0);else return u.lanes=o.lanes,mu(o,u,w)}return V2(o,u,h,p,w)}function _5(o,u,h,p){var w=p.children,b=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((u.flags&128)!==0){if(b=b!==null?b.baseLanes|h:h,o!==null){for(p=u.child=o.child,w=0;p!==null;)w=w|p.lanes|p.childLanes,p=p.sibling;p=w&~b}else p=0,u.child=null;return w5(o,u,b,h,p)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&ne(u,b!==null?b.cachePool:null),b!==null?Mr(u,b):Vn(),fi(u);else return p=u.lanes=536870912,w5(o,u,b!==null?b.baseLanes|h:h,h,p)}else b!==null?(ne(u,b.cachePool),Mr(u,b),hi(),u.memoizedState=null):(o!==null&&ne(u,null),Vn(),hi());return ka(o,u,w,h),u.child}function Sd(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function w5(o,u,h,p,w){var b=J();return b=b===null?null:{parent:ti._currentValue,pool:b},u.memoizedState={baseLanes:h,cachePool:b},o!==null&&ne(u,null),Vn(),fi(u),o!==null&&Rl(o,u,p,!0),u.childLanes=w,null}function Z1(o,u){return u=J1({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function x5(o,u,h){return Cr(u,o.child,null,h),o=Z1(u,u.pendingProps),o.flags|=2,ur(u),u.memoizedState=null,o}function e8(o,u,h){var p=u.pendingProps,w=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(An){if(p.mode==="hidden")return o=Z1(u,p),u.lanes=536870912,Sd(null,o);if(Zn(u),(o=Sr)?(o=L_(o,Wr),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Cl!==null?{id:Mo,overflow:ko}:null,retryLane:536870912,hydrationErrors:null},h=Hf(o),h.return=u,u.child=h,Gi=u,Sr=null)):o=null,o===null)throw Tl(u);return u.lanes=536870912,null}return Z1(u,p)}var b=o.memoizedState;if(b!==null){var M=b.dehydrated;if(Zn(u),w)if(u.flags&256)u.flags&=-257,u=x5(o,u,h);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(Di||Rl(o,u,h,!1),w=(h&o.childLanes)!==0,Di||w){if(p=Tr,p!==null&&(M=oa(p,h),M!==0&&M!==b.retryLane))throw b.retryLane=M,Qs(o,M),Ho(p,o,M),U2;l0(),u=x5(o,u,h)}else o=b.treeContext,Sr=Os(M.nextSibling),Gi=u,An=!0,Pa=null,Wr=!1,o!==null&&V1(u,o),u=Z1(u,p),u.flags|=4096;return u}return o=Oo(o.child,{mode:p.mode,children:p.children}),o.ref=u.ref,u.child=o,o.return=u,o}function Q1(o,u){var h=u.ref;if(h===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(u.flags|=4194816)}}function V2(o,u,h,p,w){return Ol(u),h=vd(o,u,h,p,void 0,w),p=md(),o!==null&&!Di?(yd(o,u,w),mu(o,u,w)):(An&&p&&hd(u),u.flags|=1,ka(o,u,h,w),u.child)}function b5(o,u,h,p,w,b){return Ol(u),u.updateQueue=null,h=el(u,p,h,w),Qf(o),p=md(),o!==null&&!Di?(yd(o,u,b),mu(o,u,b)):(An&&p&&hd(u),u.flags|=1,ka(o,u,h,b),u.child)}function A5(o,u,h,p,w){if(Ol(u),u.stateNode===null){var b=qi,M=h.contextType;typeof M=="object"&&M!==null&&(b=Xi(M)),b=new h(p,b),u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=F2,u.stateNode=b,b._reactInternals=u,b=u.stateNode,b.props=p,b.state=u.memoizedState,b.refs={},lt(u),M=h.contextType,b.context=typeof M=="object"&&M!==null?Xi(M):qi,b.state=u.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(B2(u,h,M,p),b.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&F2.enqueueReplaceState(b,b.state,null),ui(u,p,b,w),_r(),b.state=u.memoizedState),typeof b.componentDidMount=="function"&&(u.flags|=4194308),p=!0}else if(o===null){b=u.stateNode;var K=u.memoizedProps,ge=uf(h,K);b.props=ge;var De=b.context,qe=h.contextType;M=qi,typeof qe=="object"&&qe!==null&&(M=Xi(qe));var Ye=h.getDerivedStateFromProps;qe=typeof Ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",K=u.pendingProps!==K,qe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(K||De!==M)&&u5(u,b,p,M),pt=!1;var Me=u.memoizedState;b.state=Me,ui(u,p,b,w),_r(),De=u.memoizedState,K||Me!==De||pt?(typeof Ye=="function"&&(B2(u,h,Ye,p),De=u.memoizedState),(ge=pt||l5(u,h,ge,p,Me,De,M))?(qe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(u.flags|=4194308)):(typeof b.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=p,u.memoizedState=De),b.props=p,b.state=De,b.context=M,p=ge):(typeof b.componentDidMount=="function"&&(u.flags|=4194308),p=!1)}else{b=u.stateNode,Pr(o,u),M=u.memoizedProps,qe=uf(h,M),b.props=qe,Ye=u.pendingProps,Me=b.context,De=h.contextType,ge=qi,typeof De=="object"&&De!==null&&(ge=Xi(De)),K=h.getDerivedStateFromProps,(De=typeof K=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==Ye||Me!==ge)&&u5(u,b,p,ge),pt=!1,Me=u.memoizedState,b.state=Me,ui(u,p,b,w),_r();var Be=u.memoizedState;M!==Ye||Me!==Be||pt||o!==null&&o.dependencies!==null&&Yf(o.dependencies)?(typeof K=="function"&&(B2(u,h,K,p),Be=u.memoizedState),(qe=pt||l5(u,h,qe,p,Me,Be,ge)||o!==null&&o.dependencies!==null&&Yf(o.dependencies))?(De||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,Be,ge),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,Be,ge)),typeof b.componentDidUpdate=="function"&&(u.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===o.memoizedProps&&Me===o.memoizedState||(u.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&Me===o.memoizedState||(u.flags|=1024),u.memoizedProps=p,u.memoizedState=Be),b.props=p,b.state=Be,b.context=ge,p=qe):(typeof b.componentDidUpdate!="function"||M===o.memoizedProps&&Me===o.memoizedState||(u.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&Me===o.memoizedState||(u.flags|=1024),p=!1)}return b=p,Q1(o,u),p=(u.flags&128)!==0,b||p?(b=u.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:b.render(),u.flags|=1,o!==null&&p?(u.child=Cr(u,o.child,null,w),u.child=Cr(u,null,h,w)):ka(o,u,h,w),u.memoizedState=b.state,o=u.child):o=mu(o,u,w),o}function E5(o,u,h,p){return hu(),u.flags|=256,ka(o,u,h,p),u.child}var z2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function H2(o){return{baseLanes:o,cachePool:le()}}function q2(o,u,h){return o=o!==null?o.childLanes&~h:0,u&&(o|=us),o}function S5(o,u,h){var p=u.pendingProps,w=!1,b=(u.flags&128)!==0,M;if((M=b)||(M=o!==null&&o.memoizedState===null?!1:(Ln.current&2)!==0),M&&(w=!0,u.flags&=-129),M=(u.flags&32)!==0,u.flags&=-33,o===null){if(An){if(w?ni(u):hi(),(o=Sr)?(o=L_(o,Wr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Cl!==null?{id:Mo,overflow:ko}:null,retryLane:536870912,hydrationErrors:null},h=Hf(o),h.return=u,u.child=h,Gi=u,Sr=null)):o=null,o===null)throw Tl(u);return Cg(o)?u.lanes=32:u.lanes=536870912,null}var K=p.children;return p=p.fallback,w?(hi(),w=u.mode,K=J1({mode:"hidden",children:K},w),p=Sl(p,w,h,null),K.return=u,p.return=u,K.sibling=p,u.child=K,p=u.child,p.memoizedState=H2(h),p.childLanes=q2(o,M,h),u.memoizedState=z2,Sd(null,p)):(ni(u),G2(u,K))}var ge=o.memoizedState;if(ge!==null&&(K=ge.dehydrated,K!==null)){if(b)u.flags&256?(ni(u),u.flags&=-257,u=W2(o,u,h)):u.memoizedState!==null?(hi(),u.child=o.child,u.flags|=128,u=null):(hi(),K=p.fallback,w=u.mode,p=J1({mode:"visible",children:p.children},w),K=Sl(K,w,h,null),K.flags|=2,p.return=u,K.return=u,p.sibling=K,u.child=p,Cr(u,o.child,null,h),p=u.child,p.memoizedState=H2(h),p.childLanes=q2(o,M,h),u.memoizedState=z2,u=Sd(null,p));else if(ni(u),Cg(K)){if(M=K.nextSibling&&K.nextSibling.dataset,M)var De=M.dgst;M=De,p=Error(r(419)),p.stack="",p.digest=M,Ku({value:p,source:null,stack:null}),u=W2(o,u,h)}else if(Di||Rl(o,u,h,!1),M=(h&o.childLanes)!==0,Di||M){if(M=Tr,M!==null&&(p=oa(M,h),p!==0&&p!==ge.retryLane))throw ge.retryLane=p,Qs(o,p),Ho(M,o,p),U2;Sg(K)||l0(),u=W2(o,u,h)}else Sg(K)?(u.flags|=192,u.child=o.child,u=null):(o=ge.treeContext,Sr=Os(K.nextSibling),Gi=u,An=!0,Pa=null,Wr=!1,o!==null&&V1(u,o),u=G2(u,p.children),u.flags|=4096);return u}return w?(hi(),K=p.fallback,w=u.mode,ge=o.child,De=ge.sibling,p=Oo(ge,{mode:"hidden",children:p.children}),p.subtreeFlags=ge.subtreeFlags&65011712,De!==null?K=Oo(De,K):(K=Sl(K,w,h,null),K.flags|=2),K.return=u,p.return=u,p.sibling=K,u.child=p,Sd(null,p),p=u.child,K=o.child.memoizedState,K===null?K=H2(h):(w=K.cachePool,w!==null?(ge=ti._currentValue,w=w.parent!==ge?{parent:ge,pool:ge}:w):w=le(),K={baseLanes:K.baseLanes|h,cachePool:w}),p.memoizedState=K,p.childLanes=q2(o,M,h),u.memoizedState=z2,Sd(o.child,p)):(ni(u),h=o.child,o=h.sibling,h=Oo(h,{mode:"visible",children:p.children}),h.return=u,h.sibling=null,o!==null&&(M=u.deletions,M===null?(u.deletions=[o],u.flags|=16):M.push(o)),u.child=h,u.memoizedState=null,h)}function G2(o,u){return u=J1({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function J1(o,u){return o=pa(22,o,null,u),o.lanes=0,o}function W2(o,u,h){return Cr(u,o.child,null,h),o=G2(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function C5(o,u,h){o.lanes|=u;var p=o.alternate;p!==null&&(p.lanes|=u),$u(o.return,u,h)}function X2(o,u,h,p,w,b){var M=o.memoizedState;M===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:w,treeForkCount:b}:(M.isBackwards=u,M.rendering=null,M.renderingStartTime=0,M.last=p,M.tail=h,M.tailMode=w,M.treeForkCount=b)}function T5(o,u,h){var p=u.pendingProps,w=p.revealOrder,b=p.tail;p=p.children;var M=Ln.current,K=(M&2)!==0;if(K?(M=M&1|2,u.flags|=128):M&=1,$(Ln,M),ka(o,u,p,h),p=An?rf:0,!K&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&C5(o,h,u);else if(o.tag===19)C5(o,h,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(h=u.child,w=null;h!==null;)o=h.alternate,o!==null&&va(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=u.child,u.child=null):(w=h.sibling,h.sibling=null),X2(u,!1,w,h,b,p);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=u.child,u.child=null;w!==null;){if(o=w.alternate,o!==null&&va(o)===null){u.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}X2(u,!0,h,null,b,p);break;case"together":X2(u,!1,null,null,void 0,p);break;default:u.memoizedState=null}return u.child}function mu(o,u,h){if(o!==null&&(u.dependencies=o.dependencies),ic|=u.lanes,(h&u.childLanes)===0)if(o!==null){if(Rl(o,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,h=Oo(o,o.pendingProps),u.child=h,h.return=u;o.sibling!==null;)o=o.sibling,h=h.sibling=Oo(o,o.pendingProps),h.return=u;h.sibling=null}return u.child}function Y2(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Yf(o)))}function t8(o,u,h){switch(u.tag){case 3:Le(u,u.stateNode.containerInfo),Il(u,ti,o.memoizedState.cache),hu();break;case 27:case 5:ze(u);break;case 4:Le(u,u.stateNode.containerInfo);break;case 10:Il(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Zn(u),null;break;case 13:var p=u.memoizedState;if(p!==null)return p.dehydrated!==null?(ni(u),u.flags|=128,null):(h&u.child.childLanes)!==0?S5(o,u,h):(ni(u),o=mu(o,u,h),o!==null?o.sibling:null);ni(u);break;case 19:var w=(o.flags&128)!==0;if(p=(h&u.childLanes)!==0,p||(Rl(o,u,h,!1),p=(h&u.childLanes)!==0),w){if(p)return T5(o,u,h);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),$(Ln,Ln.current),p)break;return null;case 22:return u.lanes=0,_5(o,u,h,u.pendingProps);case 24:Il(u,ti,o.memoizedState.cache)}return mu(o,u,h)}function N5(o,u,h){if(o!==null)if(o.memoizedProps!==u.pendingProps)Di=!0;else{if(!Y2(o,h)&&(u.flags&128)===0)return Di=!1,t8(o,u,h);Di=(o.flags&131072)!==0}else Di=!1,An&&(u.flags&1048576)!==0&&U1(u,rf,u.index);switch(u.lanes=0,u.tag){case 16:e:{var p=u.pendingProps;if(o=Te(u.elementType),u.type=o,typeof o=="function")zf(o)?(p=uf(o,p),u.tag=1,u=A5(null,u,o,p,h)):(u.tag=0,u=V2(null,u,o,p,h));else{if(o!=null){var w=o.$$typeof;if(w===U){u.tag=11,u=v5(null,u,o,p,h);break e}else if(w===z){u.tag=14,u=m5(null,u,o,p,h);break e}}throw u=ce(o)||o,Error(r(306,u,""))}}return u;case 0:return V2(o,u,u.type,u.pendingProps,h);case 1:return p=u.type,w=uf(p,u.pendingProps),A5(o,u,p,w,h);case 3:e:{if(Le(u,u.stateNode.containerInfo),o===null)throw Error(r(387));p=u.pendingProps;var b=u.memoizedState;w=b.element,Pr(o,u),ui(u,p,null,h);var M=u.memoizedState;if(p=M.cache,Il(u,ti,p),p!==b.cache&&du(u,[ti],h,!0),_r(),p=M.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:M.cache},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){u=E5(o,u,p,h);break e}else if(p!==w){w=Do(Error(r(424)),u),Ku(w),u=E5(o,u,p,h);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Sr=Os(o.firstChild),Gi=u,An=!0,Pa=null,Wr=!0,h=un(u,null,p,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(hu(),p===w){u=mu(o,u,h);break e}ka(o,u,p,h)}u=u.child}return u;case 26:return Q1(o,u),o===null?(h=j_(u.type,null,u.pendingProps,null))?u.memoizedState=h:An||(h=u.type,o=u.pendingProps,p=g0(de.current).createElement(h),p[qn]=u,p[sr]=o,Ba(p,h,o),Lr(p),u.stateNode=p):u.memoizedState=j_(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return ze(u),o===null&&An&&(p=u.stateNode=k_(u.type,u.pendingProps,de.current),Gi=u,Wr=!0,w=Sr,uc(u.type)?(Tg=w,Sr=Os(p.firstChild)):Sr=w),ka(o,u,u.pendingProps.children,h),Q1(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&An&&((w=p=Sr)&&(p=O8(p,u.type,u.pendingProps,Wr),p!==null?(u.stateNode=p,Gi=u,Sr=Os(p.firstChild),Wr=!1,w=!0):w=!1),w||Tl(u)),ze(u),w=u.type,b=u.pendingProps,M=o!==null?o.memoizedProps:null,p=b.children,bg(w,b)?p=null:M!==null&&bg(w,M)&&(u.flags|=32),u.memoizedState!==null&&(w=vd(o,u,I2,null,null,h),Ud._currentValue=w),Q1(o,u),ka(o,u,p,h),u.child;case 6:return o===null&&An&&((o=h=Sr)&&(h=D8(h,u.pendingProps,Wr),h!==null?(u.stateNode=h,Gi=u,Sr=null,o=!0):o=!1),o||Tl(u)),null;case 13:return S5(o,u,h);case 4:return Le(u,u.stateNode.containerInfo),p=u.pendingProps,o===null?u.child=Cr(u,null,p,h):ka(o,u,p,h),u.child;case 11:return v5(o,u,u.type,u.pendingProps,h);case 7:return ka(o,u,u.pendingProps,h),u.child;case 8:return ka(o,u,u.pendingProps.children,h),u.child;case 12:return ka(o,u,u.pendingProps.children,h),u.child;case 10:return p=u.pendingProps,Il(u,u.type,p.value),ka(o,u,p.children,h),u.child;case 9:return w=u.type._context,p=u.pendingProps.children,Ol(u),w=Xi(w),p=p(w),u.flags|=1,ka(o,u,p,h),u.child;case 14:return m5(o,u,u.type,u.pendingProps,h);case 15:return y5(o,u,u.type,u.pendingProps,h);case 19:return T5(o,u,h);case 31:return e8(o,u,h);case 22:return _5(o,u,h,u.pendingProps);case 24:return Ol(u),p=Xi(ti),o===null?(w=J(),w===null&&(w=Tr,b=Zu(),w.pooledCache=b,b.refCount++,b!==null&&(w.pooledCacheLanes|=h),w=b),u.memoizedState={parent:p,cache:w},lt(u),Il(u,ti,w)):((o.lanes&h)!==0&&(Pr(o,u),ui(u,null,null,h),_r()),w=o.memoizedState,b=u.memoizedState,w.parent!==p?(w={parent:p,cache:p},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),Il(u,ti,p)):(p=b.cache,Il(u,ti,p),p!==w.cache&&du(u,[ti],h,!0))),ka(o,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function yu(o){o.flags|=4}function K2(o,u,h,p,w){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(t_())o.flags|=8192;else throw je=we,Ie}else o.flags&=-16777217}function I5(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!q_(u))if(t_())o.flags|=8192;else throw je=we,Ie}function e0(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Ao():536870912,o.lanes|=u,uh|=u)}function Cd(o,u){if(!An)switch(o.tailMode){case"hidden":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Br(o){var u=o.alternate!==null&&o.alternate.child===o.child,h=0,p=0;if(u)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=p,o.childLanes=h,u}function n8(o,u,h){var p=u.pendingProps;switch(Wf(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(u),null;case 1:return Br(u),null;case 3:return h=u.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),Bo(ti),Ne(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Wi(u)?yu(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,pd())),Br(u),null;case 26:var w=u.type,b=u.memoizedState;return o===null?(yu(u),b!==null?(Br(u),I5(u,b)):(Br(u),K2(u,w,null,p,h))):b?b!==o.memoizedState?(yu(u),Br(u),I5(u,b)):(Br(u),u.flags&=-16777217):(o=o.memoizedProps,o!==p&&yu(u),Br(u),K2(u,w,o,p,h)),null;case 27:if(nt(u),h=de.current,w=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==p&&yu(u);else{if(!p){if(u.stateNode===null)throw Error(r(166));return Br(u),null}o=ie.current,Wi(u)?dd(u):(o=k_(w,p,h),u.stateNode=o,yu(u))}return Br(u),null;case 5:if(nt(u),w=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==p&&yu(u);else{if(!p){if(u.stateNode===null)throw Error(r(166));return Br(u),null}if(b=ie.current,Wi(u))dd(u);else{var M=g0(de.current);switch(b){case 1:b=M.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:b=M.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":b=M.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":b=M.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":b=M.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof p.is=="string"?M.createElement("select",{is:p.is}):M.createElement("select"),p.multiple?b.multiple=!0:p.size&&(b.size=p.size);break;default:b=typeof p.is=="string"?M.createElement(w,{is:p.is}):M.createElement(w)}}b[qn]=u,b[sr]=p;e:for(M=u.child;M!==null;){if(M.tag===5||M.tag===6)b.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===u)break e;for(;M.sibling===null;){if(M.return===null||M.return===u)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}u.stateNode=b;e:switch(Ba(b,w,p),w){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&yu(u)}}return Br(u),K2(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,h),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==p&&yu(u);else{if(typeof p!="string"&&u.stateNode===null)throw Error(r(166));if(o=de.current,Wi(u)){if(o=u.stateNode,h=u.memoizedProps,p=null,w=Gi,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}o[qn]=u,o=!!(o.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||S_(o.nodeValue,h)),o||Tl(u,!0)}else o=g0(o).createTextNode(p),o[qn]=u,u.stateNode=o}return Br(u),null;case 31:if(h=u.memoizedState,o===null||o.memoizedState!==null){if(p=Wi(u),h!==null){if(o===null){if(!p)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[qn]=u}else hu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Br(u),o=!1}else h=pd(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return u.flags&256?(ur(u),u):(ur(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Br(u),null;case 13:if(p=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Wi(u),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[qn]=u}else hu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Br(u),w=!1}else w=pd(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(ur(u),u):(ur(u),null)}return ur(u),(u.flags&128)!==0?(u.lanes=h,u):(h=p!==null,o=o!==null&&o.memoizedState!==null,h&&(p=u.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool),b=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==w&&(p.flags|=2048)),h!==o&&h&&(u.child.flags|=8192),e0(u,u.updateQueue),Br(u),null);case 4:return Ne(),o===null&&mg(u.stateNode.containerInfo),Br(u),null;case 10:return Bo(u.type),Br(u),null;case 19:if(F(Ln),p=u.memoizedState,p===null)return Br(u),null;if(w=(u.flags&128)!==0,b=p.rendering,b===null)if(w)Cd(p,!1);else{if(pi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(b=va(o),b!==null){for(u.flags|=128,Cd(p,!1),o=b.updateQueue,u.updateQueue=o,e0(u,o),u.subtreeFlags=0,o=h,h=u.child;h!==null;)tf(h,o),h=h.sibling;return $(Ln,Ln.current&1|2),An&&_o(u,p.treeForkCount),u.child}o=o.sibling}p.tail!==null&&Vt()>a0&&(u.flags|=128,w=!0,Cd(p,!1),u.lanes=4194304)}else{if(!w)if(o=va(b),o!==null){if(u.flags|=128,w=!0,o=o.updateQueue,u.updateQueue=o,e0(u,o),Cd(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!An)return Br(u),null}else 2*Vt()-p.renderingStartTime>a0&&h!==536870912&&(u.flags|=128,w=!0,Cd(p,!1),u.lanes=4194304);p.isBackwards?(b.sibling=u.child,u.child=b):(o=p.last,o!==null?o.sibling=b:u.child=b,p.last=b)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Vt(),o.sibling=null,h=Ln.current,$(Ln,w?h&1|2:h&1),An&&_o(u,p.treeForkCount),o):(Br(u),null);case 22:case 23:return ur(u),wi(),p=u.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(u.flags|=8192):p&&(u.flags|=8192),p?(h&536870912)!==0&&(u.flags&128)===0&&(Br(u),u.subtreeFlags&6&&(u.flags|=8192)):Br(u),h=u.updateQueue,h!==null&&e0(u,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048),o!==null&&F(Y),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Bo(ti),Br(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function r8(o,u){switch(Wf(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Bo(ti),Ne(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return nt(u),null;case 31:if(u.memoizedState!==null){if(ur(u),u.alternate===null)throw Error(r(340));hu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(ur(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));hu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return F(Ln),null;case 4:return Ne(),null;case 10:return Bo(u.type),null;case 22:case 23:return ur(u),wi(),o!==null&&F(Y),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Bo(ti),null;case 25:return null;default:return null}}function R5(o,u){switch(Wf(u),u.tag){case 3:Bo(ti),Ne();break;case 26:case 27:case 5:nt(u);break;case 4:Ne();break;case 31:u.memoizedState!==null&&ur(u);break;case 13:ur(u);break;case 19:F(Ln);break;case 10:Bo(u.type);break;case 22:case 23:ur(u),wi(),o!==null&&F(Y);break;case 24:Bo(ti)}}function Td(o,u){try{var h=u.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var w=p.next;h=w;do{if((h.tag&o)===o){p=void 0;var b=h.create,M=h.inst;p=b(),M.destroy=p}h=h.next}while(h!==w)}}catch(K){fr(u,u.return,K)}}function nc(o,u,h){try{var p=u.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var b=w.next;p=b;do{if((p.tag&o)===o){var M=p.inst,K=M.destroy;if(K!==void 0){M.destroy=void 0,w=u;var ge=h,De=K;try{De()}catch(qe){fr(w,ge,qe)}}}p=p.next}while(p!==b)}}catch(qe){fr(u,u.return,qe)}}function O5(o){var u=o.updateQueue;if(u!==null){var h=o.stateNode;try{ci(u,h)}catch(p){fr(o,o.return,p)}}}function D5(o,u,h){h.props=uf(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(p){fr(o,u,p)}}function Nd(o,u){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof h=="function"?o.refCleanup=h(p):h.current=p}}catch(w){fr(o,u,w)}}function kl(o,u){var h=o.ref,p=o.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(w){fr(o,u,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){fr(o,u,w)}else h.current=null}function L5(o){var u=o.type,h=o.memoizedProps,p=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(w){fr(o,o.return,w)}}function $2(o,u,h){try{var p=o.stateNode;S8(p,o.type,h,u),p[sr]=u}catch(w){fr(o,o.return,w)}}function P5(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&uc(o.type)||o.tag===4}function Z2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||P5(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&uc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Q2(o,u,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(o),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=fo));else if(p!==4&&(p===27&&uc(o.type)&&(h=o.stateNode,u=null),o=o.child,o!==null))for(Q2(o,u,h),o=o.sibling;o!==null;)Q2(o,u,h),o=o.sibling}function t0(o,u,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,u?h.insertBefore(o,u):h.appendChild(o);else if(p!==4&&(p===27&&uc(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(t0(o,u,h),o=o.sibling;o!==null;)t0(o,u,h),o=o.sibling}function M5(o){var u=o.stateNode,h=o.memoizedProps;try{for(var p=o.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);Ba(u,p,h),u[qn]=o,u[sr]=h}catch(b){fr(o,o.return,b)}}var _u=!1,Li=!1,J2=!1,k5=typeof WeakSet=="function"?WeakSet:Set,ma=null;function i8(o,u){if(o=o.containerInfo,wg=b0,o=$s(o),Cs(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var w=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break e}var M=0,K=-1,ge=-1,De=0,qe=0,Ye=o,Me=null;t:for(;;){for(var Be;Ye!==h||w!==0&&Ye.nodeType!==3||(K=M+w),Ye!==b||p!==0&&Ye.nodeType!==3||(ge=M+p),Ye.nodeType===3&&(M+=Ye.nodeValue.length),(Be=Ye.firstChild)!==null;)Me=Ye,Ye=Be;for(;;){if(Ye===o)break t;if(Me===h&&++De===w&&(K=M),Me===b&&++qe===p&&(ge=M),(Be=Ye.nextSibling)!==null)break;Ye=Me,Me=Ye.parentNode}Ye=Be}h=K===-1||ge===-1?null:{start:K,end:ge}}else h=null}h=h||{start:0,end:0}}else h=null;for(xg={focusedElem:o,selectionRange:h},b0=!1,ma=u;ma!==null;)if(u=ma,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,ma=o;else for(;ma!==null;){switch(u=ma,b=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)w=o[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&b!==null){o=void 0,h=u,w=b.memoizedProps,b=b.memoizedState,p=h.stateNode;try{var _t=uf(h.type,w);o=p.getSnapshotBeforeUpdate(_t,b),p.__reactInternalSnapshotBeforeUpdate=o}catch(Zt){fr(h,h.return,Zt)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,h=o.nodeType,h===9)Eg(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Eg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,ma=o;break}ma=u.return}}function B5(o,u,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:xu(o,h),p&4&&Td(5,h);break;case 1:if(xu(o,h),p&4)if(o=h.stateNode,u===null)try{o.componentDidMount()}catch(M){fr(h,h.return,M)}else{var w=uf(h.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(w,u,o.__reactInternalSnapshotBeforeUpdate)}catch(M){fr(h,h.return,M)}}p&64&&O5(h),p&512&&Nd(h,h.return);break;case 3:if(xu(o,h),p&64&&(o=h.updateQueue,o!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{ci(o,u)}catch(M){fr(h,h.return,M)}}break;case 27:u===null&&p&4&&M5(h);case 26:case 5:xu(o,h),u===null&&p&4&&L5(h),p&512&&Nd(h,h.return);break;case 12:xu(o,h);break;case 31:xu(o,h),p&4&&U5(o,h);break;case 13:xu(o,h),p&4&&V5(o,h),p&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=d8.bind(null,h),L8(o,h))));break;case 22:if(p=h.memoizedState!==null||_u,!p){u=u!==null&&u.memoizedState!==null||Li,w=_u;var b=Li;_u=p,(Li=u)&&!b?bu(o,h,(h.subtreeFlags&8772)!==0):xu(o,h),_u=w,Li=b}break;case 30:break;default:xu(o,h)}}function F5(o){var u=o.alternate;u!==null&&(o.alternate=null,F5(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Qo(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Kr=null,jo=!1;function wu(o,u,h){for(h=h.child;h!==null;)j5(o,u,h),h=h.sibling}function j5(o,u,h){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(tn,h)}catch{}switch(h.tag){case 26:Li||kl(h,u),wu(o,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Li||kl(h,u);var p=Kr,w=jo;uc(h.type)&&(Kr=h.stateNode,jo=!1),wu(o,u,h),Bd(h.stateNode),Kr=p,jo=w;break;case 5:Li||kl(h,u);case 6:if(p=Kr,w=jo,Kr=null,wu(o,u,h),Kr=p,jo=w,Kr!==null)if(jo)try{(Kr.nodeType===9?Kr.body:Kr.nodeName==="HTML"?Kr.ownerDocument.body:Kr).removeChild(h.stateNode)}catch(b){fr(h,u,b)}else try{Kr.removeChild(h.stateNode)}catch(b){fr(h,u,b)}break;case 18:Kr!==null&&(jo?(o=Kr,O_(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),mh(o)):O_(Kr,h.stateNode));break;case 4:p=Kr,w=jo,Kr=h.stateNode.containerInfo,jo=!0,wu(o,u,h),Kr=p,jo=w;break;case 0:case 11:case 14:case 15:nc(2,h,u),Li||nc(4,h,u),wu(o,u,h);break;case 1:Li||(kl(h,u),p=h.stateNode,typeof p.componentWillUnmount=="function"&&D5(h,u,p)),wu(o,u,h);break;case 21:wu(o,u,h);break;case 22:Li=(p=Li)||h.memoizedState!==null,wu(o,u,h),Li=p;break;default:wu(o,u,h)}}function U5(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{mh(o)}catch(h){fr(u,u.return,h)}}}function V5(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{mh(o)}catch(h){fr(u,u.return,h)}}function a8(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new k5),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new k5),u;default:throw Error(r(435,o.tag))}}function n0(o,u){var h=a8(o);u.forEach(function(p){if(!h.has(p)){h.add(p);var w=p8.bind(null,o,p);p.then(w,w)}})}function Uo(o,u){var h=u.deletions;if(h!==null)for(var p=0;p<h.length;p++){var w=h[p],b=o,M=u,K=M;e:for(;K!==null;){switch(K.tag){case 27:if(uc(K.type)){Kr=K.stateNode,jo=!1;break e}break;case 5:Kr=K.stateNode,jo=!1;break e;case 3:case 4:Kr=K.stateNode.containerInfo,jo=!0;break e}K=K.return}if(Kr===null)throw Error(r(160));j5(b,M,w),Kr=null,jo=!1,b=w.alternate,b!==null&&(b.return=null),w.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)z5(u,o),u=u.sibling}var il=null;function z5(o,u){var h=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Uo(u,o),Vo(o),p&4&&(nc(3,o,o.return),Td(3,o),nc(5,o,o.return));break;case 1:Uo(u,o),Vo(o),p&512&&(Li||h===null||kl(h,h.return)),p&64&&_u&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var w=il;if(Uo(u,o),Vo(o),p&512&&(Li||h===null||kl(h,h.return)),p&4){var b=h!==null?h.memoizedState:null;if(p=o.memoizedState,h===null)if(p===null)if(o.stateNode===null){e:{p=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":b=w.getElementsByTagName("title")[0],(!b||b[la]||b[qn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=w.createElement(p),w.head.insertBefore(b,w.querySelector("head > title"))),Ba(b,p,h),b[qn]=o,Lr(b),p=b;break e;case"link":var M=z_("link","href",w).get(p+(h.href||""));if(M){for(var K=0;K<M.length;K++)if(b=M[K],b.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&b.getAttribute("rel")===(h.rel==null?null:h.rel)&&b.getAttribute("title")===(h.title==null?null:h.title)&&b.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){M.splice(K,1);break t}}b=w.createElement(p),Ba(b,p,h),w.head.appendChild(b);break;case"meta":if(M=z_("meta","content",w).get(p+(h.content||""))){for(K=0;K<M.length;K++)if(b=M[K],b.getAttribute("content")===(h.content==null?null:""+h.content)&&b.getAttribute("name")===(h.name==null?null:h.name)&&b.getAttribute("property")===(h.property==null?null:h.property)&&b.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&b.getAttribute("charset")===(h.charSet==null?null:h.charSet)){M.splice(K,1);break t}}b=w.createElement(p),Ba(b,p,h),w.head.appendChild(b);break;default:throw Error(r(468,p))}b[qn]=o,Lr(b),p=b}o.stateNode=p}else H_(w,o.type,o.stateNode);else o.stateNode=V_(w,p,o.memoizedProps);else b!==p?(b===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):b.count--,p===null?H_(w,o.type,o.stateNode):V_(w,p,o.memoizedProps)):p===null&&o.stateNode!==null&&$2(o,o.memoizedProps,h.memoizedProps)}break;case 27:Uo(u,o),Vo(o),p&512&&(Li||h===null||kl(h,h.return)),h!==null&&p&4&&$2(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Uo(u,o),Vo(o),p&512&&(Li||h===null||kl(h,h.return)),o.flags&32){w=o.stateNode;try{mi(w,"")}catch(_t){fr(o,o.return,_t)}}p&4&&o.stateNode!=null&&(w=o.memoizedProps,$2(o,w,h!==null?h.memoizedProps:w)),p&1024&&(J2=!0);break;case 6:if(Uo(u,o),Vo(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,h=o.stateNode;try{h.nodeValue=p}catch(_t){fr(o,o.return,_t)}}break;case 3:if(y0=null,w=il,il=v0(u.containerInfo),Uo(u,o),il=w,Vo(o),p&4&&h!==null&&h.memoizedState.isDehydrated)try{mh(u.containerInfo)}catch(_t){fr(o,o.return,_t)}J2&&(J2=!1,H5(o));break;case 4:p=il,il=v0(o.stateNode.containerInfo),Uo(u,o),Vo(o),il=p;break;case 12:Uo(u,o),Vo(o);break;case 31:Uo(u,o),Vo(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,n0(o,p)));break;case 13:Uo(u,o),Vo(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(i0=Vt()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,n0(o,p)));break;case 22:w=o.memoizedState!==null;var ge=h!==null&&h.memoizedState!==null,De=_u,qe=Li;if(_u=De||w,Li=qe||ge,Uo(u,o),Li=qe,_u=De,Vo(o),p&8192)e:for(u=o.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(h===null||ge||_u||Li||cf(o)),h=null,u=o;;){if(u.tag===5||u.tag===26){if(h===null){ge=h=u;try{if(b=ge.stateNode,w)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{K=ge.stateNode;var Ye=ge.memoizedProps.style,Me=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;K.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(_t){fr(ge,ge.return,_t)}}}else if(u.tag===6){if(h===null){ge=u;try{ge.stateNode.nodeValue=w?"":ge.memoizedProps}catch(_t){fr(ge,ge.return,_t)}}}else if(u.tag===18){if(h===null){ge=u;try{var Be=ge.stateNode;w?D_(Be,!0):D_(ge.stateNode,!1)}catch(_t){fr(ge,ge.return,_t)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}p&4&&(p=o.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,n0(o,h))));break;case 19:Uo(u,o),Vo(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,n0(o,p)));break;case 30:break;case 21:break;default:Uo(u,o),Vo(o)}}function Vo(o){var u=o.flags;if(u&2){try{for(var h,p=o.return;p!==null;){if(P5(p)){h=p;break}p=p.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,b=Z2(o);t0(o,b,w);break;case 5:var M=h.stateNode;h.flags&32&&(mi(M,""),h.flags&=-33);var K=Z2(o);t0(o,K,M);break;case 3:case 4:var ge=h.stateNode.containerInfo,De=Z2(o);Q2(o,De,ge);break;default:throw Error(r(161))}}catch(qe){fr(o,o.return,qe)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function H5(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;H5(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function xu(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)B5(o,u.alternate,u),u=u.sibling}function cf(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:nc(4,u,u.return),cf(u);break;case 1:kl(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&D5(u,u.return,h),cf(u);break;case 27:Bd(u.stateNode);case 26:case 5:kl(u,u.return),cf(u);break;case 22:u.memoizedState===null&&cf(u);break;case 30:cf(u);break;default:cf(u)}o=o.sibling}}function bu(o,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var p=u.alternate,w=o,b=u,M=b.flags;switch(b.tag){case 0:case 11:case 15:bu(w,b,h),Td(4,b);break;case 1:if(bu(w,b,h),p=b,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(De){fr(p,p.return,De)}if(p=b,w=p.updateQueue,w!==null){var K=p.stateNode;try{var ge=w.shared.hiddenCallbacks;if(ge!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ge.length;w++)ga(ge[w],K)}catch(De){fr(p,p.return,De)}}h&&M&64&&O5(b),Nd(b,b.return);break;case 27:M5(b);case 26:case 5:bu(w,b,h),h&&p===null&&M&4&&L5(b),Nd(b,b.return);break;case 12:bu(w,b,h);break;case 31:bu(w,b,h),h&&M&4&&U5(w,b);break;case 13:bu(w,b,h),h&&M&4&&V5(w,b);break;case 22:b.memoizedState===null&&bu(w,b,h),Nd(b,b.return);break;case 30:break;default:bu(w,b,h)}u=u.sibling}}function eg(o,u){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&af(h))}function tg(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&af(o))}function al(o,u,h,p){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)q5(o,u,h,p),u=u.sibling}function q5(o,u,h,p){var w=u.flags;switch(u.tag){case 0:case 11:case 15:al(o,u,h,p),w&2048&&Td(9,u);break;case 1:al(o,u,h,p);break;case 3:al(o,u,h,p),w&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&af(o)));break;case 12:if(w&2048){al(o,u,h,p),o=u.stateNode;try{var b=u.memoizedProps,M=b.id,K=b.onPostCommit;typeof K=="function"&&K(M,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ge){fr(u,u.return,ge)}}else al(o,u,h,p);break;case 31:al(o,u,h,p);break;case 13:al(o,u,h,p);break;case 23:break;case 22:b=u.stateNode,M=u.alternate,u.memoizedState!==null?b._visibility&2?al(o,u,h,p):Id(o,u):b._visibility&2?al(o,u,h,p):(b._visibility|=2,oh(o,u,h,p,(u.subtreeFlags&10256)!==0||!1)),w&2048&&eg(M,u);break;case 24:al(o,u,h,p),w&2048&&tg(u.alternate,u);break;default:al(o,u,h,p)}}function oh(o,u,h,p,w){for(w=w&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var b=o,M=u,K=h,ge=p,De=M.flags;switch(M.tag){case 0:case 11:case 15:oh(b,M,K,ge,w),Td(8,M);break;case 23:break;case 22:var qe=M.stateNode;M.memoizedState!==null?qe._visibility&2?oh(b,M,K,ge,w):Id(b,M):(qe._visibility|=2,oh(b,M,K,ge,w)),w&&De&2048&&eg(M.alternate,M);break;case 24:oh(b,M,K,ge,w),w&&De&2048&&tg(M.alternate,M);break;default:oh(b,M,K,ge,w)}u=u.sibling}}function Id(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=o,p=u,w=p.flags;switch(p.tag){case 22:Id(h,p),w&2048&&eg(p.alternate,p);break;case 24:Id(h,p),w&2048&&tg(p.alternate,p);break;default:Id(h,p)}u=u.sibling}}var Rd=8192;function sh(o,u,h){if(o.subtreeFlags&Rd)for(o=o.child;o!==null;)G5(o,u,h),o=o.sibling}function G5(o,u,h){switch(o.tag){case 26:sh(o,u,h),o.flags&Rd&&o.memoizedState!==null&&G8(h,il,o.memoizedState,o.memoizedProps);break;case 5:sh(o,u,h);break;case 3:case 4:var p=il;il=v0(o.stateNode.containerInfo),sh(o,u,h),il=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=Rd,Rd=16777216,sh(o,u,h),Rd=p):sh(o,u,h));break;default:sh(o,u,h)}}function W5(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Od(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var p=u[h];ma=p,Y5(p,o)}W5(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)X5(o),o=o.sibling}function X5(o){switch(o.tag){case 0:case 11:case 15:Od(o),o.flags&2048&&nc(9,o,o.return);break;case 3:Od(o);break;case 12:Od(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,r0(o)):Od(o);break;default:Od(o)}}function r0(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var p=u[h];ma=p,Y5(p,o)}W5(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:nc(8,u,u.return),r0(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,r0(u));break;default:r0(u)}o=o.sibling}}function Y5(o,u){for(;ma!==null;){var h=ma;switch(h.tag){case 0:case 11:case 15:nc(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:af(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,ma=p;else e:for(h=o;ma!==null;){p=ma;var w=p.sibling,b=p.return;if(F5(p),p===h){ma=null;break e}if(w!==null){w.return=b,ma=w;break e}ma=b}}}var o8={getCacheForType:function(o){var u=Xi(ti),h=u.data.get(o);return h===void 0&&(h=o(),u.data.set(o,h)),h},cacheSignal:function(){return Xi(ti).controller.signal}},s8=typeof WeakMap=="function"?WeakMap:Map,Qn=0,Tr=null,En=null,Tn=0,cr=0,ls=null,rc=!1,lh=!1,ng=!1,Au=0,pi=0,ic=0,ff=0,rg=0,us=0,uh=0,Dd=null,zo=null,ig=!1,i0=0,K5=0,a0=1/0,o0=null,ac=null,Ki=0,oc=null,ch=null,Eu=0,ag=0,og=null,$5=null,Ld=0,sg=null;function cs(){return(Qn&2)!==0&&Tn!==0?Tn&-Tn:te.T!==null?dg():oi()}function Z5(){if(us===0)if((Tn&536870912)===0||An){var o=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),us=o}else us=536870912;return o=kr.current,o!==null&&(o.flags|=32),us}function Ho(o,u,h){(o===Tr&&(cr===2||cr===9)||o.cancelPendingCommit!==null)&&(fh(o,0),sc(o,Tn,us,!1)),Ot(o,h),((Qn&2)===0||o!==Tr)&&(o===Tr&&((Qn&2)===0&&(ff|=h),pi===4&&sc(o,Tn,us,!1)),Bl(o))}function Q5(o,u,h){if((Qn&6)!==0)throw Error(r(327));var p=!h&&(u&127)===0&&(u&o.expiredLanes)===0||Bi(o,u),w=p?c8(o,u):ug(o,u,!0),b=p;do{if(w===0){lh&&!p&&sc(o,u,0,!1);break}else{if(h=o.current.alternate,b&&!l8(h)){w=ug(o,u,!1),b=!1;continue}if(w===2){if(b=u,o.errorRecoveryDisabledLanes&b)var M=0;else M=o.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){u=M;e:{var K=o;w=Dd;var ge=K.current.memoizedState.isDehydrated;if(ge&&(fh(K,M).flags|=256),M=ug(K,M,!1),M!==2){if(ng&&!ge){K.errorRecoveryDisabledLanes|=b,ff|=b,w=4;break e}b=zo,zo=w,b!==null&&(zo===null?zo=b:zo.push.apply(zo,b))}w=M}if(b=!1,w!==2)continue}}if(w===1){fh(o,0),sc(o,u,0,!0);break}e:{switch(p=o,b=w,b){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:sc(p,u,us,!rc);break e;case 2:zo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(w=i0+300-Vt(),10<w)){if(sc(p,u,us,!rc),pn(p,0,!0)!==0)break e;Eu=u,p.timeoutHandle=I_(J5.bind(null,p,h,zo,o0,ig,u,us,ff,uh,rc,b,"Throttled",-0,0),w);break e}J5(p,h,zo,o0,ig,u,us,ff,uh,rc,b,null,-0,0)}}break}while(!0);Bl(o)}function J5(o,u,h,p,w,b,M,K,ge,De,qe,Ye,Me,Be){if(o.timeoutHandle=-1,Ye=u.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fo},G5(u,b,Ye);var _t=(b&62914560)===b?i0-Vt():(b&4194048)===b?K5-Vt():0;if(_t=W8(Ye,_t),_t!==null){Eu=b,o.cancelPendingCommit=_t(s_.bind(null,o,u,b,h,p,w,M,K,ge,qe,Ye,null,Me,Be)),sc(o,b,M,!De);return}}s_(o,u,b,h,p,w,M,K,ge)}function l8(o){for(var u=o;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var w=h[p],b=w.getSnapshot;w=w.value;try{if(!Hi(b(),w))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function sc(o,u,h,p){u&=~rg,u&=~ff,o.suspendedLanes|=u,o.pingedLanes&=~u,p&&(o.warmLanes|=u),p=o.expirationTimes;for(var w=u;0<w;){var b=31-on(w),M=1<<b;p[b]=-1,w&=~M}h!==0&&Ea(o,h,u)}function s0(){return(Qn&6)===0?(Pd(0),!1):!0}function lg(){if(En!==null){if(cr===0)var o=En.return;else o=En,Ns=Nl=null,Jf(o),Ze=null,bt=0,o=En;for(;o!==null;)R5(o.alternate,o),o=o.return;En=null}}function fh(o,u){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,N8(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Eu=0,lg(),Tr=o,En=h=Oo(o.current,null),Tn=u,cr=0,ls=null,rc=!1,lh=Bi(o,u),ng=!1,uh=us=rg=ff=ic=pi=0,zo=Dd=null,ig=!1,(u&8)!==0&&(u|=u&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=u;0<p;){var w=31-on(p),b=1<<w;u|=o[w],p&=~b}return Au=u,Qc(),h}function e_(o,u){kt=null,te.H=Ed,u===me||u===oe?(u=Ge(),cr=3):u===Ie?(u=Ge(),cr=4):cr=u===U2?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ls=u,En===null&&(pi=1,$1(o,Do(u,o.current)))}function t_(){var o=kr.current;return o===null?!0:(Tn&4194048)===Tn?Mn===null:(Tn&62914560)===Tn||(Tn&536870912)!==0?o===Mn:!1}function n_(){var o=te.H;return te.H=Ed,o===null?Ed:o}function r_(){var o=te.A;return te.A=o8,o}function l0(){pi=4,rc||(Tn&4194048)!==Tn&&kr.current!==null||(lh=!0),(ic&134217727)===0&&(ff&134217727)===0||Tr===null||sc(Tr,Tn,us,!1)}function ug(o,u,h){var p=Qn;Qn|=2;var w=n_(),b=r_();(Tr!==o||Tn!==u)&&(o0=null,fh(o,u)),u=!1;var M=pi;e:do try{if(cr!==0&&En!==null){var K=En,ge=ls;switch(cr){case 8:lg(),M=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(u=!0);var De=cr;if(cr=0,ls=null,hh(o,K,ge,De),h&&lh){M=0;break e}break;default:De=cr,cr=0,ls=null,hh(o,K,ge,De)}}u8(),M=pi;break}catch(qe){e_(o,qe)}while(!0);return u&&o.shellSuspendCounter++,Ns=Nl=null,Qn=p,te.H=w,te.A=b,En===null&&(Tr=null,Tn=0,Qc()),M}function u8(){for(;En!==null;)i_(En)}function c8(o,u){var h=Qn;Qn|=2;var p=n_(),w=r_();Tr!==o||Tn!==u?(o0=null,a0=Vt()+500,fh(o,u)):lh=Bi(o,u);e:do try{if(cr!==0&&En!==null){u=En;var b=ls;t:switch(cr){case 1:cr=0,ls=null,hh(o,u,b,1);break;case 2:case 9:if(Se(b)){cr=0,ls=null,a_(u);break}u=function(){cr!==2&&cr!==9||Tr!==o||(cr=7),Bl(o)},b.then(u,u);break e;case 3:cr=7;break e;case 4:cr=5;break e;case 7:Se(b)?(cr=0,ls=null,a_(u)):(cr=0,ls=null,hh(o,u,b,7));break;case 5:var M=null;switch(En.tag){case 26:M=En.memoizedState;case 5:case 27:var K=En;if(M?q_(M):K.stateNode.complete){cr=0,ls=null;var ge=K.sibling;if(ge!==null)En=ge;else{var De=K.return;De!==null?(En=De,u0(De)):En=null}break t}}cr=0,ls=null,hh(o,u,b,5);break;case 6:cr=0,ls=null,hh(o,u,b,6);break;case 8:lg(),pi=6;break e;default:throw Error(r(462))}}f8();break}catch(qe){e_(o,qe)}while(!0);return Ns=Nl=null,te.H=p,te.A=w,Qn=h,En!==null?0:(Tr=null,Tn=0,Qc(),pi)}function f8(){for(;En!==null&&!ot();)i_(En)}function i_(o){var u=N5(o.alternate,o,Au);o.memoizedProps=o.pendingProps,u===null?u0(o):En=u}function a_(o){var u=o,h=u.alternate;switch(u.tag){case 15:case 0:u=b5(h,u,u.pendingProps,u.type,void 0,Tn);break;case 11:u=b5(h,u,u.pendingProps,u.type.render,u.ref,Tn);break;case 5:Jf(u);default:R5(h,u),u=En=tf(u,Au),u=N5(h,u,Au)}o.memoizedProps=o.pendingProps,u===null?u0(o):En=u}function hh(o,u,h,p){Ns=Nl=null,Jf(u),Ze=null,bt=0;var w=u.return;try{if(JE(o,w,u,h,Tn)){pi=1,$1(o,Do(h,o.current)),En=null;return}}catch(b){if(w!==null)throw En=w,b;pi=1,$1(o,Do(h,o.current)),En=null;return}u.flags&32768?(An||p===1?o=!0:lh||(Tn&536870912)!==0?o=!1:(rc=o=!0,(p===2||p===9||p===3||p===6)&&(p=kr.current,p!==null&&p.tag===13&&(p.flags|=16384))),o_(u,o)):u0(u)}function u0(o){var u=o;do{if((u.flags&32768)!==0){o_(u,rc);return}o=u.return;var h=n8(u.alternate,u,Au);if(h!==null){En=h;return}if(u=u.sibling,u!==null){En=u;return}En=u=o}while(u!==null);pi===0&&(pi=5)}function o_(o,u){do{var h=r8(o.alternate,o);if(h!==null){h.flags&=32767,En=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(o=o.sibling,o!==null)){En=o;return}En=o=h}while(o!==null);pi=6,En=null}function s_(o,u,h,p,w,b,M,K,ge){o.cancelPendingCommit=null;do c0();while(Ki!==0);if((Qn&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(b=u.lanes|u.childLanes,b|=jf,Zo(o,h,b,M,K,ge),o===Tr&&(En=Tr=null,Tn=0),ch=u,oc=o,Eu=h,ag=b,og=w,$5=p,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,g8(Nt,function(){return h_(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||p){p=te.T,te.T=null,w=he.p,he.p=2,M=Qn,Qn|=4;try{i8(o,u,h)}finally{Qn=M,he.p=w,te.T=p}}Ki=1,l_(),u_(),c_()}}function l_(){if(Ki===1){Ki=0;var o=oc,u=ch,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=te.T,te.T=null;var p=he.p;he.p=2;var w=Qn;Qn|=4;try{z5(u,o);var b=xg,M=$s(o.containerInfo),K=b.focusedElem,ge=b.selectionRange;if(M!==K&&K&&K.ownerDocument&&Ks(K.ownerDocument.documentElement,K)){if(ge!==null&&Cs(K)){var De=ge.start,qe=ge.end;if(qe===void 0&&(qe=De),"selectionStart"in K)K.selectionStart=De,K.selectionEnd=Math.min(qe,K.value.length);else{var Ye=K.ownerDocument||document,Me=Ye&&Ye.defaultView||window;if(Me.getSelection){var Be=Me.getSelection(),_t=K.textContent.length,Zt=Math.min(ge.start,_t),br=ge.end===void 0?Zt:Math.min(ge.end,_t);!Be.extend&&Zt>br&&(M=br,br=Zt,Zt=M);var Ae=Gu(K,Zt),_e=Gu(K,br);if(Ae&&_e&&(Be.rangeCount!==1||Be.anchorNode!==Ae.node||Be.anchorOffset!==Ae.offset||Be.focusNode!==_e.node||Be.focusOffset!==_e.offset)){var Oe=Ye.createRange();Oe.setStart(Ae.node,Ae.offset),Be.removeAllRanges(),Zt>br?(Be.addRange(Oe),Be.extend(_e.node,_e.offset)):(Oe.setEnd(_e.node,_e.offset),Be.addRange(Oe))}}}}for(Ye=[],Be=K;Be=Be.parentNode;)Be.nodeType===1&&Ye.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Ye.length;K++){var Xe=Ye[K];Xe.element.scrollLeft=Xe.left,Xe.element.scrollTop=Xe.top}}b0=!!wg,xg=wg=null}finally{Qn=w,he.p=p,te.T=h}}o.current=u,Ki=2}}function u_(){if(Ki===2){Ki=0;var o=oc,u=ch,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=te.T,te.T=null;var p=he.p;he.p=2;var w=Qn;Qn|=4;try{B5(o,u.alternate,u)}finally{Qn=w,he.p=p,te.T=h}}Ki=3}}function c_(){if(Ki===4||Ki===3){Ki=0,ft();var o=oc,u=ch,h=Eu,p=$5;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ki=5:(Ki=0,ch=oc=null,f_(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(ac=null),gr(h),u=u.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(tn,u,void 0,(u.current.flags&128)===128)}catch{}if(p!==null){u=te.T,w=he.p,he.p=2,te.T=null;try{for(var b=o.onRecoverableError,M=0;M<p.length;M++){var K=p[M];b(K.value,{componentStack:K.stack})}}finally{te.T=u,he.p=w}}(Eu&3)!==0&&c0(),Bl(o),w=o.pendingLanes,(h&261930)!==0&&(w&42)!==0?o===sg?Ld++:(Ld=0,sg=o):Ld=0,Pd(0)}}function f_(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,af(u)))}function c0(){return l_(),u_(),c_(),h_()}function h_(){if(Ki!==5)return!1;var o=oc,u=ag;ag=0;var h=gr(Eu),p=te.T,w=he.p;try{he.p=32>h?32:h,te.T=null,h=og,og=null;var b=oc,M=Eu;if(Ki=0,ch=oc=null,Eu=0,(Qn&6)!==0)throw Error(r(331));var K=Qn;if(Qn|=4,X5(b.current),q5(b,b.current,M,h),Qn=K,Pd(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(tn,b)}catch{}return!0}finally{he.p=w,te.T=p,f_(o,u)}}function d_(o,u,h){u=Do(h,u),u=j2(o.stateNode,u,2),o=dn(o,u,2),o!==null&&(Ot(o,2),Bl(o))}function fr(o,u,h){if(o.tag===3)d_(o,o,h);else for(;u!==null;){if(u.tag===3){d_(u,o,h);break}else if(u.tag===1){var p=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ac===null||!ac.has(p))){o=Do(h,o),h=p5(2),p=dn(u,h,2),p!==null&&(g5(h,p,u,o),Ot(p,2),Bl(p));break}}u=u.return}}function cg(o,u,h){var p=o.pingCache;if(p===null){p=o.pingCache=new s8;var w=new Set;p.set(u,w)}else w=p.get(u),w===void 0&&(w=new Set,p.set(u,w));w.has(h)||(ng=!0,w.add(h),o=h8.bind(null,o,u,h),u.then(o,o))}function h8(o,u,h){var p=o.pingCache;p!==null&&p.delete(u),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Tr===o&&(Tn&h)===h&&(pi===4||pi===3&&(Tn&62914560)===Tn&&300>Vt()-i0?(Qn&2)===0&&fh(o,0):rg|=h,uh===Tn&&(uh=0)),Bl(o)}function p_(o,u){u===0&&(u=Ao()),o=Qs(o,u),o!==null&&(Ot(o,u),Bl(o))}function d8(o){var u=o.memoizedState,h=0;u!==null&&(h=u.retryLane),p_(o,h)}function p8(o,u){var h=0;switch(o.tag){case 31:case 13:var p=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(u),p_(o,h)}function g8(o,u){return rt(o,u)}var f0=null,dh=null,fg=!1,h0=!1,hg=!1,lc=0;function Bl(o){o!==dh&&o.next===null&&(dh===null?f0=dh=o:dh=dh.next=o),h0=!0,fg||(fg=!0,m8())}function Pd(o,u){if(!hg&&h0){hg=!0;do for(var h=!1,p=f0;p!==null;){if(o!==0){var w=p.pendingLanes;if(w===0)var b=0;else{var M=p.suspendedLanes,K=p.pingedLanes;b=(1<<31-on(42|o)+1)-1,b&=w&~(M&~K),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(h=!0,y_(p,b))}else b=Tn,b=pn(p,p===Tr?b:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(b&3)===0||Bi(p,b)||(h=!0,y_(p,b));p=p.next}while(h);hg=!1}}function v8(){g_()}function g_(){h0=fg=!1;var o=0;lc!==0&&T8()&&(o=lc);for(var u=Vt(),h=null,p=f0;p!==null;){var w=p.next,b=v_(p,u);b===0?(p.next=null,h===null?f0=w:h.next=w,w===null&&(dh=h)):(h=p,(o!==0||(b&3)!==0)&&(h0=!0)),p=w}Ki!==0&&Ki!==5||Pd(o),lc!==0&&(lc=0)}function v_(o,u){for(var h=o.suspendedLanes,p=o.pingedLanes,w=o.expirationTimes,b=o.pendingLanes&-62914561;0<b;){var M=31-on(b),K=1<<M,ge=w[M];ge===-1?((K&h)===0||(K&p)!==0)&&(w[M]=Ci(K,u)):ge<=u&&(o.expiredLanes|=K),b&=~K}if(u=Tr,h=Tn,h=pn(o,o===u?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,h===0||o===u&&(cr===2||cr===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&$e(p),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Bi(o,h)){if(u=h&-h,u===o.callbackPriority)return u;switch(p!==null&&$e(p),gr(h)){case 2:case 8:h=sn;break;case 32:h=Nt;break;case 268435456:h=Yt;break;default:h=Nt}return p=m_.bind(null,o),h=rt(h,p),o.callbackPriority=u,o.callbackNode=h,u}return p!==null&&p!==null&&$e(p),o.callbackPriority=2,o.callbackNode=null,2}function m_(o,u){if(Ki!==0&&Ki!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(c0()&&o.callbackNode!==h)return null;var p=Tn;return p=pn(o,o===Tr?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(Q5(o,p,u),v_(o,Vt()),o.callbackNode!=null&&o.callbackNode===h?m_.bind(null,o):null)}function y_(o,u){if(c0())return null;Q5(o,u,!0)}function m8(){I8(function(){(Qn&6)!==0?rt(Bt,v8):g_()})}function dg(){if(lc===0){var o=m;o===0&&(o=Ht,Ht<<=1,(Ht&261888)===0&&(Ht=256)),lc=o}return lc}function __(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ca(""+o)}function w_(o,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,o.id&&h.setAttribute("form",o.id),u.parentNode.insertBefore(h,u),o=new FormData(o),h.parentNode.removeChild(h),o}function y8(o,u,h,p,w){if(u==="submit"&&h&&h.stateNode===w){var b=__((w[sr]||null).action),M=p.submitter;M&&(u=(u=M[sr]||null)?__(u.formAction):M.getAttribute("formAction"),u!==null&&(b=u,M=null));var K=new Ii("action","action",null,p,w);o.push({event:K,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(lc!==0){var ge=M?w_(w,M):new FormData(w);L2(h,{pending:!0,data:ge,method:w.method,action:b},null,ge)}}else typeof b=="function"&&(K.preventDefault(),ge=M?w_(w,M):new FormData(w),L2(h,{pending:!0,data:ge,method:w.method,action:b},b,ge))},currentTarget:w}]})}}for(var pg=0;pg<uu.length;pg++){var gg=uu[pg],_8=gg.toLowerCase(),w8=gg[0].toUpperCase()+gg.slice(1);Ro(_8,"on"+w8)}Ro(lu,"onAnimationEnd"),Ro($c,"onAnimationIteration"),Ro(ud,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(B1,"onTransitionRun"),Ro(F1,"onTransitionStart"),Ro(j1,"onTransitionCancel"),Ro(cd,"onTransitionEnd"),co("onMouseEnter",["mouseout","mouseover"]),co("onMouseLeave",["mouseout","mouseover"]),co("onPointerEnter",["pointerout","pointerover"]),co("onPointerLeave",["pointerout","pointerover"]),Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function x_(o,u){u=(u&4)!==0;for(var h=0;h<o.length;h++){var p=o[h],w=p.event;p=p.listeners;e:{var b=void 0;if(u)for(var M=p.length-1;0<=M;M--){var K=p[M],ge=K.instance,De=K.currentTarget;if(K=K.listener,ge!==b&&w.isPropagationStopped())break e;b=K,w.currentTarget=De;try{b(w)}catch(qe){Zc(qe)}w.currentTarget=null,b=ge}else for(M=0;M<p.length;M++){if(K=p[M],ge=K.instance,De=K.currentTarget,K=K.listener,ge!==b&&w.isPropagationStopped())break e;b=K,w.currentTarget=De;try{b(w)}catch(qe){Zc(qe)}w.currentTarget=null,b=ge}}}}function Sn(o,u){var h=u[sa];h===void 0&&(h=u[sa]=new Set);var p=o+"__bubble";h.has(p)||(b_(u,o,2,!1),h.add(p))}function vg(o,u,h){var p=0;u&&(p|=4),b_(h,o,p,u)}var d0="_reactListening"+Math.random().toString(36).slice(2);function mg(o){if(!o[d0]){o[d0]=!0,vl.forEach(function(h){h!=="selectionchange"&&(x8.has(h)||vg(h,!1,o),vg(h,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[d0]||(u[d0]=!0,vg("selectionchange",!1,u))}}function b_(o,u,h,p){switch(Z_(u)){case 2:var w=K8;break;case 8:w=$8;break;default:w=Dg}h=w.bind(null,u,h,o),w=void 0,!zs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),p?w!==void 0?o.addEventListener(u,h,{capture:!0,passive:w}):o.addEventListener(u,h,!0):w!==void 0?o.addEventListener(u,h,{passive:w}):o.addEventListener(u,h,!1)}function yg(o,u,h,p,w){var b=p;if((u&1)===0&&(u&2)===0&&p!==null)e:for(;;){if(p===null)return;var M=p.tag;if(M===3||M===4){var K=p.stateNode.containerInfo;if(K===w)break;if(M===4)for(M=p.return;M!==null;){var ge=M.tag;if((ge===3||ge===4)&&M.stateNode.containerInfo===w)return;M=M.return}for(;K!==null;){if(M=Sa(K),M===null)return;if(ge=M.tag,ge===5||ge===6||ge===26||ge===27){p=b=M;continue e}K=K.parentNode}}p=p.return}ys(function(){var De=b,qe=fa(h),Ye=[];e:{var Me=fd.get(o);if(Me!==void 0){var Be=Ii,_t=o;switch(o){case"keypress":if(Ia(h)===0)break e;case"keydown":case"keyup":Be=wn;break;case"focusin":_t="focus",Be=po;break;case"focusout":_t="blur",Be=po;break;case"beforeblur":case"afterblur":Be=po;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=T;break;case lu:case $c:case ud:Be=E;break;case cd:Be=ee;break;case"scroll":case"scrollend":Be=_s;break;case"wheel":Be=Pe;break;case"copy":case"cut":case"paste":Be=se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=rr;break;case"toggle":case"beforetoggle":Be=en}var Zt=(u&4)!==0,br=!Zt&&(o==="scroll"||o==="scrollend"),Ae=Zt?Me!==null?Me+"Capture":null:Me;Zt=[];for(var _e=De,Oe;_e!==null;){var Xe=_e;if(Oe=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||Oe===null||Ae===null||(Xe=yi(_e,Ae),Xe!=null&&Zt.push(kd(_e,Xe,Oe))),br)break;_e=_e.return}0<Zt.length&&(Me=new Be(Me,_t,null,h,qe),Ye.push({event:Me,listeners:Zt}))}}if((u&7)===0){e:{if(Me=o==="mouseover"||o==="pointerover",Be=o==="mouseout"||o==="pointerout",Me&&h!==ns&&(_t=h.relatedTarget||h.fromElement)&&(Sa(_t)||_t[si]))break e;if((Be||Me)&&(Me=qe.window===qe?qe:(Me=qe.ownerDocument)?Me.defaultView||Me.parentWindow:window,Be?(_t=h.relatedTarget||h.toElement,Be=De,_t=_t?Sa(_t):null,_t!==null&&(br=a(_t),Zt=_t.tag,_t!==br||Zt!==5&&Zt!==27&&Zt!==6)&&(_t=null)):(Be=null,_t=De),Be!==_t)){if(Zt=bl,Xe="onMouseLeave",Ae="onMouseEnter",_e="mouse",(o==="pointerout"||o==="pointerover")&&(Zt=rr,Xe="onPointerLeave",Ae="onPointerEnter",_e="pointer"),br=Be==null?Me:Ca(Be),Oe=_t==null?Me:Ca(_t),Me=new Zt(Xe,_e+"leave",Be,h,qe),Me.target=br,Me.relatedTarget=Oe,Xe=null,Sa(qe)===De&&(Zt=new Zt(Ae,_e+"enter",_t,h,qe),Zt.target=Oe,Zt.relatedTarget=br,Xe=Zt),br=Xe,Be&&_t)t:{for(Zt=b8,Ae=Be,_e=_t,Oe=0,Xe=Ae;Xe;Xe=Zt(Xe))Oe++;Xe=0;for(var Ut=_e;Ut;Ut=Zt(Ut))Xe++;for(;0<Oe-Xe;)Ae=Zt(Ae),Oe--;for(;0<Xe-Oe;)_e=Zt(_e),Xe--;for(;Oe--;){if(Ae===_e||_e!==null&&Ae===_e.alternate){Zt=Ae;break t}Ae=Zt(Ae),_e=Zt(_e)}Zt=null}else Zt=null;Be!==null&&A_(Ye,Me,Be,Zt,!1),_t!==null&&br!==null&&A_(Ye,br,_t,Zt,!0)}}e:{if(Me=De?Ca(De):window,Be=Me.nodeName&&Me.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Me.type==="file")var Xn=El;else if(Yc(Me))if($a)Xn=Es;else{Xn=Jr;var Tt=Hu}else Be=Me.nodeName,!Be||Be.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?De&&_l(De.elementType)&&(Xn=El):Xn=Ff;if(Xn&&(Xn=Xn(o,De))){vo(Ye,Xn,h,qe);break e}Tt&&Tt(o,Me,De),o==="focusout"&&De&&Me.type==="number"&&De.memoizedProps.value!=null&&tu(Me,"number",Me.value)}switch(Tt=De?Ca(De):window,o){case"focusin":(Yc(Tt)||Tt.contentEditable==="true")&&(mo=Tt,Zs=De,ha=null);break;case"focusout":ha=Zs=mo=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,Un(Ye,h,qe);break;case"selectionchange":if(su)break;case"keydown":case"keyup":Un(Ye,h,qe)}var gn;if(vn)e:{switch(o){case"compositionstart":var Nn="onCompositionStart";break e;case"compositionend":Nn="onCompositionEnd";break e;case"compositionupdate":Nn="onCompositionUpdate";break e}Nn=void 0}else xs?go(o,h)&&(Nn="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Nn="onCompositionStart");Nn&&(Vi&&h.locale!=="ko"&&(xs||Nn!=="onCompositionStart"?Nn==="onCompositionEnd"&&xs&&(gn=au()):(Na=qe,Hs="value"in Na?Na.value:Na.textContent,xs=!0)),Tt=p0(De,Nn),0<Tt.length&&(Nn=new be(Nn,o,null,h,qe),Ye.push({event:Nn,listeners:Tt}),gn?Nn.data=gn:(gn=ws(h),gn!==null&&(Nn.data=gn)))),(gn=Ri?Da(o,h):Gs(o,h))&&(Nn=p0(De,"onBeforeInput"),0<Nn.length&&(Tt=new be("onBeforeInput","beforeinput",null,h,qe),Ye.push({event:Tt,listeners:Nn}),Tt.data=gn)),y8(Ye,o,De,h,qe)}x_(Ye,u)})}function kd(o,u,h){return{instance:o,listener:u,currentTarget:h}}function p0(o,u){for(var h=u+"Capture",p=[];o!==null;){var w=o,b=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||b===null||(w=yi(o,h),w!=null&&p.unshift(kd(o,w,b)),w=yi(o,u),w!=null&&p.push(kd(o,w,b))),o.tag===3)return p;o=o.return}return[]}function b8(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function A_(o,u,h,p,w){for(var b=u._reactName,M=[];h!==null&&h!==p;){var K=h,ge=K.alternate,De=K.stateNode;if(K=K.tag,ge!==null&&ge===p)break;K!==5&&K!==26&&K!==27||De===null||(ge=De,w?(De=yi(h,b),De!=null&&M.unshift(kd(h,De,ge))):w||(De=yi(h,b),De!=null&&M.push(kd(h,De,ge)))),h=h.return}M.length!==0&&o.push({event:u,listeners:M})}var A8=/\r\n?/g,E8=/\u0000|\uFFFD/g;function E_(o){return(typeof o=="string"?o:""+o).replace(A8,`
`).replace(E8,"")}function S_(o,u){return u=E_(u),E_(o)===u}function xr(o,u,h,p,w,b){switch(h){case"children":typeof p=="string"?u==="body"||u==="textarea"&&p===""||mi(o,p):(typeof p=="number"||typeof p=="bigint")&&u!=="body"&&mi(o,""+p);break;case"className":Ni(o,"class",p);break;case"tabIndex":Ni(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(o,h,p);break;case"style":iu(o,p,b);break;case"data":if(u!=="object"){Ni(o,"data",p);break}case"src":case"href":if(p===""&&(u!=="a"||h!=="href")){o.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=ca(""+p),o.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(h==="formAction"?(u!=="input"&&xr(o,u,"name",w.name,w,null),xr(o,u,"formEncType",w.formEncType,w,null),xr(o,u,"formMethod",w.formMethod,w,null),xr(o,u,"formTarget",w.formTarget,w,null)):(xr(o,u,"encType",w.encType,w,null),xr(o,u,"method",w.method,w,null),xr(o,u,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=ca(""+p),o.setAttribute(h,p);break;case"onClick":p!=null&&(o.onclick=fo);break;case"onScroll":p!=null&&Sn("scroll",o);break;case"onScrollEnd":p!=null&&Sn("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(h=p.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}h=ca(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""+p):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":p===!0?o.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,p):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(h,p):o.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(h):o.setAttribute(h,p);break;case"popover":Sn("beforetoggle",o),Sn("toggle",o),Ta(o,"popover",p);break;case"xlinkActuate":qr(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":qr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":qr(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":qr(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":qr(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":qr(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":qr(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":qr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":qr(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Ta(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=wl.get(h)||h,Ta(o,h,p))}}function _g(o,u,h,p,w,b){switch(h){case"style":iu(o,p,b);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(h=p.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof p=="string"?mi(o,p):(typeof p=="number"||typeof p=="bigint")&&mi(o,""+p);break;case"onScroll":p!=null&&Sn("scroll",o);break;case"onScrollEnd":p!=null&&Sn("scrollend",o);break;case"onClick":p!=null&&(o.onclick=fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),u=h.slice(2,w?h.length-7:void 0),b=o[sr]||null,b=b!=null?b[h]:null,typeof b=="function"&&o.removeEventListener(u,b,w),typeof p=="function")){typeof b!="function"&&b!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(u,p,w);break e}h in o?o[h]=p:p===!0?o.setAttribute(h,""):Ta(o,h,p)}}}function Ba(o,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Sn("error",o),Sn("load",o);var p=!1,w=!1,b;for(b in h)if(h.hasOwnProperty(b)){var M=h[b];if(M!=null)switch(b){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:xr(o,u,b,M,h,null)}}w&&xr(o,u,"srcSet",h.srcSet,h,null),p&&xr(o,u,"src",h.src,h,null);return;case"input":Sn("invalid",o);var K=b=M=w=null,ge=null,De=null;for(p in h)if(h.hasOwnProperty(p)){var qe=h[p];if(qe!=null)switch(p){case"name":w=qe;break;case"type":M=qe;break;case"checked":ge=qe;break;case"defaultChecked":De=qe;break;case"value":b=qe;break;case"defaultValue":K=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,u));break;default:xr(o,u,p,qe,h,null)}}Uu(o,b,K,ge,De,M,w,!1);return;case"select":Sn("invalid",o),p=M=b=null;for(w in h)if(h.hasOwnProperty(w)&&(K=h[w],K!=null))switch(w){case"value":b=K;break;case"defaultValue":M=K;break;case"multiple":p=K;default:xr(o,u,w,K,h,null)}u=b,h=M,o.multiple=!!p,u!=null?Ui(o,!!p,u,!1):h!=null&&Ui(o,!!p,h,!0);return;case"textarea":Sn("invalid",o),b=w=p=null;for(M in h)if(h.hasOwnProperty(M)&&(K=h[M],K!=null))switch(M){case"value":p=K;break;case"defaultValue":w=K;break;case"children":b=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:xr(o,u,M,K,h,null)}es(o,p,w,b);return;case"option":for(ge in h)if(h.hasOwnProperty(ge)&&(p=h[ge],p!=null))switch(ge){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:xr(o,u,ge,p,h,null)}return;case"dialog":Sn("beforetoggle",o),Sn("toggle",o),Sn("cancel",o),Sn("close",o);break;case"iframe":case"object":Sn("load",o);break;case"video":case"audio":for(p=0;p<Md.length;p++)Sn(Md[p],o);break;case"image":Sn("error",o),Sn("load",o);break;case"details":Sn("toggle",o);break;case"embed":case"source":case"link":Sn("error",o),Sn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in h)if(h.hasOwnProperty(De)&&(p=h[De],p!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:xr(o,u,De,p,h,null)}return;default:if(_l(u)){for(qe in h)h.hasOwnProperty(qe)&&(p=h[qe],p!==void 0&&_g(o,u,qe,p,h,void 0));return}}for(K in h)h.hasOwnProperty(K)&&(p=h[K],p!=null&&xr(o,u,K,p,h,null))}function S8(o,u,h,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,b=null,M=null,K=null,ge=null,De=null,qe=null;for(Be in h){var Ye=h[Be];if(h.hasOwnProperty(Be)&&Ye!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":ge=Ye;default:p.hasOwnProperty(Be)||xr(o,u,Be,null,p,Ye)}}for(var Me in p){var Be=p[Me];if(Ye=h[Me],p.hasOwnProperty(Me)&&(Be!=null||Ye!=null))switch(Me){case"type":b=Be;break;case"name":w=Be;break;case"checked":De=Be;break;case"defaultChecked":qe=Be;break;case"value":M=Be;break;case"defaultValue":K=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,u));break;default:Be!==Ye&&xr(o,u,Me,Be,p,Ye)}}Us(o,M,K,ge,De,qe,b,w);return;case"select":Be=M=K=Me=null;for(b in h)if(ge=h[b],h.hasOwnProperty(b)&&ge!=null)switch(b){case"value":break;case"multiple":Be=ge;default:p.hasOwnProperty(b)||xr(o,u,b,null,p,ge)}for(w in p)if(b=p[w],ge=h[w],p.hasOwnProperty(w)&&(b!=null||ge!=null))switch(w){case"value":Me=b;break;case"defaultValue":K=b;break;case"multiple":M=b;default:b!==ge&&xr(o,u,w,b,p,ge)}u=K,h=M,p=Be,Me!=null?Ui(o,!!h,Me,!1):!!p!=!!h&&(u!=null?Ui(o,!!h,u,!0):Ui(o,!!h,h?[]:"",!1));return;case"textarea":Be=Me=null;for(K in h)if(w=h[K],h.hasOwnProperty(K)&&w!=null&&!p.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:xr(o,u,K,null,p,w)}for(M in p)if(w=p[M],b=h[M],p.hasOwnProperty(M)&&(w!=null||b!=null))switch(M){case"value":Me=w;break;case"defaultValue":Be=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==b&&xr(o,u,M,w,p,b)}nu(o,Me,Be);return;case"option":for(var _t in h)if(Me=h[_t],h.hasOwnProperty(_t)&&Me!=null&&!p.hasOwnProperty(_t))switch(_t){case"selected":o.selected=!1;break;default:xr(o,u,_t,null,p,Me)}for(ge in p)if(Me=p[ge],Be=h[ge],p.hasOwnProperty(ge)&&Me!==Be&&(Me!=null||Be!=null))switch(ge){case"selected":o.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:xr(o,u,ge,Me,p,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in h)Me=h[Zt],h.hasOwnProperty(Zt)&&Me!=null&&!p.hasOwnProperty(Zt)&&xr(o,u,Zt,null,p,Me);for(De in p)if(Me=p[De],Be=h[De],p.hasOwnProperty(De)&&Me!==Be&&(Me!=null||Be!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,u));break;default:xr(o,u,De,Me,p,Be)}return;default:if(_l(u)){for(var br in h)Me=h[br],h.hasOwnProperty(br)&&Me!==void 0&&!p.hasOwnProperty(br)&&_g(o,u,br,void 0,p,Me);for(qe in p)Me=p[qe],Be=h[qe],!p.hasOwnProperty(qe)||Me===Be||Me===void 0&&Be===void 0||_g(o,u,qe,Me,p,Be);return}}for(var Ae in h)Me=h[Ae],h.hasOwnProperty(Ae)&&Me!=null&&!p.hasOwnProperty(Ae)&&xr(o,u,Ae,null,p,Me);for(Ye in p)Me=p[Ye],Be=h[Ye],!p.hasOwnProperty(Ye)||Me===Be||Me==null&&Be==null||xr(o,u,Ye,Me,p,Be)}function C_(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function C8(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,h=performance.getEntriesByType("resource"),p=0;p<h.length;p++){var w=h[p],b=w.transferSize,M=w.initiatorType,K=w.duration;if(b&&K&&C_(M)){for(M=0,K=w.responseEnd,p+=1;p<h.length;p++){var ge=h[p],De=ge.startTime;if(De>K)break;var qe=ge.transferSize,Ye=ge.initiatorType;qe&&C_(Ye)&&(ge=ge.responseEnd,M+=qe*(ge<K?1:(K-De)/(ge-De)))}if(--p,u+=8*(b+M)/(w.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var wg=null,xg=null;function g0(o){return o.nodeType===9?o:o.ownerDocument}function T_(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function bg(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ag=null;function T8(){var o=window.event;return o&&o.type==="popstate"?o===Ag?!1:(Ag=o,!0):(Ag=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,N8=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,I8=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(o){return R_.resolve(null).then(o).catch(R8)}:I_;function R8(o){setTimeout(function(){throw o})}function uc(o){return o==="head"}function O_(o,u){var h=u,p=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(p===0){o.removeChild(w),mh(u);return}p--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")p++;else if(h==="html")Bd(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,Bd(h);for(var b=h.firstChild;b;){var M=b.nextSibling,K=b.nodeName;b[la]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=M}}else h==="body"&&Bd(o.ownerDocument.body);h=w}while(h);mh(u)}function D_(o,u){var h=o;o=0;do{var p=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),p&&p.nodeType===8)if(h=p.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=p}while(h)}function Eg(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Eg(h),Qo(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function O8(o,u,h,p){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[la])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(b=o.getAttribute("rel"),b==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(b!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(b=o.getAttribute("src"),(b!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&b&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var b=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===b)return o}else return o;if(o=Os(o.nextSibling),o===null)break}return null}function D8(o,u,h){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Os(o.nextSibling),o===null))return null;return o}function L_(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=Os(o.nextSibling),o===null))return null;return o}function Sg(o){return o.data==="$?"||o.data==="$~"}function Cg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function L8(o,u){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||h.readyState!=="loading")u();else{var p=function(){u(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function Os(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var Tg=null;function P_(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(u===0)return Os(o.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}o=o.nextSibling}return null}function M_(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return o;u--}else h!=="/$"&&h!=="/&"||u++}o=o.previousSibling}return null}function k_(o,u,h){switch(u=g0(h),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Bd(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Qo(o)}var Ds=new Map,B_=new Set;function v0(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Su=he.d;he.d={f:P8,r:M8,D:k8,C:B8,L:F8,m:j8,X:V8,S:U8,M:z8};function P8(){var o=Su.f(),u=s0();return o||u}function M8(o){var u=ji(o);u!==null&&u.tag===5&&u.type==="form"?e5(u):Su.r(o)}var ph=typeof document>"u"?null:document;function F_(o,u,h){var p=ph;if(p&&typeof u=="string"&&u){var w=Gr(u);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),B_.has(w)||(B_.add(w),o={rel:o,crossOrigin:h,href:u},p.querySelector(w)===null&&(u=p.createElement("link"),Ba(u,"link",o),Lr(u),p.head.appendChild(u)))}}function k8(o){Su.D(o),F_("dns-prefetch",o,null)}function B8(o,u){Su.C(o,u),F_("preconnect",o,u)}function F8(o,u,h){Su.L(o,u,h);var p=ph;if(p&&o&&u){var w='link[rel="preload"][as="'+Gr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+Gr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+Gr(h.imageSizes)+'"]')):w+='[href="'+Gr(o)+'"]';var b=w;switch(u){case"style":b=gh(o);break;case"script":b=vh(o)}Ds.has(b)||(o=g({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:o,as:u},h),Ds.set(b,o),p.querySelector(w)!==null||u==="style"&&p.querySelector(Fd(b))||u==="script"&&p.querySelector(jd(b))||(u=p.createElement("link"),Ba(u,"link",o),Lr(u),p.head.appendChild(u)))}}function j8(o,u){Su.m(o,u);var h=ph;if(h&&o){var p=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+Gr(p)+'"][href="'+Gr(o)+'"]',b=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=vh(o)}if(!Ds.has(b)&&(o=g({rel:"modulepreload",href:o},u),Ds.set(b,o),h.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(jd(b)))return}p=h.createElement("link"),Ba(p,"link",o),Lr(p),h.head.appendChild(p)}}}function U8(o,u,h){Su.S(o,u,h);var p=ph;if(p&&o){var w=Wa(p).hoistableStyles,b=gh(o);u=u||"default";var M=w.get(b);if(!M){var K={loading:0,preload:null};if(M=p.querySelector(Fd(b)))K.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":u},h),(h=Ds.get(b))&&Ng(o,h);var ge=M=p.createElement("link");Lr(ge),Ba(ge,"link",o),ge._p=new Promise(function(De,qe){ge.onload=De,ge.onerror=qe}),ge.addEventListener("load",function(){K.loading|=1}),ge.addEventListener("error",function(){K.loading|=2}),K.loading|=4,m0(M,u,p)}M={type:"stylesheet",instance:M,count:1,state:K},w.set(b,M)}}}function V8(o,u){Su.X(o,u);var h=ph;if(h&&o){var p=Wa(h).hoistableScripts,w=vh(o),b=p.get(w);b||(b=h.querySelector(jd(w)),b||(o=g({src:o,async:!0},u),(u=Ds.get(w))&&Ig(o,u),b=h.createElement("script"),Lr(b),Ba(b,"link",o),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(w,b))}}function z8(o,u){Su.M(o,u);var h=ph;if(h&&o){var p=Wa(h).hoistableScripts,w=vh(o),b=p.get(w);b||(b=h.querySelector(jd(w)),b||(o=g({src:o,async:!0,type:"module"},u),(u=Ds.get(w))&&Ig(o,u),b=h.createElement("script"),Lr(b),Ba(b,"link",o),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(w,b))}}function j_(o,u,h,p){var w=(w=de.current)?v0(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=gh(h.href),h=Wa(w).hoistableStyles,p=h.get(u),p||(p={type:"style",instance:null,count:0,state:null},h.set(u,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=gh(h.href);var b=Wa(w).hoistableStyles,M=b.get(o);if(M||(w=w.ownerDocument||w,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(o,M),(b=w.querySelector(Fd(o)))&&!b._p&&(M.instance=b,M.state.loading=5),Ds.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ds.set(o,h),b||H8(w,o,h,M.state))),u&&p===null)throw Error(r(528,""));return M}if(u&&p!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=vh(h),h=Wa(w).hoistableScripts,p=h.get(u),p||(p={type:"script",instance:null,count:0,state:null},h.set(u,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function gh(o){return'href="'+Gr(o)+'"'}function Fd(o){return'link[rel="stylesheet"]['+o+"]"}function U_(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function H8(o,u,h,p){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?p.loading=1:(u=o.createElement("link"),p.preload=u,u.addEventListener("load",function(){return p.loading|=1}),u.addEventListener("error",function(){return p.loading|=2}),Ba(u,"link",h),Lr(u),o.head.appendChild(u))}function vh(o){return'[src="'+Gr(o)+'"]'}function jd(o){return"script[async]"+o}function V_(o,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var p=o.querySelector('style[data-href~="'+Gr(h.href)+'"]');if(p)return u.instance=p,Lr(p),p;var w=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Lr(p),Ba(p,"style",w),m0(p,h.precedence,o),u.instance=p;case"stylesheet":w=gh(h.href);var b=o.querySelector(Fd(w));if(b)return u.state.loading|=4,u.instance=b,Lr(b),b;p=U_(h),(w=Ds.get(w))&&Ng(p,w),b=(o.ownerDocument||o).createElement("link"),Lr(b);var M=b;return M._p=new Promise(function(K,ge){M.onload=K,M.onerror=ge}),Ba(b,"link",p),u.state.loading|=4,m0(b,h.precedence,o),u.instance=b;case"script":return b=vh(h.src),(w=o.querySelector(jd(b)))?(u.instance=w,Lr(w),w):(p=h,(w=Ds.get(b))&&(p=g({},h),Ig(p,w)),o=o.ownerDocument||o,w=o.createElement("script"),Lr(w),Ba(w,"link",p),o.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(p=u.instance,u.state.loading|=4,m0(p,h.precedence,o));return u.instance}function m0(o,u,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,b=w,M=0;M<p.length;M++){var K=p[M];if(K.dataset.precedence===u)b=K;else if(b!==w)break}b?b.parentNode.insertBefore(o,b.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(o,u.firstChild))}function Ng(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function Ig(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var y0=null;function z_(o,u,h){if(y0===null){var p=new Map,w=y0=new Map;w.set(h,p)}else w=y0,p=w.get(h),p||(p=new Map,w.set(h,p));if(p.has(o))return p;for(p.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var b=h[w];if(!(b[la]||b[qn]||o==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(u)||"";M=o+M;var K=p.get(M);K?K.push(b):p.set(M,[b])}}return p}function H_(o,u,h){o=o.ownerDocument||o,o.head.insertBefore(h,u==="title"?o.querySelector("head > title"):null)}function q8(o,u,h){if(h===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function q_(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function G8(o,u,h,p){if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=gh(p.href),b=u.querySelector(Fd(w));if(b){u=b._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=_0.bind(o),u.then(o,o)),h.state.loading|=4,h.instance=b,Lr(b);return}b=u.ownerDocument||u,p=U_(p),(w=Ds.get(w))&&Ng(p,w),b=b.createElement("link"),Lr(b);var M=b;M._p=new Promise(function(K,ge){M.onload=K,M.onerror=ge}),Ba(b,"link",p),h.instance=b}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=_0.bind(o),u.addEventListener("load",h),u.addEventListener("error",h))}}var Rg=0;function W8(o,u){return o.stylesheets&&o.count===0&&x0(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var p=setTimeout(function(){if(o.stylesheets&&x0(o,o.stylesheets),o.unsuspend){var b=o.unsuspend;o.unsuspend=null,b()}},6e4+u);0<o.imgBytes&&Rg===0&&(Rg=62500*C8());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&x0(o,o.stylesheets),o.unsuspend)){var b=o.unsuspend;o.unsuspend=null,b()}},(o.imgBytes>Rg?50:800)+u);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(w)}}:null}function _0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)x0(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var w0=null;function x0(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,w0=new Map,u.forEach(X8,o),w0=null,_0.call(o))}function X8(o,u){if(!(u.state.loading&4)){var h=w0.get(o);if(h)var p=h.get(null);else{h=new Map,w0.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<w.length;b++){var M=w[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(h.set(M.dataset.precedence,M),p=M)}p&&h.set(null,p)}w=u.instance,M=w.getAttribute("data-precedence"),b=h.get(M)||p,b===p&&h.set(null,w),h.set(M,w),this.count++,p=_0.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),b?b.parentNode.insertBefore(w,b.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),u.state.loading|=4}}var Ud={$$typeof:q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Y8(o,u,h,p,w,b,M,K,ge){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function G_(o,u,h,p,w,b,M,K,ge,De,qe,Ye){return o=new Y8(o,u,h,M,ge,De,qe,Ye,K),u=1,b===!0&&(u|=24),b=pa(3,null,null,u),o.current=b,b.stateNode=o,u=Zu(),u.refCount++,o.pooledCache=u,u.refCount++,b.memoizedState={element:p,isDehydrated:h,cache:u},lt(b),o}function W_(o){return o?(o=qi,o):qi}function X_(o,u,h,p,w,b){w=W_(w),p.context===null?p.context=w:p.pendingContext=w,p=$t(u),p.payload={element:h},b=b===void 0?null:b,b!==null&&(p.callback=b),h=dn(o,p,u),h!==null&&(Ho(h,o,u),$n(h,o,u))}function Y_(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<u?h:u}}function Og(o,u){Y_(o,u),(o=o.alternate)&&Y_(o,u)}function K_(o){if(o.tag===13||o.tag===31){var u=Qs(o,67108864);u!==null&&Ho(u,o,67108864),Og(o,67108864)}}function $_(o){if(o.tag===13||o.tag===31){var u=cs();u=nr(u);var h=Qs(o,u);h!==null&&Ho(h,o,u),Og(o,u)}}var b0=!0;function K8(o,u,h,p){var w=te.T;te.T=null;var b=he.p;try{he.p=2,Dg(o,u,h,p)}finally{he.p=b,te.T=w}}function $8(o,u,h,p){var w=te.T;te.T=null;var b=he.p;try{he.p=8,Dg(o,u,h,p)}finally{he.p=b,te.T=w}}function Dg(o,u,h,p){if(b0){var w=Lg(p);if(w===null)yg(o,u,p,A0,h),Q_(o,p);else if(Q8(w,o,u,h,p))p.stopPropagation();else if(Q_(o,p),u&4&&-1<Z8.indexOf(o)){for(;w!==null;){var b=ji(w);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=Ct(b.pendingLanes);if(M!==0){var K=b;for(K.pendingLanes|=2,K.entangledLanes|=2;M;){var ge=1<<31-on(M);K.entanglements[1]|=ge,M&=~ge}Bl(b),(Qn&6)===0&&(a0=Vt()+500,Pd(0))}}break;case 31:case 13:K=Qs(b,2),K!==null&&Ho(K,b,2),s0(),Og(b,2)}if(b=Lg(p),b===null&&yg(o,u,p,A0,h),b===w)break;w=b}w!==null&&p.stopPropagation()}else yg(o,u,p,null,h)}}function Lg(o){return o=fa(o),Pg(o)}var A0=null;function Pg(o){if(A0=null,o=Sa(o),o!==null){var u=a(o);if(u===null)o=null;else{var h=u.tag;if(h===13){if(o=s(u),o!==null)return o;o=null}else if(h===31){if(o=l(u),o!==null)return o;o=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return A0=o,null}function Z_(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case Bt:return 2;case sn:return 8;case Nt:case ht:return 32;case Yt:return 268435456;default:return 32}default:return 32}}var Mg=!1,cc=null,fc=null,hc=null,Vd=new Map,zd=new Map,dc=[],Z8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(o,u){switch(o){case"focusin":case"focusout":cc=null;break;case"dragenter":case"dragleave":fc=null;break;case"mouseover":case"mouseout":hc=null;break;case"pointerover":case"pointerout":Vd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(u.pointerId)}}function Hd(o,u,h,p,w,b){return o===null||o.nativeEvent!==b?(o={blockedOn:u,domEventName:h,eventSystemFlags:p,nativeEvent:b,targetContainers:[w]},u!==null&&(u=ji(u),u!==null&&K_(u)),o):(o.eventSystemFlags|=p,u=o.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),o)}function Q8(o,u,h,p,w){switch(u){case"focusin":return cc=Hd(cc,o,u,h,p,w),!0;case"dragenter":return fc=Hd(fc,o,u,h,p,w),!0;case"mouseover":return hc=Hd(hc,o,u,h,p,w),!0;case"pointerover":var b=w.pointerId;return Vd.set(b,Hd(Vd.get(b)||null,o,u,h,p,w)),!0;case"gotpointercapture":return b=w.pointerId,zd.set(b,Hd(zd.get(b)||null,o,u,h,p,w)),!0}return!1}function J_(o){var u=Sa(o.target);if(u!==null){var h=a(u);if(h!==null){if(u=h.tag,u===13){if(u=s(h),u!==null){o.blockedOn=u,Fi(o.priority,function(){$_(h)});return}}else if(u===31){if(u=l(h),u!==null){o.blockedOn=u,Fi(o.priority,function(){$_(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function E0(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var h=Lg(o.nativeEvent);if(h===null){h=o.nativeEvent;var p=new h.constructor(h.type,h);ns=p,h.target.dispatchEvent(p),ns=null}else return u=ji(h),u!==null&&K_(u),o.blockedOn=h,!1;u.shift()}return!0}function ew(o,u,h){E0(o)&&h.delete(u)}function J8(){Mg=!1,cc!==null&&E0(cc)&&(cc=null),fc!==null&&E0(fc)&&(fc=null),hc!==null&&E0(hc)&&(hc=null),Vd.forEach(ew),zd.forEach(ew)}function S0(o,u){o.blockedOn===u&&(o.blockedOn=null,Mg||(Mg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,J8)))}var C0=null;function tw(o){C0!==o&&(C0=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){C0===o&&(C0=null);for(var u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],w=o[u+2];if(typeof p!="function"){if(Pg(p||h)===null)continue;break}var b=ji(h);b!==null&&(o.splice(u,3),u-=3,L2(b,{pending:!0,data:w,method:h.method,action:p},p,w))}}))}function mh(o){function u(ge){return S0(ge,o)}cc!==null&&S0(cc,o),fc!==null&&S0(fc,o),hc!==null&&S0(hc,o),Vd.forEach(u),zd.forEach(u);for(var h=0;h<dc.length;h++){var p=dc[h];p.blockedOn===o&&(p.blockedOn=null)}for(;0<dc.length&&(h=dc[0],h.blockedOn===null);)J_(h),h.blockedOn===null&&dc.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var w=h[p],b=h[p+1],M=w[sr]||null;if(typeof b=="function")M||tw(h);else if(M){var K=null;if(b&&b.hasAttribute("formAction")){if(w=b,M=b[sr]||null)K=M.formAction;else if(Pg(w)!==null)continue}else K=M.action;typeof K=="function"?h[p+1]=K:(h.splice(p,3),p-=3),tw(h)}}}function nw(){function o(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(M){return w=M})},focusReset:"manual",scroll:"manual"})}function u(){w!==null&&(w(),w=null),p||setTimeout(h,20)}function h(){if(!p&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),w!==null&&(w(),w=null)}}}function kg(o){this._internalRoot=o}T0.prototype.render=kg.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,p=cs();X_(h,p,o,u,null,null)},T0.prototype.unmount=kg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;X_(o.current,2,null,o,null,null),s0(),u[si]=null}};function T0(o){this._internalRoot=o}T0.prototype.unstable_scheduleHydration=function(o){if(o){var u=oi();o={blockedOn:null,target:o,priority:u};for(var h=0;h<dc.length&&u!==0&&u<dc[h].priority;h++);dc.splice(h,0,o),h===0&&J_(o)}};var rw=e.version;if(rw!=="19.2.3")throw Error(r(527,rw,"19.2.3"));he.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(u),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var eS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N0.isDisabled&&N0.supportsFiber)try{tn=N0.inject(eS),Pt=N0}catch{}}return Gd.createRoot=function(o,u){if(!i(o))throw Error(r(299));var h=!1,p="",w=c5,b=f5,M=h5;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(b=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError)),u=G_(o,1,!1,null,null,h,p,null,w,b,M,nw),o[si]=u.current,mg(o),new kg(u)},Gd.hydrateRoot=function(o,u,h){if(!i(o))throw Error(r(299));var p=!1,w="",b=c5,M=f5,K=h5,ge=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(b=h.onUncaughtError),h.onCaughtError!==void 0&&(M=h.onCaughtError),h.onRecoverableError!==void 0&&(K=h.onRecoverableError),h.formState!==void 0&&(ge=h.formState)),u=G_(o,1,!0,u,h??null,p,w,ge,b,M,K,nw),u.context=W_(null),h=u.current,p=cs(),p=nr(p),w=$t(p),w.callback=null,dn(h,w,p),h=p,u.current.lanes=h,Ot(u,h),Bl(u),o[si]=u.current,mg(o),new T0(u)},Gd.version="19.2.3",Gd}var dw;function pS(){if(dw)return jg.exports;dw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jg.exports=dS(),jg.exports}var gS=pS();const vS=()=>{};var pw={};const W4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},mS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],s=n[t++],l=n[t++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},X4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],s=i+1<n.length,l=s?n[i+1]:0,c=i+2<n.length,f=c?n[i+2]:0,d=a>>2,g=(a&3)<<4|l>>4;let _=(l&15)<<2|f>>6,v=f&63;c||(v=64,s||(_=64)),r.push(t[d],t[g],t[_],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(W4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||l==null||f==null||g==null)throw new yS;const _=a<<2|l>>4;if(r.push(_),f!==64){const v=l<<4&240|f>>2;if(r.push(v),g!==64){const A=f<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _S=function(n){const e=W4(n);return X4.encodeByteArray(e,!0)},pp=function(n){return _S(n).replace(/\./g,"")},Y4=function(n){try{return X4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xS=()=>wS().__FIREBASE_DEFAULTS__,bS=()=>{if(typeof process>"u"||typeof pw>"u")return;const n=pw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},AS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Y4(n[1]);return e&&JSON.parse(e)},$p=()=>{try{return vS()||xS()||bS()||AS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},K4=n=>$p()?.emulatorHosts?.[n],ES=n=>{const e=K4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$4=()=>$p()?.config,Z4=n=>$p()?.[`_${n}`];class SS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Jh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q4(n){return(await fetch(n,{credentials:"include"})).ok}function CS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[pp(JSON.stringify(t)),pp(JSON.stringify(s)),""].join(".")}const i1={};function TS(){const n={prod:[],emulator:[]};for(const e of Object.keys(i1))i1[e]?n.emulator.push(e):n.prod.push(e);return n}function NS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gw=!1;function J4(n,e){if(typeof window>"u"||typeof document>"u"||!Jh(window.location.host)||i1[n]===e||i1[n]||gw)return;i1[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=TS().prod.length>0;function s(){const _=document.getElementById(r);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{gw=!0,s()},_}function d(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function g(){const _=NS(r),v=t("text"),A=document.getElementById(v)||document.createElement("span"),S=t("learnmore"),I=document.getElementById(S)||document.createElement("a"),N=t("preprendIcon"),V=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const q=_.element;l(q),d(I,S);const U=f();c(V,N),q.append(V,A,I,U),document.body.appendChild(q)}a?(A.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function so(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(so())}function RS(){const n=$p()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PS(){const n=so();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function MS(){return!RS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kS(){try{return typeof indexedDB=="object"}catch{return!1}}function BS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const FS="FirebaseError";class ju extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=FS,Object.setPrototypeOf(this,ju.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A1.prototype.create)}}class A1{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?jS(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new ju(i,l,r)}}function jS(n,e){return n.replace(US,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const US=/\{\$([^}]+)}/g;function VS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Tf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],s=e[i];if(vw(a)&&vw(s)){if(!Tf(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function vw(n){return n!==null&&typeof n=="object"}function E1(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zS(n,e){const t=new HS(n,e);return t.subscribe.bind(t)}class HS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");qS(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Hg),i.error===void 0&&(i.error=Hg),i.complete===void 0&&(i.complete=Hg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hg(){}function Ha(n){return n&&n._delegate?n._delegate:n}class Nf{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mf="[DEFAULT]";class GS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new SS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XS(e))try{this.getOrInitializeService({instanceIdentifier:mf})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=mf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mf){return this.instances.has(e)}getOptions(e=mf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mf){return this.component?this.component.multipleInstances?e:mf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(n){return n===mf?void 0:n}function XS(n){return n.instantiationMode==="EAGER"}class YS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new GS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var In;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(In||(In={}));const KS={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},$S=In.INFO,ZS={[In.DEBUG]:"log",[In.VERBOSE]:"log",[In.INFO]:"info",[In.WARN]:"warn",[In.ERROR]:"error"},QS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=ZS[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=$S,this._logHandler=QS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in In))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,In.DEBUG,...e),this._logHandler(this,In.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,In.VERBOSE,...e),this._logHandler(this,In.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,In.INFO,...e),this._logHandler(this,In.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,In.WARN,...e),this._logHandler(this,In.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,In.ERROR,...e),this._logHandler(this,In.ERROR,...e)}}const JS=(n,e)=>e.some(t=>n instanceof t);let mw,yw;function eC(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tC(){return yw||(yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eb=new WeakMap,Uv=new WeakMap,tb=new WeakMap,qg=new WeakMap,Vm=new WeakMap;function nC(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",s)},a=()=>{t(Nc(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&eb.set(t,n)}).catch(()=>{}),Vm.set(e,n),e}function rC(n){if(Uv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",s),n.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",s),n.addEventListener("abort",s)});Uv.set(n,e)}let Vv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Uv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||tb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Nc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function iC(n){Vv=n(Vv)}function aC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Gg(this),e,...t);return tb.set(r,e.sort?e.sort():[e]),Nc(r)}:tC().includes(n)?function(...e){return n.apply(Gg(this),e),Nc(eb.get(this))}:function(...e){return Nc(n.apply(Gg(this),e))}}function oC(n){return typeof n=="function"?aC(n):(n instanceof IDBTransaction&&rC(n),JS(n,eC())?new Proxy(n,Vv):n)}function Nc(n){if(n instanceof IDBRequest)return nC(n);if(qg.has(n))return qg.get(n);const e=oC(n);return e!==n&&(qg.set(n,e),Vm.set(e,n)),e}const Gg=n=>Vm.get(n);function sC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(n,e),l=Nc(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Nc(s.result),c.oldVersion,c.newVersion,Nc(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const lC=["get","getKey","getAll","getAllKeys","count"],uC=["put","add","delete","clear"],Wg=new Map;function _w(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wg.get(e))return Wg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=uC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lC.includes(t)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[t](...l),i&&c.done]))[0]};return Wg.set(e,a),a}iC(n=>({...n,get:(e,t,r)=>_w(e,t)||n.get(e,t,r),has:(e,t)=>!!_w(e,t)||n.has(e,t)}));class cC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function fC(n){return n.getComponent()?.type==="VERSION"}const zv="@firebase/app",ww="0.14.6";const Lu=new Um("@firebase/app"),hC="@firebase/app-compat",dC="@firebase/analytics-compat",pC="@firebase/analytics",gC="@firebase/app-check-compat",vC="@firebase/app-check",mC="@firebase/auth",yC="@firebase/auth-compat",_C="@firebase/database",wC="@firebase/data-connect",xC="@firebase/database-compat",bC="@firebase/functions",AC="@firebase/functions-compat",EC="@firebase/installations",SC="@firebase/installations-compat",CC="@firebase/messaging",TC="@firebase/messaging-compat",NC="@firebase/performance",IC="@firebase/performance-compat",RC="@firebase/remote-config",OC="@firebase/remote-config-compat",DC="@firebase/storage",LC="@firebase/storage-compat",PC="@firebase/firestore",MC="@firebase/ai",kC="@firebase/firestore-compat",BC="firebase",FC="12.6.0";const Hv="[DEFAULT]",jC={[zv]:"fire-core",[hC]:"fire-core-compat",[pC]:"fire-analytics",[dC]:"fire-analytics-compat",[vC]:"fire-app-check",[gC]:"fire-app-check-compat",[mC]:"fire-auth",[yC]:"fire-auth-compat",[_C]:"fire-rtdb",[wC]:"fire-data-connect",[xC]:"fire-rtdb-compat",[bC]:"fire-fn",[AC]:"fire-fn-compat",[EC]:"fire-iid",[SC]:"fire-iid-compat",[CC]:"fire-fcm",[TC]:"fire-fcm-compat",[NC]:"fire-perf",[IC]:"fire-perf-compat",[RC]:"fire-rc",[OC]:"fire-rc-compat",[DC]:"fire-gcs",[LC]:"fire-gcs-compat",[PC]:"fire-fst",[kC]:"fire-fst-compat",[MC]:"fire-vertex","fire-js":"fire-js",[BC]:"fire-js-all"};const gp=new Map,UC=new Map,qv=new Map;function xw(n,e){try{n.container.addComponent(e)}catch(t){Lu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qh(n){const e=n.name;if(qv.has(e))return Lu.debug(`There were multiple attempts to register component ${e}.`),!1;qv.set(e,n);for(const t of gp.values())xw(t,n);for(const t of UC.values())xw(t,n);return!0}function zm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ll(n){return n==null?!1:n.settings!==void 0}const VC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ic=new A1("app","Firebase",VC);class zC{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ic.create("app-deleted",{appName:this._name})}}const ed=FC;function nb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Hv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ic.create("bad-app-name",{appName:String(i)});if(t||(t=$4()),!t)throw Ic.create("no-options");const a=gp.get(i);if(a){if(Tf(t,a.options)&&Tf(r,a.config))return a;throw Ic.create("duplicate-app",{appName:i})}const s=new YS(i);for(const c of qv.values())s.addComponent(c);const l=new zC(t,r,s);return gp.set(i,l),l}function rb(n=Hv){const e=gp.get(n);if(!e&&n===Hv&&$4())return nb();if(!e)throw Ic.create("no-app",{appName:n});return e}function Rc(n,e,t){let r=jC[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lu.warn(s.join(" "));return}qh(new Nf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const HC="firebase-heartbeat-database",qC=1,d1="firebase-heartbeat-store";let Xg=null;function ib(){return Xg||(Xg=sC(HC,qC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(d1)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ic.create("idb-open",{originalErrorMessage:n.message})})),Xg}async function GC(n){try{const t=(await ib()).transaction(d1),r=await t.objectStore(d1).get(ab(n));return await t.done,r}catch(e){if(e instanceof ju)Lu.warn(e.message);else{const t=Ic.create("idb-get",{originalErrorMessage:e?.message});Lu.warn(t.message)}}}async function bw(n,e){try{const r=(await ib()).transaction(d1,"readwrite");await r.objectStore(d1).put(e,ab(n)),await r.done}catch(t){if(t instanceof ju)Lu.warn(t.message);else{const r=Ic.create("idb-set",{originalErrorMessage:t?.message});Lu.warn(r.message)}}}function ab(n){return`${n.name}!${n.options.appId}`}const WC=1024,XC=30;class YC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $C(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Aw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>XC){const i=ZC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Lu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Aw(),{heartbeatsToSend:t,unsentEntries:r}=KC(this._heartbeatsCache.heartbeats),i=pp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Lu.warn(e),""}}}function Aw(){return new Date().toISOString().substring(0,10)}function KC(n,e=WC){const t=[];let r=n.slice();for(const i of n){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Ew(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Ew(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class $C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kS()?BS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await GC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ew(n){return pp(JSON.stringify({version:2,heartbeats:n})).length}function ZC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function QC(n){qh(new Nf("platform-logger",e=>new cC(e),"PRIVATE")),qh(new Nf("heartbeat",e=>new YC(e),"PRIVATE")),Rc(zv,ww,n),Rc(zv,ww,"esm2020"),Rc("fire-js","")}QC("");var JC="firebase",eT="12.7.0";Rc(JC,eT,"app");function ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tT=ob,sb=new A1("auth","Firebase",ob());const vp=new Um("@firebase/auth");function nT(n,...e){vp.logLevel<=In.WARN&&vp.warn(`Auth (${ed}): ${n}`,...e)}function K0(n,...e){vp.logLevel<=In.ERROR&&vp.error(`Auth (${ed}): ${n}`,...e)}function Pu(n,...e){throw Hm(n,...e)}function ql(n,...e){return Hm(n,...e)}function lb(n,e,t){const r={...tT(),[e]:t};return new A1("auth","Firebase",r).create(e,{appName:n.name})}function Oc(n){return lb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sb.create(n,...e)}function an(n,e,...t){if(!n)throw Hm(e,...t)}function Ru(n){const e="INTERNAL ASSERTION FAILED: "+n;throw K0(e),new Error(e)}function Mu(n,e){n||Ru(e)}function Gv(){return typeof self<"u"&&self.location?.href||""}function rT(){return Sw()==="http:"||Sw()==="https:"}function Sw(){return typeof self<"u"&&self.location?.protocol||null}function iT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rT()||DS()||"connection"in navigator)?navigator.onLine:!0}function aT(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class S1{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mu(t>e,"Short delay should be less than long delay!"),this.isMobile=IS()||LS()}get(){return iT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qm(n,e){Mu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class ub{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ru("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ru("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ru("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lT=new S1(3e4,6e4);function Zp(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function td(n,e,t,r,i={}){return cb(n,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=E1({key:n.config.apiKey,...s}).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:c,...a};return OS()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Jh(n.emulatorConfig.host)&&(f.credentials="include"),ub.fetch()(await hb(n,n.config.apiHost,t,l),f)})}async function cb(n,e,t){n._canInitEmulator=!1;const r={...oT,...e};try{const i=new uT(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw I0(n,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw I0(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw I0(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw I0(n,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw lb(n,d,f);Pu(n,d)}}catch(i){if(i instanceof ju)throw i;Pu(n,"network-request-failed",{message:String(i)})}}async function fb(n,e,t,r,i={}){const a=await td(n,e,t,r,i);return"mfaPendingCredential"in a&&Pu(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function hb(n,e,t,r){const i=`${e}${t}?${r}`,a=n,s=a.config.emulator?qm(n.config,i):`${n.config.apiScheme}://${i}`;return sT.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class uT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ql(this.auth,"network-request-failed")),lT.get())})}}function I0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ql(n,e,r);return i.customData._tokenResponse=t,i}async function cT(n,e){return td(n,"POST","/v1/accounts:delete",e)}async function mp(n,e){return td(n,"POST","/v1/accounts:lookup",e)}function a1(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fT(n,e=!1){const t=Ha(n),r=await t.getIdToken(e),i=Gm(r);an(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:r,authTime:a1(Yg(i.auth_time)),issuedAtTime:a1(Yg(i.iat)),expirationTime:a1(Yg(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Yg(n){return Number(n)*1e3}function Gm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return K0("JWT malformed, contained fewer than 3 sections"),null;try{const i=Y4(t);return i?JSON.parse(i):(K0("Failed to decode base64 JWT payload"),null)}catch(i){return K0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Cw(n){const e=Gm(n);return an(e,"internal-error"),an(typeof e.exp<"u","internal-error"),an(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function p1(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ju&&hT(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function hT({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class dT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=a1(this.lastLoginAt),this.creationTime=a1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yp(n){const e=n.auth,t=await n.getIdToken(),r=await p1(n,mp(e,{idToken:t}));an(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?db(i.providerUserInfo):[],s=gT(n.providerData,a),l=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!s?.length,f=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wv(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,d)}async function pT(n){const e=Ha(n);await yp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gT(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function db(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function vT(n,e){const t=await cb(n,{},async()=>{const r=E1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,s=await hb(n,i,"/v1/token",`key=${a}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return n.emulatorConfig&&Jh(n.emulatorConfig.host)&&(c.credentials="include"),ub.fetch()(s,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mT(n,e){return td(n,"POST","/v2/accounts:revokeToken",Zp(n,e))}class Ph{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){an(e.idToken,"internal-error"),an(typeof e.idToken<"u","internal-error"),an(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){an(e.length!==0,"internal-error");const t=Cw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(an(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await vT(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,s=new Ph;return r&&(an(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(an(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(an(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ph,this.toJSON())}_performRefresh(){return Ru("not implemented")}}function gc(n,e){an(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fl{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new dT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await p1(this,this.stsTokenManager.getToken(this.auth,e));return an(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fT(this,e)}reload(){return pT(this)}_assign(e){this!==e&&(an(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){an(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await yp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ll(this.auth.app))return Promise.reject(Oc(this.auth));const e=await this.getIdToken();return await p1(this,cT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,s=t.photoURL??void 0,l=t.tenantId??void 0,c=t._redirectEventId??void 0,f=t.createdAt??void 0,d=t.lastLoginAt??void 0,{uid:g,emailVerified:_,isAnonymous:v,providerData:A,stsTokenManager:S}=t;an(g&&S,e,"internal-error");const I=Ph.fromJSON(this.name,S);an(typeof g=="string",e,"internal-error"),gc(r,e.name),gc(i,e.name),an(typeof _=="boolean",e,"internal-error"),an(typeof v=="boolean",e,"internal-error"),gc(a,e.name),gc(s,e.name),gc(l,e.name),gc(c,e.name),gc(f,e.name),gc(d,e.name);const N=new fl({uid:g,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:a,tenantId:l,stsTokenManager:I,createdAt:f,lastLoginAt:d});return A&&Array.isArray(A)&&(N.providerData=A.map(V=>({...V}))),c&&(N._redirectEventId=c),N}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ph;i.updateFromServerResponse(t);const a=new fl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yp(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];an(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?db(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,l=new Ph;l.updateFromIdToken(r);const c=new fl({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Wv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}const Tw=new Map;function Ou(n){Mu(n instanceof Function,"Expected a class definition");let e=Tw.get(n);return e?(Mu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tw.set(n,e),e)}class pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pb.type="NONE";const Nw=pb;function $0(n,e,t){return`firebase:${n}:${e}:${t}`}class Mh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=$0(this.userKey,i.apiKey,a),this.fullPersistenceKey=$0("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await mp(this.auth,{idToken:e}).catch(()=>{});return t?fl._fromGetAccountInfoResponse(this.auth,t,e):null}return fl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Mh(Ou(Nw),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Ou(Nw);const s=$0(r,e.config.apiKey,e.name);let l=null;for(const f of t)try{const d=await f._get(s);if(d){let g;if(typeof d=="string"){const _=await mp(e,{idToken:d}).catch(()=>{});if(!_)break;g=await fl._fromGetAccountInfoResponse(e,_,d)}else g=fl._fromJSON(e,d);f!==a&&(l=g),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Mh(a,e,r):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new Mh(a,e,r))}}function Iw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(xb(e))return"Webos";if(vb(e))return"Safari";if((e.includes("chrome/")||mb(e))&&!e.includes("edge/"))return"Chrome";if(_b(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function gb(n=so()){return/firefox\//i.test(n)}function vb(n=so()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mb(n=so()){return/crios\//i.test(n)}function yb(n=so()){return/iemobile/i.test(n)}function _b(n=so()){return/android/i.test(n)}function wb(n=so()){return/blackberry/i.test(n)}function xb(n=so()){return/webos/i.test(n)}function Wm(n=so()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yT(n=so()){return Wm(n)&&!!window.navigator?.standalone}function _T(){return PS()&&document.documentMode===10}function bb(n=so()){return Wm(n)||_b(n)||xb(n)||wb(n)||/windows phone/i.test(n)||yb(n)}function Ab(n,e=[]){let t;switch(n){case"Browser":t=Iw(so());break;case"Worker":t=`${Iw(so())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ed}/${r}`}class wT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function xT(n,e={}){return td(n,"GET","/v2/passwordPolicy",Zp(n,e))}const bT=6;class AT{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??bT,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class ET{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rw(this),this.idTokenSubscription=new Rw(this),this.beforeStateQueue=new wT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ou(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mp(this,{idToken:e}),r=await fl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ll(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,s=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return an(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ll(this.app))return Promise.reject(Oc(this));const t=e?Ha(e):null;return t&&an(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&an(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ll(this.app)?Promise.reject(Oc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ll(this.app)?Promise.reject(Oc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ou(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xT(this),t=new AT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new A1("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await mT(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ou(e)||this._popupRedirectResolver;an(t,this,"argument-error"),this.redirectPersistenceManager=await Mh.create(this,[Ou(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(an(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return an(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ll(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&nT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qp(n){return Ha(n)}class Rw{constructor(e){this.auth=e,this.observer=null,this.addObserver=zS(t=>this.observer=t)}get next(){return an(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ST(n){Xm=n}function CT(n){return Xm.loadJS(n)}function TT(){return Xm.gapiScript}function NT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function IT(n,e){const t=zm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Tf(a,e??{}))return i;Pu(i,"already-initialized")}return t.initialize({options:e})}function RT(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ou);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function OT(n,e,t){const r=Qp(n);an(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Eb(e),{host:s,port:l}=DT(e),c=l===null?"":`:${l}`,f={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){an(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),an(Tf(f,r.config.emulator)&&Tf(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Jh(s)?(Q4(`${a}//${s}${c}`),J4("Auth",!0)):LT()}function Eb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DT(n){const e=Eb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Ow(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:Ow(s)}}}function Ow(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function LT(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Sb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ru("not implemented")}_getIdTokenResponse(e){return Ru("not implemented")}_linkToIdToken(e,t){return Ru("not implemented")}_getReauthenticationResolver(e){return Ru("not implemented")}}async function kh(n,e){return fb(n,"POST","/v1/accounts:signInWithIdp",Zp(n,e))}const PT="http://localhost";class If extends Sb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new If(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pu("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const s=new If(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return kh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,kh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,kh(e,t)}buildRequest(){const e={requestUri:PT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=E1(t)}return e}}class Cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class C1 extends Cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xc extends C1{constructor(){super("facebook.com")}static credential(e){return If._fromParams({providerId:xc.PROVIDER_ID,signInMethod:xc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xc.credentialFromTaggedObject(e)}static credentialFromError(e){return xc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xc.credential(e.oauthAccessToken)}catch{return null}}}xc.FACEBOOK_SIGN_IN_METHOD="facebook.com";xc.PROVIDER_ID="facebook.com";class bc extends C1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return If._fromParams({providerId:bc.PROVIDER_ID,signInMethod:bc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bc.credentialFromTaggedObject(e)}static credentialFromError(e){return bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return bc.credential(t,r)}catch{return null}}}bc.GOOGLE_SIGN_IN_METHOD="google.com";bc.PROVIDER_ID="google.com";class Ac extends C1{constructor(){super("github.com")}static credential(e){return If._fromParams({providerId:Ac.PROVIDER_ID,signInMethod:Ac.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ac.credentialFromTaggedObject(e)}static credentialFromError(e){return Ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ac.credential(e.oauthAccessToken)}catch{return null}}}Ac.GITHUB_SIGN_IN_METHOD="github.com";Ac.PROVIDER_ID="github.com";class Ec extends C1{constructor(){super("twitter.com")}static credential(e,t){return If._fromParams({providerId:Ec.PROVIDER_ID,signInMethod:Ec.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ec.credentialFromTaggedObject(e)}static credentialFromError(e){return Ec.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ec.credential(t,r)}catch{return null}}}Ec.TWITTER_SIGN_IN_METHOD="twitter.com";Ec.PROVIDER_ID="twitter.com";async function MT(n,e){return fb(n,"POST","/v1/accounts:signUp",Zp(n,e))}class Bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await fl._fromIdTokenResponse(e,r,i),s=Dw(r);return new Bc({user:a,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Dw(r);return new Bc({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Dw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function kT(n){if(ll(n.app))return Promise.reject(Oc(n));const e=Qp(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Bc({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await MT(e,{returnSecureToken:!0}),r=await Bc._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class _p extends ju{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_p.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new _p(e,t,r,i)}}function Tb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_p._fromErrorAndOperation(n,a,e,r):a})}async function BT(n,e,t=!1){const r=await p1(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bc._forOperation(n,"link",r)}async function FT(n,e,t=!1){const{auth:r}=n;if(ll(r.app))return Promise.reject(Oc(r));const i="reauthenticate";try{const a=await p1(n,Tb(r,i,e,n),t);an(a.idToken,r,"internal-error");const s=Gm(a.idToken);an(s,r,"internal-error");const{sub:l}=s;return an(n.uid===l,r,"user-mismatch"),Bc._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Pu(r,"user-mismatch"),a}}async function jT(n,e,t=!1){if(ll(n.app))return Promise.reject(Oc(n));const r="signIn",i=await Tb(n,r,e),a=await Bc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function UT(n,e,t,r){return Ha(n).onIdTokenChanged(e,t,r)}function VT(n,e,t){return Ha(n).beforeAuthStateChanged(e,t)}function zT(n,e,t,r){return Ha(n).onAuthStateChanged(e,t,r)}const wp="__sak";class Nb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wp,"1"),this.storage.removeItem(wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const HT=1e3,qT=10;class Ib extends Nb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!t&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);_T()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qT):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},HT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ib.type="LOCAL";const GT=Ib;class Rb extends Nb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Rb.type="SESSION";const Ob=Rb;function WT(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Jp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,s=this.handlersMap[i];if(!s?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async f=>f(t.origin,a)),c=await WT(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jp.receivers=[];function Ym(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class XT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const f=Ym("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(_.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Gl(){return window}function YT(n){Gl().location.href=n}function Db(){return typeof Gl().WorkerGlobalScope<"u"&&typeof Gl().importScripts=="function"}async function KT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $T(){return navigator?.serviceWorker?.controller||null}function ZT(){return Db()?self:null}const Lb="firebaseLocalStorageDb",QT=1,xp="firebaseLocalStorage",Pb="fbase_key";class T1{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function e2(n,e){return n.transaction([xp],e?"readwrite":"readonly").objectStore(xp)}function JT(){const n=indexedDB.deleteDatabase(Lb);return new T1(n).toPromise()}function Xv(){const n=indexedDB.open(Lb,QT);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xp,{keyPath:Pb})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(xp)?e(r):(r.close(),await JT(),e(await Xv()))})})}async function Lw(n,e,t){const r=e2(n,!0).put({[Pb]:e,value:t});return new T1(r).toPromise()}async function eN(n,e){const t=e2(n,!1).get(e),r=await new T1(t).toPromise();return r===void 0?null:r.value}function Pw(n,e){const t=e2(n,!0).delete(e);return new T1(t).toPromise()}const tN=800,nN=3;class Mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>nN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jp._getInstance(ZT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KT(),!this.activeServiceWorker)return;this.sender=new XT(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$T()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xv();return await Lw(e,wp,"1"),await Pw(e,wp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>eN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Pw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=e2(i,!1).getAll();return new T1(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mb.type="LOCAL";const rN=Mb;new S1(3e4,6e4);function iN(n,e){return e?Ou(e):(an(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Km extends Sb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return kh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return kh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aN(n){return jT(n.auth,new Km(n),n.bypassAuthState)}function oN(n){const{auth:e,user:t}=n;return an(t,e,"internal-error"),FT(t,new Km(n),n.bypassAuthState)}async function sN(n){const{auth:e,user:t}=n;return an(t,e,"internal-error"),BT(t,new Km(n),n.bypassAuthState)}class kb{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aN;case"linkViaPopup":case"linkViaRedirect":return sN;case"reauthViaPopup":case"reauthViaRedirect":return oN;default:Pu(this.auth,"internal-error")}}resolve(e){Mu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lN=new S1(2e3,1e4);class Nh extends kb{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Nh.currentPopupAction&&Nh.currentPopupAction.cancel(),Nh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return an(e,this.auth,"internal-error"),e}async onExecution(){Mu(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ql(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ql(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ql(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lN.get())};e()}}Nh.currentPopupAction=null;const uN="pendingRedirect",Z0=new Map;class cN extends kb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Z0.get(this.auth._key());if(!e){try{const r=await fN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Z0.set(this.auth._key(),e)}return this.bypassAuthState||Z0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fN(n,e){const t=pN(e),r=dN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function hN(n,e){Z0.set(n._key(),e)}function dN(n){return Ou(n._redirectPersistence)}function pN(n){return $0(uN,n.config.apiKey,n.name)}async function gN(n,e,t=!1){if(ll(n.app))return Promise.reject(Oc(n));const r=Qp(n),i=iN(r,e),s=await new cN(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}const vN=600*1e3;class mN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Bb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ql(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mw(e))}saveEventToCache(e){this.cachedEventUids.add(Mw(e)),this.lastProcessedEventTime=Date.now()}}function Mw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Bb({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function yN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bb(n);default:return!1}}async function _N(n,e={}){return td(n,"GET","/v1/projects",e)}const wN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xN=/^https?/;async function bN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _N(n);for(const t of e)try{if(AN(t))return}catch{}Pu(n,"unauthorized-domain")}function AN(n){const e=Gv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!xN.test(t))return!1;if(wN.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const EN=new S1(3e4,6e4);function kw(){const n=Gl().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SN(n){return new Promise((e,t)=>{function r(){kw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kw(),t(ql(n,"network-request-failed"))},timeout:EN.get()})}if(Gl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gl().gapi?.load)r();else{const i=NT("iframefcb");return Gl()[i]=()=>{gapi.load?r():t(ql(n,"network-request-failed"))},CT(`${TT()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw Q0=null,e})}let Q0=null;function CN(n){return Q0=Q0||SN(n),Q0}const TN=new S1(5e3,15e3),NN="__/auth/iframe",IN="emulator/auth/iframe",RN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ON=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DN(n){const e=n.config;an(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qm(e,IN):`https://${n.config.authDomain}/${NN}`,r={apiKey:e.apiKey,appName:n.name,v:ed},i=ON.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${E1(r).slice(1)}`}async function LN(n){const e=await CN(n),t=Gl().gapi;return an(t,n,"internal-error"),e.open({where:document.body,url:DN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=ql(n,"network-request-failed"),l=Gl().setTimeout(()=>{a(s)},TN.get());function c(){Gl().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(s)})}))}const PN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MN=500,kN=600,BN="_blank",FN="http://localhost";class Bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jN(n,e,t,r=MN,i=kN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...PN,width:r.toString(),height:i.toString(),top:a,left:s},f=so().toLowerCase();t&&(l=mb(f)?BN:t),gb(f)&&(e=e||FN,c.scrollbars="yes");const d=Object.entries(c).reduce((_,[v,A])=>`${_}${v}=${A},`,"");if(yT(f)&&l!=="_self")return UN(e||"",l),new Bw(null);const g=window.open(e||"",l,d);an(g,n,"popup-blocked");try{g.focus()}catch{}return new Bw(g)}function UN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const VN="__/auth/handler",zN="emulator/auth/handler",HN=encodeURIComponent("fac");async function Fw(n,e,t,r,i,a){an(n.config.authDomain,n,"auth-domain-config-required"),an(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ed,eventId:i};if(e instanceof Cb){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",VS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))s[d]=g}if(e instanceof C1){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);const l=s;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await n._getAppCheckToken(),f=c?`#${HN}=${encodeURIComponent(c)}`:"";return`${qN(n)}?${E1(l).slice(1)}${f}`}function qN({config:n}){return n.emulator?qm(n,zN):`https://${n.authDomain}/${VN}`}const Kg="webStorageSupport";class GN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=gN,this._overrideRedirectResult=hN}async _openPopup(e,t,r,i){Mu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Fw(e,t,r,Gv(),i);return jN(e,a,Ym())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Fw(e,t,r,Gv(),i);return YT(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Mu(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await LN(e),r=new mN(e);return t.register("authEvent",i=>(an(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kg,{type:Kg},i=>{const a=i?.[0]?.[Kg];a!==void 0&&t(!!a),Pu(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bb()||vb()||Wm()}}const WN=GN;var jw="@firebase/auth",Uw="1.12.0";class XN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){an(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function YN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KN(n){qh(new Nf("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;an(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(n)},f=new ET(r,i,a,c);return RT(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),qh(new Nf("auth-internal",e=>{const t=Qp(e.getProvider("auth").getImmediate());return(r=>new XN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rc(jw,Uw,YN(n)),Rc(jw,Uw,"esm2020")}const $N=300,ZN=Z4("authIdTokenMaxAge")||$N;let Vw=null;const QN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ZN)return;const i=t?.token;Vw!==i&&(Vw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JN(n=rb()){const e=zm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IT(n,{popupRedirectResolver:WN,persistence:[rN,GT,Ob]}),r=Z4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=QN(a.toString());VT(t,s,()=>s(t.currentUser)),UT(t,l=>s(l))}}const i=K4("auth");return i&&OT(t,`http://${i}`),t}function eI(){return document.getElementsByTagName("head")?.[0]??document}ST({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=ql("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",eI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KN("Browser");var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Dc,Fb;(function(){var n;function e(z,R){function P(){}P.prototype=R.prototype,z.F=R.prototype,z.prototype=new P,z.prototype.constructor=z,z.D=function(H,O,k){for(var j=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)j[ce-2]=arguments[ce];return R.prototype[O].apply(H,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(z,R,P){P||(P=0);const H=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)H[O]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(O=0;O<16;++O)H[O]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=z.g[0],P=z.g[1],O=z.g[2];let k=z.g[3],j;j=R+(k^P&(O^k))+H[0]+3614090360&4294967295,R=P+(j<<7&4294967295|j>>>25),j=k+(O^R&(P^O))+H[1]+3905402710&4294967295,k=R+(j<<12&4294967295|j>>>20),j=O+(P^k&(R^P))+H[2]+606105819&4294967295,O=k+(j<<17&4294967295|j>>>15),j=P+(R^O&(k^R))+H[3]+3250441966&4294967295,P=O+(j<<22&4294967295|j>>>10),j=R+(k^P&(O^k))+H[4]+4118548399&4294967295,R=P+(j<<7&4294967295|j>>>25),j=k+(O^R&(P^O))+H[5]+1200080426&4294967295,k=R+(j<<12&4294967295|j>>>20),j=O+(P^k&(R^P))+H[6]+2821735955&4294967295,O=k+(j<<17&4294967295|j>>>15),j=P+(R^O&(k^R))+H[7]+4249261313&4294967295,P=O+(j<<22&4294967295|j>>>10),j=R+(k^P&(O^k))+H[8]+1770035416&4294967295,R=P+(j<<7&4294967295|j>>>25),j=k+(O^R&(P^O))+H[9]+2336552879&4294967295,k=R+(j<<12&4294967295|j>>>20),j=O+(P^k&(R^P))+H[10]+4294925233&4294967295,O=k+(j<<17&4294967295|j>>>15),j=P+(R^O&(k^R))+H[11]+2304563134&4294967295,P=O+(j<<22&4294967295|j>>>10),j=R+(k^P&(O^k))+H[12]+1804603682&4294967295,R=P+(j<<7&4294967295|j>>>25),j=k+(O^R&(P^O))+H[13]+4254626195&4294967295,k=R+(j<<12&4294967295|j>>>20),j=O+(P^k&(R^P))+H[14]+2792965006&4294967295,O=k+(j<<17&4294967295|j>>>15),j=P+(R^O&(k^R))+H[15]+1236535329&4294967295,P=O+(j<<22&4294967295|j>>>10),j=R+(O^k&(P^O))+H[1]+4129170786&4294967295,R=P+(j<<5&4294967295|j>>>27),j=k+(P^O&(R^P))+H[6]+3225465664&4294967295,k=R+(j<<9&4294967295|j>>>23),j=O+(R^P&(k^R))+H[11]+643717713&4294967295,O=k+(j<<14&4294967295|j>>>18),j=P+(k^R&(O^k))+H[0]+3921069994&4294967295,P=O+(j<<20&4294967295|j>>>12),j=R+(O^k&(P^O))+H[5]+3593408605&4294967295,R=P+(j<<5&4294967295|j>>>27),j=k+(P^O&(R^P))+H[10]+38016083&4294967295,k=R+(j<<9&4294967295|j>>>23),j=O+(R^P&(k^R))+H[15]+3634488961&4294967295,O=k+(j<<14&4294967295|j>>>18),j=P+(k^R&(O^k))+H[4]+3889429448&4294967295,P=O+(j<<20&4294967295|j>>>12),j=R+(O^k&(P^O))+H[9]+568446438&4294967295,R=P+(j<<5&4294967295|j>>>27),j=k+(P^O&(R^P))+H[14]+3275163606&4294967295,k=R+(j<<9&4294967295|j>>>23),j=O+(R^P&(k^R))+H[3]+4107603335&4294967295,O=k+(j<<14&4294967295|j>>>18),j=P+(k^R&(O^k))+H[8]+1163531501&4294967295,P=O+(j<<20&4294967295|j>>>12),j=R+(O^k&(P^O))+H[13]+2850285829&4294967295,R=P+(j<<5&4294967295|j>>>27),j=k+(P^O&(R^P))+H[2]+4243563512&4294967295,k=R+(j<<9&4294967295|j>>>23),j=O+(R^P&(k^R))+H[7]+1735328473&4294967295,O=k+(j<<14&4294967295|j>>>18),j=P+(k^R&(O^k))+H[12]+2368359562&4294967295,P=O+(j<<20&4294967295|j>>>12),j=R+(P^O^k)+H[5]+4294588738&4294967295,R=P+(j<<4&4294967295|j>>>28),j=k+(R^P^O)+H[8]+2272392833&4294967295,k=R+(j<<11&4294967295|j>>>21),j=O+(k^R^P)+H[11]+1839030562&4294967295,O=k+(j<<16&4294967295|j>>>16),j=P+(O^k^R)+H[14]+4259657740&4294967295,P=O+(j<<23&4294967295|j>>>9),j=R+(P^O^k)+H[1]+2763975236&4294967295,R=P+(j<<4&4294967295|j>>>28),j=k+(R^P^O)+H[4]+1272893353&4294967295,k=R+(j<<11&4294967295|j>>>21),j=O+(k^R^P)+H[7]+4139469664&4294967295,O=k+(j<<16&4294967295|j>>>16),j=P+(O^k^R)+H[10]+3200236656&4294967295,P=O+(j<<23&4294967295|j>>>9),j=R+(P^O^k)+H[13]+681279174&4294967295,R=P+(j<<4&4294967295|j>>>28),j=k+(R^P^O)+H[0]+3936430074&4294967295,k=R+(j<<11&4294967295|j>>>21),j=O+(k^R^P)+H[3]+3572445317&4294967295,O=k+(j<<16&4294967295|j>>>16),j=P+(O^k^R)+H[6]+76029189&4294967295,P=O+(j<<23&4294967295|j>>>9),j=R+(P^O^k)+H[9]+3654602809&4294967295,R=P+(j<<4&4294967295|j>>>28),j=k+(R^P^O)+H[12]+3873151461&4294967295,k=R+(j<<11&4294967295|j>>>21),j=O+(k^R^P)+H[15]+530742520&4294967295,O=k+(j<<16&4294967295|j>>>16),j=P+(O^k^R)+H[2]+3299628645&4294967295,P=O+(j<<23&4294967295|j>>>9),j=R+(O^(P|~k))+H[0]+4096336452&4294967295,R=P+(j<<6&4294967295|j>>>26),j=k+(P^(R|~O))+H[7]+1126891415&4294967295,k=R+(j<<10&4294967295|j>>>22),j=O+(R^(k|~P))+H[14]+2878612391&4294967295,O=k+(j<<15&4294967295|j>>>17),j=P+(k^(O|~R))+H[5]+4237533241&4294967295,P=O+(j<<21&4294967295|j>>>11),j=R+(O^(P|~k))+H[12]+1700485571&4294967295,R=P+(j<<6&4294967295|j>>>26),j=k+(P^(R|~O))+H[3]+2399980690&4294967295,k=R+(j<<10&4294967295|j>>>22),j=O+(R^(k|~P))+H[10]+4293915773&4294967295,O=k+(j<<15&4294967295|j>>>17),j=P+(k^(O|~R))+H[1]+2240044497&4294967295,P=O+(j<<21&4294967295|j>>>11),j=R+(O^(P|~k))+H[8]+1873313359&4294967295,R=P+(j<<6&4294967295|j>>>26),j=k+(P^(R|~O))+H[15]+4264355552&4294967295,k=R+(j<<10&4294967295|j>>>22),j=O+(R^(k|~P))+H[6]+2734768916&4294967295,O=k+(j<<15&4294967295|j>>>17),j=P+(k^(O|~R))+H[13]+1309151649&4294967295,P=O+(j<<21&4294967295|j>>>11),j=R+(O^(P|~k))+H[4]+4149444226&4294967295,R=P+(j<<6&4294967295|j>>>26),j=k+(P^(R|~O))+H[11]+3174756917&4294967295,k=R+(j<<10&4294967295|j>>>22),j=O+(R^(k|~P))+H[2]+718787259&4294967295,O=k+(j<<15&4294967295|j>>>17),j=P+(k^(O|~R))+H[9]+3951481745&4294967295,z.g[0]=z.g[0]+R&4294967295,z.g[1]=z.g[1]+(O+(j<<21&4294967295|j>>>11))&4294967295,z.g[2]=z.g[2]+O&4294967295,z.g[3]=z.g[3]+k&4294967295}r.prototype.v=function(z,R){R===void 0&&(R=z.length);const P=R-this.blockSize,H=this.C;let O=this.h,k=0;for(;k<R;){if(O==0)for(;k<=P;)i(this,z,k),k+=this.blockSize;if(typeof z=="string"){for(;k<R;)if(H[O++]=z.charCodeAt(k++),O==this.blockSize){i(this,H),O=0;break}}else for(;k<R;)if(H[O++]=z[k++],O==this.blockSize){i(this,H),O=0;break}}this.h=O,this.o+=R},r.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var R=1;R<z.length-8;++R)z[R]=0;R=this.o*8;for(var P=z.length-8;P<z.length;++P)z[P]=R&255,R/=256;for(this.v(z),z=Array(16),R=0,P=0;P<4;++P)for(let H=0;H<32;H+=8)z[R++]=this.g[P]>>>H&255;return z};function a(z,R){var P=l;return Object.prototype.hasOwnProperty.call(P,z)?P[z]:P[z]=R(z)}function s(z,R){this.h=R;const P=[];let H=!0;for(let O=z.length-1;O>=0;O--){const k=z[O]|0;H&&k==R||(P[O]=k,H=!1)}this.g=P}var l={};function c(z){return-128<=z&&z<128?a(z,function(R){return new s([R|0],R<0?-1:0)}):new s([z|0],z<0?-1:0)}function f(z){if(isNaN(z)||!isFinite(z))return g;if(z<0)return I(f(-z));const R=[];let P=1;for(let H=0;z>=P;H++)R[H]=z/P|0,P*=4294967296;return new s(R,0)}function d(z,R){if(z.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(z.charAt(0)=="-")return I(d(z.substring(1),R));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=f(Math.pow(R,8));let H=g;for(let k=0;k<z.length;k+=8){var O=Math.min(8,z.length-k);const j=parseInt(z.substring(k,k+O),R);O<8?(O=f(Math.pow(R,O)),H=H.j(O).add(f(j))):(H=H.j(P),H=H.add(f(j)))}return H}var g=c(0),_=c(1),v=c(16777216);n=s.prototype,n.m=function(){if(S(this))return-I(this).m();let z=0,R=1;for(let P=0;P<this.g.length;P++){const H=this.i(P);z+=(H>=0?H:4294967296+H)*R,R*=4294967296}return z},n.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(A(this))return"0";if(S(this))return"-"+I(this).toString(z);const R=f(Math.pow(z,6));var P=this;let H="";for(;;){const O=U(P,R).g;P=N(P,O.j(R));let k=((P.g.length>0?P.g[0]:P.h)>>>0).toString(z);if(P=O,A(P))return k+H;for(;k.length<6;)k="0"+k;H=k+H}},n.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function A(z){if(z.h!=0)return!1;for(let R=0;R<z.g.length;R++)if(z.g[R]!=0)return!1;return!0}function S(z){return z.h==-1}n.l=function(z){return z=N(this,z),S(z)?-1:A(z)?0:1};function I(z){const R=z.g.length,P=[];for(let H=0;H<R;H++)P[H]=~z.g[H];return new s(P,~z.h).add(_)}n.abs=function(){return S(this)?I(this):this},n.add=function(z){const R=Math.max(this.g.length,z.g.length),P=[];let H=0;for(let O=0;O<=R;O++){let k=H+(this.i(O)&65535)+(z.i(O)&65535),j=(k>>>16)+(this.i(O)>>>16)+(z.i(O)>>>16);H=j>>>16,k&=65535,j&=65535,P[O]=j<<16|k}return new s(P,P[P.length-1]&-2147483648?-1:0)};function N(z,R){return z.add(I(R))}n.j=function(z){if(A(this)||A(z))return g;if(S(this))return S(z)?I(this).j(I(z)):I(I(this).j(z));if(S(z))return I(this.j(I(z)));if(this.l(v)<0&&z.l(v)<0)return f(this.m()*z.m());const R=this.g.length+z.g.length,P=[];for(var H=0;H<2*R;H++)P[H]=0;for(H=0;H<this.g.length;H++)for(let O=0;O<z.g.length;O++){const k=this.i(H)>>>16,j=this.i(H)&65535,ce=z.i(O)>>>16,xe=z.i(O)&65535;P[2*H+2*O]+=j*xe,V(P,2*H+2*O),P[2*H+2*O+1]+=k*xe,V(P,2*H+2*O+1),P[2*H+2*O+1]+=j*ce,V(P,2*H+2*O+1),P[2*H+2*O+2]+=k*ce,V(P,2*H+2*O+2)}for(z=0;z<R;z++)P[z]=P[2*z+1]<<16|P[2*z];for(z=R;z<2*R;z++)P[z]=0;return new s(P,0)};function V(z,R){for(;(z[R]&65535)!=z[R];)z[R+1]+=z[R]>>>16,z[R]&=65535,R++}function q(z,R){this.g=z,this.h=R}function U(z,R){if(A(R))throw Error("division by zero");if(A(z))return new q(g,g);if(S(z))return R=U(I(z),R),new q(I(R.g),I(R.h));if(S(R))return R=U(z,I(R)),new q(I(R.g),R.h);if(z.g.length>30){if(S(z)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var P=_,H=R;H.l(z)<=0;)P=re(P),H=re(H);var O=ue(P,1),k=ue(H,1);for(H=ue(H,2),P=ue(P,2);!A(H);){var j=k.add(H);j.l(z)<=0&&(O=O.add(P),k=j),H=ue(H,1),P=ue(P,1)}return R=N(z,O.j(R)),new q(O,R)}for(O=g;z.l(R)>=0;){for(P=Math.max(1,Math.floor(z.m()/R.m())),H=Math.ceil(Math.log(P)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),k=f(P),j=k.j(R);S(j)||j.l(z)>0;)P-=H,k=f(P),j=k.j(R);A(k)&&(k=_),O=O.add(k),z=N(z,j)}return new q(O,z)}n.B=function(z){return U(this,z).h},n.and=function(z){const R=Math.max(this.g.length,z.g.length),P=[];for(let H=0;H<R;H++)P[H]=this.i(H)&z.i(H);return new s(P,this.h&z.h)},n.or=function(z){const R=Math.max(this.g.length,z.g.length),P=[];for(let H=0;H<R;H++)P[H]=this.i(H)|z.i(H);return new s(P,this.h|z.h)},n.xor=function(z){const R=Math.max(this.g.length,z.g.length),P=[];for(let H=0;H<R;H++)P[H]=this.i(H)^z.i(H);return new s(P,this.h^z.h)};function re(z){const R=z.g.length+1,P=[];for(let H=0;H<R;H++)P[H]=z.i(H)<<1|z.i(H-1)>>>31;return new s(P,z.h)}function ue(z,R){const P=R>>5;R%=32;const H=z.g.length-P,O=[];for(let k=0;k<H;k++)O[k]=R>0?z.i(k+P)>>>R|z.i(k+P+1)<<32-R:z.i(k+P);return new s(O,z.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Fb=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=d,Dc=s}).apply(typeof zw<"u"?zw:typeof self<"u"?self:typeof window<"u"?window:{});var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jb,Zd,Ub,J0,Yv,Vb,zb,Hb;(function(){var n,e=Object.defineProperty;function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof R0=="object"&&R0];for(var T=0;T<y.length;++T){var B=y[T];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=t(this);function i(y,T){if(T)e:{var B=r;y=y.split(".");for(var ee=0;ee<y.length-1;ee++){var Ee=y[ee];if(!(Ee in B))break e;B=B[Ee]}y=y[y.length-1],ee=B[y],T=T(ee),T!=ee&&T!=null&&e(B,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var B=[],ee;for(ee in T)Object.prototype.hasOwnProperty.call(T,ee)&&B.push([ee,T[ee]]);return B}});var a=a||{},s=this||self;function l(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function c(y,T,B){return y.call.apply(y.bind,arguments)}function f(y,T,B){return f=c,f.apply(null,arguments)}function d(y,T){var B=Array.prototype.slice.call(arguments,1);return function(){var ee=B.slice();return ee.push.apply(ee,arguments),y.apply(this,ee)}}function g(y,T){function B(){}B.prototype=T.prototype,y.Z=T.prototype,y.prototype=new B,y.prototype.constructor=y,y.Ob=function(ee,Ee,Pe){for(var at=Array(arguments.length-2),en=2;en<arguments.length;en++)at[en-2]=arguments[en];return T.prototype[Ee].apply(ee,at)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function v(y){const T=y.length;if(T>0){const B=Array(T);for(let ee=0;ee<T;ee++)B[ee]=y[ee];return B}return[]}function A(y,T){for(let ee=1;ee<arguments.length;ee++){const Ee=arguments[ee];var B=typeof Ee;if(B=B!="object"?B:Ee?Array.isArray(Ee)?"array":B:"null",B=="array"||B=="object"&&typeof Ee.length=="number"){B=y.length||0;const Pe=Ee.length||0;y.length=B+Pe;for(let at=0;at<Pe;at++)y[B+at]=Ee[at]}else y.push(Ee)}}class S{constructor(T,B){this.i=T,this.j=B,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function I(y){s.setTimeout(()=>{throw y},0)}function N(){var y=z;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class V{constructor(){this.h=this.g=null}add(T,B){const ee=q.get();ee.set(T,B),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var q=new S(()=>new U,y=>y.reset());class U{constructor(){this.next=this.g=this.h=null}set(T,B){this.h=T,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ue=!1,z=new V,R=()=>{const y=Promise.resolve(void 0);re=()=>{y.then(P)}};function P(){for(var y;y=N();){try{y.h.call(y.g)}catch(B){I(B)}var T=q;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}ue=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const B=()=>{};s.addEventListener("test",B,T),s.removeEventListener("test",B,T)}catch{}return y})();function j(y){return/^[\s\xa0]*$/.test(y)}function ce(y,T){O.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}g(ce,O),ce.prototype.init=function(y,T){const B=this.type=y.type,ee=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(B=="mouseover"?T=y.fromElement:B=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),te=0;function he(y,T,B,ee,Ee){this.listener=y,this.proxy=null,this.src=T,this.type=B,this.capture=!!ee,this.ha=Ee,this.key=++te,this.da=this.fa=!1}function pe(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Ce(y,T,B){for(const ee in y)T.call(B,y[ee],ee,y)}function We(y,T){for(const B in y)T.call(void 0,y[B],B,y)}function Z(y){const T={};for(const B in y)T[B]=y[B];return T}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(y,T){let B,ee;for(let Ee=1;Ee<arguments.length;Ee++){ee=arguments[Ee];for(B in ee)y[B]=ee[B];for(let Pe=0;Pe<F.length;Pe++)B=F[Pe],Object.prototype.hasOwnProperty.call(ee,B)&&(y[B]=ee[B])}}function ie(y){this.src=y,this.g={},this.h=0}ie.prototype.add=function(y,T,B,ee,Ee){const Pe=y.toString();y=this.g[Pe],y||(y=this.g[Pe]=[],this.h++);const at=de(y,T,ee,Ee);return at>-1?(T=y[at],B||(T.fa=!1)):(T=new he(T,this.src,Pe,!!ee,Ee),T.fa=B,y.push(T)),T};function fe(y,T){const B=T.type;if(B in y.g){var ee=y.g[B],Ee=Array.prototype.indexOf.call(ee,T,void 0),Pe;(Pe=Ee>=0)&&Array.prototype.splice.call(ee,Ee,1),Pe&&(pe(T),y.g[B].length==0&&(delete y.g[B],y.h--))}}function de(y,T,B,ee){for(let Ee=0;Ee<y.length;++Ee){const Pe=y[Ee];if(!Pe.da&&Pe.listener==T&&Pe.capture==!!B&&Pe.ha==ee)return Ee}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Le={};function Ne(y,T,B,ee,Ee){if(Array.isArray(T)){for(let Pe=0;Pe<T.length;Pe++)Ne(y,T[Pe],B,ee,Ee);return null}return B=ct(B),y&&y[xe]?y.J(T,B,l(ee)?!!ee.capture:!1,Ee):ze(y,T,B,!1,ee,Ee)}function ze(y,T,B,ee,Ee,Pe){if(!T)throw Error("Invalid event type");const at=l(Ee)?!!Ee.capture:!!Ee;let en=et(y);if(en||(y[ye]=en=new ie(y)),B=en.add(T,B,ee,at,Pe),B.proxy)return B;if(ee=nt(),B.proxy=ee,ee.src=y,ee.listener=B,y.addEventListener)k||(Ee=at),Ee===void 0&&(Ee=!1),y.addEventListener(T.toString(),ee,Ee);else if(y.attachEvent)y.attachEvent(Ke(T.toString()),ee);else if(y.addListener&&y.removeListener)y.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return B}function nt(){function y(B){return T.call(y.src,y.listener,B)}const T=Q;return y}function ut(y,T,B,ee,Ee){if(Array.isArray(T))for(var Pe=0;Pe<T.length;Pe++)ut(y,T[Pe],B,ee,Ee);else ee=l(ee)?!!ee.capture:!!ee,B=ct(B),y&&y[xe]?(y=y.i,Pe=String(T).toString(),Pe in y.g&&(T=y.g[Pe],B=de(T,B,ee,Ee),B>-1&&(pe(T[B]),Array.prototype.splice.call(T,B,1),T.length==0&&(delete y.g[Pe],y.h--)))):y&&(y=et(y))&&(T=y.g[T.toString()],y=-1,T&&(y=de(T,B,ee,Ee)),(B=y>-1?T[y]:null)&&ke(B))}function ke(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[xe])fe(T.i,y);else{var B=y.type,ee=y.proxy;T.removeEventListener?T.removeEventListener(B,ee,y.capture):T.detachEvent?T.detachEvent(Ke(B),ee):T.addListener&&T.removeListener&&T.removeListener(ee),(B=et(T))?(fe(B,y),B.h==0&&(B.src=null,T[ye]=null)):pe(y)}}}function Ke(y){return y in Le?Le[y]:Le[y]="on"+y}function Q(y,T){if(y.da)y=!0;else{T=new ce(T,this);const B=y.listener,ee=y.ha||y.src;y.fa&&ke(y),y=B.call(ee,T)}return y}function et(y){return y=y[ye],y instanceof ie?y:null}var wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ct(y){return typeof y=="function"?y:(y[wt]||(y[wt]=function(T){return y.handleEvent(T)}),y[wt])}function Fe(){H.call(this),this.i=new ie(this),this.M=this,this.G=null}g(Fe,H),Fe.prototype[xe]=!0,Fe.prototype.removeEventListener=function(y,T,B,ee){ut(this,y,T,B,ee)};function rt(y,T){var B,ee=y.G;if(ee)for(B=[];ee;ee=ee.G)B.push(ee);if(y=y.M,ee=T.type||T,typeof T=="string")T=new O(T,y);else if(T instanceof O)T.target=T.target||y;else{var Ee=T;T=new O(ee,y),$(T,Ee)}Ee=!0;let Pe,at;if(B)for(at=B.length-1;at>=0;at--)Pe=T.g=B[at],Ee=$e(Pe,ee,!0,T)&&Ee;if(Pe=T.g=y,Ee=$e(Pe,ee,!0,T)&&Ee,Ee=$e(Pe,ee,!1,T)&&Ee,B)for(at=0;at<B.length;at++)Pe=T.g=B[at],Ee=$e(Pe,ee,!1,T)&&Ee}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const B=y.g[T];for(let ee=0;ee<B.length;ee++)pe(B[ee]);delete y.g[T],y.h--}}this.G=null},Fe.prototype.J=function(y,T,B,ee){return this.i.add(String(y),T,!1,B,ee)},Fe.prototype.K=function(y,T,B,ee){return this.i.add(String(y),T,!0,B,ee)};function $e(y,T,B,ee){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let Ee=!0;for(let Pe=0;Pe<T.length;++Pe){const at=T[Pe];if(at&&!at.da&&at.capture==B){const en=at.listener,mr=at.ha||at.src;at.fa&&fe(y.i,at),Ee=en.call(mr,ee)!==!1&&Ee}}return Ee&&!ee.defaultPrevented}function ot(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(y,T||0)}function ft(y){y.g=ot(()=>{y.g=null,y.i&&(y.i=!1,ft(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class Vt extends H{constructor(T,B){super(),this.m=T,this.l=B,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(y){H.call(this),this.h=y,this.g={}}g(Qt,H);var Bt=[];function sn(y){Ce(y.g,function(T,B){this.g.hasOwnProperty(B)&&ke(T)},y),y.g={}}Qt.prototype.N=function(){Qt.Z.N.call(this),sn(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nt=s.JSON.stringify,ht=s.JSON.parse,Yt=class{stringify(y){return s.JSON.stringify(y,void 0)}parse(y){return s.JSON.parse(y,void 0)}};function gt(){}function tr(){}var tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){O.call(this,"d")}g(Pt,O);function Kt(){O.call(this,"c")}g(Kt,O);var on={},Rt=null;function jn(){return Rt=Rt||new Fe}on.Ia="serverreachability";function zt(y){O.call(this,on.Ia,y)}g(zt,O);function Ht(y){const T=jn();rt(T,new zt(T))}on.STAT_EVENT="statevent";function Hn(y,T){O.call(this,on.STAT_EVENT,y),this.stat=T}g(Hn,O);function It(y){const T=jn();rt(T,new Hn(T,y))}on.Ja="timingevent";function Ct(y,T){O.call(this,on.Ja,y),this.size=T}g(Ct,O);function pn(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){y()},T)}function Bi(){this.g=!0}Bi.prototype.ua=function(){this.g=!1};function Ci(y,T,B,ee,Ee,Pe){y.info(function(){if(y.g)if(Pe){var at="",en=Pe.split("&");for(let vn=0;vn<en.length;vn++){var mr=en[vn].split("=");if(mr.length>1){const Wn=mr[0];mr=mr[1];const Ri=Wn.split("_");at=Ri.length>=2&&Ri[1]=="type"?at+(Wn+"="+mr+"&"):at+(Wn+"=redacted&")}}}else at=null;else at=Pe;return"XMLHTTP REQ ("+ee+") [attempt "+Ee+"]: "+T+`
`+B+`
`+at})}function Ao(y,T,B,ee,Ee,Pe,at){y.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Ee+"]: "+T+`
`+B+`
`+Pe+" "+at})}function vi(y,T,B,ee){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+Zo(y,B)+(ee?" "+ee:"")})}function Ot(y,T){y.info(function(){return"TIMEOUT: "+T})}Bi.prototype.info=function(){};function Zo(y,T){if(!y.g)return T;if(!T)return null;try{const Pe=JSON.parse(T);if(Pe){for(y=0;y<Pe.length;y++)if(Array.isArray(Pe[y])){var B=Pe[y];if(!(B.length<2)){var ee=B[1];if(Array.isArray(ee)&&!(ee.length<1)){var Ee=ee[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(let at=1;at<ee.length;at++)ee[at]=""}}}}return Nt(Pe)}catch{return T}}var Ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},aa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oa;function nr(){}g(nr,gt),nr.prototype.g=function(){return new XMLHttpRequest},oa=new nr;function gr(y){return encodeURIComponent(String(y))}function oi(y){var T=1;y=y.split(":");const B=[];for(;T>0&&y.length;)B.push(y.shift()),T--;return y.length&&B.push(y.join(":")),B}function Fi(y,T,B,ee){this.j=y,this.i=T,this.l=B,this.S=ee||1,this.V=new Qt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}var qn={},sr={};function si(y,T,B){y.M=1,y.A=gs(qr(T)),y.u=B,y.R=!0,sa(y,null)}function sa(y,T){y.F=Date.now(),la(y),y.B=qr(y.A);var B=y.B,ee=y.S;Array.isArray(ee)||(ee=[String(ee)]),_l(B.i,"t",ee),y.C=0,B=y.j.L,y.h=new Ti,y.g=vt(y.j,B?T:null,!y.u),y.P>0&&(y.O=new Vt(f(y.Y,y,y.g),y.P)),T=y.V,B=y.g,ee=y.ba;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(Bt[0]=Ee.toString()),Ee=Bt);for(let Pe=0;Pe<Ee.length;Pe++){const at=Ne(B,Ee[Pe],ee||T.handleEvent,!1,T.h||T);if(!at)break;T.g[at.key]=at}T=y.J?Z(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Ht(),Ci(y.i,y.v,y.B,y.l,y.S,y.u)}Fi.prototype.ba=function(y){y=y.target;const T=this.O;T&&Ra(y)==3?T.j():this.Y(y)},Fi.prototype.Y=function(y){try{if(y==this.g)e:{const en=Ra(this.g),mr=this.g.ya(),vn=this.g.ca();if(!(en<3)&&(en!=3||this.g&&(this.h.h||this.g.la()||Qr(this.g)))){this.K||en!=4||mr==7||(mr==8||vn<=0?Ht(3):Ht(2)),Sa(this);var T=this.g.ca();this.X=T;var B=Ga(this);if(this.o=T==200,Ao(this.i,this.v,this.B,this.l,this.S,en,T),this.o){if(this.U&&!this.L){t:{if(this.g){var ee,Ee=this.g;if((ee=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ee)){var Pe=ee;break t}}Pe=null}if(y=Pe)vi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wa(this,y);else{this.o=!1,this.m=3,It(12),Ca(this),ji(this);break e}}if(this.R){y=!0;let Wn;for(;!this.K&&this.C<B.length;)if(Wn=uo(this,B),Wn==sr){en==4&&(this.m=4,It(14),y=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==qn){this.m=4,It(15),vi(this.i,this.l,B,"[Invalid Chunk]"),y=!1;break}else vi(this.i,this.l,Wn,null),Wa(this,Wn);if(ps(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||B.length!=0||this.h.h||(this.m=1,It(16),y=!1),this.o=this.o&&y,!y)vi(this.i,this.l,B,"[Invalid Chunked Response]"),Ca(this),ji(this);else if(B.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Al(at),at.P=!0,It(11))}}else vi(this.i,this.l,B,null),Wa(this,B);en==4&&Ca(this),this.o&&!this.K&&(en==4?se(this.j,this):(this.o=!1,la(this)))}else Eo(this.g),T==400&&B.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Ca(this),ji(this)}}}catch{}};function Ga(y){if(!ps(y))return y.g.la();const T=Qr(y.g);if(T==="")return"";let B="";const ee=T.length,Ee=Ra(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Ca(y),ji(y),"";y.h.i=new s.TextDecoder}for(let Pe=0;Pe<ee;Pe++)y.h.h=!0,B+=y.h.i.decode(T[Pe],{stream:!(Ee&&Pe==ee-1)});return T.length=0,y.h.g+=B,y.C=0,y.h.g}function ps(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function uo(y,T){var B=y.C,ee=T.indexOf(`
`,B);return ee==-1?sr:(B=Number(T.substring(B,ee)),isNaN(B)?qn:(ee+=1,ee+B>T.length?sr:(T=T.slice(ee,ee+B),y.C=ee+B,T)))}Fi.prototype.cancel=function(){this.K=!0,Ca(this)};function la(y){y.T=Date.now()+y.H,Qo(y,y.H)}function Qo(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=pn(f(y.aa,y),T)}function Sa(y){y.D&&(s.clearTimeout(y.D),y.D=null)}Fi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Ot(this.i,this.B),this.M!=2&&(Ht(),It(17)),Ca(this),this.m=2,ji(this)):Qo(this,this.T-y)};function ji(y){y.j.I==0||y.K||se(y.j,y)}function Ca(y){Sa(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,sn(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function Wa(y,T){try{var B=y.j;if(B.I!=0&&(B.g==y||co(B.h,y))){if(!y.L&&co(B.h,y)&&B.I==3){try{var ee=B.Ba.g.parse(T)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var Ee=ee;if(Ee[0]==0){e:if(!B.v){if(B.g)if(B.g.F+3e3<y.F)G(B),Co(B);else break e;po(B),It(18)}}else B.xa=Ee[1],0<B.xa-B.K&&Ee[2]<37500&&B.F&&B.A==0&&!B.C&&(B.C=pn(f(B.Va,B),6e3));Xa(B.h)<=1&&B.ta&&(B.ta=void 0)}else be(B,11)}else if((y.L||B.g==y)&&G(B),!j(T))for(Ee=B.Ba.g.parse(T),T=0;T<Ee.length;T++){let vn=Ee[T];const Wn=vn[0];if(!(Wn<=B.K))if(B.K=Wn,vn=vn[1],B.I==2)if(vn[0]=="c"){B.M=vn[1],B.ba=vn[2];const Ri=vn[3];Ri!=null&&(B.ka=Ri,B.j.info("VER="+B.ka));const Vi=vn[4];Vi!=null&&(B.za=Vi,B.j.info("SVER="+B.za));const lr=vn[5];lr!=null&&typeof lr=="number"&&lr>0&&(ee=1.5*lr,B.O=ee,B.j.info("backChannelRequestTimeoutMs_="+ee)),ee=B;const zi=y.g;if(zi){const go=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(go){var Pe=ee.h;Pe.g||go.indexOf("spdy")==-1&&go.indexOf("quic")==-1&&go.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(js(Pe,Pe.h),Pe.h=null))}if(ee.G){const ws=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;ws&&(ee.wa=ws,Cn(ee.J,ee.G,ws))}}B.I=3,B.l&&B.l.ra(),B.aa&&(B.T=Date.now()-y.F,B.j.info("Handshake RTT: "+B.T+"ms")),ee=B;var at=y;if(ee.na=Qe(ee,ee.L?ee.ba:null,ee.W),at.L){ml(ee.h,at);var en=at,mr=ee.O;mr&&(en.H=mr),en.D&&(Sa(en),la(en)),ee.g=at}else ou(ee);B.i.length>0&&Ka(B)}else vn[0]!="stop"&&vn[0]!="close"||be(B,7);else B.I==3&&(vn[0]=="stop"||vn[0]=="close"?vn[0]=="stop"?be(B,7):_s(B):vn[0]!="noop"&&B.l&&B.l.qa(vn),B.A=0)}}Ht(4)}catch{}}var Lr=class{constructor(y,T){this.g=y,this.map=T}};function vl(y){this.l=y||10,s.PerformanceNavigationTiming?(y=s.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ua(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Xa(y){return y.h?1:y.g?y.g.size:0}function co(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function js(y,T){y.g?y.g.add(T):y.h=T}function ml(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}vl.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function yl(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const B of y.g.values())T=T.concat(B.G);return T}return v(y.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(y,T){if(y){y=y.split("&");for(let B=0;B<y.length;B++){const ee=y[B].indexOf("=");let Ee,Pe=null;ee>=0?(Ee=y[B].substring(0,ee),Pe=y[B].substring(ee+1)):Ee=y[B],T(Ee,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function Ni(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof Ni?(this.l=y.l,yn(this,y.j),this.o=y.o,this.g=y.g,Jo(this,y.u),this.h=y.h,Ya(this,wl(y.i)),this.m=y.m):y&&(T=String(y).match(eu))?(this.l=!1,yn(this,T[1]||"",!0),this.o=Zr(T[2]||""),this.g=Zr(T[3]||"",!0),Jo(this,T[4]),this.h=Zr(T[5]||"",!0),Ya(this,T[6]||"",!0),this.m=Zr(T[7]||"")):(this.l=!1,this.i=new es(null,this.l))}Ni.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(Er(T,Us,!0),":");var B=this.g;return(B||T=="file")&&(y.push("//"),(T=this.o)&&y.push(Er(T,Us,!0),"@"),y.push(gr(B).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.u,B!=null&&y.push(":",String(B))),(B=this.h)&&(this.g&&B.charAt(0)!="/"&&y.push("/"),y.push(Er(B,B.charAt(0)=="/"?tu:Uu,!0))),(B=this.i.toString())&&y.push("?",B),(B=this.m)&&y.push("#",Er(B,nu)),y.join("")},Ni.prototype.resolve=function(y){const T=qr(this);let B=!!y.j;B?yn(T,y.j):B=!!y.o,B?T.o=y.o:B=!!y.g,B?T.g=y.g:B=y.u!=null;var ee=y.h;if(B)Jo(T,y.u);else if(B=!!y.h){if(ee.charAt(0)!="/")if(this.g&&!this.h)ee="/"+ee;else{var Ee=T.h.lastIndexOf("/");Ee!=-1&&(ee=T.h.slice(0,Ee+1)+ee)}if(Ee=ee,Ee==".."||Ee==".")ee="";else if(Ee.indexOf("./")!=-1||Ee.indexOf("/.")!=-1){ee=Ee.lastIndexOf("/",0)==0,Ee=Ee.split("/");const Pe=[];for(let at=0;at<Ee.length;){const en=Ee[at++];en=="."?ee&&at==Ee.length&&Pe.push(""):en==".."?((Pe.length>1||Pe.length==1&&Pe[0]!="")&&Pe.pop(),ee&&at==Ee.length&&Pe.push("")):(Pe.push(en),ee=!0)}ee=Pe.join("/")}else ee=Ee}return B?T.h=ee:B=y.i.toString()!=="",B?Ya(T,wl(y.i)):B=!!y.m,B&&(T.m=y.m),T};function qr(y){return new Ni(y)}function yn(y,T,B){y.j=B?Zr(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function Jo(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function Ya(y,T,B){T instanceof es?(y.i=T,ca(y.i,y.l)):(B||(T=Er(T,Ui)),y.i=new es(T,y.l))}function Cn(y,T,B){y.i.set(T,B)}function gs(y){return Cn(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Zr(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Er(y,T,B){return typeof y=="string"?(y=encodeURI(y).replace(T,Gr),B&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Gr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Us=/[#\/\?@]/g,Uu=/[#\?:]/g,tu=/[#\?]/g,Ui=/[#\?@]/g,nu=/#/g;function es(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function mi(y){y.g||(y.g=new Map,y.h=0,y.i&&Ta(y.i,function(T,B){y.add(decodeURIComponent(T.replace(/\+/g," ")),B)}))}n=es.prototype,n.add=function(y,T){mi(this),this.i=null,y=ts(this,y);let B=this.g.get(y);return B||this.g.set(y,B=[]),B.push(T),this.h+=1,this};function vs(y,T){mi(y),T=ts(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function ru(y,T){return mi(y),T=ts(y,T),y.g.has(T)}n.forEach=function(y,T){mi(this),this.g.forEach(function(B,ee){B.forEach(function(Ee){y.call(T,Ee,ee,this)},this)},this)};function iu(y,T){mi(y);let B=[];if(typeof T=="string")ru(y,T)&&(B=B.concat(y.g.get(ts(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)B=B.concat(y[T]);return B}n.set=function(y,T){return mi(this),this.i=null,y=ts(this,y),ru(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},n.get=function(y,T){return y?(y=iu(this,y),y.length>0?String(y[0]):T):T};function _l(y,T,B){vs(y,T),B.length>0&&(y.i=null,y.g.set(ts(y,T),v(B)),y.h+=B.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let ee=0;ee<T.length;ee++){var B=T[ee];const Ee=gr(B);B=iu(this,B);for(let Pe=0;Pe<B.length;Pe++){let at=Ee;B[Pe]!==""&&(at+="="+gr(B[Pe])),y.push(at)}}return this.i=y.join("&")};function wl(y){const T=new es;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function ts(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function ca(y,T){T&&!y.j&&(mi(y),y.i=null,y.g.forEach(function(B,ee){const Ee=ee.toLowerCase();ee!=Ee&&(vs(this,ee),_l(this,Ee,B))},y)),y.j=T}function fo(y,T){const B=new Bi;if(s.Image){const ee=new Image;ee.onload=d(fa,B,"TestLoadImage: loaded",!0,T,ee),ee.onerror=d(fa,B,"TestLoadImage: error",!1,T,ee),ee.onabort=d(fa,B,"TestLoadImage: abort",!1,T,ee),ee.ontimeout=d(fa,B,"TestLoadImage: timeout",!1,T,ee),s.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=y}else T(!1)}function ns(y,T){const B=new Bi,ee=new AbortController,Ee=setTimeout(()=>{ee.abort(),fa(B,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:ee.signal}).then(Pe=>{clearTimeout(Ee),Pe.ok?fa(B,"TestPingServer: ok",!0,T):fa(B,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Ee),fa(B,"TestPingServer: error",!1,T)})}function fa(y,T,B,ee,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),ee(B)}catch{}}function ms(){this.g=new Yt}function Mt(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Mt,gt),Mt.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(y,T){Fe.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Vs,Fe),n=Vs.prototype,n.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,yi(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},n.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xl(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function xl(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}n.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?ys(this):yi(this),this.readyState==3&&xl(this)}},n.Oa=function(y){this.g&&(this.response=this.responseText=y,ys(this))},n.Na=function(y){this.g&&(this.response=y,ys(this))},n.ga=function(){this.g&&ys(this)};function ys(y){y.readyState=4,y.l=null,y.j=null,y.B=null,yi(y)}n.setRequestHeader=function(y,T){this.A.append(y,T)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var B=T.next();!B.done;)B=B.value,y.push(B[0]+": "+B[1]),B=T.next();return y.join(`\r
`)};function yi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function li(y){let T="";return Ce(y,function(B,ee){T+=ee,T+=":",T+=B,T+=`\r
`}),T}function zs(y,T,B){e:{for(ee in B){var ee=!1;break e}ee=!0}ee||(B=li(B),typeof y=="string"?B!=null&&gr(B):Cn(y,T,B))}function Gn(y){Fe.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Gn,Fe);var Na=/^https?$/i,Hs=["POST","PUT"];n=Gn.prototype,n.Fa=function(y){this.H=y},n.ea=function(y,T,B,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oa.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(Pe){ho(this,Pe);return}if(y=B||"",B=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Ee in ee)B.set(Ee,ee[Ee]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Pe of ee.keys())B.set(Pe,ee.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(B.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),Ee=s.FormData&&y instanceof s.FormData,!(Array.prototype.indexOf.call(Hs,T,void 0)>=0)||ee||Ee||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,at]of B)this.g.setRequestHeader(Pe,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(Pe){ho(this,Pe)}};function ho(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,au(y),rs(y)}function au(y){y.A||(y.A=!0,rt(y,"complete"),rt(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,rt(this,"complete"),rt(this,"abort"),rs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),Gn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ia(this):this.Xa())},n.Xa=function(){Ia(this)};function Ia(y){if(y.h&&typeof a<"u"){if(y.v&&Ra(y)==4)setTimeout(y.Ca.bind(y),0);else if(rt(y,"readystatechange"),Ra(y)==4){y.h=!1;try{const Pe=y.ca();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var B;if(!(B=T)){var ee;if(ee=Pe===0){let at=String(y.D).match(eu)[1]||null;!at&&s.self&&s.self.location&&(at=s.self.location.protocol.slice(0,-1)),ee=!Na.test(at?at.toLowerCase():"")}B=ee}if(B)rt(y,"complete"),rt(y,"success");else{y.o=6;try{var Ee=Ra(y)>2?y.g.statusText:""}catch{Ee=""}y.l=Ee+" ["+y.ca()+"]",au(y)}}finally{rs(y)}}}}function rs(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const B=y.g;y.g=null,T||rt(y,"ready");try{B.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ra(y){return y.g?y.g.readyState:0}n.ca=function(){try{return Ra(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),ht(T)}};function Qr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(y){const T={};y=(y.g&&Ra(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<y.length;ee++){if(j(y[ee]))continue;var B=oi(y[ee]);const Ee=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Pe=T[Ee]||[];T[Ee]=Pe,Pe.push(B)}We(T,function(ee){return ee.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(y,T,B){return B&&B.internalChannelParams&&B.internalChannelParams[y]||T}function So(y){this.za=0,this.i=[],this.j=new Bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,y),this.Za=Ii("retryDelaySeedMs",1e4,y),this.Ta=Ii("forwardChannelMaxRetries",2,y),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(y&&y.concurrentRequestLimit),this.Ba=new ms,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=So.prototype,n.ka=8,n.I=1,n.connect=function(y,T,B,ee){It(0),this.W=y,this.H=T||{},B&&ee!==void 0&&(this.H.OSID=B,this.H.OAID=ee),this.F=this.X,this.J=Qe(this,null,this.W),Ka(this)};function _s(y){if(To(y),y.I==3){var T=y.V++,B=qr(y.J);if(Cn(B,"SID",y.M),Cn(B,"RID",T),Cn(B,"TYPE","terminate"),Oa(y,B),T=new Fi(y,y.j,T),T.M=2,T.A=gs(qr(B)),B=!1,s.navigator&&s.navigator.sendBeacon)try{B=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!B&&s.Image&&(new Image().src=T.A,B=!0),B||(T.g=vt(T.j,null),T.g.ea(T.A)),T.F=Date.now(),la(T)}He(y)}function Co(y){y.g&&(Al(y),y.g.cancel(),y.g=null)}function To(y){Co(y),y.v&&(s.clearTimeout(y.v),y.v=null),G(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&s.clearTimeout(y.m),y.m=null)}function Ka(y){if(!ua(y.h)&&!y.m){y.m=!0;var T=y.Ea;re||R(),ue||(re(),ue=!0),z.add(T,y),y.D=0}}function qs(y,T){return Xa(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=pn(f(y.Ea,y,T),ve(y,y.D)),y.D++,!0)}n.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Ee=new Fi(this,this.j,y);let Pe=this.o;if(this.U&&(Pe?(Pe=Z(Pe),$(Pe,this.U)):Pe=this.U),this.u!==null||this.R||(Ee.J=Pe,Pe=null),this.S)e:{for(var T=0,B=0;B<this.i.length;B++){t:{var ee=this.i[B];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(T+=ee,T>4096){T=B;break e}if(T===4096||B===this.i.length-1){T=B+1;break e}}T=1e3}else T=1e3;T=No(this,Ee,T),B=qr(this.J),Cn(B,"RID",y),Cn(B,"CVER",22),this.G&&Cn(B,"X-HTTP-Session-Id",this.G),Oa(this,B),Pe&&(this.R?T="headers="+gr(li(Pe))+"&"+T:this.u&&zs(B,this.u,Pe)),js(this.h,Ee),this.Ra&&Cn(B,"TYPE","init"),this.S?(Cn(B,"$req",T),Cn(B,"SID","null"),Ee.U=!0,si(Ee,B,null)):si(Ee,B,T),this.I=2}}else this.I==3&&(y?bl(this,y):this.i.length==0||ua(this.h)||bl(this))};function bl(y,T){var B;T?B=T.l:B=y.V++;const ee=qr(y.J);Cn(ee,"SID",y.M),Cn(ee,"RID",B),Cn(ee,"AID",y.K),Oa(y,ee),y.u&&y.o&&zs(ee,y.u,y.o),B=new Fi(y,y.j,B,y.D+1),y.u===null&&(B.J=y.o),T&&(y.i=T.G.concat(y.i)),T=No(y,B,1e3),B.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),js(y.h,B),si(B,ee,T)}function Oa(y,T){y.H&&Ce(y.H,function(B,ee){Cn(T,ee,B)}),y.l&&Ce({},function(B,ee){Cn(T,ee,B)})}function No(y,T,B){B=Math.min(y.i.length,B);const ee=y.l?f(y.l.Ka,y.l,y):null;e:{var Ee=y.i;let en=-1;for(;;){const mr=["count="+B];en==-1?B>0?(en=Ee[0].g,mr.push("ofs="+en)):en=0:mr.push("ofs="+en);let vn=!0;for(let Wn=0;Wn<B;Wn++){var Pe=Ee[Wn].g;const Ri=Ee[Wn].map;if(Pe-=en,Pe<0)en=Math.max(0,Ee[Wn].g-100),vn=!1;else try{Pe="req"+Pe+"_"||"";try{var at=Ri instanceof Map?Ri:Object.entries(Ri);for(const[Vi,lr]of at){let zi=lr;l(lr)&&(zi=Nt(lr)),mr.push(Pe+Vi+"="+encodeURIComponent(zi))}}catch(Vi){throw mr.push(Pe+"type="+encodeURIComponent("_badmap")),Vi}}catch{ee&&ee(Ri)}}if(vn){at=mr.join("&");break e}}at=void 0}return y=y.i.splice(0,B),T.G=y,at}function ou(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;re||R(),ue||(re(),ue=!0),z.add(T,y),y.A=0}}function po(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=pn(f(y.Da,y),ve(y,y.A)),y.A++,!0)}n.Da=function(){if(this.v=null,E(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=pn(f(this.Wa,this),y)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Co(this),E(this))};function Al(y){y.B!=null&&(s.clearTimeout(y.B),y.B=null)}function E(y){y.g=new Fi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=qr(y.na);Cn(T,"RID","rpc"),Cn(T,"SID",y.M),Cn(T,"AID",y.K),Cn(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&Cn(T,"TO",y.ia),Cn(T,"TYPE","xmlhttp"),Oa(y,T),y.u&&y.o&&zs(T,y.u,y.o),y.O&&(y.g.H=y.O);var B=y.g;y=y.ba,B.M=1,B.A=gs(qr(T)),B.u=null,B.R=!0,sa(B,y)}n.Va=function(){this.C!=null&&(this.C=null,Co(this),po(this),It(19))};function G(y){y.C!=null&&(s.clearTimeout(y.C),y.C=null)}function se(y,T){var B=null;if(y.g==T){G(y),Al(y),y.g=null;var ee=2}else if(co(y.h,T))B=T.G,ml(y.h,T),ee=1;else return;if(y.I!=0){if(T.o)if(ee==1){B=T.u?T.u.length:0,T=Date.now()-T.F;var Ee=y.D;ee=jn(),rt(ee,new Ct(ee,B)),Ka(y)}else ou(y);else if(Ee=T.m,Ee==3||Ee==0&&T.X>0||!(ee==1&&qs(y,T)||ee==2&&po(y)))switch(B&&B.length>0&&(T=y.h,T.i=T.i.concat(B)),Ee){case 1:be(y,5);break;case 4:be(y,10);break;case 3:be(y,6);break;default:be(y,2)}}}function ve(y,T){let B=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(B*=2),B*T}function be(y,T){if(y.j.info("Error code "+T),T==2){var B=f(y.bb,y),ee=y.Ua;const Ee=!ee;ee=new Ni(ee||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||yn(ee,"https"),gs(ee),Ee?fo(ee.toString(),B):ns(ee.toString(),B)}else It(2);y.I=0,y.l&&y.l.pa(T),He(y),To(y)}n.bb=function(y){y?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function He(y){if(y.I=0,y.ja=[],y.l){const T=yl(y.h);(T.length!=0||y.i.length!=0)&&(A(y.ja,T),A(y.ja,y.i),y.h.i.length=0,v(y.i),y.i.length=0),y.l.oa()}}function Qe(y,T,B){var ee=B instanceof Ni?qr(B):new Ni(B);if(ee.g!="")T&&(ee.g=T+"."+ee.g),Jo(ee,ee.u);else{var Ee=s.location;ee=Ee.protocol,T=T?T+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;const Pe=new Ni(null);ee&&yn(Pe,ee),T&&(Pe.g=T),Ee&&Jo(Pe,Ee),B&&(Pe.h=B),ee=Pe}return B=y.G,T=y.wa,B&&T&&Cn(ee,B,T),Cn(ee,"VER",y.ka),Oa(y,ee),ee}function vt(y,T,B){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new Gn(new Mt({ab:B})):new Gn(y.ma),T.Fa(y.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xt(){}n=xt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ft(){}Ft.prototype.g=function(y,T){return new Dt(y,T)};function Dt(y,T){Fe.call(this),this.g=new So(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!j(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new rr(this)}g(Dt,Fe),Dt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){_s(this.g)},Dt.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var B={};B.__data__=y,y=B}else this.v&&(B={},B.__data__=Nt(y),y=B);T.i.push(new Lr(T.Ya++,y)),T.I==3&&Ka(T)},Dt.prototype.N=function(){this.g.l=null,delete this.j,_s(this.g),delete this.g,Dt.Z.N.call(this)};function wn(y){Pt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const B in T){y=B;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}g(wn,Pt);function vr(){Kt.call(this),this.status=1}g(vr,Kt);function rr(y){this.g=y}g(rr,xt),rr.prototype.ra=function(){rt(this.g,"a")},rr.prototype.qa=function(y){rt(this.g,new wn(y))},rr.prototype.pa=function(y){rt(this.g,new vr)},rr.prototype.oa=function(){rt(this.g,"b")},Ft.prototype.createWebChannel=Ft.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,Hb=function(){return new Ft},zb=function(){return jn()},Vb=on,Yv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,J0=Ea,aa.COMPLETE="complete",Ub=aa,tr.EventType=tn,tn.OPEN="a",tn.CLOSE="b",tn.ERROR="c",tn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,Zd=tr,Gn.prototype.listenOnce=Gn.prototype.K,Gn.prototype.getLastError=Gn.prototype.Ha,Gn.prototype.getLastErrorCode=Gn.prototype.ya,Gn.prototype.getStatus=Gn.prototype.ca,Gn.prototype.getResponseJson=Gn.prototype.La,Gn.prototype.getResponseText=Gn.prototype.la,Gn.prototype.send=Gn.prototype.ea,Gn.prototype.setWithCredentials=Gn.prototype.Fa,jb=Gn}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});const Hw="@firebase/firestore",qw="4.9.3";let ao=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ao.UNAUTHENTICATED=new ao(null),ao.GOOGLE_CREDENTIALS=new ao("google-credentials-uid"),ao.FIRST_PARTY=new ao("first-party-uid"),ao.MOCK_USER=new ao("mock-user");let nd="12.7.0";const Rf=new Um("@firebase/firestore");function bh(){return Rf.logLevel}function mt(n,...e){if(Rf.logLevel<=In.DEBUG){const t=e.map($m);Rf.debug(`Firestore (${nd}): ${n}`,...t)}}function ku(n,...e){if(Rf.logLevel<=In.ERROR){const t=e.map($m);Rf.error(`Firestore (${nd}): ${n}`,...t)}}function Gh(n,...e){if(Rf.logLevel<=In.WARN){const t=e.map($m);Rf.warn(`Firestore (${nd}): ${n}`,...t)}}function $m(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Jt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,qb(n,r,t)}function qb(n,e,t){let r=`FIRESTORE (${nd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ku(r),new Error(r)}function ar(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||qb(e,i,r)}function hn(n,e){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends ju{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Gb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ao.UNAUTHENTICATED)))}shutdown(){}}class nI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class rI{constructor(e){this.t=e,this.currentUser=ao.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ar(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let a=new Lc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Lc,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Lc)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ar(typeof r.accessToken=="string",31837,{l:r}),new Gb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ar(e===null||typeof e=="string",2055,{h:e}),new ao(e)}}class iI{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ao.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aI{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new iI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ao.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ll(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ar(this.o===void 0,3512);const r=a=>{a.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,mt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ar(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Gw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=sI(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Rn(n,e){return n<e?-1:n>e?1:0}function Kv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return $g(i)===$g(a)?Rn(i,a):$g(i)?1:-1}return Rn(n.length,e.length)}const lI=55296,uI=57343;function $g(n){const e=n.charCodeAt(0);return e>=lI&&e<=uI}function Wh(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}const Ww="__name__";class Ul{constructor(e,t,r){t===void 0?t=0:t>e.length&&Jt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Jt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ul.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Ul.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Rn(e.length,t.length)}static compareSegments(e,t){const r=Ul.isNumericId(e),i=Ul.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ul.extractNumericId(e).compare(Ul.extractNumericId(t)):Kv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dc.fromString(e.substring(4,e.length-2))}}class Vr extends Ul{construct(e,t,r){return new Vr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new St(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Vr(t)}static emptyPath(){return new Vr([])}}const cI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Va extends Ul{construct(e,t,r){return new Va(e,t,r)}static isValidIdentifier(e){return cI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Va.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ww}static keyField(){return new Va([Ww])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new St(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new St(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new St(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new St(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Va(t)}static emptyPath(){return new Va([])}}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(Vr.fromString(e))}static fromName(e){return new Xt(Vr.fromString(e).popFirst(5))}static empty(){return new Xt(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new Vr(e.slice()))}}function Wb(n,e,t){if(!t)throw new St(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fI(n,e,t,r){if(e===!0&&r===!0)throw new St(tt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Xw(n){if(!Xt.isDocumentKey(n))throw new St(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yw(n){if(Xt.isDocumentKey(n))throw new St(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Jt(12329,{type:typeof n})}function hl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new St(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qm(n);throw new St(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ki(n,e){const t={typeString:n};return e&&(t.value=e),t}function N1(n,e){if(!Xb(n))throw new St(tt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new St(tt.INVALID_ARGUMENT,t);return!0}const Kw=-62135596800,$w=1e6;class zr{static now(){return zr.fromMillis(Date.now())}static fromDate(e){return zr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$w);return new zr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new St(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new St(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kw)throw new St(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$w}_compareTo(e){return this.seconds===e.seconds?Rn(this.nanoseconds,e.nanoseconds):Rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(N1(e,zr._jsonSchema))return new zr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zr._jsonSchemaVersion="firestore/timestamp/1.0",zr._jsonSchema={type:ki("string",zr._jsonSchemaVersion),seconds:ki("number"),nanoseconds:ki("number")};class ln{static fromTimestamp(e){return new ln(e)}static min(){return new ln(new zr(0,0))}static max(){return new ln(new zr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const g1=-1;function hI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ln.fromTimestamp(r===1e9?new zr(t+1,0):new zr(t,r));return new Fc(i,Xt.empty(),e)}function dI(n){return new Fc(n.readTime,n.key,g1)}class Fc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fc(ln.min(),Xt.empty(),g1)}static max(){return new Fc(ln.max(),Xt.empty(),g1)}}function pI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Xt.comparator(n.documentKey,e.documentKey),t!==0?t:Rn(n.largestBatchId,e.largestBatchId))}const gI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function rd(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==gI)throw n;mt("LocalStore","Unexpectedly lost primary lease")}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Je.reject(t)}static resolve(e){return new Je(((t,r)=>{t(e)}))}static reject(e){return new Je(((t,r)=>{r(e)}))}static waitFor(e){return new Je(((t,r)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&t()}),(c=>r(c)))})),s=!0,a===i&&t()}))}static or(e){let t=Je.resolve(!1);for(const r of e)t=t.next((i=>i?Je.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new Je(((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;t(e[f]).next((d=>{s[f]=d,++l,l===a&&r(s)}),(d=>i(d)))}}))}static doWhile(e,t){return new Je(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}function mI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function id(n){return n.name==="IndexedDbTransactionError"}class t2{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}t2.ce=-1;const Jm=-1;function n2(n){return n==null}function bp(n){return n===0&&1/n==-1/0}function yI(n){return typeof n=="number"&&Number.isInteger(n)&&!bp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Yb="";function _I(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zw(e)),e=wI(n.get(t),e);return Zw(e)}function wI(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Yb:t+="";break;default:t+=a}}return t}function Zw(n){return n+Yb+""}function Qw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ai{constructor(e,t){this.comparator=e,this.root=t||Ua.EMPTY}insert(e,t){return new ai(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ua.BLACK,null,null))}remove(e){return new ai(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ua.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new O0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new O0(this.root,e,this.comparator,!1)}getReverseIterator(){return new O0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new O0(this.root,e,this.comparator,!0)}}class O0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ua{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ua.RED,this.left=i??Ua.EMPTY,this.right=a??Ua.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ua(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ua.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ua.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ua.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ua.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Jt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Jt(27949);return e+(this.isRed()?0:1)}}Ua.EMPTY=null,Ua.RED=!0,Ua.BLACK=!1;Ua.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt(57766)}get value(){throw Jt(16141)}get color(){throw Jt(16727)}get left(){throw Jt(29726)}get right(){throw Jt(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Ua(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ia{constructor(e){this.comparator=e,this.data=new ai(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jw(this.data.getIterator())}getIteratorFrom(e){return new Jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ia(this.comparator);return t.data=e,t}}class Jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hs{constructor(e){this.fields=e,e.sort(Va.comparator)}static empty(){return new hs([])}unionWith(e){let t=new ia(Va.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class $b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $b("Invalid base64 string: "+a):a}})(e);return new qa(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new qa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qa.EMPTY_BYTE_STRING=new qa("");const xI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jc(n){if(ar(!!n,39018),typeof n=="string"){let e=0;const t=xI.exec(n);if(ar(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bi(n.seconds),nanos:bi(n.nanos)}}function bi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Uc(n){return typeof n=="string"?qa.fromBase64String(n):qa.fromUint8Array(n)}const Zb="server_timestamp",Qb="__type__",Jb="__previous_value__",eA="__local_write_time__";function ey(n){return(n?.mapValue?.fields||{})[Qb]?.stringValue===Zb}function r2(n){const e=n.mapValue.fields[Jb];return ey(e)?r2(e):e}function v1(n){const e=jc(n.mapValue.fields[eA].timestampValue);return new zr(e.seconds,e.nanos)}class bI{constructor(e,t,r,i,a,s,l,c,f,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const Ap="(default)";class m1{constructor(e,t){this.projectId=e,this.database=t||Ap}static empty(){return new m1("","")}get isDefaultDatabase(){return this.database===Ap}isEqual(e){return e instanceof m1&&e.projectId===this.projectId&&e.database===this.database}}const tA="__type__",AI="__max__",D0={mapValue:{}},nA="__vector__",Ep="value";function Vc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ey(n)?4:SI(n)?9007199254740991:EI(n)?10:11:Jt(28295,{value:n})}function $l(n,e){if(n===e)return!0;const t=Vc(n);if(t!==Vc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return v1(n).isEqual(v1(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=jc(i.timestampValue),l=jc(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return Uc(i.bytesValue).isEqual(Uc(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return bi(i.geoPointValue.latitude)===bi(a.geoPointValue.latitude)&&bi(i.geoPointValue.longitude)===bi(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return bi(i.integerValue)===bi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=bi(i.doubleValue),l=bi(a.doubleValue);return s===l?bp(s)===bp(l):isNaN(s)&&isNaN(l)}return!1})(n,e);case 9:return Wh(n.arrayValue.values||[],e.arrayValue.values||[],$l);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(Qw(s)!==Qw(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!$l(s[c],l[c])))return!1;return!0})(n,e);default:return Jt(52216,{left:n})}}function y1(n,e){return(n.values||[]).find((t=>$l(t,e)))!==void 0}function Xh(n,e){if(n===e)return 0;const t=Vc(n),r=Vc(e);if(t!==r)return Rn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Rn(n.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=bi(a.integerValue||a.doubleValue),c=bi(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(n,e);case 3:return ex(n.timestampValue,e.timestampValue);case 4:return ex(v1(n),v1(e));case 5:return Kv(n.stringValue,e.stringValue);case 6:return(function(a,s){const l=Uc(a),c=Uc(s);return l.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const d=Rn(l[f],c[f]);if(d!==0)return d}return Rn(l.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=Rn(bi(a.latitude),bi(s.latitude));return l!==0?l:Rn(bi(a.longitude),bi(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return tx(n.arrayValue,e.arrayValue);case 10:return(function(a,s){const l=a.fields||{},c=s.fields||{},f=l[Ep]?.arrayValue,d=c[Ep]?.arrayValue,g=Rn(f?.values?.length||0,d?.values?.length||0);return g!==0?g:tx(f,d)})(n.mapValue,e.mapValue);case 11:return(function(a,s){if(a===D0.mapValue&&s===D0.mapValue)return 0;if(a===D0.mapValue)return 1;if(s===D0.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=s.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let g=0;g<c.length&&g<d.length;++g){const _=Kv(c[g],d[g]);if(_!==0)return _;const v=Xh(l[c[g]],f[d[g]]);if(v!==0)return v}return Rn(c.length,d.length)})(n.mapValue,e.mapValue);default:throw Jt(23264,{he:t})}}function ex(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Rn(n,e);const t=jc(n),r=jc(e),i=Rn(t.seconds,r.seconds);return i!==0?i:Rn(t.nanos,r.nanos)}function tx(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Xh(t[i],r[i]);if(a)return a}return Rn(t.length,r.length)}function Yh(n){return $v(n)}function $v(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=jc(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Uc(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Xt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=$v(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${$v(t.fields[s])}`;return i+"}"})(n.mapValue):Jt(61005,{value:n})}function ep(n){switch(Vc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=r2(n);return e?16+ep(e):16;case 5:return 2*n.stringValue.length;case 6:return Uc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+ep(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Wc(r.fields,((a,s)=>{i+=a.length+ep(s)})),i})(n.mapValue);default:throw Jt(13486,{value:n})}}function Zv(n){return!!n&&"integerValue"in n}function ty(n){return!!n&&"arrayValue"in n}function nx(n){return!!n&&"nullValue"in n}function rx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tp(n){return!!n&&"mapValue"in n}function EI(n){return(n?.mapValue?.fields||{})[tA]?.stringValue===nA}function o1(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Wc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=o1(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=o1(n.arrayValue.values[t]);return e}return{...n}}function SI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AI}class Wo{constructor(e){this.value=e}static empty(){return new Wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=o1(t)}setAll(e){let t=Va.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=l.popLast()}s?r[l.lastSegment()]=o1(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());tp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $l(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Wc(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Wo(o1(this.value))}}function rA(n){const e=[];return Wc(n.fields,((t,r)=>{const i=new Va([t]);if(tp(r)){const a=rA(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new hs(e)}class oo{constructor(e,t,r,i,a,s,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new oo(e,0,ln.min(),ln.min(),ln.min(),Wo.empty(),0)}static newFoundDocument(e,t,r,i){return new oo(e,1,t,ln.min(),r,i,0)}static newNoDocument(e,t){return new oo(e,2,t,ln.min(),ln.min(),Wo.empty(),0)}static newUnknownDocument(e,t){return new oo(e,3,t,ln.min(),ln.min(),Wo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ln.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof oo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sp{constructor(e,t){this.position=e,this.inclusive=t}}function ix(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],s=n.position[i];if(a.field.isKeyField()?r=Xt.comparator(Xt.fromName(s.referenceValue),t.key):r=Xh(s,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ax(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$l(n.position[t],e.position[t]))return!1;return!0}class Cp{constructor(e,t="asc"){this.field=e,this.dir=t}}function CI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class iA{}class ea extends iA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new NI(e,t,r):t==="array-contains"?new OI(e,r):t==="in"?new DI(e,r):t==="not-in"?new LI(e,r):t==="array-contains-any"?new PI(e,r):new ea(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new II(e,r):new RI(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xh(t,this.value)):t!==null&&Vc(this.value)===Vc(t)&&this.matchesComparison(Xh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zl extends iA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zl(e,t)}matches(e){return aA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aA(n){return n.op==="and"}function oA(n){return TI(n)&&aA(n)}function TI(n){for(const e of n.filters)if(e instanceof Zl)return!1;return!0}function Qv(n){if(n instanceof ea)return n.field.canonicalString()+n.op.toString()+Yh(n.value);if(oA(n))return n.filters.map((e=>Qv(e))).join(",");{const e=n.filters.map((t=>Qv(t))).join(",");return`${n.op}(${e})`}}function sA(n,e){return n instanceof ea?(function(r,i){return i instanceof ea&&r.op===i.op&&r.field.isEqual(i.field)&&$l(r.value,i.value)})(n,e):n instanceof Zl?(function(r,i){return i instanceof Zl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,l)=>a&&sA(s,i.filters[l])),!0):!1})(n,e):void Jt(19439)}function lA(n){return n instanceof ea?(function(t){return`${t.field.canonicalString()} ${t.op} ${Yh(t.value)}`})(n):n instanceof Zl?(function(t){return t.op.toString()+" {"+t.getFilters().map(lA).join(" ,")+"}"})(n):"Filter"}class NI extends ea{constructor(e,t,r){super(e,t,r),this.key=Xt.fromName(r.referenceValue)}matches(e){const t=Xt.comparator(e.key,this.key);return this.matchesComparison(t)}}class II extends ea{constructor(e,t){super(e,"in",t),this.keys=uA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class RI extends ea{constructor(e,t){super(e,"not-in",t),this.keys=uA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function uA(n,e){return(e.arrayValue?.values||[]).map((t=>Xt.fromName(t.referenceValue)))}class OI extends ea{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ty(t)&&y1(t.arrayValue,this.value)}}class DI extends ea{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&y1(this.value.arrayValue,t)}}class LI extends ea{constructor(e,t){super(e,"not-in",t)}matches(e){if(y1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!y1(this.value.arrayValue,t)}}class PI extends ea{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ty(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>y1(this.value.arrayValue,r)))}}class MI{constructor(e,t=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Te=null}}function ox(n,e=null,t=[],r=[],i=null,a=null,s=null){return new MI(n,e,t,r,i,a,s)}function ny(n){const e=hn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Qv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),n2(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Yh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Yh(r))).join(",")),e.Te=t}return e.Te}function ry(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ax(n.startAt,e.startAt)&&ax(n.endAt,e.endAt)}function Jv(n){return Xt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class i2{constructor(e,t=null,r=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kI(n,e,t,r,i,a,s,l){return new i2(n,e,t,r,i,a,s,l)}function iy(n){return new i2(n)}function sx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BI(n){return n.collectionGroup!==null}function s1(n){const e=hn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new ia(Va.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Cp(a,r))})),t.has(Va.keyField().canonicalString())||e.Ie.push(new Cp(Va.keyField(),r))}return e.Ie}function Wl(n){const e=hn(n);return e.Ee||(e.Ee=FI(e,s1(n))),e.Ee}function FI(n,e){if(n.limitType==="F")return ox(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Cp(i.field,a)}));const t=n.endAt?new Sp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sp(n.startAt.position,n.startAt.inclusive):null;return ox(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function em(n,e,t){return new i2(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function a2(n,e){return ry(Wl(n),Wl(e))&&n.limitType===e.limitType}function cA(n){return`${ny(Wl(n))}|lt:${n.limitType}`}function Ah(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>lA(i))).join(", ")}]`),n2(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Yh(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Yh(i))).join(",")),`Target(${r})`})(Wl(n))}; limitType=${n.limitType})`}function o2(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Xt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of s1(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const f=ix(s,l,c);return s.inclusive?f<=0:f<0})(r.startAt,s1(r),i)||r.endAt&&!(function(s,l,c){const f=ix(s,l,c);return s.inclusive?f>=0:f>0})(r.endAt,s1(r),i))})(n,e)}function jI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fA(n){return(e,t)=>{let r=!1;for(const i of s1(n)){const a=UI(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function UI(n,e,t){const r=n.field.isKeyField()?Xt.comparator(e.key,t.key):(function(a,s,l){const c=s.data.field(a),f=l.data.field(a);return c!==null&&f!==null?Xh(c,f):Jt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Jt(19790,{direction:n.dir})}}class Pf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wc(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return Kb(this.inner)}size(){return this.innerSize}}const VI=new ai(Xt.comparator);function Bu(){return VI}const hA=new ai(Xt.comparator);function Qd(...n){let e=hA;for(const t of n)e=e.insert(t.key,t);return e}function dA(n){let e=hA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function xf(){return l1()}function pA(){return l1()}function l1(){return new Pf((n=>n.toString()),((n,e)=>n.isEqual(e)))}const zI=new ai(Xt.comparator),HI=new ia(Xt.comparator);function On(...n){let e=HI;for(const t of n)e=e.add(t);return e}const qI=new ia(Rn);function GI(){return qI}function ay(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bp(e)?"-0":e}}function gA(n){return{integerValue:""+n}}function WI(n,e){return yI(e)?gA(e):ay(n,e)}class s2{constructor(){this._=void 0}}function XI(n,e,t){return n instanceof Tp?(function(i,a){const s={fields:{[Qb]:{stringValue:Zb},[eA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ey(a)&&(a=r2(a)),a&&(s.fields[Jb]=a),{mapValue:s}})(t,e):n instanceof _1?mA(n,e):n instanceof w1?yA(n,e):(function(i,a){const s=vA(i,a),l=lx(s)+lx(i.Ae);return Zv(s)&&Zv(i.Ae)?gA(l):ay(i.serializer,l)})(n,e)}function YI(n,e,t){return n instanceof _1?mA(n,e):n instanceof w1?yA(n,e):t}function vA(n,e){return n instanceof Np?(function(r){return Zv(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Tp extends s2{}class _1 extends s2{constructor(e){super(),this.elements=e}}function mA(n,e){const t=_A(e);for(const r of n.elements)t.some((i=>$l(i,r)))||t.push(r);return{arrayValue:{values:t}}}class w1 extends s2{constructor(e){super(),this.elements=e}}function yA(n,e){let t=_A(e);for(const r of n.elements)t=t.filter((i=>!$l(i,r)));return{arrayValue:{values:t}}}class Np extends s2{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function lx(n){return bi(n.integerValue||n.doubleValue)}function _A(n){return ty(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function KI(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof _1&&i instanceof _1||r instanceof w1&&i instanceof w1?Wh(r.elements,i.elements,$l):r instanceof Np&&i instanceof Np?$l(r.Ae,i.Ae):r instanceof Tp&&i instanceof Tp})(n.transform,e.transform)}class $I{constructor(e,t){this.version=e,this.transformResults=t}}class Yo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yo}static exists(e){return new Yo(void 0,e)}static updateTime(e){return new Yo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function np(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class l2{}function wA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new u2(n.key,Yo.none()):new I1(n.key,n.data,Yo.none());{const t=n.data,r=Wo.empty();let i=new ia(Va.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Xc(n.key,r,new hs(i.toArray()),Yo.none())}}function ZI(n,e,t){n instanceof I1?(function(i,a,s){const l=i.value.clone(),c=cx(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(n,e,t):n instanceof Xc?(function(i,a,s){if(!np(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=cx(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(xA(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function u1(n,e,t,r){return n instanceof I1?(function(a,s,l,c){if(!np(a.precondition,s))return l;const f=a.value.clone(),d=fx(a.fieldTransforms,c,s);return f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Xc?(function(a,s,l,c){if(!np(a.precondition,s))return l;const f=fx(a.fieldTransforms,c,s),d=s.data;return d.setAll(xA(a)),d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(n,e,t,r):(function(a,s,l){return np(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(n,e,t)}function QI(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=vA(r.transform,i||null);a!=null&&(t===null&&(t=Wo.empty()),t.set(r.field,a))}return t||null}function ux(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wh(r,i,((a,s)=>KI(a,s)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class I1 extends l2{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xc extends l2{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function cx(n,e,t){const r=new Map;ar(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,YI(s,l,t[i]))}return r}function fx(n,e,t){const r=new Map;for(const i of n){const a=i.transform,s=t.data.field(i.field);r.set(i.field,XI(a,s,e))}return r}class u2 extends l2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JI extends l2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class e7{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ZI(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=u1(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=u1(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pA();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=t.has(i.key)?null:l;const c=wA(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ln.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),On())}isEqual(e){return this.batchId===e.batchId&&Wh(this.mutations,e.mutations,((t,r)=>ux(t,r)))&&Wh(this.baseMutations,e.baseMutations,((t,r)=>ux(t,r)))}}class oy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ar(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return zI})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new oy(e,t,r,i)}}class t7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class n7{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pi,Bn;function r7(n){switch(n){case tt.OK:return Jt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Jt(15467,{code:n})}}function bA(n){if(n===void 0)return ku("GRPC error has no .code"),tt.UNKNOWN;switch(n){case Pi.OK:return tt.OK;case Pi.CANCELLED:return tt.CANCELLED;case Pi.UNKNOWN:return tt.UNKNOWN;case Pi.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Pi.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Pi.INTERNAL:return tt.INTERNAL;case Pi.UNAVAILABLE:return tt.UNAVAILABLE;case Pi.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Pi.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Pi.NOT_FOUND:return tt.NOT_FOUND;case Pi.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Pi.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Pi.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Pi.ABORTED:return tt.ABORTED;case Pi.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Pi.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Pi.DATA_LOSS:return tt.DATA_LOSS;default:return Jt(39323,{code:n})}}(Bn=Pi||(Pi={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";function i7(){return new TextEncoder}const a7=new Dc([4294967295,4294967295],0);function hx(n){const e=i7().encode(n),t=new Fb;return t.update(e),new Uint8Array(t.digest())}function dx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Dc([t,r],0),new Dc([i,a],0)]}class sy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Jd(`Invalid padding: ${t}`);if(r<0)throw new Jd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Jd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Dc.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Dc.fromNumber(r)));return i.compare(a7)===1&&(i=new Dc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=hx(e),[r,i]=dx(t);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new sy(a,i,t);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const t=hx(e),[r,i]=dx(t);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class c2{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,R1.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new c2(ln.min(),i,new ai(Rn),Bu(),On())}}class R1{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new R1(r,t,On(),On(),On())}}class rp{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class AA{constructor(e,t){this.targetId=e,this.Ce=t}}class EA{constructor(e,t,r=qa.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class px{constructor(){this.ve=0,this.Fe=gx(),this.Me=qa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=On(),t=On(),r=On();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Jt(38017,{changeType:a})}})),new R1(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=gx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ar(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class o7{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bu(),this.Je=L0(),this.He=L0(),this.Ye=new ai(Rn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Jt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(Jv(a))if(r===0){const s=new Xt(a.path);this.et(t,s,oo.newNoDocument(s,ln.min()))}else ar(r===1,20013,{expectedCount:r});else{const s=this._t(t);if(s!==r){const l=this.ut(e),c=l?this.ct(l,e,s):1;if(c!==0){this.it(t);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let s,l;try{s=Uc(r).toUint8Array()}catch(c){if(c instanceof $b)return Gh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new sy(s,i,a)}catch(c){return Gh(c instanceof Jd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,s)=>{const l=this.ot(s);if(l){if(a.current&&Jv(l.target)){const c=new Xt(l.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,oo.newNoDocument(c,e))}a.Be&&(t.set(s,a.ke()),a.qe())}}));let r=On();this.He.forEach(((a,s)=>{let l=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new c2(e,t,this.Ye,this.je,r);return this.je=Bu(),this.Je=L0(),this.He=L0(),this.Ye=new ai(Rn),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new px,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ia(Rn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ia(Rn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||mt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new px),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function L0(){return new ai(Xt.comparator)}function gx(){return new ai(Xt.comparator)}const s7={asc:"ASCENDING",desc:"DESCENDING"},l7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u7={and:"AND",or:"OR"};class c7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tm(n,e){return n.useProto3Json||n2(e)?e:{value:e}}function Ip(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function f7(n,e){return Ip(n,e.toTimestamp())}function Xl(n){return ar(!!n,49232),ln.fromTimestamp((function(t){const r=jc(t);return new zr(r.seconds,r.nanos)})(n))}function ly(n,e){return nm(n,e).canonicalString()}function nm(n,e){const t=(function(i){return new Vr(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function CA(n){const e=Vr.fromString(n);return ar(OA(e),10190,{key:e.toString()}),e}function rm(n,e){return ly(n.databaseId,e.path)}function Zg(n,e){const t=CA(e);if(t.get(1)!==n.databaseId.projectId)throw new St(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new St(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xt(NA(t))}function TA(n,e){return ly(n.databaseId,e)}function h7(n){const e=CA(n);return e.length===4?Vr.emptyPath():NA(e)}function im(n){return new Vr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NA(n){return ar(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vx(n,e,t){return{name:rm(n,e),fields:t.value.mapValue.fields}}function d7(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Jt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,d){return f.useProto3Json?(ar(d===void 0||typeof d=="string",58123),qa.fromBase64String(d||"")):(ar(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),qa.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(f){const d=f.code===void 0?tt.UNKNOWN:bA(f.code);return new St(d,f.message||"")})(s);t=new EA(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zg(n,r.document.name),a=Xl(r.document.updateTime),s=r.document.createTime?Xl(r.document.createTime):ln.min(),l=new Wo({mapValue:{fields:r.document.fields}}),c=oo.newFoundDocument(i,a,s,l),f=r.targetIds||[],d=r.removedTargetIds||[];t=new rp(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zg(n,r.document),a=r.readTime?Xl(r.readTime):ln.min(),s=oo.newNoDocument(i,a),l=r.removedTargetIds||[];t=new rp([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zg(n,r.document),a=r.removedTargetIds||[];t=new rp([],a,i,null)}else{if(!("filter"in e))return Jt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new n7(i,a),l=r.targetId;t=new AA(l,s)}}return t}function p7(n,e){let t;if(e instanceof I1)t={update:vx(n,e.key,e.value)};else if(e instanceof u2)t={delete:rm(n,e.key)};else if(e instanceof Xc)t={update:vx(n,e.key,e.data),updateMask:A7(e.fieldMask)};else{if(!(e instanceof JI))return Jt(16599,{Vt:e.type});t={verify:rm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const l=s.transform;if(l instanceof Tp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _1)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof w1)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Np)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Jt(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:f7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Jt(27497)})(n,e.precondition)),t}function g7(n,e){return n&&n.length>0?(ar(e!==void 0,14353),n.map((t=>(function(i,a){let s=i.updateTime?Xl(i.updateTime):Xl(a);return s.isEqual(ln.min())&&(s=Xl(a)),new $I(s,i.transformResults||[])})(t,e)))):[]}function v7(n,e){return{documents:[TA(n,e.path)]}}function m7(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=TA(n,i);const a=(function(f){if(f.length!==0)return RA(Zl.create(f,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((d=>(function(_){return{field:Eh(_.field),direction:w7(_.dir)}})(d)))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=tm(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:i}}function y7(n){let e=h7(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ar(r===1,65062);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];t.where&&(a=(function(g){const _=IA(g);return _ instanceof Zl&&oA(_)?_.getFilters():[_]})(t.where));let s=[];t.orderBy&&(s=(function(g){return g.map((_=>(function(A){return new Cp(Sh(A.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(_)))})(t.orderBy));let l=null;t.limit&&(l=(function(g){let _;return _=typeof g=="object"?g.value:g,n2(_)?null:_})(t.limit));let c=null;t.startAt&&(c=(function(g){const _=!!g.before,v=g.values||[];return new Sp(v,_)})(t.startAt));let f=null;return t.endAt&&(f=(function(g){const _=!g.before,v=g.values||[];return new Sp(v,_)})(t.endAt)),kI(e,i,s,a,l,"F",c,f)}function _7(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Sh(t.unaryFilter.field);return ea.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sh(t.unaryFilter.field);return ea.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Sh(t.unaryFilter.field);return ea.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Sh(t.unaryFilter.field);return ea.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Jt(61313);default:return Jt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ea.create(Sh(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Jt(58110);default:return Jt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Zl.create(t.compositeFilter.filters.map((r=>IA(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Jt(1026)}})(t.compositeFilter.op))})(n):Jt(30097,{filter:n})}function w7(n){return s7[n]}function x7(n){return l7[n]}function b7(n){return u7[n]}function Eh(n){return{fieldPath:n.canonicalString()}}function Sh(n){return Va.fromServerFormat(n.fieldPath)}function RA(n){return n instanceof ea?(function(t){if(t.op==="=="){if(rx(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NAN"}};if(nx(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rx(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NAN"}};if(nx(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(t.field),op:x7(t.op),value:t.value}}})(n):n instanceof Zl?(function(t){const r=t.getFilters().map((i=>RA(i)));return r.length===1?r[0]:{compositeFilter:{op:b7(t.op),filters:r}}})(n):Jt(54877,{filter:n})}function A7(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function OA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Sc{constructor(e,t,r,i,a=ln.min(),s=ln.min(),l=qa.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Sc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class E7{constructor(e){this.yt=e}}function S7(n){const e=y7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?em(e,e.limit,"L"):e}class C7{constructor(){this.Cn=new T7}addToCollectionParentIndex(e,t){return this.Cn.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(Fc.min())}getMinOffsetFromCollectionGroup(e,t){return Je.resolve(Fc.min())}updateCollectionGroup(e,t,r){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class T7{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ia(Vr.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ia(Vr.comparator)).toArray()}}const mx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DA=41943040;class Go{static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(DA,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class Kh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Kh(0)}static cr(){return new Kh(-1)}}const yx="LruGarbageCollector",N7=1048576;function _x([n,e],[t,r]){const i=Rn(n,t);return i===0?Rn(e,r):i}class I7{constructor(e){this.Ir=e,this.buffer=new ia(_x),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_x(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class R7{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){mt(yx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){id(t)?mt(yx,"Ignoring IndexedDB error during garbage collection: ",t):await rd(t)}await this.Vr(3e5)}))}}class O7{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Je.resolve(t2.ce);const r=new I7(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(mx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mx):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,s,l,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,l=Date.now(),this.removeTargets(e,r,t)))).next((g=>(a=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),bh()<=In.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${g} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function D7(n,e){return new O7(n,e)}class L7{constructor(){this.changes=new Pf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class P7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class M7{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&u1(r.mutation,i,hs.empty(),zr.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,On()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=On()){const i=xf();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let s=Qd();return a.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,t){const r=xf();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,On())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{t.set(s,l)}))}))}computeViews(e,t,r,i){let a=Bu();const s=l1(),l=(function(){return l1()})();return t.forEach(((c,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof Xc)?a=a.insert(f.key,f):d!==void 0?(s.set(f.key,d.mutation.getFieldMask()),u1(d.mutation,f,d.mutation.getFieldMask(),zr.now())):s.set(f.key,hs.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((f,d)=>s.set(f,d))),t.forEach(((f,d)=>l.set(f,new P7(d,s.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,t){const r=l1();let i=new ai(((s,l)=>s-l)),a=On();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((s=>{for(const l of s)l.keys().forEach((c=>{const f=t.get(c);if(f===null)return;let d=r.get(c)||hs.empty();d=l.applyToLocalView(f,d),r.set(c,d);const g=(i.get(l.batchId)||On()).add(c);i=i.insert(l.batchId,g)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,d=c.value,g=pA();d.forEach((_=>{if(!a.has(_)){const v=wA(t.get(_),r.get(_));v!==null&&g.set(_,v),a=a.add(_)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,g))}return Je.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return Xt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Je.resolve(xf());let l=g1,c=a;return s.next((f=>Je.forEach(f,((d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),a.get(d)?Je.resolve():this.remoteDocumentCache.getEntry(e,d).next((_=>{c=c.insert(d,_)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,c,f,On()))).next((d=>({batchId:l,changes:dA(d)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xt(t)).next((r=>{let i=Qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let s=Qd();return this.indexManager.getCollectionParents(e,a).next((l=>Je.forEach(l,(c=>{const f=(function(g,_){return new i2(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((d=>{d.forEach(((g,_)=>{s=s.insert(g,_)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((s=>{a.forEach(((c,f)=>{const d=f.getKey();s.get(d)===null&&(s=s.insert(d,oo.newInvalidDocument(d)))}));let l=Qd();return s.forEach(((c,f)=>{const d=a.get(c);d!==void 0&&u1(d.mutation,f,hs.empty(),zr.now()),o2(t,f)&&(l=l.insert(c,f))})),l}))}}class k7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Je.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Xl(i.createTime)}})(t)),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:S7(i.bundledQuery),readTime:Xl(i.readTime)}})(t)),Je.resolve()}}class B7{constructor(){this.overlays=new ai(Xt.comparator),this.qr=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xf();return Je.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.St(e,t,a)})),Je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Je.resolve()}getOverlaysForCollection(e,t,r){const i=xf(),a=t.length+1,s=new Xt(t.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ai(((f,d)=>f-d));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let d=a.get(f.largestBatchId);d===null&&(d=xf(),a=a.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=xf(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,d)=>l.set(f,d))),!(l.size()>=i)););return Je.resolve(l)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new t7(t,r));let a=this.qr.get(t);a===void 0&&(a=On(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}class F7{constructor(){this.sessionToken=qa.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Je.resolve()}}class uy{constructor(){this.Qr=new ia(xa.$r),this.Ur=new ia(xa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new xa(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new xa(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Xt(new Vr([])),r=new xa(t,e),i=new xa(t,e+1),a=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Xt(new Vr([])),r=new xa(t,e),i=new xa(t,e+1);let a=On();return this.Ur.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const t=new xa(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class xa{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Xt.comparator(e.key,t.key)||Rn(e.Yr,t.Yr)}static Kr(e,t){return Rn(e.Yr,t.Yr)||Xt.comparator(e.key,t.key)}}class j7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ia(xa.$r)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new e7(a,t,r,i);this.mutationQueue.push(s);for(const l of i)this.Zr=this.Zr.add(new xa(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Je.resolve(s)}lookupMutationBatch(e,t){return Je.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return Je.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?Jm:this.tr-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xa(t,0),i=new xa(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(s=>{const l=this.Xr(s.Yr);a.push(l)})),Je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ia(Rn);return t.forEach((i=>{const a=new xa(i,0),s=new xa(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(l=>{r=r.add(l.Yr)}))})),Je.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Xt.isDocumentKey(a)||(a=a.child(""));const s=new xa(new Xt(a),0);let l=new ia(Rn);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Yr)),!0)}),s),Je.resolve(this.ti(l))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){ar(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Je.forEach(t.mutations,(i=>{const a=new xa(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new xa(t,0),i=this.Zr.firstAfterOrEqual(r);return Je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class U7{constructor(e){this.ri=e,this.docs=(function(){return new ai(Xt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Je.resolve(r?r.document.mutableCopy():oo.newInvalidDocument(t))}getEntries(e,t){let r=Bu();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():oo.newInvalidDocument(i))})),Je.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Bu();const s=t.path,l=new Xt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||pI(dI(d),r)<=0||(i.has(d.key)||o2(t,d))&&(a=a.insert(d.key,d.mutableCopy()))}return Je.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Jt(9500)}ii(e,t){return Je.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new V7(this)}getSize(e){return Je.resolve(this.size)}}class V7 extends L7{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Je.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class z7{constructor(e){this.persistence=e,this.si=new Pf((t=>ny(t)),ry),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.oi=0,this._i=new uy,this.targetCount=0,this.ai=Kh.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Je.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Kh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Pr(t),Je.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach(((s,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Je.waitFor(a).next((()=>i))}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Je.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Je.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),Je.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Je.resolve(r)}containsKey(e,t){return Je.resolve(this._i.containsKey(t))}}class LA{constructor(e,t){this.ui={},this.overlays={},this.ci=new t2(0),this.li=!1,this.li=!0,this.hi=new F7,this.referenceDelegate=e(this),this.Pi=new z7(this),this.indexManager=new C7,this.remoteDocumentCache=(function(i){return new U7(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new E7(t),this.Ii=new k7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new B7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new j7(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){mt("MemoryPersistence","Starting transaction:",e);const i=new H7(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return Je.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class H7 extends vI{constructor(e){super(),this.currentSequenceNumber=e}}class cy{constructor(e){this.persistence=e,this.Ri=new uy,this.Vi=null}static mi(e){return new cy(e)}get fi(){if(this.Vi)return this.Vi;throw Jt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Je.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.fi,(r=>{const i=Xt.fromPath(r);return this.gi(e,i).next((a=>{a||t.removeEntry(i,ln.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Je.or([()=>Je.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Rp{constructor(e,t){this.persistence=e,this.pi=new Pf((r=>_I(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=D7(this,t)}static mi(e,t){return new Rp(e,t)}Ei(){}di(e){return Je.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Je.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Je.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,t).next((l=>{l||(r++,a.removeEntry(s,ln.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Je.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Je.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Je.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Je.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ep(e.data.value)),t}br(e,t,r){return Je.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Je.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=On(),i=On();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new fy(e,t.fromCache,r,i)}}class q7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class G7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MS()?8:mI(so())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,t,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new q7;return this.Ss(e,t,s).next((l=>{if(a.result=l,this.Vs)return this.bs(e,t,s,l.size)}))})).next((()=>a.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(bh()<=In.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ah(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Je.resolve()):(bh()<=In.DEBUG&&mt("QueryEngine","Query:",Ah(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(bh()<=In.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ah(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wl(t))):Je.resolve())}ys(e,t){if(sx(t))return Je.resolve(null);let r=Wl(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=em(t,null,"F"),r=Wl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=On(...a);return this.ps.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.Ds(t,l);return this.Cs(t,f,s,c.readTime)?this.ys(e,em(t,null,"F")):this.vs(e,f,t,c)}))))})))))}ws(e,t,r,i){return sx(t)||i.isEqual(ln.min())?Je.resolve(null):this.ps.getDocuments(e,r).next((a=>{const s=this.Ds(t,a);return this.Cs(t,s,r,i)?Je.resolve(null):(bh()<=In.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ah(t)),this.vs(e,s,t,hI(i,g1)).next((l=>l)))}))}Ds(e,t){let r=new ia(fA(e));return t.forEach(((i,a)=>{o2(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return bh()<=In.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ah(t)),this.ps.getDocumentsMatchingQuery(e,t,Fc.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((s=>{a=a.insert(s.key,s)})),a)))}}const hy="LocalStore",W7=3e8;class X7{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ai(Rn),this.xs=new Pf((a=>ny(a)),ry),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Y7(n,e,t,r){return new X7(n,e,t,r)}async function PA(n,e){const t=hn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],l=[];let c=On();for(const f of i){s.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of a){l.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next((f=>({Ls:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function K7(n,e){const t=hn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,d){const g=f.batch,_=g.keys();let v=Je.resolve();return _.forEach((A=>{v=v.next((()=>d.getEntry(c,A))).next((S=>{const I=f.docVersions.get(A);ar(I!==null,48541),S.version.compareTo(I)<0&&(g.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),d.addEntry(S)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(c,g)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=On();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function MA(n){const e=hn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function $7(n,e){const t=hn(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const l=[];e.targetChanges.forEach(((d,g)=>{const _=i.get(g);if(!_)return;l.push(t.Pi.removeMatchingKeys(a,d.removedDocuments,g).next((()=>t.Pi.addMatchingKeys(a,d.addedDocuments,g))));let v=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(qa.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(g,v),(function(S,I,N){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=W7?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(_,v,d)&&l.push(t.Pi.updateTargetData(a,v))}));let c=Bu(),f=On();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(a,d))})),l.push(Z7(a,s,e.documentUpdates).next((d=>{c=d.ks,f=d.qs}))),!r.isEqual(ln.min())){const d=t.Pi.getLastRemoteSnapshotVersion(a).next((g=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(d)}return Je.waitFor(l).next((()=>s.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,c,f))).next((()=>c))})).then((a=>(t.Ms=i,a)))}function Z7(n,e,t){let r=On(),i=On();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let s=Bu();return t.forEach(((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ln.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):mt(hy,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{ks:s,qs:i}}))}function Q7(n,e){const t=hn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Jm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function J7(n,e){const t=hn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((a=>a?(i=a,Je.resolve(i)):t.Pi.allocateTargetId(r).next((s=>(i=new Sc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function am(n,e,t){const r=hn(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!id(s))throw s;mt(hy,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function wx(n,e,t){const r=hn(n);let i=ln.min(),a=On();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,d){const g=hn(c),_=g.xs.get(d);return _!==void 0?Je.resolve(g.Ms.get(_)):g.Pi.getTargetData(f,d)})(r,s,Wl(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,l.targetId).next((c=>{a=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,t?i:ln.min(),t?a:On()))).next((l=>(eR(r,jI(e),l),{documents:l,Qs:a})))))}function eR(n,e,t){let r=n.Os.get(e)||ln.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class xx{constructor(){this.activeTargetIds=GI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tR{constructor(){this.Mo=new xx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nR{Oo(e){}shutdown(){}}const bx="ConnectivityMonitor";class Ax{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(bx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){mt(bx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let P0=null;function om(){return P0===null?P0=(function(){return 268435456+Math.round(2147483648*Math.random())})():P0++,"0x"+P0.toString(16)}const Qg="RestConnection",rR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ap?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const s=om(),l=this.zo(e,t.toUriEncodedString());mt(Qg,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:f}=new URL(l),d=Jh(f);return this.Jo(e,l,c,r,d).then((g=>(mt(Qg,`Received RPC '${e}' ${s}: `,g),g)),(g=>{throw Gh(Qg,`RPC '${e}' ${s} failed with error: `,g,"url: ",l,"request:",r),g}))}Ho(e,t,r,i,a,s){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const r=rR[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class aR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ja="WebChannelConnection";class oR extends iR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const s=om();return new Promise(((l,c)=>{const f=new jb;f.setWithCredentials(!0),f.listenOnce(Ub.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case J0.NO_ERROR:const g=f.getResponseJson();mt(Ja,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),l(g);break;case J0.TIMEOUT:mt(Ja,`RPC '${e}' ${s} timed out`),c(new St(tt.DEADLINE_EXCEEDED,"Request time out"));break;case J0.HTTP_ERROR:const _=f.getStatus();if(mt(Ja,`RPC '${e}' ${s} failed with status:`,_,"response text:",f.getResponseText()),_>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const A=v?.error;if(A&&A.status&&A.message){const S=(function(N){const V=N.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(V)>=0?V:tt.UNKNOWN})(A.status);c(new St(S,A.message))}else c(new St(tt.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new St(tt.UNAVAILABLE,"Connection failed."));break;default:Jt(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{mt(Ja,`RPC '${e}' ${s} completed.`)}}));const d=JSON.stringify(i);mt(Ja,`RPC '${e}' ${s} sending request:`,i),f.send(t,"POST",d,r,15)}))}T_(e,t,r){const i=om(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hb(),l=zb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=a.join("");mt(Ja,`Creating RPC '${e}' stream ${i}: ${d}`,c);const g=s.createWebChannel(d,c);this.I_(g);let _=!1,v=!1;const A=new aR({Yo:I=>{v?mt(Ja,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(_||(mt(Ja,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),mt(Ja,`RPC '${e}' stream ${i} sending:`,I),g.send(I))},Zo:()=>g.close()}),S=(I,N,V)=>{I.listen(N,(q=>{try{V(q)}catch(U){setTimeout((()=>{throw U}),0)}}))};return S(g,Zd.EventType.OPEN,(()=>{v||(mt(Ja,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),S(g,Zd.EventType.CLOSE,(()=>{v||(v=!0,mt(Ja,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(g))})),S(g,Zd.EventType.ERROR,(I=>{v||(v=!0,Gh(Ja,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),A.a_(new St(tt.UNAVAILABLE,"The operation could not be completed")))})),S(g,Zd.EventType.MESSAGE,(I=>{if(!v){const N=I.data[0];ar(!!N,16349);const V=N,q=V?.error||V[0]?.error;if(q){mt(Ja,`RPC '${e}' stream ${i} received error:`,q);const U=q.status;let re=(function(R){const P=Pi[R];if(P!==void 0)return bA(P)})(U),ue=q.message;re===void 0&&(re=tt.INTERNAL,ue="Unknown error status: "+U+" with message "+q.message),v=!0,A.a_(new St(re,ue)),g.close()}else mt(Ja,`RPC '${e}' stream ${i} received:`,N),A.u_(N)}})),S(l,Vb.STAT_EVENT,(I=>{I.stat===Yv.PROXY?mt(Ja,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Yv.NOPROXY&&mt(Ja,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Jg(){return typeof document<"u"?document:null}function f2(n){return new c7(n,!0)}class kA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&mt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ex="PersistentStream";class BA{constructor(e,t,r,i,a,s,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(ku(t.toString()),ku("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new St(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return mt(Ex,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(mt(Ex,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sR extends BA{constructor(e,t,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=d7(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ln.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ln.min():s.readTime?Xl(s.readTime):ln.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=im(this.serializer),t.addTarget=(function(a,s){let l;const c=s.target;if(l=Jv(c)?{documents:v7(a,c)}:{query:m7(a,c).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=SA(a,s.resumeToken);const f=tm(a,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(ln.min())>0){l.readTime=Ip(a,s.snapshotVersion.toTimestamp());const f=tm(a,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=_7(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=im(this.serializer),t.removeTarget=e,this.q_(t)}}class lR extends BA{constructor(e,t,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ar(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ar(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ar(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=g7(e.writeResults,e.commitTime),r=Xl(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=im(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>p7(this.serializer,r)))};this.q_(t)}}class uR{}class cR extends uR{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new St(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,nm(t,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new St(tt.UNKNOWN,a.toString())}))}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Ho(e,nm(t,r),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new St(tt.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ku(t),this.aa=!1):mt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Of="RemoteStore";class hR{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{Mf(this)&&(mt(Of,"Restarting streams for network reachability change."),await(async function(c){const f=hn(c);f.Ea.add(4),await O1(f),f.Ra.set("Unknown"),f.Ea.delete(4),await h2(f)})(this))}))})),this.Ra=new fR(r,i)}}async function h2(n){if(Mf(n))for(const e of n.da)await e(!0)}async function O1(n){for(const e of n.da)await e(!1)}function FA(n,e){const t=hn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),vy(t)?gy(t):ad(t).O_()&&py(t,e))}function dy(n,e){const t=hn(n),r=ad(t);t.Ia.delete(e),r.O_()&&jA(t,e),t.Ia.size===0&&(r.O_()?r.L_():Mf(t)&&t.Ra.set("Unknown"))}function py(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ln.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ad(n).Y_(e)}function jA(n,e){n.Va.Ue(e),ad(n).Z_(e)}function gy(n){n.Va=new o7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ad(n).start(),n.Ra.ua()}function vy(n){return Mf(n)&&!ad(n).x_()&&n.Ia.size>0}function Mf(n){return hn(n).Ea.size===0}function UA(n){n.Va=void 0}async function dR(n){n.Ra.set("Online")}async function pR(n){n.Ia.forEach(((e,t)=>{py(n,e)}))}async function gR(n,e){UA(n),vy(n)?(n.Ra.ha(e),gy(n)):n.Ra.set("Unknown")}async function vR(n,e,t){if(n.Ra.set("Online"),e instanceof EA&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.Va.removeTarget(l))})(n,e)}catch(r){mt(Of,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Op(n,r)}else if(e instanceof rp?n.Va.Ze(e):e instanceof AA?n.Va.st(e):n.Va.tt(e),!t.isEqual(ln.min()))try{const r=await MA(n.localStore);t.compareTo(r)>=0&&await(function(a,s){const l=a.Va.Tt(s);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(f);d&&a.Ia.set(f,d.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,f)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(qa.EMPTY_BYTE_STRING,d.snapshotVersion)),jA(a,c);const g=new Sc(d.target,c,f,d.sequenceNumber);py(a,g)})),a.remoteSyncer.applyRemoteEvent(l)})(n,t)}catch(r){mt(Of,"Failed to raise snapshot:",r),await Op(n,r)}}async function Op(n,e,t){if(!id(e))throw e;n.Ea.add(1),await O1(n),n.Ra.set("Offline"),t||(t=()=>MA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{mt(Of,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await h2(n)}))}function VA(n,e){return e().catch((t=>Op(n,t,e)))}async function d2(n){const e=hn(n),t=zc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;mR(e);)try{const i=await Q7(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,yR(e,i)}catch(i){await Op(e,i)}zA(e)&&HA(e)}function mR(n){return Mf(n)&&n.Ta.length<10}function yR(n,e){n.Ta.push(e);const t=zc(n);t.O_()&&t.X_&&t.ea(e.mutations)}function zA(n){return Mf(n)&&!zc(n).x_()&&n.Ta.length>0}function HA(n){zc(n).start()}async function _R(n){zc(n).ra()}async function wR(n){const e=zc(n);for(const t of n.Ta)e.ea(t.mutations)}async function xR(n,e,t){const r=n.Ta.shift(),i=oy.from(r,e,t);await VA(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await d2(n)}async function bR(n,e){e&&zc(n).X_&&await(async function(r,i){if((function(s){return r7(s)&&s!==tt.ABORTED})(i.code)){const a=r.Ta.shift();zc(r).B_(),await VA(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await d2(r)}})(n,e),zA(n)&&HA(n)}async function Sx(n,e){const t=hn(n);t.asyncQueue.verifyOperationInProgress(),mt(Of,"RemoteStore received new credentials");const r=Mf(t);t.Ea.add(3),await O1(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await h2(t)}async function AR(n,e){const t=hn(n);e?(t.Ea.delete(2),await h2(t)):e||(t.Ea.add(2),await O1(t),t.Ra.set("Unknown"))}function ad(n){return n.ma||(n.ma=(function(t,r,i){const a=hn(t);return a.sa(),new sR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:dR.bind(null,n),t_:pR.bind(null,n),r_:gR.bind(null,n),H_:vR.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),vy(n)?gy(n):n.Ra.set("Unknown")):(await n.ma.stop(),UA(n))}))),n.ma}function zc(n){return n.fa||(n.fa=(function(t,r,i){const a=hn(t);return a.sa(),new lR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:_R.bind(null,n),r_:bR.bind(null,n),ta:wR.bind(null,n),na:xR.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await d2(n)):(await n.fa.stop(),n.Ta.length>0&&(mt(Of,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class my{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Lc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const s=Date.now()+r,l=new my(e,t,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(n,e){if(ku("AsyncQueue",`${e}: ${n}`),id(n))return new St(tt.UNAVAILABLE,`${e}: ${n}`);throw n}class Bh{static emptySet(e){return new Bh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xt.comparator(t.key,r.key):(t,r)=>Xt.comparator(t.key,r.key),this.keyedMap=Qd(),this.sortedSet=new ai(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Bh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Cx{constructor(){this.ga=new ai(Xt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Jt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class $h{constructor(e,t,r,i,a,s,l,c,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,a){const s=[];return t.forEach((l=>{s.push({type:0,doc:l})})),new $h(e,t,Bh.emptySet(t),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&a2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class ER{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SR{constructor(){this.queries=Tx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=hn(t),a=i.queries;i.queries=Tx(),a.forEach(((s,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new St(tt.ABORTED,"Firestore shutting down"))}}function Tx(){return new Pf((n=>cA(n)),a2)}async function qA(n,e){const t=hn(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new ER,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const l=yy(s,`Initialization of query '${Ah(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&_y(t)}async function GA(n,e){const t=hn(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function CR(n,e){const t=hn(n);let r=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const l of s.Sa)l.Fa(i)&&(r=!0);s.wa=i}}r&&_y(t)}function TR(n,e,t){const r=hn(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function _y(n){n.Ca.forEach((e=>{e.next()}))}var sm,Nx;(Nx=sm||(sm={})).Ma="default",Nx.Cache="cache";class WA{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $h(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=$h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sm.Cache}}class XA{constructor(e){this.key=e}}class YA{constructor(e){this.key=e}}class NR{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=On(),this.mutatedKeys=On(),this.eu=fA(e),this.tu=new Bh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Cx,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,g)=>{const _=i.get(d),v=o2(this.query,g)?g:null,A=!!_&&this.mutatedKeys.has(_.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let I=!1;_&&v?_.data.isEqual(v.data)?A!==S&&(r.track({type:3,doc:v}),I=!0):this.su(_,v)||(r.track({type:2,doc:v}),I=!0,(c&&this.eu(v,c)>0||f&&this.eu(v,f)<0)&&(l=!0)):!_&&v?(r.track({type:0,doc:v}),I=!0):_&&!v&&(r.track({type:1,doc:_}),I=!0,(c||f)&&(l=!0)),I&&(v?(s=s.add(v),a=S?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:l,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((d,g)=>(function(v,A){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt(20277,{Rt:I})}};return S(v)-S(A)})(d.type,g.type)||this.eu(d.doc,g.doc))),this.ou(r),i=i??!1;const l=t&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,s.length!==0||f?{snapshot:new $h(this.query,e.tu,a,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=On(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new YA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new XA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=On();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return $h.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wy="SyncEngine";class IR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class RR{constructor(e){this.key=e,this.hu=!1}}class OR{constructor(e,t,r,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Pf((l=>cA(l)),a2),this.Iu=new Map,this.Eu=new Set,this.du=new ai(Xt.comparator),this.Au=new Map,this.Ru=new uy,this.Vu={},this.mu=new Map,this.fu=Kh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DR(n,e,t=!0){const r=e6(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await KA(r,e,t,!0),i}async function LR(n,e){const t=e6(n);await KA(t,e,!0,!1)}async function KA(n,e,t,r){const i=await J7(n.localStore,Wl(e)),a=i.targetId,s=n.sharedClientState.addLocalQueryTarget(a,t);let l;return r&&(l=await PR(n,e,a,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&FA(n.remoteStore,i),l}async function PR(n,e,t,r,i){n.pu=(g,_,v)=>(async function(S,I,N,V){let q=I.view.ru(N);q.Cs&&(q=await wx(S.localStore,I.query,!1).then((({documents:z})=>I.view.ru(z,q))));const U=V&&V.targetChanges.get(I.targetId),re=V&&V.targetMismatches.get(I.targetId)!=null,ue=I.view.applyChanges(q,S.isPrimaryClient,U,re);return Rx(S,I.targetId,ue.au),ue.snapshot})(n,g,_,v);const a=await wx(n.localStore,e,!0),s=new NR(e,a.Qs),l=s.ru(a.documents),c=R1.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=s.applyChanges(l,n.isPrimaryClient,c);Rx(n,t,f.au);const d=new IR(e,t,s);return n.Tu.set(e,d),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function MR(n,e,t){const r=hn(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!a2(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await am(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dy(r.remoteStore,i.targetId),lm(r,i.targetId)})).catch(rd)):(lm(r,i.targetId),await am(r.localStore,i.targetId,!0))}async function kR(n,e){const t=hn(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dy(t.remoteStore,r.targetId))}async function BR(n,e,t){const r=qR(n);try{const i=await(function(s,l){const c=hn(s),f=zr.now(),d=l.reduce(((v,A)=>v.add(A.key)),On());let g,_;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let A=Bu(),S=On();return c.Ns.getEntries(v,d).next((I=>{A=I,A.forEach(((N,V)=>{V.isValidDocument()||(S=S.add(N))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,A))).next((I=>{g=I;const N=[];for(const V of l){const q=QI(V,g.get(V.key).overlayedDocument);q!=null&&N.push(new Xc(V.key,q,rA(q.value.mapValue),Yo.exists(!0)))}return c.mutationQueue.addMutationBatch(v,f,N,l)})).next((I=>{_=I;const N=I.applyToLocalDocumentSet(g,S);return c.documentOverlayCache.saveOverlays(v,I.batchId,N)}))})).then((()=>({batchId:_.batchId,changes:dA(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let f=s.Vu[s.currentUser.toKey()];f||(f=new ai(Rn)),f=f.insert(l,c),s.Vu[s.currentUser.toKey()]=f})(r,i.batchId,t),await D1(r,i.changes),await d2(r.remoteStore)}catch(i){const a=yy(i,"Failed to persist write");t.reject(a)}}async function $A(n,e){const t=hn(n);try{const r=await $7(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=t.Au.get(a);s&&(ar(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ar(s.hu,14607):i.removedDocuments.size>0&&(ar(s.hu,42227),s.hu=!1))})),await D1(t,r,e)}catch(r){await rd(r)}}function Ix(n,e,t){const r=hn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=hn(s);c.onlineState=l;let f=!1;c.queries.forEach(((d,g)=>{for(const _ of g.Sa)_.va(l)&&(f=!0)})),f&&_y(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FR(n,e,t){const r=hn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new ai(Xt.comparator);s=s.insert(a,oo.newNoDocument(a,ln.min()));const l=On().add(a),c=new c2(ln.min(),new Map,new ai(Rn),s,l);await $A(r,c),r.du=r.du.remove(a),r.Au.delete(e),xy(r)}else await am(r.localStore,e,!1).then((()=>lm(r,e,t))).catch(rd)}async function jR(n,e){const t=hn(n),r=e.batch.batchId;try{const i=await K7(t.localStore,e);QA(t,r,null),ZA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await D1(t,i)}catch(i){await rd(i)}}async function UR(n,e,t){const r=hn(n);try{const i=await(function(s,l){const c=hn(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return c.mutationQueue.lookupMutationBatch(f,l).next((g=>(ar(g!==null,37113),d=g.keys(),c.mutationQueue.removeMutationBatch(f,g)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>c.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);QA(r,e,t),ZA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await D1(r,i)}catch(i){await rd(i)}}function ZA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function QA(n,e,t){const r=hn(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function lm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||JA(n,r)}))}function JA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(dy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),xy(n))}function Rx(n,e,t){for(const r of t)r instanceof XA?(n.Ru.addReference(r.key,e),VR(n,r)):r instanceof YA?(mt(wy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||JA(n,r.key)):Jt(19791,{wu:r})}function VR(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(mt(wy,"New document in limbo: "+t),n.Eu.add(r),xy(n))}function xy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Xt(Vr.fromString(e)),r=n.fu.next();n.Au.set(r,new RR(t)),n.du=n.du.insert(t,r),FA(n.remoteStore,new Sc(Wl(iy(t.path)),r,"TargetPurposeLimboResolution",t2.ce))}}async function D1(n,e,t){const r=hn(n),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{s.push(r.pu(c,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const d=f?!f.fromCache:t?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(f){i.push(f);const d=fy.As(c.targetId,f);a.push(d)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(c,f){const d=hn(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Je.forEach(f,(_=>Je.forEach(_.Es,(v=>d.persistence.referenceDelegate.addReference(g,_.targetId,v))).next((()=>Je.forEach(_.ds,(v=>d.persistence.referenceDelegate.removeReference(g,_.targetId,v)))))))))}catch(g){if(!id(g))throw g;mt(hy,"Failed to update sequence numbers: "+g)}for(const g of f){const _=g.targetId;if(!g.fromCache){const v=d.Ms.get(_),A=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(A);d.Ms=d.Ms.insert(_,S)}}})(r.localStore,a))}async function zR(n,e){const t=hn(n);if(!t.currentUser.isEqual(e)){mt(wy,"User change. New user:",e.toKey());const r=await PA(t.localStore,e);t.currentUser=e,(function(a,s){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new St(tt.CANCELLED,s))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await D1(t,r.Ls)}}function HR(n,e){const t=hn(n),r=t.Au.get(e);if(r&&r.hu)return On().add(r.key);{let i=On();const a=t.Iu.get(e);if(!a)return i;for(const s of a){const l=t.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function e6(n){const e=hn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FR.bind(null,e),e.Pu.H_=CR.bind(null,e.eventManager),e.Pu.yu=TR.bind(null,e.eventManager),e}function qR(n){const e=hn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UR.bind(null,e),e}class Dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=f2(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Y7(this.persistence,new G7,e.initialUser,this.serializer)}Cu(e){return new LA(cy.mi,this.serializer)}Du(e){return new tR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dp.provider={build:()=>new Dp};class GR extends Dp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ar(this.persistence.referenceDelegate instanceof Rp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new R7(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Go.withCacheSize(this.cacheSizeBytes):Go.DEFAULT;return new LA((r=>Rp.mi(r,t)),this.serializer)}}class um{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ix(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zR.bind(null,this.syncEngine),await AR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SR})()}createDatastore(e){const t=f2(e.databaseInfo.databaseId),r=(function(a){return new oR(a)})(e.databaseInfo);return(function(a,s,l,c){return new cR(a,s,l,c)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,s,l){return new hR(r,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>Ix(this.syncEngine,t,0)),(function(){return Ax.v()?new Ax:new nR})())}createSyncEngine(e,t){return(function(i,a,s,l,c,f,d){const g=new OR(i,a,s,l,c,f);return d&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=hn(t);mt(Of,"RemoteStore shutting down."),r.Ea.add(5),await O1(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class t6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ku("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Hc="FirestoreClient";class WR{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ao.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{mt(Hc,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(mt(Hc,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=yy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ev(n,e){n.asyncQueue.verifyOperationInProgress(),mt(Hc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await PA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Ox(n,e){n.asyncQueue.verifyOperationInProgress();const t=await XR(n);mt(Hc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Sx(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>Sx(e.remoteStore,i))),n._onlineComponents=e}async function XR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(Hc,"Using user provided OfflineComponentProvider");try{await ev(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===tt.FAILED_PRECONDITION||i.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Gh("Error using user provided cache. Falling back to memory cache: "+t),await ev(n,new Dp)}}else mt(Hc,"Using default OfflineComponentProvider"),await ev(n,new GR(void 0));return n._offlineComponents}async function n6(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(Hc,"Using user provided OnlineComponentProvider"),await Ox(n,n._uninitializedComponentsProvider._online)):(mt(Hc,"Using default OnlineComponentProvider"),await Ox(n,new um))),n._onlineComponents}function YR(n){return n6(n).then((e=>e.syncEngine))}async function cm(n){const e=await n6(n),t=e.eventManager;return t.onListen=DR.bind(null,e.syncEngine),t.onUnlisten=MR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kR.bind(null,e.syncEngine),t}function KR(n,e,t={}){const r=new Lc;return n.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,f){const d=new t6({next:_=>{d.Nu(),s.enqueueAndForget((()=>GA(a,g))),_.fromCache&&c.source==="server"?f.reject(new St(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),g=new WA(l,d,{includeMetadataChanges:!0,qa:!0});return qA(a,g)})(await cm(n),n.asyncQueue,e,t,r))),r.promise}function r6(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Dx=new Map;const i6="firestore.googleapis.com",Lx=!0;class Px{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new St(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i6,this.ssl=Lx}else this.host=e.host,this.ssl=e.ssl??Lx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N7)throw new St(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new St(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new St(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new St(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p2{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Px({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new St(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Px(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tI;switch(r.type){case"firstParty":return new aI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new St(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Dx.get(t);r&&(mt("ComponentProvider","Removing Datastore"),Dx.delete(t),r.terminate())})(this),Promise.resolve()}}function $R(n,e,t,r={}){n=hl(n,p2);const i=Jh(e),a=n._getSettings(),s={...a,emulatorOptions:n._getEmulatorOptions()},l=`${e}:${t}`;i&&(Q4(`https://${l}`),J4("Firestore",!0)),a.host!==i6&&a.host!==l&&Gh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!Tf(c,s)&&(n._setSettings(c),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=ao.MOCK_USER;else{f=CS(r.mockUserToken,n._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new St(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ao(g)}n._authCredentials=new nI(new Gb(f,d))}}class L1{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new L1(this.firestore,e,this._query)}}class na{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new na(this.firestore,e,this._key)}toJSON(){return{type:na._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(N1(t,na._jsonSchema))return new na(e,r||null,new Xt(Vr.fromString(t.referencePath)))}}na._jsonSchemaVersion="firestore/documentReference/1.0",na._jsonSchema={type:ki("string",na._jsonSchemaVersion),referencePath:ki("string")};class Pc extends L1{constructor(e,t,r){super(e,t,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new na(this.firestore,null,new Xt(e))}withConverter(e){return new Pc(this.firestore,e,this._path)}}function Ls(n,e,...t){if(n=Ha(n),Wb("collection","path",e),n instanceof p2){const r=Vr.fromString(e,...t);return Yw(r),new Pc(n,null,r)}{if(!(n instanceof na||n instanceof Pc))throw new St(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vr.fromString(e,...t));return Yw(r),new Pc(n.firestore,null,r)}}function ya(n,e,...t){if(n=Ha(n),arguments.length===1&&(e=Zm.newId()),Wb("doc","path",e),n instanceof p2){const r=Vr.fromString(e,...t);return Xw(r),new na(n,null,new Xt(r))}{if(!(n instanceof na||n instanceof Pc))throw new St(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vr.fromString(e,...t));return Xw(r),new na(n.firestore,n instanceof Pc?n.converter:null,new Xt(r))}}const Mx="AsyncQueue";class kx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kA(this,"async_queue_retry"),this._c=()=>{const r=Jg();r&&mt(Mx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Jg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Jg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Lc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!id(e))throw e;mt(Mx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ku("INTERNAL UNHANDLED ERROR: ",Bx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=my.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Jt(47125,{Pc:Bx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Bx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Fx(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(n,["next","error","complete"])}class qc extends p2{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kx,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kx(e),this._firestoreClient=void 0,await e}}}function ZR(n,e){const t=typeof n=="object"?n:rb(),r=typeof n=="string"?n:Ap,i=zm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=ES("firestore");a&&$R(i,...a)}return i}function g2(n){if(n._terminated)throw new St(tt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QR(n),n._firestoreClient}function QR(n){const e=n._freezeSettings(),t=(function(i,a,s,l){return new bI(i,a,s,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,r6(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new WR(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(n._componentsProvider))}class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(qa.fromBase64String(e))}catch(t){throw new St(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ms(qa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ms._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(N1(e,Ms._jsonSchema))return Ms.fromBase64String(e.bytes)}}Ms._jsonSchemaVersion="firestore/bytes/1.0",Ms._jsonSchema={type:ki("string",Ms._jsonSchemaVersion),bytes:ki("string")};class v2{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new St(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Va(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class by{constructor(e){this._methodName=e}}class Yl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new St(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new St(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Rn(this._lat,e._lat)||Rn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yl._jsonSchemaVersion}}static fromJSON(e){if(N1(e,Yl._jsonSchema))return new Yl(e.latitude,e.longitude)}}Yl._jsonSchemaVersion="firestore/geoPoint/1.0",Yl._jsonSchema={type:ki("string",Yl._jsonSchemaVersion),latitude:ki("number"),longitude:ki("number")};class Kl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(N1(e,Kl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Kl(e.vectorValues);throw new St(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kl._jsonSchemaVersion="firestore/vectorValue/1.0",Kl._jsonSchema={type:ki("string",Kl._jsonSchemaVersion),vectorValues:ki("object")};const JR=/^__.*__$/;class e9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xc(e,this.data,this.fieldMask,t,this.fieldTransforms):new I1(e,this.data,t,this.fieldTransforms)}}class a6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function o6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt(40011,{Ac:n})}}class Ay{constructor(e,t,r,i,a,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ay({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(o6(this.Ac)&&JR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||f2(e)}Cc(e,t,r,i=!1){return new Ay({Ac:e,methodName:t,Dc:r,path:Va.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ey(n){const e=n._freezeSettings(),t=f2(n._databaseId);return new t9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Sy(n,e,t,r,i,a={}){const s=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);Cy("Data must be an object, but it was:",s,r);const l=s6(r,s);let c,f;if(a.merge)c=new hs(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const g of a.mergeFields){const _=fm(e,g,t);if(!s.contains(_))throw new St(tt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);u6(d,_)||d.push(_)}c=new hs(d),f=s.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,f=s.fieldTransforms;return new e9(new Wo(l),c,f)}class m2 extends by{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof m2}}function n9(n,e,t,r){const i=n.Cc(1,e,t);Cy("Data must be an object, but it was:",i,r);const a=[],s=Wo.empty();Wc(r,((c,f)=>{const d=Ty(e,c,t);f=Ha(f);const g=i.yc(d);if(f instanceof m2)a.push(d);else{const _=y2(f,g);_!=null&&(a.push(d),s.set(d,_))}}));const l=new hs(a);return new a6(s,l,i.fieldTransforms)}function r9(n,e,t,r,i,a){const s=n.Cc(1,e,t),l=[fm(e,r,t)],c=[i];if(a.length%2!=0)throw new St(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)l.push(fm(e,a[_])),c.push(a[_+1]);const f=[],d=Wo.empty();for(let _=l.length-1;_>=0;--_)if(!u6(f,l[_])){const v=l[_];let A=c[_];A=Ha(A);const S=s.yc(v);if(A instanceof m2)f.push(v);else{const I=y2(A,S);I!=null&&(f.push(v),d.set(v,I))}}const g=new hs(f);return new a6(d,g,s.fieldTransforms)}function y2(n,e){if(l6(n=Ha(n)))return Cy("Unsupported field value:",e,n),s6(n,e);if(n instanceof by)return(function(r,i){if(!o6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const l of r){let c=y2(l,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=Ha(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=zr.fromDate(r);return{timestampValue:Ip(i.serializer,a)}}if(r instanceof zr){const a=new zr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ip(i.serializer,a)}}if(r instanceof Yl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ms)return{bytesValue:SA(i.serializer,r._byteString)};if(r instanceof na){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ly(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kl)return(function(s,l){return{mapValue:{fields:{[tA]:{stringValue:nA},[Ep]:{arrayValue:{values:s.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return ay(l.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Qm(r)}`)})(n,e)}function s6(n,e){const t={};return Kb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wc(n,((r,i)=>{const a=y2(i,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function l6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof zr||n instanceof Yl||n instanceof Ms||n instanceof na||n instanceof by||n instanceof Kl)}function Cy(n,e,t){if(!l6(t)||!Xb(t)){const r=Qm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function fm(n,e,t){if((e=Ha(e))instanceof v2)return e._internalPath;if(typeof e=="string")return Ty(n,e);throw Lp("Field path arguments must be of type string or ",n,!1,void 0,t)}const i9=new RegExp("[~\\*/\\[\\]]");function Ty(n,e,t){if(e.search(i9)>=0)throw Lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new v2(...e.split("."))._internalPath}catch{throw Lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lp(n,e,t,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new St(tt.INVALID_ARGUMENT,l+n+c)}function u6(n,e){return n.some((t=>t.isEqual(e)))}class c6{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new na(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(f6("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class a9 extends c6{data(){return super.data()}}function f6(n,e){return typeof e=="string"?Ty(n,e):e instanceof v2?e._internalPath:e._delegate._internalPath}function h6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new St(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o9{convertValue(e,t="none"){switch(Vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Uc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Jt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wc(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Ep].arrayValue?.values?.map((r=>bi(r.doubleValue)));return new Kl(t)}convertGeoPoint(e){return new Yl(bi(e.latitude),bi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=r2(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(v1(e));default:return null}}convertTimestamp(e){const t=jc(e);return new zr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Vr.fromString(e);ar(OA(r),9688,{name:e});const i=new m1(r.get(1),r.get(3)),a=new Xt(r.popFirst(5));return i.isEqual(t)||ku(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Ny(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class e1{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Af extends c6{constructor(e,t,r,i,a,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(f6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Af._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Af._jsonSchemaVersion="firestore/documentSnapshot/1.0",Af._jsonSchema={type:ki("string",Af._jsonSchemaVersion),bundleSource:ki("string","DocumentSnapshot"),bundleName:ki("string"),bundle:ki("string")};class ip extends Af{data(e={}){return super.data(e)}}class Ef{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new e1(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new ip(this._firestore,this._userDataWriter,r.key,r,new e1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new St(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new ip(i._firestore,i._userDataWriter,l.doc.key,l.doc,new e1(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new ip(i._firestore,i._userDataWriter,l.doc.key,l.doc,new e1(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:s9(l.type),doc:c,oldIndex:f,newIndex:d}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ef._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function s9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt(61501,{type:n})}}Ef._jsonSchemaVersion="firestore/querySnapshot/1.0",Ef._jsonSchema={type:ki("string",Ef._jsonSchemaVersion),bundleSource:ki("string","QuerySnapshot"),bundleName:ki("string"),bundle:ki("string")};class Iy extends o9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new na(this.firestore,null,t)}}function jx(n){n=hl(n,L1);const e=hl(n.firestore,qc),t=g2(e),r=new Iy(e);return h6(n._query),KR(t,n._query).then((i=>new Ef(e,r,n,i)))}function M0(n,e,t){n=hl(n,na);const r=hl(n.firestore,qc),i=Ny(n.converter,e,t);return _2(r,[Sy(Ey(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Yo.none())])}function hf(n){return _2(hl(n.firestore,qc),[new u2(n._key,Yo.none())])}function Cu(n,e){const t=hl(n.firestore,qc),r=ya(n),i=Ny(n.converter,e);return _2(t,[Sy(Ey(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Yo.exists(!1))]).then((()=>r))}function df(n,...e){n=Ha(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Fx(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Fx(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let a,s,l;if(n instanceof na)s=hl(n.firestore,qc),l=iy(n._key.path),a={next:c=>{e[r]&&e[r](l9(s,n,c))},error:e[r+1],complete:e[r+2]};else{const c=hl(n,L1);s=hl(c.firestore,qc),l=c._query;const f=new Iy(s);a={next:d=>{e[r]&&e[r](new Ef(s,f,c,d))},error:e[r+1],complete:e[r+2]},h6(n._query)}return(function(f,d,g,_){const v=new t6(_),A=new WA(d,v,g);return f.asyncQueue.enqueueAndForget((async()=>qA(await cm(f),A))),()=>{v.Nu(),f.asyncQueue.enqueueAndForget((async()=>GA(await cm(f),A)))}})(g2(s),l,i,a)}function _2(n,e){return(function(r,i){const a=new Lc;return r.asyncQueue.enqueueAndForget((async()=>BR(await YR(r),i,a))),a.promise})(g2(n),e)}function l9(n,e,t){const r=t.docs.get(e._key),i=new Iy(n);return new Af(n,i,e._key,r,new e1(t.hasPendingWrites,t.fromCache),e.converter)}class u9{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ey(e)}set(e,t,r){this._verifyNotCommitted();const i=tv(e,this._firestore),a=Ny(i.converter,t,r),s=Sy(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Yo.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=tv(e,this._firestore);let s;return s=typeof(t=Ha(t))=="string"||t instanceof v2?r9(this._dataReader,"WriteBatch.update",a._key,t,r,i):n9(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(s.toMutation(a._key,Yo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tv(e,this._firestore);return this._mutations=this._mutations.concat(new u2(t._key,Yo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new St(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tv(n,e){if((n=Ha(n)).firestore!==e)throw new St(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function c9(n){return g2(n=hl(n,qc)),new u9(n,(e=>_2(n,e)))}(function(e,t=!0){(function(i){nd=i})(ed),qh(new Nf("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new qc(new rI(r.getProvider("auth-internal")),new oI(s,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new St(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new m1(f.options.projectId,d)})(s,i),s);return a={useFetchStreams:t,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),Rc(Hw,qw,e),Rc(Hw,qw,"esm2020")})();const f9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h9=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Ux=n=>{const e=h9(n);return e.charAt(0).toUpperCase()+e.slice(1)},d6=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),d9=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var p9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const g9=Tc.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>Tc.createElement("svg",{ref:c,...p9,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:d6("lucide",i),...!a&&!d9(l)&&{"aria-hidden":"true"},...l},[...s.map(([f,d])=>Tc.createElement(f,d)),...Array.isArray(a)?a:[a]]));const or=(n,e)=>{const t=Tc.forwardRef(({className:r,...i},a)=>Tc.createElement(g9,{ref:a,iconNode:e,className:d6(`lucide-${f9(Ux(n))}`,`lucide-${n}`,r),...i}));return t.displayName=Ux(n),t};const v9=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],p6=or("arrow-up-down",v9);const m9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],y9=or("bell",m9);const _9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],w9=or("calendar",_9);const x9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],b9=or("camera",x9);const A9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],E9=or("circle-check-big",A9);const S9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],C9=or("clipboard-list",S9);const T9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Vx=or("database",T9);const N9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],g6=or("download",N9);const I9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],v6=or("file-spreadsheet",I9);const R9=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],O9=or("grip-vertical",R9);const D9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],L9=or("history",D9);const P9=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],M9=or("layers",P9);const k9=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],B9=or("link-2",k9);const F9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],j9=or("lock",F9);const U9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],V9=or("log-out",U9);const z9=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],H9=or("octagon-alert",z9);const q9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],m6=or("plus",q9);const G9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zx=or("printer",G9);const W9=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],X9=or("recycle",W9);const Y9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],K9=or("save",Y9);const $9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],y6=or("search",$9);const Z9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ry=or("settings",Z9);const Q9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],J9=or("shield-check",Q9);const eO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zh=or("trash-2",eO);const tO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_6=or("triangle-alert",tO);const nO=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Pp=or("truck",nO);const rO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iO=or("user",rO);const aO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oO=or("users",aO);const sO=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],w6=or("wrench",sO);const lO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mp=or("x",lO),uO="modulepreload",cO=function(n){return"/CLTyre-Tracker/"+n},Hx={},nv=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let c=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=c(t.map(f=>{if(f=cO(f),f in Hx)return;Hx[f]=!0;const d=f.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":uO,d||(_.as="script"),_.crossOrigin="",_.href=f,l&&_.setAttribute("nonce",l),document.head.appendChild(_),d)return new Promise((v,A)=>{_.addEventListener("load",v),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function pr(n){"@babel/helpers - typeof";return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(n)}var dl=Uint8Array,ds=Uint16Array,Oy=Int32Array,Dy=new dl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ly=new dl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qx=new dl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x6=function(n,e){for(var t=new ds(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Oy(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},b6=x6(Dy,2),fO=b6.b,hm=b6.r;fO[28]=258,hm[258]=28;var hO=x6(Ly,0),Gx=hO.r,dm=new ds(32768);for(var Hr=0;Hr<32768;++Hr){var vc=(Hr&43690)>>1|(Hr&21845)<<1;vc=(vc&52428)>>2|(vc&13107)<<2,vc=(vc&61680)>>4|(vc&3855)<<4,dm[Hr]=((vc&65280)>>8|(vc&255)<<8)>>1}var c1=(function(n,e,t){for(var r=n.length,i=0,a=new ds(e);i<r;++i)n[i]&&++a[n[i]-1];var s=new ds(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(t){l=new ds(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],d=e-n[i],g=s[n[i]-1]++<<d,_=g|(1<<d)-1;g<=_;++g)l[dm[g]>>c]=f}else for(l=new ds(r),i=0;i<r;++i)n[i]&&(l[i]=dm[s[n[i]-1]++]>>15-n[i]);return l}),Df=new dl(288);for(var Hr=0;Hr<144;++Hr)Df[Hr]=8;for(var Hr=144;Hr<256;++Hr)Df[Hr]=9;for(var Hr=256;Hr<280;++Hr)Df[Hr]=7;for(var Hr=280;Hr<288;++Hr)Df[Hr]=8;var kp=new dl(32);for(var Hr=0;Hr<32;++Hr)kp[Hr]=5;var dO=c1(Df,9,0),pO=c1(kp,5,0),A6=function(n){return(n+7)/8|0},gO=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new dl(n.subarray(e,t))},Tu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Wd=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},rv=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return{t:S6,l:0};if(i==1){var s=new dl(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(re,ue){return re.f-ue.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],f=0,d=1,g=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=t[t[f].f<t[g].f?f++:g++],c=t[f!=d&&t[f].f<t[g].f?f++:g++],t[d++]={s:-1,f:l.f+c.f,l,r:c};for(var _=a[0].s,r=1;r<i;++r)a[r].s>_&&(_=a[r].s);var v=new ds(_+1),A=pm(t[d-1],v,0);if(A>e){var r=0,S=0,I=A-e,N=1<<I;for(a.sort(function(ue,z){return v[z.s]-v[ue.s]||ue.f-z.f});r<i;++r){var V=a[r].s;if(v[V]>e)S+=N-(1<<A-v[V]),v[V]=e;else break}for(S>>=I;S>0;){var q=a[r].s;v[q]<e?S-=1<<e-v[q]++-1:++r}for(;r>=0&&S;--r){var U=a[r].s;v[U]==e&&(--v[U],++S)}A=e}return{t:new dl(v),l:A}},pm=function(n,e,t){return n.s==-1?Math.max(pm(n.l,e,t+1),pm(n.r,e,t+1)):e[n.s]=t},Wx=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ds(++e),r=0,i=n[0],a=1,s=function(c){t[r++]=c},l=1;l<=e;++l)if(n[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=n[l]}return{c:t.subarray(0,r),n:e}},Xd=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},E6=function(n,e,t){var r=t.length,i=A6(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},Xx=function(n,e,t,r,i,a,s,l,c,f,d){Tu(e,d++,t),++i[256];for(var g=rv(i,15),_=g.t,v=g.l,A=rv(a,15),S=A.t,I=A.l,N=Wx(_),V=N.c,q=N.n,U=Wx(S),re=U.c,ue=U.n,z=new ds(19),R=0;R<V.length;++R)++z[V[R]&31];for(var R=0;R<re.length;++R)++z[re[R]&31];for(var P=rv(z,7),H=P.t,O=P.l,k=19;k>4&&!H[qx[k-1]];--k);var j=f+5<<3,ce=Xd(i,Df)+Xd(a,kp)+s,xe=Xd(i,_)+Xd(a,S)+s+14+3*k+Xd(z,H)+2*z[16]+3*z[17]+7*z[18];if(c>=0&&j<=ce&&j<=xe)return E6(e,d,n.subarray(c,c+f));var te,he,pe,Ce;if(Tu(e,d,1+(xe<ce)),d+=2,xe<ce){te=c1(_,v,0),he=_,pe=c1(S,I,0),Ce=S;var We=c1(H,O,0);Tu(e,d,q-257),Tu(e,d+5,ue-1),Tu(e,d+10,k-4),d+=14;for(var R=0;R<k;++R)Tu(e,d+3*R,H[qx[R]]);d+=3*k;for(var Z=[V,re],F=0;F<2;++F)for(var $=Z[F],R=0;R<$.length;++R){var ie=$[R]&31;Tu(e,d,We[ie]),d+=H[ie],ie>15&&(Tu(e,d,$[R]>>5&127),d+=$[R]>>12)}}else te=dO,he=Df,pe=pO,Ce=kp;for(var R=0;R<l;++R){var fe=r[R];if(fe>255){var ie=fe>>18&31;Wd(e,d,te[ie+257]),d+=he[ie+257],ie>7&&(Tu(e,d,fe>>23&31),d+=Dy[ie]);var de=fe&31;Wd(e,d,pe[de]),d+=Ce[de],de>3&&(Wd(e,d,fe>>5&8191),d+=Ly[de])}else Wd(e,d,te[fe]),d+=he[fe]}return Wd(e,d,te[256]),d+he[256]},vO=new Oy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),S6=new dl(0),mO=function(n,e,t,r,i,a){var s=a.z||n.length,l=new dl(r+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(r,l.length-i),f=a.l,d=(a.r||0)&7;if(e){d&&(c[0]=a.r>>3);for(var g=vO[e-1],_=g>>13,v=g&8191,A=(1<<t)-1,S=a.p||new ds(32768),I=a.h||new ds(A+1),N=Math.ceil(t/3),V=2*N,q=function(Ke){return(n[Ke]^n[Ke+1]<<N^n[Ke+2]<<V)&A},U=new Oy(25e3),re=new ds(288),ue=new ds(32),z=0,R=0,P=a.i||0,H=0,O=a.w||0,k=0;P+2<s;++P){var j=q(P),ce=P&32767,xe=I[j];if(S[ce]=xe,I[j]=ce,O<=P){var te=s-P;if((z>7e3||H>24576)&&(te>423||!f)){d=Xx(n,c,0,U,re,ue,R,H,k,P-k,d),H=z=R=0,k=P;for(var he=0;he<286;++he)re[he]=0;for(var he=0;he<30;++he)ue[he]=0}var pe=2,Ce=0,We=v,Z=ce-xe&32767;if(te>2&&j==q(P-Z))for(var F=Math.min(_,te)-1,$=Math.min(32767,P),ie=Math.min(258,te);Z<=$&&--We&&ce!=xe;){if(n[P+pe]==n[P+pe-Z]){for(var fe=0;fe<ie&&n[P+fe]==n[P+fe-Z];++fe);if(fe>pe){if(pe=fe,Ce=Z,fe>F)break;for(var de=Math.min(Z,fe-2),ye=0,he=0;he<de;++he){var Le=P-Z+he&32767,Ne=S[Le],ze=Le-Ne&32767;ze>ye&&(ye=ze,xe=Le)}}}ce=xe,xe=S[ce],Z+=ce-xe&32767}if(Ce){U[H++]=268435456|hm[pe]<<18|Gx[Ce];var nt=hm[pe]&31,ut=Gx[Ce]&31;R+=Dy[nt]+Ly[ut],++re[257+nt],++ue[ut],O=P+pe,++z}else U[H++]=n[P],++re[n[P]]}}for(P=Math.max(P,O);P<s;++P)U[H++]=n[P],++re[n[P]];d=Xx(n,c,f,U,re,ue,R,H,k,P-k,d),f||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=I,a.p=S,a.i=P,a.w=O)}else{for(var P=a.w||0;P<s+f;P+=65535){var ke=P+65535;ke>=s&&(c[d/8|0]=f,ke=s),d=E6(c,d+1,n.subarray(P,ke))}a.i=s}return gO(l,0,r+A6(d)+i)},C6=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},yO=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new dl(a.length+n.length);s.set(a),s.set(n,a.length),n=s,i.w=a.length}return mO(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},T6=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},_O=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=C6();i.p(e.dictionary),T6(n,2,i.d())}};function gm(n,e){e||(e={});var t=C6();t.p(n);var r=yO(n,e,e.dictionary?6:2,4);return _O(r,e),T6(r,r.length-4,t.d()),r}var wO=typeof TextDecoder<"u"&&new TextDecoder,xO=0;try{wO.decode(S6,{stream:!0}),xO=1}catch{}function bO(n){if(Array.isArray(n))return n}function AO(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(c=(r=a.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Yx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function EO(n,e){if(n){if(typeof n=="string")return Yx(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Yx(n,e):void 0}}function SO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kx(n,e){return bO(n)||AO(n,e)||EO(n,e)||SO()}function $x(n,e="utf8"){return new TextDecoder(e).decode(n)}const CO=new TextEncoder;function TO(n){return CO.encode(n)}const NO=1024*8,IO=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),iv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Py{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=NO,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Py)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=iv[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===IO&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const c=new iv[t](l.buffer);return this.offset+=r,c.reverse(),c}const s=new iv[t](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return $x(this.readBytes(e))}decodeText(e=1,t="utf8"){return $x(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(TO(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function od(n){let e=n.length;for(;--e>=0;)n[e]=0}const RO=3,OO=258,N6=29,DO=256,LO=DO+1+N6,I6=30,PO=512,MO=new Array((LO+2)*2);od(MO);const kO=new Array(I6*2);od(kO);const BO=new Array(PO);od(BO);const FO=new Array(OO-RO+1);od(FO);const jO=new Array(N6);od(jO);const UO=new Array(I6);od(UO);const VO=(n,e,t,r)=>{let i=n&65535|0,a=n>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var vm=VO;const zO=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},HO=new Uint32Array(zO()),qO=(n,e,t,r)=>{const i=HO,a=r+t;n^=-1;for(let s=r;s<a;s++)n=n>>>8^i[(n^e[s])&255];return n^-1};var Fl=qO,mm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},R6={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const GO=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var WO=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)GO(t,r)&&(n[r]=t[r])}}return n},XO=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,a=n.length;r<a;r++){let s=n[r];t.set(s,i),i+=s.length}return t},O6={assign:WO,flattenChunks:XO};let D6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{D6=!1}const x1=new Uint8Array(256);for(let n=0;n<256;n++)x1[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;x1[254]=x1[254]=1;var YO=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,a,s=n.length,l=0;for(i=0;i<s;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const KO=(n,e)=>{if(e<65534&&n.subarray&&D6)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var $O=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const a=new Array(t*2);for(i=0,r=0;r<t;){let s=n[r++];if(s<128){a[i++]=s;continue}let l=x1[s];if(l>4){a[i++]=65533,r+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&r<t;)s=s<<6|n[r++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return KO(a,i)},ZO=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+x1[n[t]]>e?t:e},ym={string2buf:YO,buf2string:$O,utf8border:ZO};function QO(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var JO=QO;const k0=16209,eD=16191;var tD=function(e,t){let r,i,a,s,l,c,f,d,g,_,v,A,S,I,N,V,q,U,re,ue,z,R,P,H;const O=e.state;r=e.next_in,P=e.input,i=r+(e.avail_in-5),a=e.next_out,H=e.output,s=a-(t-e.avail_out),l=a+(e.avail_out-257),c=O.dmax,f=O.wsize,d=O.whave,g=O.wnext,_=O.window,v=O.hold,A=O.bits,S=O.lencode,I=O.distcode,N=(1<<O.lenbits)-1,V=(1<<O.distbits)-1;e:do{A<15&&(v+=P[r++]<<A,A+=8,v+=P[r++]<<A,A+=8),q=S[v&N];t:for(;;){if(U=q>>>24,v>>>=U,A-=U,U=q>>>16&255,U===0)H[a++]=q&65535;else if(U&16){re=q&65535,U&=15,U&&(A<U&&(v+=P[r++]<<A,A+=8),re+=v&(1<<U)-1,v>>>=U,A-=U),A<15&&(v+=P[r++]<<A,A+=8,v+=P[r++]<<A,A+=8),q=I[v&V];n:for(;;){if(U=q>>>24,v>>>=U,A-=U,U=q>>>16&255,U&16){if(ue=q&65535,U&=15,A<U&&(v+=P[r++]<<A,A+=8,A<U&&(v+=P[r++]<<A,A+=8)),ue+=v&(1<<U)-1,ue>c){e.msg="invalid distance too far back",O.mode=k0;break e}if(v>>>=U,A-=U,U=a-s,ue>U){if(U=ue-U,U>d&&O.sane){e.msg="invalid distance too far back",O.mode=k0;break e}if(z=0,R=_,g===0){if(z+=f-U,U<re){re-=U;do H[a++]=_[z++];while(--U);z=a-ue,R=H}}else if(g<U){if(z+=f+g-U,U-=g,U<re){re-=U;do H[a++]=_[z++];while(--U);if(z=0,g<re){U=g,re-=U;do H[a++]=_[z++];while(--U);z=a-ue,R=H}}}else if(z+=g-U,U<re){re-=U;do H[a++]=_[z++];while(--U);z=a-ue,R=H}for(;re>2;)H[a++]=R[z++],H[a++]=R[z++],H[a++]=R[z++],re-=3;re&&(H[a++]=R[z++],re>1&&(H[a++]=R[z++]))}else{z=a-ue;do H[a++]=H[z++],H[a++]=H[z++],H[a++]=H[z++],re-=3;while(re>2);re&&(H[a++]=H[z++],re>1&&(H[a++]=H[z++]))}}else if((U&64)===0){q=I[(q&65535)+(v&(1<<U)-1)];continue n}else{e.msg="invalid distance code",O.mode=k0;break e}break}}else if((U&64)===0){q=S[(q&65535)+(v&(1<<U)-1)];continue t}else if(U&32){O.mode=eD;break e}else{e.msg="invalid literal/length code",O.mode=k0;break e}break}}while(r<i&&a<l);re=A>>3,r-=re,A-=re<<3,v&=(1<<A)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<l?257+(l-a):257-(a-l),O.hold=v,O.bits=A};const yh=15,Zx=852,Qx=592,Jx=0,av=1,e3=2,nD=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rD=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),iD=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),aD=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),oD=(n,e,t,r,i,a,s,l)=>{const c=l.bits;let f=0,d=0,g=0,_=0,v=0,A=0,S=0,I=0,N=0,V=0,q,U,re,ue,z,R=null,P;const H=new Uint16Array(yh+1),O=new Uint16Array(yh+1);let k=null,j,ce,xe;for(f=0;f<=yh;f++)H[f]=0;for(d=0;d<r;d++)H[e[t+d]]++;for(v=c,_=yh;_>=1&&H[_]===0;_--);if(v>_&&(v=_),_===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(g=1;g<_&&H[g]===0;g++);for(v<g&&(v=g),I=1,f=1;f<=yh;f++)if(I<<=1,I-=H[f],I<0)return-1;if(I>0&&(n===Jx||_!==1))return-1;for(O[1]=0,f=1;f<yh;f++)O[f+1]=O[f]+H[f];for(d=0;d<r;d++)e[t+d]!==0&&(s[O[e[t+d]]++]=d);if(n===Jx?(R=k=s,P=20):n===av?(R=nD,k=rD,P=257):(R=iD,k=aD,P=0),V=0,d=0,f=g,z=a,A=v,S=0,re=-1,N=1<<v,ue=N-1,n===av&&N>Zx||n===e3&&N>Qx)return 1;for(;;){j=f-S,s[d]+1<P?(ce=0,xe=s[d]):s[d]>=P?(ce=k[s[d]-P],xe=R[s[d]-P]):(ce=96,xe=0),q=1<<f-S,U=1<<A,g=U;do U-=q,i[z+(V>>S)+U]=j<<24|ce<<16|xe|0;while(U!==0);for(q=1<<f-1;V&q;)q>>=1;if(q!==0?(V&=q-1,V+=q):V=0,d++,--H[f]===0){if(f===_)break;f=e[t+s[d]]}if(f>v&&(V&ue)!==re){for(S===0&&(S=v),z+=g,A=f-S,I=1<<A;A+S<_&&(I-=H[A+S],!(I<=0));)A++,I<<=1;if(N+=1<<A,n===av&&N>Zx||n===e3&&N>Qx)return 1;re=V&ue,i[re]=v<<24|A<<16|z-a|0}}return V!==0&&(i[z+V]=f-S<<24|64<<16|0),l.bits=v,0};var f1=oD;const sD=0,L6=1,P6=2,{Z_FINISH:t3,Z_BLOCK:lD,Z_TREES:B0,Z_OK:Lf,Z_STREAM_END:uD,Z_NEED_DICT:cD,Z_STREAM_ERROR:Fs,Z_DATA_ERROR:M6,Z_MEM_ERROR:k6,Z_BUF_ERROR:fD,Z_DEFLATED:n3}=R6,w2=16180,r3=16181,i3=16182,a3=16183,o3=16184,s3=16185,l3=16186,u3=16187,c3=16188,f3=16189,Bp=16190,Nu=16191,ov=16192,h3=16193,sv=16194,d3=16195,p3=16196,g3=16197,v3=16198,F0=16199,j0=16200,m3=16201,y3=16202,_3=16203,w3=16204,x3=16205,lv=16206,b3=16207,A3=16208,$r=16209,B6=16210,F6=16211,hD=852,dD=592,pD=15,gD=pD,E3=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function vD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const kf=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<w2||e.mode>F6?1:0},j6=n=>{if(kf(n))return Fs;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=w2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(hD),e.distcode=e.distdyn=new Int32Array(dD),e.sane=1,e.back=-1,Lf},U6=n=>{if(kf(n))return Fs;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,j6(n)},V6=(n,e)=>{let t;if(kf(n))return Fs;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Fs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,U6(n))},z6=(n,e)=>{if(!n)return Fs;const t=new vD;n.state=t,t.strm=n,t.window=null,t.mode=w2;const r=V6(n,e);return r!==Lf&&(n.state=null),r},mD=n=>z6(n,gD);let S3=!0,uv,cv;const yD=n=>{if(S3){uv=new Int32Array(512),cv=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(f1(L6,n.lens,0,288,uv,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;f1(P6,n.lens,0,32,cv,0,n.work,{bits:5}),S3=!1}n.lencode=uv,n.lenbits=9,n.distcode=cv,n.distbits=5},H6=(n,e,t,r)=>{let i;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(t-r,t-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(t-r,t),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},_D=(n,e)=>{let t,r,i,a,s,l,c,f,d,g,_,v,A,S,I=0,N,V,q,U,re,ue,z,R;const P=new Uint8Array(4);let H,O;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(kf(n)||!n.output||!n.input&&n.avail_in!==0)return Fs;t=n.state,t.mode===Nu&&(t.mode=ov),s=n.next_out,i=n.output,c=n.avail_out,a=n.next_in,r=n.input,l=n.avail_in,f=t.hold,d=t.bits,g=l,_=c,R=Lf;e:for(;;)switch(t.mode){case w2:if(t.wrap===0){t.mode=ov;break}for(;d<16;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,P[0]=f&255,P[1]=f>>>8&255,t.check=Fl(t.check,P,2,0),f=0,d=0,t.mode=r3;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=$r;break}if((f&15)!==n3){n.msg="unknown compression method",t.mode=$r;break}if(f>>>=4,d-=4,z=(f&15)+8,t.wbits===0&&(t.wbits=z),z>15||z>t.wbits){n.msg="invalid window size",t.mode=$r;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?f3:Nu,f=0,d=0;break;case r3:for(;d<16;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}if(t.flags=f,(t.flags&255)!==n3){n.msg="unknown compression method",t.mode=$r;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=$r;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,t.check=Fl(t.check,P,2,0)),f=0,d=0,t.mode=i3;case i3:for(;d<32;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,P[2]=f>>>16&255,P[3]=f>>>24&255,t.check=Fl(t.check,P,4,0)),f=0,d=0,t.mode=a3;case a3:for(;d<16;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,t.check=Fl(t.check,P,2,0)),f=0,d=0,t.mode=o3;case o3:if(t.flags&1024){for(;d<16;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,t.check=Fl(t.check,P,2,0)),f=0,d=0}else t.head&&(t.head.extra=null);t.mode=s3;case s3:if(t.flags&1024&&(v=t.length,v>l&&(v=l),v&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+v),z)),t.flags&512&&t.wrap&4&&(t.check=Fl(t.check,r,v,a)),l-=v,a+=v,t.length-=v),t.length))break e;t.length=0,t.mode=l3;case l3:if(t.flags&2048){if(l===0)break e;v=0;do z=r[a+v++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z));while(z&&v<l);if(t.flags&512&&t.wrap&4&&(t.check=Fl(t.check,r,v,a)),l-=v,a+=v,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=u3;case u3:if(t.flags&4096){if(l===0)break e;v=0;do z=r[a+v++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z));while(z&&v<l);if(t.flags&512&&t.wrap&4&&(t.check=Fl(t.check,r,v,a)),l-=v,a+=v,z)break e}else t.head&&(t.head.comment=null);t.mode=c3;case c3:if(t.flags&512){for(;d<16;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=$r;break}f=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Nu;break;case f3:for(;d<32;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}n.adler=t.check=E3(f),f=0,d=0,t.mode=Bp;case Bp:if(t.havedict===0)return n.next_out=s,n.avail_out=c,n.next_in=a,n.avail_in=l,t.hold=f,t.bits=d,cD;n.adler=t.check=1,t.mode=Nu;case Nu:if(e===lD||e===B0)break e;case ov:if(t.last){f>>>=d&7,d-=d&7,t.mode=lv;break}for(;d<3;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}switch(t.last=f&1,f>>>=1,d-=1,f&3){case 0:t.mode=h3;break;case 1:if(yD(t),t.mode=F0,e===B0){f>>>=2,d-=2;break e}break;case 2:t.mode=p3;break;case 3:n.msg="invalid block type",t.mode=$r}f>>>=2,d-=2;break;case h3:for(f>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=$r;break}if(t.length=f&65535,f=0,d=0,t.mode=sv,e===B0)break e;case sv:t.mode=d3;case d3:if(v=t.length,v){if(v>l&&(v=l),v>c&&(v=c),v===0)break e;i.set(r.subarray(a,a+v),s),l-=v,a+=v,c-=v,s+=v,t.length-=v;break}t.mode=Nu;break;case p3:for(;d<14;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}if(t.nlen=(f&31)+257,f>>>=5,d-=5,t.ndist=(f&31)+1,f>>>=5,d-=5,t.ncode=(f&15)+4,f>>>=4,d-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=$r;break}t.have=0,t.mode=g3;case g3:for(;t.have<t.ncode;){for(;d<3;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}t.lens[k[t.have++]]=f&7,f>>>=3,d-=3}for(;t.have<19;)t.lens[k[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,H={bits:t.lenbits},R=f1(sD,t.lens,0,19,t.lencode,0,t.work,H),t.lenbits=H.bits,R){n.msg="invalid code lengths set",t.mode=$r;break}t.have=0,t.mode=v3;case v3:for(;t.have<t.nlen+t.ndist;){for(;I=t.lencode[f&(1<<t.lenbits)-1],N=I>>>24,V=I>>>16&255,q=I&65535,!(N<=d);){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}if(q<16)f>>>=N,d-=N,t.lens[t.have++]=q;else{if(q===16){for(O=N+2;d<O;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}if(f>>>=N,d-=N,t.have===0){n.msg="invalid bit length repeat",t.mode=$r;break}z=t.lens[t.have-1],v=3+(f&3),f>>>=2,d-=2}else if(q===17){for(O=N+3;d<O;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}f>>>=N,d-=N,z=0,v=3+(f&7),f>>>=3,d-=3}else{for(O=N+7;d<O;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}f>>>=N,d-=N,z=0,v=11+(f&127),f>>>=7,d-=7}if(t.have+v>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=$r;break}for(;v--;)t.lens[t.have++]=z}}if(t.mode===$r)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=$r;break}if(t.lenbits=9,H={bits:t.lenbits},R=f1(L6,t.lens,0,t.nlen,t.lencode,0,t.work,H),t.lenbits=H.bits,R){n.msg="invalid literal/lengths set",t.mode=$r;break}if(t.distbits=6,t.distcode=t.distdyn,H={bits:t.distbits},R=f1(P6,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,H),t.distbits=H.bits,R){n.msg="invalid distances set",t.mode=$r;break}if(t.mode=F0,e===B0)break e;case F0:t.mode=j0;case j0:if(l>=6&&c>=258){n.next_out=s,n.avail_out=c,n.next_in=a,n.avail_in=l,t.hold=f,t.bits=d,tD(n,_),s=n.next_out,i=n.output,c=n.avail_out,a=n.next_in,r=n.input,l=n.avail_in,f=t.hold,d=t.bits,t.mode===Nu&&(t.back=-1);break}for(t.back=0;I=t.lencode[f&(1<<t.lenbits)-1],N=I>>>24,V=I>>>16&255,q=I&65535,!(N<=d);){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}if(V&&(V&240)===0){for(U=N,re=V,ue=q;I=t.lencode[ue+((f&(1<<U+re)-1)>>U)],N=I>>>24,V=I>>>16&255,q=I&65535,!(U+N<=d);){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}f>>>=U,d-=U,t.back+=U}if(f>>>=N,d-=N,t.back+=N,t.length=q,V===0){t.mode=x3;break}if(V&32){t.back=-1,t.mode=Nu;break}if(V&64){n.msg="invalid literal/length code",t.mode=$r;break}t.extra=V&15,t.mode=m3;case m3:if(t.extra){for(O=t.extra;d<O;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=y3;case y3:for(;I=t.distcode[f&(1<<t.distbits)-1],N=I>>>24,V=I>>>16&255,q=I&65535,!(N<=d);){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}if((V&240)===0){for(U=N,re=V,ue=q;I=t.distcode[ue+((f&(1<<U+re)-1)>>U)],N=I>>>24,V=I>>>16&255,q=I&65535,!(U+N<=d);){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}f>>>=U,d-=U,t.back+=U}if(f>>>=N,d-=N,t.back+=N,V&64){n.msg="invalid distance code",t.mode=$r;break}t.offset=q,t.extra=V&15,t.mode=_3;case _3:if(t.extra){for(O=t.extra;d<O;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=$r;break}t.mode=w3;case w3:if(c===0)break e;if(v=_-c,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=$r;break}v>t.wnext?(v-=t.wnext,A=t.wsize-v):A=t.wnext-v,v>t.length&&(v=t.length),S=t.window}else S=i,A=s-t.offset,v=t.length;v>c&&(v=c),c-=v,t.length-=v;do i[s++]=S[A++];while(--v);t.length===0&&(t.mode=j0);break;case x3:if(c===0)break e;i[s++]=t.length,c--,t.mode=j0;break;case lv:if(t.wrap){for(;d<32;){if(l===0)break e;l--,f|=r[a++]<<d,d+=8}if(_-=c,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?Fl(t.check,i,_,s-_):vm(t.check,i,_,s-_)),_=c,t.wrap&4&&(t.flags?f:E3(f))!==t.check){n.msg="incorrect data check",t.mode=$r;break}f=0,d=0}t.mode=b3;case b3:if(t.wrap&&t.flags){for(;d<32;){if(l===0)break e;l--,f+=r[a++]<<d,d+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=$r;break}f=0,d=0}t.mode=A3;case A3:R=uD;break e;case $r:R=M6;break e;case B6:return k6;case F6:default:return Fs}return n.next_out=s,n.avail_out=c,n.next_in=a,n.avail_in=l,t.hold=f,t.bits=d,(t.wsize||_!==n.avail_out&&t.mode<$r&&(t.mode<lv||e!==t3))&&H6(n,n.output,n.next_out,_-n.avail_out),g-=n.avail_in,_-=n.avail_out,n.total_in+=g,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?Fl(t.check,i,_,n.next_out-_):vm(t.check,i,_,n.next_out-_)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Nu?128:0)+(t.mode===F0||t.mode===sv?256:0),(g===0&&_===0||e===t3)&&R===Lf&&(R=fD),R},wD=n=>{if(kf(n))return Fs;let e=n.state;return e.window&&(e.window=null),n.state=null,Lf},xD=(n,e)=>{if(kf(n))return Fs;const t=n.state;return(t.wrap&2)===0?Fs:(t.head=e,e.done=!1,Lf)},bD=(n,e)=>{const t=e.length;let r,i,a;return kf(n)||(r=n.state,r.wrap!==0&&r.mode!==Bp)?Fs:r.mode===Bp&&(i=1,i=vm(i,e,t,0),i!==r.check)?M6:(a=H6(n,e,t,t),a?(r.mode=B6,k6):(r.havedict=1,Lf))};var AD=U6,ED=V6,SD=j6,CD=mD,TD=z6,ND=_D,ID=wD,RD=xD,OD=bD,DD="pako inflate (from Nodeca project)",Iu={inflateReset:AD,inflateReset2:ED,inflateResetKeep:SD,inflateInit:CD,inflateInit2:TD,inflate:ND,inflateEnd:ID,inflateGetHeader:RD,inflateSetDictionary:OD,inflateInfo:DD};function LD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var PD=LD;const q6=Object.prototype.toString,{Z_NO_FLUSH:MD,Z_FINISH:kD,Z_OK:b1,Z_STREAM_END:fv,Z_NEED_DICT:hv,Z_STREAM_ERROR:BD,Z_DATA_ERROR:C3,Z_MEM_ERROR:FD}=R6;function P1(n){this.options=O6.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new JO,this.strm.avail_out=0;let t=Iu.inflateInit2(this.strm,e.windowBits);if(t!==b1)throw new Error(mm[t]);if(this.header=new PD,Iu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ym.string2buf(e.dictionary):q6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Iu.inflateSetDictionary(this.strm,e.dictionary),t!==b1)))throw new Error(mm[t])}P1.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?kD:MD,q6.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),a=Iu.inflate(t,s),a===hv&&i&&(a=Iu.inflateSetDictionary(t,i),a===b1?a=Iu.inflate(t,s):a===C3&&(a=hv));t.avail_in>0&&a===fv&&t.state.wrap>0&&n[t.next_in]!==0;)Iu.inflateReset(t),a=Iu.inflate(t,s);switch(a){case BD:case C3:case hv:case FD:return this.onEnd(a),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||a===fv))if(this.options.to==="string"){let c=ym.utf8border(t.output,t.next_out),f=t.next_out-c,d=ym.buf2string(t.output,c);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(c,c+f),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===b1&&l===0)){if(a===fv)return a=Iu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};P1.prototype.onData=function(n){this.chunks.push(n)};P1.prototype.onEnd=function(n){n===b1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=O6.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function jD(n,e){const t=new P1(e);if(t.push(n),t.err)throw t.msg||mm[t.err];return t.result}var UD=P1,VD=jD,zD={Inflate:UD,inflate:VD};const{Inflate:HD,inflate:qD}=zD;var T3=HD,GD=qD;const G6=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;G6[n]=e}const N3=4294967295;function WD(n,e,t){let r=n;for(let i=0;i<t;i++)r=G6[(r^e[i])&255]^r>>>8;return r}function XD(n,e){return(WD(N3,n,e)^N3)>>>0}function I3(n,e,t){const r=n.readUint32(),i=XD(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function W6(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function X6(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function Y6(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function K6(n,e,t,r,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=n[a]+(t[a]>>1)&255;for(;a<r;a++)e[a]=n[a]+(e[a-i]+t[a]>>1)&255}}function $6(n,e,t,r,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=n[a]+t[a]&255;for(;a<r;a++)e[a]=n[a]+YD(e[a-i],t[a],t[a-i])&255}}function YD(n,e,t){const r=n+e-t,i=Math.abs(r-n),a=Math.abs(r-e),s=Math.abs(r-t);return i<=a&&i<=s?n:a<=s?e:t}function KD(n,e,t,r,i,a){switch(n){case 0:W6(e,t,i);break;case 1:X6(e,t,i,a);break;case 2:Y6(e,t,r,i);break;case 3:K6(e,t,r,i,a);break;case 4:$6(e,t,r,i,a);break;default:throw new Error(`Unsupported filter: ${n}`)}}const $D=new Uint16Array([255]),ZD=new Uint8Array($D.buffer),QD=ZD[0]===255;function JD(n){const{data:e,width:t,height:r,channels:i,depth:a}=n,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(r*t*l);let f=0;for(let d=0;d<7;d++){const g=s[d],_=Math.ceil((t-g.x)/g.xStep),v=Math.ceil((r-g.y)/g.yStep);if(_<=0||v<=0)continue;const A=_*l,S=new Uint8Array(A);for(let I=0;I<v;I++){const N=e[f++],V=e.subarray(f,f+A);f+=A;const q=new Uint8Array(A);KD(N,V,q,S,A,l),S.set(q);for(let U=0;U<_;U++){const re=g.x+U*g.xStep,ue=g.y+I*g.yStep;if(!(re>=t||ue>=r))for(let z=0;z<l;z++)c[(ue*t+re)*l+z]=q[U*l+z]}}}if(a===16){const d=new Uint16Array(c.buffer);if(QD)for(let g=0;g<d.length;g++)d[g]=eL(d[g]);return d}else return c}function eL(n){return(n&255)<<8|n>>8&255}const tL=new Uint16Array([255]),nL=new Uint8Array(tL.buffer),rL=nL[0]===255,iL=new Uint8Array(0);function R3(n){const{data:e,width:t,height:r,channels:i,depth:a}=n,s=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*t),c=new Uint8Array(r*l);let f=iL,d=0,g,_;for(let v=0;v<r;v++){switch(g=e.subarray(d+1,d+1+l),_=c.subarray(v*l,(v+1)*l),e[d]){case 0:W6(g,_,l);break;case 1:X6(g,_,l,s);break;case 2:Y6(g,_,f,l);break;case 3:K6(g,_,f,l,s);break;case 4:$6(g,_,f,l,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}f=_,d+=l+1}if(a===16){const v=new Uint16Array(c.buffer);if(rL)for(let A=0;A<v.length;A++)v[A]=aL(v[A]);return v}else return c}function aL(n){return(n&255)<<8|n>>8&255}const ap=Uint8Array.of(137,80,78,71,13,10,26,10);function O3(n){if(!oL(n.readBytes(ap.length)))throw new Error("wrong PNG signature")}function oL(n){if(n.length<ap.length)return!1;for(let e=0;e<ap.length;e++)if(n[e]!==ap[e])return!1;return!0}const sL="tEXt",lL=0,Z6=new TextDecoder("latin1");function uL(n){if(fL(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const cL=/^[\u0000-\u00FF]*$/;function fL(n){if(!cL.test(n))throw new Error("invalid latin1 text")}function hL(n,e,t){const r=Q6(e);n[r]=dL(e,t-r.length-1)}function Q6(n){for(n.mark();n.readByte()!==lL;);const e=n.offset;n.reset();const t=Z6.decode(n.readBytes(e-n.offset-1));return n.skip(1),uL(t),t}function dL(n,e){return Z6.decode(n.readBytes(e))}const fs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},dv={UNKNOWN:-1,DEFLATE:0},D3={UNKNOWN:-1,ADAPTIVE:0},pv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},U0={NONE:0,BACKGROUND:1,PREVIOUS:2},gv={SOURCE:0,OVER:1};class pL extends Py{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new T3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=dv.UNKNOWN,this._filterMethod=D3.UNKNOWN,this._interlaceMethod=pv.UNKNOWN,this._colorType=fs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(O3(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(O3(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case sL:hL(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?I3(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?I3(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=gL(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case fs.GREYSCALE:r=1;break;case fs.TRUECOLOUR:r=3;break;case fs.INDEXED_COLOUR:r=1;break;case fs.GREYSCALE_ALPHA:r=2;break;case fs.TRUECOLOUR_ALPHA:r=4;break;case fs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==dv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case fs.GREYSCALE:case fs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case fs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case fs.UNKNOWN:case fs.GREYSCALE_ALPHA:case fs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=Q6(this),r=this.readUint8();if(r!==dv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:GD(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=R3({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case U0.NONE:break;case U0.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const s=(i*e.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[s+l]=0}break;case U0.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(a,s)=>{const l=((a+t.yOffset)*this._png.width+t.xOffset+s)*this._png.channels,c=(a*t.width+s)*this._png.channels;return{index:l,frameIndex:c}};switch(t.blendOp){case gv.SOURCE:for(let a=0;a<t.height;a++)for(let s=0;s<t.width;s++){const{index:l,frameIndex:c}=i(a,s);for(let f=0;f<this._png.channels;f++)e.data[l+f]=t.data[c+f]}break;case gv.OVER:for(let a=0;a<t.height;a++)for(let s=0;s<t.width;s++){const{index:l,frameIndex:c}=i(a,s);for(let f=0;f<this._png.channels;f++){const d=t.data[c+this._png.channels-1]/r,g=f%(this._png.channels-1)===0?1:t.data[c+f],_=Math.floor(d*g+(1-d)*e.data[l+f]);e.data[l+f]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==D3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===pv.NO_INTERLACE)this._png.data=R3({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===pv.ADAM7)this._png.data=JD({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:U0.NONE,blendOp:gv.SOURCE,data:e}),this._inflator=new T3,this._writingDataChunks=!1}}function gL(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var L3;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(L3||(L3={}));function vL(n,e){return new pL(n,e).decode()}var rn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function vv(){rn.console&&typeof rn.console.log=="function"&&rn.console.log.apply(rn.console,arguments)}var Nr={log:vv,warn:function(n){rn.console&&(typeof rn.console.warn=="function"?rn.console.warn.apply(rn.console,arguments):vv.call(null,arguments))},error:function(n){rn.console&&(typeof rn.console.error=="function"?rn.console.error.apply(rn.console,arguments):vv(n))}};function mv(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){yf(r.response,e,t)},r.onerror=function(){Nr.error("could not download file")},r.send()}function P3(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function V0(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var yf=rn.saveAs||((typeof window>"u"?"undefined":pr(window))!=="object"||window!==rn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=rn.URL||rn.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?P3(i.href)?mv(n,e,t):V0(i,i.target="_blank"):V0(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){V0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(P3(n))mv(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){V0(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:pr(a)!=="object"&&(Nr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return mv(n,e,t);var i=n.type==="application/octet-stream",a=/constructor/i.test(rn.HTMLElement)||rn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":pr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(n)}else{var c=rn.URL||rn.webkitURL,f=c.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});function J6(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,s=i.exec(n);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+l+c+f}}var op=rn.atob.bind(rn),M3=rn.btoa.bind(rn);function yv(n,e){var t=n[0],r=n[1],i=n[2],a=n[3];t=eo(t,r,i,a,e[0],7,-680876936),a=eo(a,t,r,i,e[1],12,-389564586),i=eo(i,a,t,r,e[2],17,606105819),r=eo(r,i,a,t,e[3],22,-1044525330),t=eo(t,r,i,a,e[4],7,-176418897),a=eo(a,t,r,i,e[5],12,1200080426),i=eo(i,a,t,r,e[6],17,-1473231341),r=eo(r,i,a,t,e[7],22,-45705983),t=eo(t,r,i,a,e[8],7,1770035416),a=eo(a,t,r,i,e[9],12,-1958414417),i=eo(i,a,t,r,e[10],17,-42063),r=eo(r,i,a,t,e[11],22,-1990404162),t=eo(t,r,i,a,e[12],7,1804603682),a=eo(a,t,r,i,e[13],12,-40341101),i=eo(i,a,t,r,e[14],17,-1502002290),t=to(t,r=eo(r,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=to(a,t,r,i,e[6],9,-1069501632),i=to(i,a,t,r,e[11],14,643717713),r=to(r,i,a,t,e[0],20,-373897302),t=to(t,r,i,a,e[5],5,-701558691),a=to(a,t,r,i,e[10],9,38016083),i=to(i,a,t,r,e[15],14,-660478335),r=to(r,i,a,t,e[4],20,-405537848),t=to(t,r,i,a,e[9],5,568446438),a=to(a,t,r,i,e[14],9,-1019803690),i=to(i,a,t,r,e[3],14,-187363961),r=to(r,i,a,t,e[8],20,1163531501),t=to(t,r,i,a,e[13],5,-1444681467),a=to(a,t,r,i,e[2],9,-51403784),i=to(i,a,t,r,e[7],14,1735328473),t=no(t,r=to(r,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=no(a,t,r,i,e[8],11,-2022574463),i=no(i,a,t,r,e[11],16,1839030562),r=no(r,i,a,t,e[14],23,-35309556),t=no(t,r,i,a,e[1],4,-1530992060),a=no(a,t,r,i,e[4],11,1272893353),i=no(i,a,t,r,e[7],16,-155497632),r=no(r,i,a,t,e[10],23,-1094730640),t=no(t,r,i,a,e[13],4,681279174),a=no(a,t,r,i,e[0],11,-358537222),i=no(i,a,t,r,e[3],16,-722521979),r=no(r,i,a,t,e[6],23,76029189),t=no(t,r,i,a,e[9],4,-640364487),a=no(a,t,r,i,e[12],11,-421815835),i=no(i,a,t,r,e[15],16,530742520),t=ro(t,r=no(r,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ro(a,t,r,i,e[7],10,1126891415),i=ro(i,a,t,r,e[14],15,-1416354905),r=ro(r,i,a,t,e[5],21,-57434055),t=ro(t,r,i,a,e[12],6,1700485571),a=ro(a,t,r,i,e[3],10,-1894986606),i=ro(i,a,t,r,e[10],15,-1051523),r=ro(r,i,a,t,e[1],21,-2054922799),t=ro(t,r,i,a,e[8],6,1873313359),a=ro(a,t,r,i,e[15],10,-30611744),i=ro(i,a,t,r,e[6],15,-1560198380),r=ro(r,i,a,t,e[13],21,1309151649),t=ro(t,r,i,a,e[4],6,-145523070),a=ro(a,t,r,i,e[11],10,-1120210379),i=ro(i,a,t,r,e[2],15,718787259),r=ro(r,i,a,t,e[9],21,-343485551),n[0]=Cc(t,n[0]),n[1]=Cc(r,n[1]),n[2]=Cc(i,n[2]),n[3]=Cc(a,n[3])}function x2(n,e,t,r,i,a){return e=Cc(Cc(e,n),Cc(r,a)),Cc(e<<i|e>>>32-i,t)}function eo(n,e,t,r,i,a,s){return x2(e&t|~e&r,n,e,i,a,s)}function to(n,e,t,r,i,a,s){return x2(e&r|t&~r,n,e,i,a,s)}function no(n,e,t,r,i,a,s){return x2(e^t^r,n,e,i,a,s)}function ro(n,e,t,r,i,a,s){return x2(t^(e|~r),n,e,i,a,s)}function eE(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)yv(r,mL(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(yv(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,yv(r,i),r}function mL(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var k3="0123456789abcdef".split("");function yL(n){for(var e="",t=0;t<4;t++)e+=k3[n>>8*t+4&15]+k3[n>>8*t&15];return e}function _L(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function _m(n){return eE(n).map(_L).join("")}var wL=(function(n){for(var e=0;e<n.length;e++)n[e]=yL(n[e]);return n.join("")})(eE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Cc(n,e){if(wL){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function wm(n,e){var t,r,i,a;if(n!==t){for(var s=(i=n,a=1+(256/n.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var f=0;for(c=0;c<256;c++){var d=l[c];f=(f+d+s.charCodeAt(c))%256,l[c]=l[f],l[f]=d}t=n,r=l}else l=r;var g=e.length,_=0,v=0,A="";for(c=0;c<g;c++)v=(v+(d=l[_=(_+1)%256]))%256,l[_]=l[v],l[v]=d,s=l[(l[_]+l[v])%256],A+=String.fromCharCode(e.charCodeAt(c)^s);return A}var B3={print:4,modify:8,copy:16,"annot-forms":32};function Ch(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(l){if(B3.perm!==void 0)throw new Error("Invalid permission: "+l);i+=B3[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=_m(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=wm(this.encryptionKey,this.padding)}function Th(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function F3(n){if(pr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var s=e[t][a];try{s[0].apply(n,r)}catch(l){rn.console&&Nr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fp(n){if(!(this instanceof Fp))return new Fp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function tE(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function wf(n,e,t,r,i){if(!(this instanceof wf))return new wf(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,tE.call(this,r,i)}function Ih(n,e,t,r,i){if(!(this instanceof Ih))return new Ih(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,tE.call(this,r,i)}function Lt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,f="S",d=null;pr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),f=n.defaultPathOperation||"S"),s=n.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=n.putOnlyUsedFonts||!1,_={},v={internal:{},__private__:{}};v.__private__.PubSub=F3;var A="1.3",S=v.__private__.getPdfVersion=function(){return A};v.__private__.setPdfVersion=function(E){A=E};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return I};var N=v.__private__.getPageFormat=function(E){return I[E]};i=i||"a4";var V="compat",q="advanced",U=V;function re(){this.saveGraphicsState(),Q(new Ot(Yt,0,0,-Yt,0,po()*Yt).toString()+" cm"),this.setFontSize(this.getFontSize()/Yt),f="n",U=q}function ue(){this.restoreGraphicsState(),f="S",U=V}var z=v.__private__.combineFontStyleAndFontWeight=function(E,G){if(E=="bold"&&G=="normal"||E=="bold"&&G==400||E=="normal"&&G=="italic"||E=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(E=G==400||G==="normal"?E==="italic"?"italic":"normal":G!=700&&G!=="bold"||E!=="normal"?(G==700?"bold":G)+""+E:"bold"),E};v.advancedAPI=function(E){var G=U===V;return G&&re.call(this),typeof E!="function"||(E(this),G&&ue.call(this)),this},v.compatAPI=function(E){var G=U===q;return G&&ue.call(this),typeof E!="function"||(E(this),G&&re.call(this)),this},v.isAdvancedAPI=function(){return U===q};var R,P=function(E){if(U!==q)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=v.roundToPrecision=v.__private__.roundToPrecision=function(E,G){var se=e||G;if(isNaN(E)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(se).replace(/0+$/,"")};R=v.hpf=v.__private__.hpf=typeof c=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return H(E,c)}:c==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return H(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return H(E,16)};var O=v.f2=v.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return H(E,2)},k=v.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return H(E,3)},j=v.scale=v.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return U===V?E*Yt:U===q?E:void 0},ce=function(E){return j((function(G){return U===V?po()-G:U===q?G:void 0})(E))};v.__private__.setPrecision=v.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var xe,te="00000000000000000000000000000000",he=v.__private__.getFileId=function(){return te},pe=v.__private__.setFileId=function(E){return te=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Er=new Ch(d.userPermissions,d.userPassword,d.ownerPassword,te)),te};v.setFileId=function(E){return pe(E),this},v.getFileId=function(){return he()};var Ce=v.__private__.convertDateToPDFDate=function(E){var G=E.getTimezoneOffset(),se=G<0?"+":"-",ve=Math.floor(Math.abs(G/60)),be=Math.abs(G%60),He=[se,ie(ve),"'",ie(be),"'"].join("");return["D:",E.getFullYear(),ie(E.getMonth()+1),ie(E.getDate()),ie(E.getHours()),ie(E.getMinutes()),ie(E.getSeconds()),He].join("")},We=v.__private__.convertPDFDateToDate=function(E){var G=parseInt(E.substr(2,4),10),se=parseInt(E.substr(6,2),10)-1,ve=parseInt(E.substr(8,2),10),be=parseInt(E.substr(10,2),10),He=parseInt(E.substr(12,2),10),Qe=parseInt(E.substr(14,2),10);return new Date(G,se,ve,be,He,Qe,0)},Z=v.__private__.setCreationDate=function(E){var G;if(E===void 0&&(E=new Date),E instanceof Date)G=Ce(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=E}return xe=G},F=v.__private__.getCreationDate=function(E){var G=xe;return E==="jsDate"&&(G=We(xe)),G};v.setCreationDate=function(E){return Z(E),this},v.getCreationDate=function(E){return F(E)};var $,ie=v.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},fe=v.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},de=0,ye=[],Le=[],Ne=0,ze=[],nt=[],ut=!1,ke=Le;v.__private__.setCustomOutputDestination=function(E){ut=!0,ke=E};var Ke=function(E){ut||(ke=E)};v.__private__.resetCustomOutputDestination=function(){ut=!1,ke=Le};var Q=v.__private__.out=function(E){return E=E.toString(),Ne+=E.length+1,ke.push(E),ke},et=v.__private__.write=function(E){return Q(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},wt=v.__private__.getArrayBuffer=function(E){for(var G=E.length,se=new ArrayBuffer(G),ve=new Uint8Array(se);G--;)ve[G]=E.charCodeAt(G);return se},ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return ct};var Fe=n.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(E){return Fe=U===q?E/Yt:E,this};var rt,$e=v.__private__.getFontSize=v.getFontSize=function(){return U===V?Fe:Fe*Yt},ot=n.R2L||!1;v.__private__.setR2L=v.setR2L=function(E){return ot=E,this},v.__private__.getR2L=v.getR2L=function(){return ot};var ft,Vt=v.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))rt=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');rt=E}else rt=parseInt(E,10)};v.__private__.getZoomMode=function(){return rt};var Qt,Bt=v.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');ft=E};v.__private__.getPageMode=function(){return ft};var sn=v.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Qt=E};v.__private__.getLayoutMode=function(){return Qt},v.__private__.setDisplayMode=v.setDisplayMode=function(E,G,se){return Vt(E),sn(G),Bt(se),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(E){if(Object.keys(Nt).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[E]},v.__private__.getDocumentProperties=function(){return Nt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(E){for(var G in Nt)Nt.hasOwnProperty(G)&&E[G]&&(Nt[G]=E[G]);return this},v.__private__.setDocumentProperty=function(E,G){if(Object.keys(Nt).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[E]=G};var ht,Yt,gt,tr,tn,Pt={},Kt={},on=[],Rt={},jn={},zt={},Ht={},Hn=null,It=0,Ct=[],pn=new F3(v),Bi=n.hotfixes||[],Ci={},Ao={},vi=[],Ot=function E(G,se,ve,be,He,Qe){if(!(this instanceof E))return new E(G,se,ve,be,He,Qe);isNaN(G)&&(G=1),isNaN(se)&&(se=0),isNaN(ve)&&(ve=0),isNaN(be)&&(be=1),isNaN(He)&&(He=0),isNaN(Qe)&&(Qe=0),this._matrix=[G,se,ve,be,He,Qe]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(E)},Ot.prototype.multiply=function(E){var G=E.sx*this.sx+E.shy*this.shx,se=E.sx*this.shy+E.shy*this.sy,ve=E.shx*this.sx+E.sy*this.shx,be=E.shx*this.shy+E.sy*this.sy,He=E.tx*this.sx+E.ty*this.shx+this.tx,Qe=E.tx*this.shy+E.ty*this.sy+this.ty;return new Ot(G,se,ve,be,He,Qe)},Ot.prototype.decompose=function(){var E=this.sx,G=this.shy,se=this.shx,ve=this.sy,be=this.tx,He=this.ty,Qe=Math.sqrt(E*E+G*G),vt=(E/=Qe)*se+(G/=Qe)*ve;se-=E*vt,ve-=G*vt;var xt=Math.sqrt(se*se+ve*ve);return vt/=xt,E*(ve/=xt)<G*(se/=xt)&&(E=-E,G=-G,vt=-vt,Qe=-Qe),{scale:new Ot(Qe,0,0,xt,0,0),translate:new Ot(1,0,0,1,be,He),rotate:new Ot(E,G,-G,E,0,0),skew:new Ot(1,0,vt,1,0,0)}},Ot.prototype.toString=function(E){return this.join(" ")},Ot.prototype.inversed=function(){var E=this.sx,G=this.shy,se=this.shx,ve=this.sy,be=this.tx,He=this.ty,Qe=1/(E*ve-G*se),vt=ve*Qe,xt=-G*Qe,Ft=-se*Qe,Dt=E*Qe;return new Ot(vt,xt,Ft,Dt,-vt*be-Ft*He,-xt*be-Dt*He)},Ot.prototype.applyToPoint=function(E){var G=E.x*this.sx+E.y*this.shx+this.tx,se=E.x*this.shy+E.y*this.sy+this.ty;return new Ii(G,se)},Ot.prototype.applyToRectangle=function(E){var G=this.applyToPoint(E),se=this.applyToPoint(new Ii(E.x+E.w,E.y+E.h));return new So(G.x,G.y,se.x-G.x,se.y-G.y)},Ot.prototype.clone=function(){var E=this.sx,G=this.shy,se=this.shx,ve=this.sy,be=this.tx,He=this.ty;return new Ot(E,G,se,ve,be,He)},v.Matrix=Ot;var Zo=v.matrixMult=function(E,G){return G.multiply(E)},Ea=new Ot(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Ea;var aa=function(E,G){if(!jn[E]){var se=(G instanceof wf?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);G.id=se,jn[E]=se,Rt[se]=G,pn.publish("addPattern",G)}};v.ShadingPattern=wf,v.TilingPattern=Ih,v.addShadingPattern=function(E,G){return P("addShadingPattern()"),aa(E,G),this},v.beginTilingPattern=function(E){P("beginTilingPattern()"),Co(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},v.endTilingPattern=function(E,G){P("endTilingPattern()"),G.stream=nt[$].join(`
`),aa(E,G),pn.publish("endTilingPattern",G),vi.pop().restore()};var oa,nr=v.__private__.newObject=function(){var E=gr();return oi(E,!0),E},gr=v.__private__.newObjectDeferred=function(){return de++,ye[de]=function(){return Ne},de},oi=function(E,G){return G=typeof G=="boolean"&&G,ye[E]=Ne,G&&Q(E+" 0 obj"),E},Fi=v.__private__.newAdditionalObject=function(){var E={objId:gr(),content:""};return ze.push(E),E},Ti=gr(),qn=gr(),sr=v.__private__.decodeColorString=function(E){var G=E.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var se=parseFloat(G[0]);G=[se,se,se,"r"]}for(var ve="#",be=0;be<3;be++)ve+=("0"+Math.floor(255*parseFloat(G[be])).toString(16)).slice(-2);return ve},si=v.__private__.encodeColorString=function(E){var G;typeof E=="string"&&(E={ch1:E});var se=E.ch1,ve=E.ch2,be=E.ch3,He=E.ch4,Qe=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var vt=new J6(se);if(vt.ok)se=vt.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var xt=parseInt(se.substr(1),16);se=xt>>16&255,ve=xt>>8&255,be=255&xt}if(ve===void 0||He===void 0&&se===ve&&ve===be)G=typeof se=="string"?se+" "+Qe[0]:E.precision===2?O(se/255)+" "+Qe[0]:k(se/255)+" "+Qe[0];else if(He===void 0||pr(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return["1.","1.","1.",Qe[1]].join(" ");G=typeof se=="string"?[se,ve,be,Qe[1]].join(" "):E.precision===2?[O(se/255),O(ve/255),O(be/255),Qe[1]].join(" "):[k(se/255),k(ve/255),k(be/255),Qe[1]].join(" ")}else G=typeof se=="string"?[se,ve,be,He,Qe[2]].join(" "):E.precision===2?[O(se),O(ve),O(be),O(He),Qe[2]].join(" "):[k(se),k(ve),k(be),k(He),Qe[2]].join(" ");return G},sa=v.__private__.getFilters=function(){return s},Ga=v.__private__.putStream=function(E){var G=(E=E||{}).data||"",se=E.filters||sa(),ve=E.alreadyAppliedFilters||[],be=E.addLength1||!1,He=G.length,Qe=E.objectId,vt=function(T){return T};if(d!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(vt=Er.encryptor(Qe,0));var xt={};se===!0&&(se=["FlateEncode"]);var Ft=E.additionalKeyValues||[],Dt=(xt=Lt.API.processDataByFilters!==void 0?Lt.API.processDataByFilters(G,se):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(xt.data.length!==0&&(Ft.push({key:"Length",value:xt.data.length}),be===!0&&Ft.push({key:"Length1",value:He})),Dt.length!=0)if(Dt.split("/").length-1==1)Ft.push({key:"Filter",value:Dt});else{Ft.push({key:"Filter",value:"["+Dt+"]"});for(var wn=0;wn<Ft.length;wn+=1)if(Ft[wn].key==="DecodeParms"){for(var vr=[],rr=0;rr<xt.reverseChain.split("/").length-1;rr+=1)vr.push("null");vr.push(Ft[wn].value),Ft[wn].value="["+vr.join(" ")+"]"}}Q("<<");for(var y=0;y<Ft.length;y++)Q("/"+Ft[y].key+" "+Ft[y].value);Q(">>"),xt.data.length!==0&&(Q("stream"),Q(vt(xt.data)),Q("endstream"))},ps=v.__private__.putPage=function(E){var G=E.number,se=E.data,ve=E.objId,be=E.contentsObjId;oi(ve,!0),Q("<</Type /Page"),Q("/Parent "+E.rootDictionaryObjId+" 0 R"),Q("/Resources "+E.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(R(E.mediaBox.bottomLeftX))+" "+parseFloat(R(E.mediaBox.bottomLeftY))+" "+R(E.mediaBox.topRightX)+" "+R(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&Q("/CropBox ["+R(E.cropBox.bottomLeftX)+" "+R(E.cropBox.bottomLeftY)+" "+R(E.cropBox.topRightX)+" "+R(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&Q("/BleedBox ["+R(E.bleedBox.bottomLeftX)+" "+R(E.bleedBox.bottomLeftY)+" "+R(E.bleedBox.topRightX)+" "+R(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&Q("/TrimBox ["+R(E.trimBox.bottomLeftX)+" "+R(E.trimBox.bottomLeftY)+" "+R(E.trimBox.topRightX)+" "+R(E.trimBox.topRightY)+"]"),E.artBox!==null&&Q("/ArtBox ["+R(E.artBox.bottomLeftX)+" "+R(E.artBox.bottomLeftY)+" "+R(E.artBox.topRightX)+" "+R(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&Q("/UserUnit "+E.userUnit),pn.publish("putPage",{objId:ve,pageContext:Ct[G],pageNumber:G,page:se}),Q("/Contents "+be+" 0 R"),Q(">>"),Q("endobj");var He=se.join(`
`);return U===q&&(He+=`
Q`),oi(be,!0),Ga({data:He,filters:sa(),objectId:be}),Q("endobj"),ve},uo=v.__private__.putPages=function(){var E,G,se=[];for(E=1;E<=It;E++)Ct[E].objId=gr(),Ct[E].contentsObjId=gr();for(E=1;E<=It;E++)se.push(ps({number:E,data:nt[E],objId:Ct[E].objId,contentsObjId:Ct[E].contentsObjId,mediaBox:Ct[E].mediaBox,cropBox:Ct[E].cropBox,bleedBox:Ct[E].bleedBox,trimBox:Ct[E].trimBox,artBox:Ct[E].artBox,userUnit:Ct[E].userUnit,rootDictionaryObjId:Ti,resourceDictionaryObjId:qn}));oi(Ti,!0),Q("<</Type /Pages");var ve="/Kids [";for(G=0;G<It;G++)ve+=se[G]+" 0 R ";Q(ve+"]"),Q("/Count "+It),Q(">>"),Q("endobj"),pn.publish("postPutPages")},la=function(E){pn.publish("putFont",{font:E,out:Q,newObject:nr,putStream:Ga}),E.isAlreadyPutted!==!0&&(E.objectNumber=nr(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Th(E.postScriptName)),Q("/Subtype /Type1"),typeof E.encoding=="string"&&Q("/Encoding /"+E.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Qo=function(E){E.objectNumber=nr();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[R(E.x),R(E.y),R(E.x+E.width),R(E.y+E.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var se=E.pages[1].join(`
`);Ga({data:se,additionalKeyValues:G,objectId:E.objectNumber}),Q("endobj")},Sa=function(E,G){G||(G=21);var se=nr(),ve=(function(Qe,vt){var xt,Ft=[],Dt=1/(vt-1);for(xt=0;xt<1;xt+=Dt)Ft.push(xt);if(Ft.push(1),Qe[0].offset!=0){var wn={offset:0,color:Qe[0].color};Qe.unshift(wn)}if(Qe[Qe.length-1].offset!=1){var vr={offset:1,color:Qe[Qe.length-1].color};Qe.push(vr)}for(var rr="",y=0,T=0;T<Ft.length;T++){for(xt=Ft[T];xt>Qe[y+1].offset;)y++;var B=Qe[y].offset,ee=(xt-B)/(Qe[y+1].offset-B),Ee=Qe[y].color,Pe=Qe[y+1].color;rr+=fe(Math.round((1-ee)*Ee[0]+ee*Pe[0]).toString(16))+fe(Math.round((1-ee)*Ee[1]+ee*Pe[1]).toString(16))+fe(Math.round((1-ee)*Ee[2]+ee*Pe[2]).toString(16))}return rr.trim()})(E.colors,G),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+G+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ga({data:ve,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),Q("endobj"),E.objectNumber=nr(),Q("<< /ShadingType "+E.type),Q("/ColorSpace /DeviceRGB");var He="/Coords ["+R(parseFloat(E.coords[0]))+" "+R(parseFloat(E.coords[1]))+" ";E.type===2?He+=R(parseFloat(E.coords[2]))+" "+R(parseFloat(E.coords[3])):He+=R(parseFloat(E.coords[2]))+" "+R(parseFloat(E.coords[3]))+" "+R(parseFloat(E.coords[4]))+" "+R(parseFloat(E.coords[5])),Q(He+="]"),E.matrix&&Q("/Matrix ["+E.matrix.toString()+"]"),Q("/Function "+se+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},ji=function(E,G){var se=gr(),ve=nr();G.push({resourcesOid:se,objectOid:ve}),E.objectNumber=ve;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+E.boundingBox.map(R).join(" ")+"]"}),be.push({key:"XStep",value:R(E.xStep)}),be.push({key:"YStep",value:R(E.yStep)}),be.push({key:"Resources",value:se+" 0 R"}),E.matrix&&be.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),Ga({data:E.stream,additionalKeyValues:be,objectId:E.objectNumber}),Q("endobj")},Ca=function(E){for(var G in E.objectNumber=nr(),Q("<<"),E)switch(G){case"opacity":Q("/ca "+O(E[G]));break;case"stroke-opacity":Q("/CA "+O(E[G]))}Q(">>"),Q("endobj")},Wa=function(E){oi(E.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var G in Q("/Font <<"),Pt)Pt.hasOwnProperty(G)&&(g===!1||g===!0&&_.hasOwnProperty(G))&&Q("/"+G+" "+Pt[G].objectNumber+" 0 R");Q(">>")})(),(function(){if(Object.keys(Rt).length>0){for(var G in Q("/Shading <<"),Rt)Rt.hasOwnProperty(G)&&Rt[G]instanceof wf&&Rt[G].objectNumber>=0&&Q("/"+G+" "+Rt[G].objectNumber+" 0 R");pn.publish("putShadingPatternDict"),Q(">>")}})(),(function(G){if(Object.keys(Rt).length>0){for(var se in Q("/Pattern <<"),Rt)Rt.hasOwnProperty(se)&&Rt[se]instanceof v.TilingPattern&&Rt[se].objectNumber>=0&&Rt[se].objectNumber<G&&Q("/"+se+" "+Rt[se].objectNumber+" 0 R");pn.publish("putTilingPatternDict"),Q(">>")}})(E.objectOid),(function(){if(Object.keys(zt).length>0){var G;for(G in Q("/ExtGState <<"),zt)zt.hasOwnProperty(G)&&zt[G].objectNumber>=0&&Q("/"+G+" "+zt[G].objectNumber+" 0 R");pn.publish("putGStateDict"),Q(">>")}})(),(function(){for(var G in Q("/XObject <<"),Ci)Ci.hasOwnProperty(G)&&Ci[G].objectNumber>=0&&Q("/"+G+" "+Ci[G].objectNumber+" 0 R");pn.publish("putXobjectDict"),Q(">>")})(),Q(">>"),Q("endobj")},Lr=function(E){Kt[E.fontName]=Kt[E.fontName]||{},Kt[E.fontName][E.fontStyle]=E.id},vl=function(E,G,se,ve,be){var He={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:E,fontName:G,fontStyle:se,encoding:ve,isStandardFont:be||!1,metadata:{}};return pn.publish("addFont",{font:He,instance:this}),Pt[He.id]=He,Lr(He),He.id},ua=v.__private__.pdfEscape=v.pdfEscape=function(E,G){return(function(se,ve){var be,He,Qe,vt,xt,Ft,Dt,wn,vr;if(Qe=(ve=ve||{}).sourceEncoding||"Unicode",xt=ve.outputEncoding,(ve.autoencode||xt)&&Pt[ht].metadata&&Pt[ht].metadata[Qe]&&Pt[ht].metadata[Qe].encoding&&(vt=Pt[ht].metadata[Qe].encoding,!xt&&Pt[ht].encoding&&(xt=Pt[ht].encoding),!xt&&vt.codePages&&(xt=vt.codePages[0]),typeof xt=="string"&&(xt=vt[xt]),xt)){for(Dt=!1,Ft=[],be=0,He=se.length;be<He;be++)(wn=xt[se.charCodeAt(be)])?Ft.push(String.fromCharCode(wn)):Ft.push(se[be]),Ft[be].charCodeAt(0)>>8&&(Dt=!0);se=Ft.join("")}for(be=se.length;Dt===void 0&&be!==0;)se.charCodeAt(be-1)>>8&&(Dt=!0),be--;if(!Dt)return se;for(Ft=ve.noBOM?[]:[254,255],be=0,He=se.length;be<He;be++){if((vr=(wn=se.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ft.push(vr),Ft.push(wn-(vr<<8))}return String.fromCharCode.apply(void 0,Ft)})(E,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xa=v.__private__.beginPage=function(E){nt[++It]=[],Ct[It]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},ml(It),Ke(nt[$])},co=function(E,G){var se,ve,be;switch(t=G||t,typeof E=="string"&&(se=N(E.toLowerCase()),Array.isArray(se)&&(ve=se[0],be=se[1])),Array.isArray(E)&&(ve=E[0]*Yt,be=E[1]*Yt),isNaN(ve)&&(ve=i[0],be=i[1]),(ve>14400||be>14400)&&(Nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),be=Math.min(14400,be)),i=[ve,be],t.substr(0,1)){case"l":be>ve&&(i=[be,ve]);break;case"p":ve>be&&(i=[be,ve])}Xa(i),Mt(fa),Q(Na),Ra!==0&&Q(Ra+" J"),Qr!==0&&Q(Qr+" j"),pn.publish("addPage",{pageNumber:It})},js=function(E){E>0&&E<=It&&(nt.splice(E,1),Ct.splice(E,1),It--,$>It&&($=It),this.setPage($))},ml=function(E){E>0&&E<=It&&($=E)},yl=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return nt.length-1},eu=function(E,G,se){var ve,be=void 0;return se=se||{},E=E!==void 0?E:Pt[ht].fontName,G=G!==void 0?G:Pt[ht].fontStyle,ve=E.toLowerCase(),Kt[ve]!==void 0&&Kt[ve][G]!==void 0?be=Kt[ve][G]:Kt[E]!==void 0&&Kt[E][G]!==void 0?be=Kt[E][G]:se.disableWarning===!1&&Nr.warn("Unable to look up font label for font '"+E+"', '"+G+"'. Refer to getFontList() for available fonts."),be||se.noFallback||(be=Kt.times[G])==null&&(be=Kt.times.normal),be},Ta=v.__private__.putInfo=function(){var E=nr(),G=function(ve){return ve};for(var se in d!==null&&(G=Er.encryptor(E,0)),Q("<<"),Q("/Producer ("+ua(G("jsPDF "+Lt.version))+")"),Nt)Nt.hasOwnProperty(se)&&Nt[se]&&Q("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+ua(G(Nt[se]))+")");Q("/CreationDate ("+ua(G(xe))+")"),Q(">>"),Q("endobj")},Ni=v.__private__.putCatalog=function(E){var G=(E=E||{}).rootDictionaryObjId||Ti;switch(nr(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+G+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+rt;se.substr(se.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+O(rt)+"]")}switch(Qt||(Qt="continuous"),Qt){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}ft&&Q("/PageMode /"+ft),pn.publish("putCatalog"),Q(">>"),Q("endobj")},qr=v.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(de+1)),Q("/Root "+de+" 0 R"),Q("/Info "+(de-1)+" 0 R"),d!==null&&Q("/Encrypt "+Er.oid+" 0 R"),Q("/ID [ <"+te+"> <"+te+"> ]"),Q(">>")},yn=v.__private__.putHeader=function(){Q("%PDF-"+A),Q("%")},Jo=v.__private__.putXRef=function(){var E="0000000000";Q("xref"),Q("0 "+(de+1)),Q("0000000000 65535 f ");for(var G=1;G<=de;G++)typeof ye[G]=="function"?Q((E+ye[G]()).slice(-10)+" 00000 n "):ye[G]!==void 0?Q((E+ye[G]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},Ya=v.__private__.buildDocument=function(){var E;de=0,Ne=0,Le=[],ye=[],ze=[],Ti=gr(),qn=gr(),Ke(Le),pn.publish("buildDocument"),yn(),uo(),(function(){pn.publish("putAdditionalObjects");for(var se=0;se<ze.length;se++){var ve=ze[se];oi(ve.objId,!0),Q(ve.content),Q("endobj")}pn.publish("postPutAdditionalObjects")})(),E=[],(function(){for(var se in Pt)Pt.hasOwnProperty(se)&&(g===!1||g===!0&&_.hasOwnProperty(se))&&la(Pt[se])})(),(function(){var se;for(se in zt)zt.hasOwnProperty(se)&&Ca(zt[se])})(),(function(){for(var se in Ci)Ci.hasOwnProperty(se)&&Qo(Ci[se])})(),(function(se){var ve;for(ve in Rt)Rt.hasOwnProperty(ve)&&(Rt[ve]instanceof wf?Sa(Rt[ve]):Rt[ve]instanceof Ih&&ji(Rt[ve],se))})(E),pn.publish("putResources"),E.forEach(Wa),Wa({resourcesOid:qn,objectOid:Number.MAX_SAFE_INTEGER}),pn.publish("postPutResources"),d!==null&&(Er.oid=nr(),Q("<<"),Q("/Filter /Standard"),Q("/V "+Er.v),Q("/R "+Er.r),Q("/U <"+Er.toHexString(Er.U)+">"),Q("/O <"+Er.toHexString(Er.O)+">"),Q("/P "+Er.P),Q(">>"),Q("endobj")),Ta(),Ni();var G=Ne;return Jo(),qr(),Q("startxref"),Q(""+G),Q("%%EOF"),Ke(nt[$]),Le.join(`
`)},Cn=v.__private__.getBlob=function(E){return new Blob([wt(E)],{type:"application/pdf"})},gs=v.output=v.__private__.output=(oa=function(E,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",E){case void 0:return Ya();case"save":v.save(G.filename);break;case"arraybuffer":return wt(Ya());case"blob":return Cn(Ya());case"bloburi":case"bloburl":if(rn.URL!==void 0&&typeof rn.URL.createObjectURL=="function")return rn.URL&&rn.URL.createObjectURL(Cn(Ya()))||void 0;Nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",ve=Ya();try{se=M3(ve)}catch{se=M3(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+G.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(be=G.pdfObjectUrl,He="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",vt=rn.open();return vt!==null&&vt.document.write(Qe),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',Ft=rn.open();if(Ft!==null){Ft.document.write(xt);var Dt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=G.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',vr=rn.open();if(vr!==null&&(vr.document.write(wn),vr.document.title=G.filename),vr||typeof safari>"u")return vr;break;case"datauri":case"dataurl":return rn.document.location.href=this.output("datauristring",G);default:return null}},oa.foo=function(){try{return oa.apply(this,arguments)}catch(se){var E=se.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var G="Error in function "+E.split(`
`)[0].split("<")[0]+": "+se.message;if(!rn.console)throw new Error(G);rn.console.error(G,se),rn.alert&&alert(G)}},oa.foo.bar=oa,oa.foo),Zr=function(E){return Array.isArray(Bi)===!0&&Bi.indexOf(E)>-1};switch(r){case"pt":Yt=1;break;case"mm":Yt=72/25.4;break;case"cm":Yt=72/2.54;break;case"in":Yt=72;break;case"px":Yt=Zr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Yt=12;break;case"ex":Yt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Yt=r}var Er=null;Z(),pe();var Gr=v.__private__.getPageInfo=v.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[E].objId,pageNumber:E,pageContext:Ct[E]}},Us=v.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in Ct)if(Ct[G].objId===E)break;return Gr(G)},Uu=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Ct[$].objId,pageNumber:$,pageContext:Ct[$]}};v.addPage=function(){return co.apply(this,arguments),this},v.setPage=function(){return ml.apply(this,arguments),Ke.call(this,nt[$]),this},v.insertPage=function(E){return this.addPage(),this.movePage($,E),this},v.movePage=function(E,G){var se,ve;if(E>G){se=nt[E],ve=Ct[E];for(var be=E;be>G;be--)nt[be]=nt[be-1],Ct[be]=Ct[be-1];nt[G]=se,Ct[G]=ve,this.setPage(G)}else if(E<G){se=nt[E],ve=Ct[E];for(var He=E;He<G;He++)nt[He]=nt[He+1],Ct[He]=Ct[He+1];nt[G]=se,Ct[G]=ve,this.setPage(G)}return this},v.deletePage=function(){return js.apply(this,arguments),this},v.__private__.text=v.text=function(E,G,se,ve,be){var He,Qe,vt,xt,Ft,Dt,wn,vr,rr,y=(ve=ve||{}).scope||this;if(typeof E=="number"&&typeof G=="number"&&(typeof se=="string"||Array.isArray(se))){var T=se;se=G,G=E,E=T}if(arguments[3]instanceof Ot==0?(vt=arguments[4],xt=arguments[5],pr(wn=arguments[3])==="object"&&wn!==null||(typeof vt=="string"&&(xt=vt,vt=null),typeof wn=="string"&&(xt=wn,wn=null),typeof wn=="number"&&(vt=wn,wn=null),ve={flags:wn,angle:vt,align:xt})):(P("The transform parameter of text() with a Matrix value"),rr=be),isNaN(G)||isNaN(se)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return y;var B,ee="",Ee=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:ns,Pe=y.internal.scaleFactor;function at(Un){return Un=Un.split("	").join(Array(ve.TabLen||9).join(" ")),ua(Un,wn)}function en(Un){for(var Dn,yr=Un.concat(),ei=[],Ts=yr.length;Ts--;)typeof(Dn=yr.shift())=="string"?ei.push(Dn):Array.isArray(Un)&&(Dn.length===1||Dn[1]===void 0&&Dn[2]===void 0)?ei.push(Dn[0]):ei.push([Dn[0],Dn[1],Dn[2]]);return ei}function mr(Un,Dn){var yr;if(typeof Un=="string")yr=Dn(Un)[0];else if(Array.isArray(Un)){for(var ei,Ts,os=Un.concat(),lu=[],$c=os.length;$c--;)typeof(ei=os.shift())=="string"?lu.push(Dn(ei)[0]):Array.isArray(ei)&&typeof ei[0]=="string"&&(Ts=Dn(ei[0],ei[1],ei[2]),lu.push([Ts[0],Ts[1],Ts[2]]));yr=lu}return yr}var vn=!1,Wn=!0;if(typeof E=="string")vn=!0;else if(Array.isArray(E)){var Ri=E.concat();Qe=[];for(var Vi,lr=Ri.length;lr--;)(typeof(Vi=Ri.shift())!="string"||Array.isArray(Vi)&&typeof Vi[0]!="string")&&(Wn=!1);vn=Wn}if(vn===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var zi=Fe/y.internal.scaleFactor,go=zi*(Ee-1);switch(ve.baseline){case"bottom":se-=go;break;case"top":se+=zi-go;break;case"hanging":se+=zi-2*go;break;case"middle":se+=zi/2-go}if((Dt=ve.maxWidth||0)>0&&(typeof E=="string"?E=y.splitTextToSize(E,Dt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Un,Dn){return Un.concat(y.splitTextToSize(Dn,Dt))},[]))),He={text:E,x:G,y:se,options:ve,mutex:{pdfEscape:ua,activeFontKey:ht,fonts:Pt,activeFontSize:Fe}},pn.publish("preProcessText",He),E=He.text,vt=(ve=He.options).angle,rr instanceof Ot==0&&vt&&typeof vt=="number"){vt*=Math.PI/180,ve.rotationDirection===0&&(vt=-vt),U===q&&(vt=-vt);var ws=Math.cos(vt),xs=Math.sin(vt);rr=new Ot(ws,xs,-xs,ws,0,0)}else vt&&vt instanceof Ot&&(rr=vt);U!==q||rr||(rr=Ea),(Ft=ve.charSpace||Ia)!==void 0&&(ee+=R(j(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(vr=ve.horizontalScale)!==void 0&&(ee+=R(100*vr)+` Tz
`),ve.lang;var Da=-1,Gs=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Vu=y.internal.getCurrentPageInfo().pageContext;switch(Gs){case 0:case!1:case"fill":Da=0;break;case 1:case!0:case"stroke":Da=1;break;case 2:case"fillThenStroke":Da=2;break;case 3:case"invisible":Da=3;break;case 4:case"fillAndAddForClipping":Da=4;break;case 5:case"strokeAndAddPathForClipping":Da=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Da=6;break;case 7:case"addToPathForClipping":Da=7}var Yc=Vu.usedRenderingMode!==void 0?Vu.usedRenderingMode:-1;Da!==-1?ee+=Da+` Tr
`:Yc!==-1&&(ee+=`0 Tr
`),Da!==-1&&(Vu.usedRenderingMode=Da),xt=ve.align||"left";var vo,is=Fe*Ee,Ws=y.internal.pageSize.getWidth(),Kc=Pt[ht];Ft=ve.charSpace||Ia,Dt=ve.maxWidth||0,wn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var as=[],El=function(Un){return y.getStringUnitWidth(Un,{font:Kc,charSpace:Ft,fontSize:Fe,doKerning:!1})*Fe/Pe};if(Object.prototype.toString.call(E)==="[object Array]"){var $a;Qe=en(E),xt!=="left"&&(vo=Qe.map(El));var La,bs=0;if(xt==="right"){G-=vo[0],E=[],lr=Qe.length;for(var As=0;As<lr;As++)As===0?(La=yi(G),$a=li(se)):(La=j(bs-vo[As]),$a=-is),E.push([Qe[As],La,$a]),bs=vo[As]}else if(xt==="center"){G-=vo[0]/2,E=[],lr=Qe.length;for(var Xs=0;Xs<lr;Xs++)Xs===0?(La=yi(G),$a=li(se)):(La=j((bs-vo[Xs])/2),$a=-is),E.push([Qe[Xs],La,$a]),bs=vo[Xs]}else if(xt==="left"){E=[],lr=Qe.length;for(var zu=0;zu<lr;zu++)E.push(Qe[zu])}else if(xt==="justify"&&Kc.encoding==="Identity-H"){E=[],lr=Qe.length,Dt=Dt!==0?Dt:Ws;for(var Hu=0,Jr=0;Jr<lr;Jr++)if($a=Jr===0?li(se):-is,La=Jr===0?yi(G):Hu,Jr<lr-1){var Ff=j((Dt-vo[Jr])/(Qe[Jr].split(" ").length-1)),Es=Qe[Jr].split(" ");E.push([Es[0]+" ",La,$a]),Hu=0;for(var Ss=1;Ss<Es.length;Ss++){var Hi=(El(Es[Ss-1]+" "+Es[Ss])-El(Es[Ss]))*Pe+Ff;Ss==Es.length-1?E.push([Es[Ss],Hi,0]):E.push([Es[Ss]+" ",Hi,0]),Hu-=Hi}}else E.push([Qe[Jr],La,$a]);E.push(["",Hu,0])}else{if(xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],lr=Qe.length,Dt=Dt!==0?Dt:Ws,Jr=0;Jr<lr;Jr++){$a=Jr===0?li(se):-is,La=Jr===0?yi(G):0;var Ys=Qe[Jr].split(" ").length-1,qu=Ys>0?(Dt-vo[Jr])/Ys:0;Jr<lr-1?as.push(R(j(qu))):as.push(0),E.push([Qe[Jr],La,$a])}}}(typeof ve.R2L=="boolean"?ve.R2L:ot)===!0&&(E=mr(E,function(Un,Dn,yr){return[Un.split("").reverse().join(""),Dn,yr]})),He={text:E,x:G,y:se,options:ve,mutex:{pdfEscape:ua,activeFontKey:ht,fonts:Pt,activeFontSize:Fe}},pn.publish("postProcessText",He),E=He.text,B=He.mutex.isHex||!1;var Gu=Pt[ht].encoding;Gu!=="WinAnsiEncoding"&&Gu!=="StandardEncoding"||(E=mr(E,function(Un,Dn,yr){return[at(Un),Dn,yr]})),Qe=en(E),E=[];for(var Ks,$s,Cs,su=Array.isArray(Qe[0])?1:0,mo="",Zs=function(Un,Dn,yr){var ei="";return yr instanceof Ot?(yr=typeof ve.angle=="number"?Zo(yr,new Ot(1,0,0,1,Un,Dn)):Zo(new Ot(1,0,0,1,Un,Dn),yr),U===q&&(yr=Zo(new Ot(1,0,0,-1,0,0),yr)),ei=yr.join(" ")+` Tm
`):ei=R(Un)+" "+R(Dn)+` Td
`,ei},ha=0;ha<Qe.length;ha++){switch(mo="",su){case 1:Cs=(B?"<":"(")+Qe[ha][0]+(B?">":")"),Ks=parseFloat(Qe[ha][1]),$s=parseFloat(Qe[ha][2]);break;case 0:Cs=(B?"<":"(")+Qe[ha]+(B?">":")"),Ks=yi(G),$s=li(se)}as!==void 0&&as[ha]!==void 0&&(mo=as[ha]+` Tw
`),ha===0?E.push(mo+Zs(Ks,$s,rr)+Cs):su===0?E.push(mo+Cs):su===1&&E.push(mo+Zs(Ks,$s,rr)+Cs)}E=su===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Io=`BT
/`;return Io+=ht+" "+Fe+` Tf
`,Io+=R(Fe*Ee)+` TL
`,Io+=ho+`
`,Io+=ee,Io+=E,Q(Io+="ET"),_[ht]=!0,y};var tu=v.__private__.clip=v.clip=function(E){return Q(E==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return tu("evenodd")},v.__private__.discardPath=v.discardPath=function(){return Q("n"),this};var Ui=v.__private__.isValidStyle=function(E){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(G=!0),G};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(E){return Ui(E)&&(f=E),this};var nu=v.__private__.getStyle=v.getStyle=function(E){var G=f;switch(E){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=E}return G},es=v.close=function(){return Q("h"),this};v.stroke=function(){return Q("S"),this},v.fill=function(E){return mi("f",E),this},v.fillEvenOdd=function(E){return mi("f*",E),this},v.fillStroke=function(E){return mi("B",E),this},v.fillStrokeEvenOdd=function(E){return mi("B*",E),this};var mi=function(E,G){pr(G)==="object"?iu(G,E):Q(E)},vs=function(E){E===null||U===q&&E===void 0||(E=nu(E),Q(E))};function ru(E,G,se,ve,be){var He=new Ih(G||this.boundingBox,se||this.xStep,ve||this.yStep,this.gState,be||this.matrix);He.stream=this.stream;var Qe=E+"$$"+this.cloneIndex+++"$$";return aa(Qe,He),He}var iu=function(E,G){var se=jn[E.key],ve=Rt[se];if(ve instanceof wf)Q("q"),Q(_l(G)),ve.gState&&v.setGState(ve.gState),Q(E.matrix.toString()+" cm"),Q("/"+se+" sh"),Q("Q");else if(ve instanceof Ih){var be=new Ot(1,0,0,-1,0,po());E.matrix&&(be=be.multiply(E.matrix||Ea),se=ru.call(ve,E.key,E.boundingBox,E.xStep,E.yStep,be).id),Q("q"),Q("/Pattern cs"),Q("/"+se+" scn"),ve.gState&&v.setGState(ve.gState),Q(G),Q("Q")}},_l=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},wl=v.moveTo=function(E,G){return Q(R(j(E))+" "+R(ce(G))+" m"),this},ts=v.lineTo=function(E,G){return Q(R(j(E))+" "+R(ce(G))+" l"),this},ca=v.curveTo=function(E,G,se,ve,be,He){return Q([R(j(E)),R(ce(G)),R(j(se)),R(ce(ve)),R(j(be)),R(ce(He)),"c"].join(" ")),this};v.__private__.line=v.line=function(E,G,se,ve,be){if(isNaN(E)||isNaN(G)||isNaN(se)||isNaN(ve)||!Ui(be))throw new Error("Invalid arguments passed to jsPDF.line");return U===V?this.lines([[se-E,ve-G]],E,G,[1,1],be||"S"):this.lines([[se-E,ve-G]],E,G,[1,1]).stroke()},v.__private__.lines=v.lines=function(E,G,se,ve,be,He){var Qe,vt,xt,Ft,Dt,wn,vr,rr,y,T,B,ee;if(typeof E=="number"&&(ee=se,se=G,G=E,E=ee),ve=ve||[1,1],He=He||!1,isNaN(G)||isNaN(se)||!Array.isArray(E)||!Array.isArray(ve)||!Ui(be)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wl(G,se),Qe=ve[0],vt=ve[1],Ft=E.length,T=G,B=se,xt=0;xt<Ft;xt++)(Dt=E[xt]).length===2?(T=Dt[0]*Qe+T,B=Dt[1]*vt+B,ts(T,B)):(wn=Dt[0]*Qe+T,vr=Dt[1]*vt+B,rr=Dt[2]*Qe+T,y=Dt[3]*vt+B,T=Dt[4]*Qe+T,B=Dt[5]*vt+B,ca(wn,vr,rr,y,T,B));return He&&es(),vs(be),this},v.path=function(E){for(var G=0;G<E.length;G++){var se=E[G],ve=se.c;switch(se.op){case"m":wl(ve[0],ve[1]);break;case"l":ts(ve[0],ve[1]);break;case"c":ca.apply(this,ve);break;case"h":es()}}return this},v.__private__.rect=v.rect=function(E,G,se,ve,be){if(isNaN(E)||isNaN(G)||isNaN(se)||isNaN(ve)||!Ui(be))throw new Error("Invalid arguments passed to jsPDF.rect");return U===V&&(ve=-ve),Q([R(j(E)),R(ce(G)),R(j(se)),R(j(ve)),"re"].join(" ")),vs(be),this},v.__private__.triangle=v.triangle=function(E,G,se,ve,be,He,Qe){if(isNaN(E)||isNaN(G)||isNaN(se)||isNaN(ve)||isNaN(be)||isNaN(He)||!Ui(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-E,ve-G],[be-se,He-ve],[E-be,G-He]],E,G,[1,1],Qe,!0),this},v.__private__.roundedRect=v.roundedRect=function(E,G,se,ve,be,He,Qe){if(isNaN(E)||isNaN(G)||isNaN(se)||isNaN(ve)||isNaN(be)||isNaN(He)||!Ui(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*se),He=Math.min(He,.5*ve),this.lines([[se-2*be,0],[be*vt,0,be,He-He*vt,be,He],[0,ve-2*He],[0,He*vt,-be*vt,He,-be,He],[2*be-se,0],[-be*vt,0,-be,-He*vt,-be,-He],[0,2*He-ve],[0,-He*vt,be*vt,-He,be,-He]],E+be,G,[1,1],Qe,!0),this},v.__private__.ellipse=v.ellipse=function(E,G,se,ve,be){if(isNaN(E)||isNaN(G)||isNaN(se)||isNaN(ve)||!Ui(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*se,Qe=4/3*(Math.SQRT2-1)*ve;return wl(E+se,G),ca(E+se,G-Qe,E+He,G-ve,E,G-ve),ca(E-He,G-ve,E-se,G-Qe,E-se,G),ca(E-se,G+Qe,E-He,G+ve,E,G+ve),ca(E+He,G+ve,E+se,G+Qe,E+se,G),vs(be),this},v.__private__.circle=v.circle=function(E,G,se,ve){if(isNaN(E)||isNaN(G)||isNaN(se)||!Ui(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,G,se,se,ve)},v.setFont=function(E,G,se){return se&&(G=z(G,se)),ht=eu(E,G,{disableWarning:!1}),this};var fo=v.__private__.getFont=v.getFont=function(){return Pt[eu.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var E,G,se={};for(E in Kt)if(Kt.hasOwnProperty(E))for(G in se[E]=[],Kt[E])Kt[E].hasOwnProperty(G)&&se[E].push(G);return se},v.addFont=function(E,G,se,ve,be){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(se=z(se,ve)),vl.call(this,E,G,se,be=be||"Identity-H")};var ns,fa=n.lineWidth||.200025,ms=v.__private__.getLineWidth=v.getLineWidth=function(){return fa},Mt=v.__private__.setLineWidth=v.setLineWidth=function(E){return fa=E,Q(R(j(E))+" w"),this};v.__private__.setLineDash=Lt.API.setLineDash=Lt.API.setLineDashPattern=function(E,G){if(E=E||[],G=G||0,isNaN(G)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(se){return R(j(se))}).join(" "),G=R(j(G)),Q("["+E+"] "+G+" d"),this};var Vs=v.__private__.getLineHeight=v.getLineHeight=function(){return Fe*ns};v.__private__.getLineHeight=v.getLineHeight=function(){return Fe*ns};var xl=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(ns=E),this},ys=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return ns};xl(n.lineHeight);var yi=v.__private__.getHorizontalCoordinate=function(E){return j(E)},li=v.__private__.getVerticalCoordinate=function(E){return U===q?E:Ct[$].mediaBox.topRightY-Ct[$].mediaBox.bottomLeftY-j(E)},zs=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(E){return R(yi(E))},Gn=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(E){return R(li(E))},Na=n.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return sr(Na)},v.__private__.setStrokeColor=v.setDrawColor=function(E,G,se,ve){return Na=si({ch1:E,ch2:G,ch3:se,ch4:ve,pdfColorType:"draw",precision:2}),Q(Na),this};var Hs=n.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return sr(Hs)},v.__private__.setFillColor=v.setFillColor=function(E,G,se,ve){return Hs=si({ch1:E,ch2:G,ch3:se,ch4:ve,pdfColorType:"fill",precision:2}),Q(Hs),this};var ho=n.textColor||"0 g",au=v.__private__.getTextColor=v.getTextColor=function(){return sr(ho)};v.__private__.setTextColor=v.setTextColor=function(E,G,se,ve){return ho=si({ch1:E,ch2:G,ch3:se,ch4:ve,pdfColorType:"text",precision:3}),this};var Ia=n.charSpace,rs=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Ia||0)};v.__private__.setCharSpace=v.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ia=E,this};var Ra=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(E){var G=v.CapJoinStyles[E];if(G===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ra=G,Q(G+" J"),this};var Qr=0;v.__private__.setLineJoin=v.setLineJoin=function(E){var G=v.CapJoinStyles[E];if(G===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qr=G,Q(G+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(R(j(E))+" M"),this},v.GState=Fp,v.setGState=function(E){(E=typeof E=="string"?zt[Ht[E]]:Eo(null,E)).equals(Hn)||(Q("/"+E.id+" gs"),Hn=E)};var Eo=function(E,G){if(!E||!Ht[E]){var se=!1;for(var ve in zt)if(zt.hasOwnProperty(ve)&&zt[ve].equals(G)){se=!0;break}if(se)G=zt[ve];else{var be="GS"+(Object.keys(zt).length+1).toString(10);zt[be]=G,G.id=be}return E&&(Ht[E]=G.id),pn.publish("addGState",G),G}};v.addGState=function(E,G){return Eo(E,G),this},v.saveGraphicsState=function(){return Q("q"),on.push({key:ht,size:Fe,color:ho}),this},v.restoreGraphicsState=function(){Q("Q");var E=on.pop();return ht=E.key,Fe=E.size,ho=E.color,Hn=null,this},v.setCurrentTransformationMatrix=function(E){return Q(E.toString()+" cm"),this},v.comment=function(E){return Q("#"+E),this};var Ii=function(E,G){var se=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(He){isNaN(He)||(se=parseFloat(He))}});var ve=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(He){isNaN(He)||(ve=parseFloat(He))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(He){be=He.toString()}}),this},So=function(E,G,se,ve){Ii.call(this,E,G),this.type="rect";var be=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Qe){isNaN(Qe)||(be=parseFloat(Qe))}});var He=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(Qe){isNaN(Qe)||(He=parseFloat(Qe))}}),this},_s=function(){this.page=It,this.currentPage=$,this.pages=nt.slice(0),this.pagesContext=Ct.slice(0),this.x=gt,this.y=tr,this.matrix=tn,this.width=Ka($),this.height=bl($),this.outputDestination=ke,this.id="",this.objectNumber=-1};_s.prototype.restore=function(){It=this.page,$=this.currentPage,Ct=this.pagesContext,nt=this.pages,gt=this.x,tr=this.y,tn=this.matrix,qs($,this.width),Oa($,this.height),ke=this.outputDestination};var Co=function(E,G,se,ve,be){vi.push(new _s),It=$=0,nt=[],gt=E,tr=G,tn=be,Xa([se,ve])};for(var To in v.beginFormObject=function(E,G,se,ve,be){return Co(E,G,se,ve,be),this},v.endFormObject=function(E){return(function(G){if(Ao[G])vi.pop().restore();else{var se=new _s,ve="Xo"+(Object.keys(Ci).length+1).toString(10);se.id=ve,Ao[G]=ve,Ci[ve]=se,pn.publish("addFormObject",se),vi.pop().restore()}})(E),this},v.doFormObject=function(E,G){var se=Ci[Ao[E]];return Q("q"),Q(G.toString()+" cm"),Q("/"+se.id+" Do"),Q("Q"),this},v.getFormObject=function(E){var G=Ci[Ao[E]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},v.save=function(E,G){return E=E||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(yf(Cn(Ya()),E),typeof yf.unload=="function"&&rn.setTimeout&&setTimeout(yf.unload,911),this):new Promise(function(se,ve){try{var be=yf(Cn(Ya()),E);typeof yf.unload=="function"&&rn.setTimeout&&setTimeout(yf.unload,911),se(be)}catch(He){ve(He.message)}})},Lt.API)Lt.API.hasOwnProperty(To)&&(To==="events"&&Lt.API.events.length?(function(E,G){var se,ve,be;for(be=G.length-1;be!==-1;be--)se=G[be][0],ve=G[be][1],E.subscribe.apply(E,[se].concat(typeof ve=="function"?[ve]:ve))})(pn,Lt.API.events):v[To]=Lt.API[To]);function Ka(E){return Ct[E].mediaBox.topRightX-Ct[E].mediaBox.bottomLeftX}function qs(E,G){Ct[E].mediaBox.topRightX=G+Ct[E].mediaBox.bottomLeftX}function bl(E){return Ct[E].mediaBox.topRightY-Ct[E].mediaBox.bottomLeftY}function Oa(E,G){Ct[E].mediaBox.topRightY=G+Ct[E].mediaBox.bottomLeftY}var No=v.getPageWidth=function(E){return Ka(E=E||$)/Yt},ou=v.setPageWidth=function(E,G){qs(E,G*Yt)},po=v.getPageHeight=function(E){return bl(E=E||$)/Yt},Al=v.setPageHeight=function(E,G){Oa(E,G*Yt)};return v.internal={pdfEscape:ua,getStyle:nu,getFont:fo,getFontSize:$e,getCharSpace:rs,getTextColor:au,getLineHeight:Vs,getLineHeightFactor:ys,getLineWidth:ms,write:et,getHorizontalCoordinate:yi,getVerticalCoordinate:li,getCoordinateString:zs,getVerticalCoordinateString:Gn,collections:{},newObject:nr,newAdditionalObject:Fi,newObjectDeferred:gr,newObjectDeferredBegin:oi,getFilters:sa,putStream:Ga,events:pn,scaleFactor:Yt,pageSize:{getWidth:function(){return No($)},setWidth:function(E){ou($,E)},getHeight:function(){return po($)},setHeight:function(E){Al($,E)}},encryptionOptions:d,encryption:Er,getEncryptor:function(E){return d!==null?Er.encryptor(E,0):function(G){return G}},output:gs,getNumberOfPages:yl,get pages(){return nt},out:Q,f2:O,f3:k,getPageInfo:Gr,getPageInfoByObjId:Us,getCurrentPageInfo:Uu,getPDFVersion:S,Point:Ii,Rectangle:So,Matrix:Ot,hasHotfix:Zr},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return No($)},set:function(E){ou($,E)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return po($)},set:function(E){Al($,E)},enumerable:!0,configurable:!0}),(function(E){for(var G=0,se=ct.length;G<se;G++){var ve=vl.call(this,E[G][0],E[G][1],E[G][2],ct[G][3],!0);g===!1&&(_[ve]=!0);var be=E[G][0].split("-");Lr({id:ve,fontName:be[0],fontStyle:be[1]||""})}pn.publish("addFonts",{fonts:Pt,dictionary:Kt})}).call(v,ct),ht="F1",co(i,t),pn.publish("initialized"),v}Ch.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Ch.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ch.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ch.prototype.processOwnerPassword=function(n,e){return wm(_m(e).substr(0,5),n)},Ch.prototype.encryptor=function(n,e){var t=_m(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return wm(t,r)}},Fp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||pr(n)!==pr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Lt.API={events:[]},Lt.version="4.1.0";var gi=Lt.API,My=1,Bf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_h=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jp=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},fn=function(n){return n.toFixed(2)},mc=function(n){return n.toFixed(5)};gi.__acroform__={};var Ko=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},j3=function(n){return n*My},jl=function(n){var e=new rE,t=At.internal.getHeight(n)||0,r=At.internal.getWidth(n)||0;return e.BBox=[0,0,Number(fn(r)),Number(fn(t))],e},xL=gi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},bL=gi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},AL=gi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Ai=gi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return AL(n,e-1)},Ei=gi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xL(n,e-1)},Si=gi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bL(n,e-1)},EL=gi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],a=n[1],s=n[2],l=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=t(i+s)||0,c.upperRight_Y=r(a)||0,[Number(fn(c.lowerLeft_X)),Number(fn(c.lowerLeft_Y)),Number(fn(c.upperRight_X)),Number(fn(c.upperRight_Y))]},SL=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=xm(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+fn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=jl(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},xm=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=t,s=At.internal.getHeight(n)||0;s=s<0?-s:s;var l=At.internal.getWidth(n)||0;l=l<0?-l:l;var c=function(O,k,j){if(O+1<i.length){var ce=k+" "+i[O+1][0];return z0(ce,n,j).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var f,d,g=z0("3",n,a).height,_=n.multiline?s-a:(s-g)/2,v=_+=2,A=0,S=0,I=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+z0(e,n,a=12).width+", FieldWidth:"+l+`
`;break}for(var N="",V=0,q=0;q<i.length;q++)if(i.hasOwnProperty(q)){var U=!1;if(i[q].length!==1&&I!==i[q].length-1){if((g+2)*(V+2)+2>s)continue e;N+=i[q][I],U=!0,S=q,q--}else{N=(N+=i[q][I]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var re=parseInt(q),ue=c(re,N,a),z=q>=i.length-1;if(ue&&!z){N+=" ",I=0;continue}if(ue||z){if(z)S=re;else if(n.multiline&&(g+2)*(V+2)+2>s)continue e}else{if(!n.multiline||(g+2)*(V+2)+2>s)continue e;S=re}}for(var R="",P=A;P<=S;P++){var H=i[P];if(n.multiline){if(P===S){R+=H[I]+" ",I=(I+1)%H.length;continue}if(P===A){R+=H[H.length-1]+" ";continue}}R+=H[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,d=z0(R,n,a).width,n.textAlign){case"right":f=l-d-2;break;case"center":f=(l-d)/2;break;default:f=2}e+=fn(f)+" "+fn(v)+` Td
`,e+="("+Bf(R)+`) Tj
`,e+=-fn(f)+` 0 Td
`,v=-(a+2),d=0,A=U?S:S+1,V++,N=""}break}return r.text=e,r.fontSize=a,r},z0=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},CL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TL=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},NL=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(pl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(CL)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");My=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new iE,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&TL(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],c=[],f=l.Rect;if(l.Rect&&(l.Rect=EL(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=At.createDefaultAppearanceStream(l),pr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=SL(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var g="";for(var _ in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(_)){var v=l.appearanceStreamContent[_];if(g+="/"+_+" ",g+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var s in v)if(v.hasOwnProperty(s)){var A=v[s];typeof A=="function"&&(A=A.call(i,l)),g+="/"+s+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else typeof(A=v)=="function"&&(A=A.call(i,l)),g+="/"+s+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&(function(S,I){for(var N in S)if(S.hasOwnProperty(N)){var V=N,q=S[N];I.internal.newObjectDeferredBegin(q.objId,!0),pr(q)==="object"&&typeof q.putStream=="function"&&q.putStream(),delete S[V]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},nE=gi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),pr(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)==="/"?i+="/"+jp(n[a].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Bf(r(n[a].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_v=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Bf(r(n))+")"},Vl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vl.prototype.toString=function(){return this.objId+" 0 R"},Vl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Vl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:nE(i,this.objId,this.scope)}):i instanceof Vl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var rE=function(){Vl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ko(rE,Vl);var iE=function(){Vl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Bf(t(n))+")"}},set:function(t){n=t}})};Ko(iE,Vl);var pl=function n(){Vl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ai(e,3)},set:function(N){N?this.F=Ei(e,3):this.F=Si(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');t=N}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(N){r=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(N){r[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(N){r[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(N){r[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(N){r[3]=N}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Up)return;a="FieldObject"+n.FieldNum++}var N=function(V){return V};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Bf(N(a))+")"},set:function(N){a=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(N){a=N}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(N){s=N}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/My:f},set:function(N){f=N}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Up||this instanceof Sf))return _v(g,this.objId,this.scope)},set:function(N){N=N.toString(),g=N}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof ba==0?_v(_,this.objId,this.scope):_},set:function(N){N=N.toString(),_=this instanceof ba==0?N.substr(0,1)==="("?_h(N.substr(1,N.length-2)):_h(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ba==1?_h(_.substr(1,_.length-1)):_},set:function(N){N=N.toString(),_=this instanceof ba==1?"/"+jp(N):N}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ba==0?_v(v,this.objId,this.scope):v},set:function(N){N=N.toString(),v=this instanceof ba==0?N.substr(0,1)==="("?_h(N.substr(1,N.length-2)):_h(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ba==1?_h(v.substr(1,v.length-1)):v},set:function(N){N=N.toString(),v=this instanceof ba==1?"/"+jp(N):N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(N){N=!!N,S=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(N){A=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,1)},set:function(N){N?this.Ff=Ei(this.Ff,1):this.Ff=Si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,2)},set:function(N){N?this.Ff=Ei(this.Ff,2):this.Ff=Si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,3)},set:function(N){N?this.Ff=Ei(this.Ff,3):this.Ff=Si(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');I=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(I){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};Ko(pl,Vl);var Fh=function(){pl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nE(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(a,s,l){l||(l=1);for(var c,f=[];c=s.exec(a);)f.push(c[l]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,18)},set:function(t){t?this.Ff=Ei(this.Ff,18):this.Ff=Si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ei(this.Ff,19):this.Ff=Si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,20)},set:function(t){t?(this.Ff=Ei(this.Ff,20),e.sort()):this.Ff=Si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,22)},set:function(t){t?this.Ff=Ei(this.Ff,22):this.Ff=Si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,23)},set:function(t){t?this.Ff=Ei(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,27)},set:function(t){t?this.Ff=Ei(this.Ff,27):this.Ff=Si(this.Ff,27)}}),this.hasAppearanceStream=!1};Ko(Fh,pl);var jh=function(){Fh.call(this),this.fontName="helvetica",this.combo=!1};Ko(jh,Fh);var Uh=function(){jh.call(this),this.combo=!0};Ko(Uh,jh);var sp=function(){Uh.call(this),this.edit=!0};Ko(sp,Uh);var ba=function(){pl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,15)},set:function(t){t?this.Ff=Ei(this.Ff,15):this.Ff=Si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,16)},set:function(t){t?this.Ff=Ei(this.Ff,16):this.Ff=Si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,17)},set:function(t){t?this.Ff=Ei(this.Ff,17):this.Ff=Si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,26)},set:function(t){t?this.Ff=Ei(this.Ff,26):this.Ff=Si(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Bf(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){pr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+jp(t)}})};Ko(ba,pl);var lp=function(){ba.call(this),this.pushButton=!0};Ko(lp,ba);var Vh=function(){ba.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ko(Vh,ba);var Up=function(){var n,e;pl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Bf(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){pr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ko(Up,pl),Vh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Vh.prototype.createOption=function(n){var e=new Up;return e.Parent=this,e.optionName=n,this.Kids.push(e),IL.call(this.scope,e),e};var up=function(){ba.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};Ko(up,ba);var Sf=function(){pl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,13)},set:function(e){e?this.Ff=Ei(this.Ff,13):this.Ff=Si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,21)},set:function(e){e?this.Ff=Ei(this.Ff,21):this.Ff=Si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,23)},set:function(e){e?this.Ff=Ei(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,24)},set:function(e){e?this.Ff=Ei(this.Ff,24):this.Ff=Si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,25)},set:function(e){e?this.Ff=Ei(this.Ff,25):this.Ff=Si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,26)},set:function(e){e?this.Ff=Ei(this.Ff,26):this.Ff=Si(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ko(Sf,pl);var cp=function(){Sf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ai(this.Ff,14)},set:function(n){n?this.Ff=Ei(this.Ff,14):this.Ff=Si(this.Ff,14)}}),this.password=!0};Ko(cp,Sf);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=jl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=xm(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+fn(At.internal.getWidth(n))+" "+fn(At.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+fn(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=jl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=At.internal.getHeight(n),s=At.internal.getWidth(n),l=xm(n,n.caption);return i.push("1 g"),i.push("0 0 "+fn(s)+" "+fn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+fn(s-1)+" "+fn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+fn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=jl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+fn(At.internal.getWidth(n))+" "+fn(At.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=At.RadioButton.Circle.YesNormal,e.D[n]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=jl(n);e.scope=n.scope;var t=[],r=At.internal.getWidth(n)<=At.internal.getHeight(n)?At.internal.getWidth(n)/4:At.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=At.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+mc(At.internal.getWidth(n)/2)+" "+mc(At.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=jl(n);e.scope=n.scope;var t=[],r=At.internal.getWidth(n)<=At.internal.getHeight(n)?At.internal.getWidth(n)/4:At.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*At.internal.Bezier_C).toFixed(5)),s=Number((r*At.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+mc(At.internal.getWidth(n)/2)+" "+mc(At.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+mc(At.internal.getWidth(n)/2)+" "+mc(At.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=jl(n);e.scope=n.scope;var t=[],r=At.internal.getWidth(n)<=At.internal.getHeight(n)?At.internal.getWidth(n)/4:At.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*At.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+mc(At.internal.getWidth(n)/2)+" "+mc(At.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=At.RadioButton.Cross.YesNormal,e.D[n]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=jl(n);e.scope=n.scope;var t=[],r=At.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+fn(At.internal.getWidth(n)-2)+" "+fn(At.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(fn(r.x1.x)+" "+fn(r.x1.y)+" m"),t.push(fn(r.x2.x)+" "+fn(r.x2.y)+" l"),t.push(fn(r.x4.x)+" "+fn(r.x4.y)+" m"),t.push(fn(r.x3.x)+" "+fn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=jl(n);e.scope=n.scope;var t=At.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+fn(At.internal.getWidth(n))+" "+fn(At.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+fn(At.internal.getWidth(n)-2)+" "+fn(At.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(fn(t.x1.x)+" "+fn(t.x1.y)+" m"),r.push(fn(t.x2.x)+" "+fn(t.x2.y)+" l"),r.push(fn(t.x4.x)+" "+fn(t.x4.y)+" m"),r.push(fn(t.x3.x)+" "+fn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=jl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+fn(At.internal.getWidth(n))+" "+fn(At.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};At.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=At.internal.getWidth(n),t=At.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},At.internal.getWidth=function(n){var e=0;return pr(n)==="object"&&(e=j3(n.Rect[2])),e},At.internal.getHeight=function(n){var e=0;return pr(n)==="object"&&(e=j3(n.Rect[3])),e};var IL=gi.addField=function(n){if(NL(this,n),!(n instanceof pl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};gi.AcroFormChoiceField=Fh,gi.AcroFormListBox=jh,gi.AcroFormComboBox=Uh,gi.AcroFormEditBox=sp,gi.AcroFormButton=ba,gi.AcroFormPushButton=lp,gi.AcroFormRadioButton=Vh,gi.AcroFormCheckBox=up,gi.AcroFormTextField=Sf,gi.AcroFormPasswordField=cp,gi.AcroFormAppearance=At,gi.AcroForm={ChoiceField:Fh,ListBox:jh,ComboBox:Uh,EditBox:sp,Button:ba,PushButton:lp,RadioButton:Vh,CheckBox:up,TextField:Sf,PasswordField:cp,Appearance:At},Lt.AcroForm={ChoiceField:Fh,ListBox:jh,ComboBox:Uh,EditBox:sp,Button:ba,PushButton:lp,RadioButton:Vh,CheckBox:up,TextField:Sf,PasswordField:cp,Appearance:At};Lt.AcroForm;function aE(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(O,k){var j,ce,xe,te,he,pe=t;if((k=k||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(ue(O))for(he in r)for(xe=r[he],j=0;j<xe.length;j+=1){for(te=!0,ce=0;ce<xe[j].length;ce+=1)if(xe[j][ce]!==void 0&&xe[j][ce]!==O[ce]){te=!1;break}if(te===!0){pe=he;break}}else for(he in r)for(xe=r[he],j=0;j<xe.length;j+=1){for(te=!0,ce=0;ce<xe[j].length;ce+=1)if(xe[j][ce]!==void 0&&xe[j][ce]!==O.charCodeAt(ce)){te=!1;break}if(te===!0){pe=he;break}}return pe===t&&k!==t&&(pe=k),pe},a=function O(k){for(var j=this.internal.write,ce=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:k.width}),te.push({key:"Height",value:k.height}),k.colorSpace===N.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===N.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var he="",pe=0,Ce=k.transparency.length;pe<Ce;pe++)he+=k.transparency[pe]+" "+k.transparency[pe]+" ";te.push({key:"Mask",value:"["+he+"]"})}k.sMask!==void 0&&te.push({key:"SMask",value:k.objectId+1+" 0 R"});var We=k.filter!==void 0?["/"+k.filter]:void 0;if(ce({data:k.data,additionalKeyValues:te,alreadyAppliedFilters:We,objectId:k.objectId}),j("endobj"),"sMask"in k&&k.sMask!==void 0){var Z,F=(Z=k.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:k.bitsPerComponent,$={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:k.sMask};"filter"in k&&($.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(k.width),$.filter=k.filter),O.call(this,$)}if(k.colorSpace===N.INDEXED){var ie=this.internal.newObject();ce({data:R(new Uint8Array(k.palette)),objectId:ie}),j("endobj")}},s=function(){var O=this.internal.collections[e+"images"];for(var k in O)a.call(this,O[k])},l=function(){var O,k=this.internal.collections[e+"images"],j=this.internal.write;for(var ce in k)j("/I"+(O=k[ce]).index,O.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},f=function(){var O=this.internal.collections[e+"images"];return c.call(this),O},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(O){return typeof n["process"+O.toUpperCase()]=="function"},_=function(O){return pr(O)==="object"&&O.nodeType===1},v=function(O,k){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var j=""+O.getAttribute("src");if(j.indexOf("data:image/")===0)return op(unescape(j).split("base64,").pop());var ce=n.loadFile(j,!0);if(ce!==void 0)return ce}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var xe;switch(k){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return op(O.toDataURL(xe,1).split("base64,").pop())}},A=function(O){var k=this.internal.collections[e+"images"];if(k){for(var j in k)if(O===k[j].alias)return k[j]}},S=function(O,k,j){return O||k||(O=-96,k=-96),O<0&&(O=-1*j.width*72/O/this.internal.scaleFactor),k<0&&(k=-1*j.height*72/k/this.internal.scaleFactor),O===0&&(O=k*j.width/j.height),k===0&&(k=O*j.height/j.width),[O,k]},I=function(O,k,j,ce,xe,te){var he=S.call(this,j,ce,xe),pe=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,We=f.call(this);if(j=he[0],ce=he[1],We[xe.index]=xe,te){te*=Math.PI/180;var Z=Math.cos(te),F=Math.sin(te),$=function(fe){return fe.toFixed(4)},ie=[$(Z),$(F),$(-1*F),$(Z),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,pe(O),Ce(k+ce),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([pe(j),"0","0",pe(ce),"0","0","cm"].join(" "))):this.internal.write([pe(j),"0","0",pe(ce),pe(O),Ce(k+ce),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},N=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var V=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},q=n.__addimage__.sHashCode=function(O){var k,j,ce=0;if(typeof O=="string")for(j=O.length,k=0;k<j;k++)ce=(ce<<5)-ce+O.charCodeAt(k),ce|=0;else if(ue(O))for(j=O.byteLength/2,k=0;k<j;k++)ce=(ce<<5)-ce+O[k],ce|=0;return ce},U=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var k=!0;return O.length===0&&(k=!1),O.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(k=!1),k},re=n.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var k=O.indexOf(",");return k<0?null:O.substring(0,k).trim().endsWith("base64")?O.substring(k+1):null};n.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var ue=n.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},z=n.__addimage__.binaryStringToUint8Array=function(O){for(var k=O.length,j=new Uint8Array(k),ce=0;ce<k;ce++)j[ce]=O.charCodeAt(ce);return j},R=n.__addimage__.arrayBufferToBinaryString=function(O){for(var k="",j=ue(O)?O:new Uint8Array(O),ce=0;ce<j.length;ce+=8192)k+=String.fromCharCode.apply(null,j.subarray(ce,ce+8192));return k};n.addImage=function(){var O,k,j,ce,xe,te,he,pe,Ce;if(typeof arguments[1]=="number"?(k=t,j=arguments[1],ce=arguments[2],xe=arguments[3],te=arguments[4],he=arguments[5],pe=arguments[6],Ce=arguments[7]):(k=arguments[1],j=arguments[2],ce=arguments[3],xe=arguments[4],te=arguments[5],he=arguments[6],pe=arguments[7],Ce=arguments[8]),pr(O=arguments[0])==="object"&&!_(O)&&"imageData"in O){var We=O;O=We.imageData,k=We.format||k||t,j=We.x||j||0,ce=We.y||ce||0,xe=We.w||We.width||xe,te=We.h||We.height||te,he=We.alias||he,pe=We.compression||pe,Ce=We.rotation||We.angle||Ce}var Z=this.internal.getFilters();if(pe===void 0&&Z.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(j)||isNaN(ce))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var F=P.call(this,O,k,he,pe);return I.call(this,j,ce,xe,te,F,Ce),this};var P=function(O,k,j,ce){var xe,te,he;if(typeof O=="string"&&i(O)===t){O=unescape(O);var pe=H(O,!1);(pe!==""||(pe=n.loadFile(O,!0))!==void 0)&&(O=pe)}if(_(O)&&(O=v(O,k)),k=i(O,k),!g(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((he=j)==null||he.length===0)&&(j=(function(Ce){return typeof Ce=="string"||ue(Ce)?q(Ce):ue(Ce.data)?q(Ce.data):null})(O)),(xe=A.call(this,j))||(O instanceof Uint8Array||k==="RGBA"||(te=O,O=z(O)),xe=this["process"+k.toUpperCase()](O,d.call(this),j,(function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in n.image_compression?Ce:V.NONE})(ce),te)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},H=n.__addimage__.convertBase64ToBinaryString=function(O,k){k=typeof k!="boolean"||k;var j,ce="";if(typeof O=="string"){var xe;j=(xe=re(O))!==null&&xe!==void 0?xe:O;try{ce=op(j)}catch(te){if(k)throw U(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};n.getImageProperties=function(O){var k,j,ce="";if(_(O)&&(O=v(O)),typeof O=="string"&&i(O)===t&&((ce=H(O,!1))===""&&(ce=n.loadFile(O)||""),O=ce),j=i(O),!g(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(O instanceof Uint8Array||(O=z(O)),!(k=this["process"+j.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=j,k}})(Lt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Lt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,d=!1,g=0;g<f.length&&!d;g++)switch((r=f[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var _=0;_<f.length;_++){r=f[_];var v=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(S.objId),V=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+v(N(r.contents))+")",a+=" /Popup "+I.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+v(N(V))+") >>",S.content=a;var q=S.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+q,r.open&&(a+=" /Open true"),a+=" >>",I.content=a,this.internal.write(S.objId,"0 R",I.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(A(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var re=this.annotations._nameMap[r.options.name];r.options.pageNumber=re.page,r.options.top=re.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var ue=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+ue+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:f(r),w:c(t+i),h:f(r+a)},options:s,type:"link"})},n.textWithLink=function(t,r,i,a){var s,l,c=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(t,l).length;s=Math.ceil(f*d)}else l=c,s=f;return this.text(t,r,i,a),i+=.2*f,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-f,l,s,a),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Lt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=n.__arabicParser__.isArabicEndLetter=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(S){return s(S)&&i.indexOf(S.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(S){return s(S)&&a(S)&&e[S.charCodeAt(0)].length==4},g=n.__arabicParser__.resolveLigatures=function(S){var I=0,N=t,V="",q=0;for(I=0;I<S.length;I+=1)N[S.charCodeAt(I)]!==void 0?(q++,typeof(N=N[S.charCodeAt(I)])=="number"&&(V+=String.fromCharCode(N),N=t,q=0),I===S.length-1&&(N=t,V+=S.charAt(I-(q-1)),I-=q-1,q=0)):(N=t,V+=S.charAt(I-q),I-=q,q=0);return V};n.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(S,I,N){return s(S)?a(S)===!1?-1:!f(S)||!s(I)&&!s(N)||!s(N)&&l(I)||l(S)&&!s(I)||l(S)&&c(I)||l(S)&&l(I)?0:d(S)&&s(I)&&!l(I)&&s(N)&&f(N)?3:l(S)||!s(N)?1:2:-1},v=function(S){var I=0,N=0,V=0,q="",U="",re="",ue=(S=S||"").split("\\s+"),z=[];for(I=0;I<ue.length;I+=1){for(z.push(""),N=0;N<ue[I].length;N+=1)q=ue[I][N],U=ue[I][N-1],re=ue[I][N+1],s(q)?(V=_(q,U,re),z[I]+=V!==-1?String.fromCharCode(e[q.charCodeAt(0)][V]):q):z[I]+=q;z[I]=g(z[I])}return z.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var S,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(I)){var V=0;for(N=[],V=0;V<I.length;V+=1)Array.isArray(I[V])?N.push([v(I[V][0]),I[V][1],I[V][2]]):N.push([v(I[V])]);S=N}else S=v(I);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};n.events.push(["preProcessText",A])})(Lt.API),Lt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Lt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(S){_=S}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(S){A=S}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,f){r.call(this);var d=(f=f||{}).fontSize||this.getFontSize(),g=f.font||this.getFont(),_=f.scaleFactor||this.internal.scaleFactor,v=0,A=0,S=0,I=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var N=f.maxWidth;N>0?typeof c=="string"?c=this.splitTextToSize(c,N):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(q,U){return q.concat(I.splitTextToSize(U,N))},[])):c=Array.isArray(c)?c:[c];for(var V=0;V<c.length;V++)v<(S=this.getStringUnitWidth(c[V],{font:g})*d)&&(v=S);return v!==0&&(A=c.length),{w:v/=_,h:Math.max((A*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,v&&_&&(this.printHeaderRow(c.lineNumber,!0),c.y+=_[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};n.table=function(c,f,d,g,_){if(r.call(this),!d)throw new Error("No data for PDF table.");var v,A,S,I,N=[],V=[],q=[],U={},re={},ue=[],z=[],R=(_=_||{}).autoSize||!1,P=_.printHeaders!==!1,H=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,O=_.margins||Object.assign({width:this.getPageWidth()},e),k=typeof _.padding=="number"?_.padding:3,j=_.headerBackgroundColor||"#c8c8c8",ce=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=ce,this.setFontSize(H),g==null)V=N=Object.keys(d[0]),q=N.map(function(){return"left"});else if(Array.isArray(g)&&pr(g[0])==="object")for(N=g.map(function(We){return We.name}),V=g.map(function(We){return We.prompt||We.name||""}),q=g.map(function(We){return We.align||"left"}),v=0;v<g.length;v+=1)re[g[v].name]=.7499990551181103*g[v].width;else Array.isArray(g)&&typeof g[0]=="string"&&(V=N=g,q=N.map(function(){return"left"}));if(R||Array.isArray(g)&&typeof g[0]=="string")for(v=0;v<N.length;v+=1){for(U[I=N[v]]=d.map(function(We){return We[I]}),this.setFont(void 0,"bold"),ue.push(this.getTextDimensions(V[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=U[I],this.setFont(void 0,"normal"),S=0;S<A.length;S+=1)ue.push(this.getTextDimensions(A[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);re[I]=Math.max.apply(null,ue)+k+k,ue=[]}if(P){var xe={};for(v=0;v<N.length;v+=1)xe[N[v]]={},xe[N[v]].text=V[v],xe[N[v]].align=q[v];var te=l.call(this,xe,re);z=N.map(function(We){return new a(c,f,re[We],te,xe[We].text,void 0,xe[We].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var he=g.reduce(function(We,Z){return We[Z.name]=Z.align,We},{});for(v=0;v<d.length;v+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:v,data:d[v]},this);var pe=l.call(this,d[v],re);for(S=0;S<N.length;S+=1){var Ce=d[v][N[S]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:v,col:S,data:Ce},this),s.call(this,new a(c,f,re[N[S]],pe,Ce,v+2,he[N[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var l=function(c,f){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(c).map(function(v){var A=c[v];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,f[v]-d-d)},this).map(function(v){return this.getLineHeightFactor()*v.length*g/_+d+d},this).reduce(function(v,A){return Math.max(v,A)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){d=this.internal.__cell__.tableHeaderRow[v].clone(),f&&(d.y=this.internal.__cell__.margins.top||0,_.push(d)),d.lineNumber=c;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(A)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(Lt.API);var oE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bm=aE(sE),lE=[100,200,300,400,500,600,700,800,900],RL=aE(lE);function wv(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return oE[a=a||"normal"]?a:"normal"})(n.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(n.weight),i=(function(a){return typeof bm[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function U3(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var OL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},V3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function z3(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function H3(n){return n.trimLeft()}function DL(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function LL(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var wh,H0,q3,G3,W3,xv=["times"];function X3(n,e,t,r,i){var a=4,s=K3;switch(i){case Lt.API.image_compression.FAST:a=1,s=Y3;break;case Lt.API.image_compression.MEDIUM:a=6,s=$3;break;case Lt.API.image_compression.SLOW:a=9,s=Z3}n=(function(c,f,d,g){for(var _,v=c.length/f,A=new Uint8Array(c.length+v),S=[PL,Y3,K3,$3,Z3],I=0;I<v;I+=1){var N=I*f,V=c.subarray(N,N+f);if(g)A.set(g(V,d,_),N+I);else{for(var q=S.length,U=[],re=0;re<q;re+=1)U[re]=S[re](V,d,_);var ue=kL(U.concat());A.set(U[ue],N+I)}_=V}return A})(n,e,Math.ceil(t*r/8),s);var l=gm(n,{level:a});return Lt.API.__addimage__.arrayBufferToBinaryString(l)}function PL(n){var e=Array.apply([],n);return e.unshift(0),e}function Y3(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var a=n[i-e]||0;r[i+1]=n[i]-a+256&255}return r}function K3(n,e,t){var r=n.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=t&&t[a]||0;i[a+1]=n[a]-s+256&255}return i}function $3(n,e,t){var r=n.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=n[a-e]||0,l=t&&t[a]||0;i[a+1]=n[a]+256-(s+l>>>1)&255}return i}function Z3(n,e,t){var r=n.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=ML(n[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);i[a+1]=n[a]-s+256&255}return i}function ML(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),a=Math.abs(n+e-t-t);return r<=i&&r<=a?n:i<=a?e:t}function kL(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function bv(n,e,t){var r=e*t,i=Math.floor(r/8),a=16-(r-8*i+t),s=(1<<t)-1;return uE(n,i)>>a&s}function Q3(n,e,t,r){var i=t*r,a=Math.floor(i/8),s=16-(i-8*a+r),l=(1<<r)-1,c=(e&l)<<s;(function(f,d,g){if(d+1<f.byteLength)f.setUint16(d,g,!1);else{var _=g>>8&255;f.setUint8(d,_)}})(n,a,uE(n,a)&~(l<<s)&65535|c)}function uE(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function BL(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],a=i>>7,s=1<<1+(7&i);n[e++],n[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var f=!0,d=[],g=0,_=null,v=0,A=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=n[e++];g=n[e++]|n[e++]<<8,_=n[e++],1&S||(_=null),v=S>>2&7,e++;break;case 254:for(;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var I=n[e++]|n[e++]<<8,N=n[e++]|n[e++]<<8,V=n[e++]|n[e++]<<8,q=n[e++]|n[e++]<<8,U=n[e++],re=U>>6&1,ue=1<<1+(7&U),z=l,R=c,P=!1;U>>7&&(P=!0,z=e,R=ue,e+=3*ue);var H=e;for(e++;;){var O;if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}d.push({x:I,y:N,width:V,height:q,has_local_palette:P,palette_offset:z,palette_size:R,data_offset:H,data_length:e-H,transparent_index:_,interlaced:!!re,delay:g,disposal:v});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return A},this.frameInfo=function(k){if(k<0||k>=d.length)throw new Error("Frame index out of range.");return d[k]},this.decodeAndBlitFrameBGRA=function(k,j){var ce=this.frameInfo(k),xe=ce.width*ce.height,te=new Uint8Array(xe);J3(n,ce.data_offset,te,xe);var he=ce.palette_offset,pe=ce.transparent_index;pe===null&&(pe=256);var Ce=ce.width,We=t-Ce,Z=Ce,F=4*(ce.y*t+ce.x),$=4*((ce.y+ce.height)*t+ce.x),ie=F,fe=4*We;ce.interlaced===!0&&(fe+=4*t*7);for(var de=8,ye=0,Le=te.length;ye<Le;++ye){var Ne=te[ye];if(Z===0&&(Z=Ce,(ie+=fe)>=$&&(fe=4*We+4*t*(de-1),ie=F+(Ce+We)*(de<<1),de>>=1)),Ne===pe)ie+=4;else{var ze=n[he+3*Ne],nt=n[he+3*Ne+1],ut=n[he+3*Ne+2];j[ie++]=ut,j[ie++]=nt,j[ie++]=ze,j[ie++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(k,j){var ce=this.frameInfo(k),xe=ce.width*ce.height,te=new Uint8Array(xe);J3(n,ce.data_offset,te,xe);var he=ce.palette_offset,pe=ce.transparent_index;pe===null&&(pe=256);var Ce=ce.width,We=t-Ce,Z=Ce,F=4*(ce.y*t+ce.x),$=4*((ce.y+ce.height)*t+ce.x),ie=F,fe=4*We;ce.interlaced===!0&&(fe+=4*t*7);for(var de=8,ye=0,Le=te.length;ye<Le;++ye){var Ne=te[ye];if(Z===0&&(Z=Ce,(ie+=fe)>=$&&(fe=4*We+4*t*(de-1),ie=F+(Ce+We)*(de<<1),de>>=1)),Ne===pe)ie+=4;else{var ze=n[he+3*Ne],nt=n[he+3*Ne+1],ut=n[he+3*Ne+2];j[ie++]=ze,j[ie++]=nt,j[ie++]=ut,j[ie++]=255}--Z}}}function J3(n,e,t,r){for(var i=n[e++],a=1<<i,s=a+1,l=s+1,c=i+1,f=(1<<c)-1,d=0,g=0,_=0,v=n[e++],A=new Int32Array(4096),S=null;;){for(;d<16&&v!==0;)g|=n[e++]<<d,d+=8,v===1?v=n[e++]:--v;if(d<c)break;var I=g&f;if(g>>=c,d-=c,I!==a){if(I===s)break;for(var N=I<l?I:S,V=0,q=N;q>a;)q=A[q]>>8,++V;var U=q;if(_+V+(N!==I?1:0)>r)return void Nr.log("Warning, gif stream longer than expected.");t[_++]=U;var re=_+=V;for(N!==I&&(t[_++]=U),q=N;V--;)q=A[q],t[--re]=255&q,q>>=8;S!==null&&l<4096&&(A[l++]=S<<8|U,l>=f+1&&c<12&&(++c,f=f<<1|1)),S=I}else l=s+1,f=(1<<(c=i+1))-1,S=null}return _!==r&&Nr.log("Warning, gif stream shorter than expected."),t}function Av(n){var e,t,r,i,a,s=Math.floor,l=new Array(64),c=new Array(64),f=new Array(64),d=new Array(64),g=new Array(65535),_=new Array(65535),v=new Array(64),A=new Array(64),S=[],I=0,N=7,V=new Array(64),q=new Array(64),U=new Array(64),re=new Array(256),ue=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(F,$){for(var ie=0,fe=0,de=new Array,ye=1;ye<=16;ye++){for(var Le=1;Le<=F[ye];Le++)de[$[fe]]=[],de[$[fe]][0]=ie,de[$[fe]][1]=ye,fe++,ie++;ie*=2}return de}function he(F){for(var $=F[0],ie=F[1]-1;ie>=0;)$&1<<ie&&(I|=1<<N),ie--,--N<0&&(I==255?(pe(255),pe(0)):pe(I),N=7,I=0)}function pe(F){S.push(F)}function Ce(F){pe(F>>8&255),pe(255&F)}function We(F,$,ie,fe,de){for(var ye,Le=de[0],Ne=de[240],ze=(function(Fe,rt){var $e,ot,ft,Vt,Qt,Bt,sn,Nt,ht,Yt,gt=0;for(ht=0;ht<8;++ht){$e=Fe[gt],ot=Fe[gt+1],ft=Fe[gt+2],Vt=Fe[gt+3],Qt=Fe[gt+4],Bt=Fe[gt+5],sn=Fe[gt+6];var tr=$e+(Nt=Fe[gt+7]),tn=$e-Nt,Pt=ot+sn,Kt=ot-sn,on=ft+Bt,Rt=ft-Bt,jn=Vt+Qt,zt=Vt-Qt,Ht=tr+jn,Hn=tr-jn,It=Pt+on,Ct=Pt-on;Fe[gt]=Ht+It,Fe[gt+4]=Ht-It;var pn=.707106781*(Ct+Hn);Fe[gt+2]=Hn+pn,Fe[gt+6]=Hn-pn;var Bi=.382683433*((Ht=zt+Rt)-(Ct=Kt+tn)),Ci=.5411961*Ht+Bi,Ao=1.306562965*Ct+Bi,vi=.707106781*(It=Rt+Kt),Ot=tn+vi,Zo=tn-vi;Fe[gt+5]=Zo+Ci,Fe[gt+3]=Zo-Ci,Fe[gt+1]=Ot+Ao,Fe[gt+7]=Ot-Ao,gt+=8}for(gt=0,ht=0;ht<8;++ht){$e=Fe[gt],ot=Fe[gt+8],ft=Fe[gt+16],Vt=Fe[gt+24],Qt=Fe[gt+32],Bt=Fe[gt+40],sn=Fe[gt+48];var Ea=$e+(Nt=Fe[gt+56]),aa=$e-Nt,oa=ot+sn,nr=ot-sn,gr=ft+Bt,oi=ft-Bt,Fi=Vt+Qt,Ti=Vt-Qt,qn=Ea+Fi,sr=Ea-Fi,si=oa+gr,sa=oa-gr;Fe[gt]=qn+si,Fe[gt+32]=qn-si;var Ga=.707106781*(sa+sr);Fe[gt+16]=sr+Ga,Fe[gt+48]=sr-Ga;var ps=.382683433*((qn=Ti+oi)-(sa=nr+aa)),uo=.5411961*qn+ps,la=1.306562965*sa+ps,Qo=.707106781*(si=oi+nr),Sa=aa+Qo,ji=aa-Qo;Fe[gt+40]=ji+uo,Fe[gt+24]=ji-uo,Fe[gt+8]=Sa+la,Fe[gt+56]=Sa-la,gt++}for(ht=0;ht<64;++ht)Yt=Fe[ht]*rt[ht],v[ht]=Yt>0?Yt+.5|0:Yt-.5|0;return v})(F,$),nt=0;nt<64;++nt)A[z[nt]]=ze[nt];var ut=A[0]-ie;ie=A[0],ut==0?he(fe[0]):(he(fe[_[ye=32767+ut]]),he(g[ye]));for(var ke=63;ke>0&&A[ke]==0;)ke--;if(ke==0)return he(Le),ie;for(var Ke,Q=1;Q<=ke;){for(var et=Q;A[Q]==0&&Q<=ke;)++Q;var wt=Q-et;if(wt>=16){Ke=wt>>4;for(var ct=1;ct<=Ke;++ct)he(Ne);wt&=15}ye=32767+A[Q],he(de[(wt<<4)+_[ye]]),he(g[ye]),Q++}return ke!=63&&he(Le),ie}function Z(F){F=Math.min(Math.max(F,1),100),a!=F&&((function($){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var de=s((ie[fe]*$+50)/100);de=Math.min(Math.max(de,1),255),l[z[fe]]=de}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Le=0;Le<64;Le++){var Ne=s((ye[Le]*$+50)/100);Ne=Math.min(Math.max(Ne,1),255),c[z[Le]]=Ne}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],nt=0,ut=0;ut<8;ut++)for(var ke=0;ke<8;ke++)f[nt]=1/(l[z[nt]]*ze[ut]*ze[ke]*8),d[nt]=1/(c[z[nt]]*ze[ut]*ze[ke]*8),nt++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),a=F)}this.encode=function(F,$){$&&Z($),S=new Array,I=0,N=7,Ce(65496),Ce(65504),Ce(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Ce(1),Ce(1),pe(0),pe(0),(function(){Ce(65499),Ce(132),pe(0);for(var ot=0;ot<64;ot++)pe(l[ot]);pe(1);for(var ft=0;ft<64;ft++)pe(c[ft])})(),(function(ot,ft){Ce(65472),Ce(17),pe(8),Ce(ft),Ce(ot),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(F.width,F.height),(function(){Ce(65476),Ce(418),pe(0);for(var ot=0;ot<16;ot++)pe(R[ot+1]);for(var ft=0;ft<=11;ft++)pe(P[ft]);pe(16);for(var Vt=0;Vt<16;Vt++)pe(H[Vt+1]);for(var Qt=0;Qt<=161;Qt++)pe(O[Qt]);pe(1);for(var Bt=0;Bt<16;Bt++)pe(k[Bt+1]);for(var sn=0;sn<=11;sn++)pe(j[sn]);pe(17);for(var Nt=0;Nt<16;Nt++)pe(ce[Nt+1]);for(var ht=0;ht<=161;ht++)pe(xe[ht])})(),Ce(65498),Ce(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var ie=0,fe=0,de=0;I=0,N=7,this.encode.displayName="_encode_";for(var ye,Le,Ne,ze,nt,ut,ke,Ke,Q,et=F.data,wt=F.width,ct=F.height,Fe=4*wt,rt=0;rt<ct;){for(ye=0;ye<Fe;){for(nt=Fe*rt+ye,ke=-1,Ke=0,Q=0;Q<64;Q++)ut=nt+(Ke=Q>>3)*Fe+(ke=4*(7&Q)),rt+Ke>=ct&&(ut-=Fe*(rt+1+Ke-ct)),ye+ke>=Fe&&(ut-=ye+ke-Fe+4),Le=et[ut++],Ne=et[ut++],ze=et[ut++],V[Q]=(ue[Le]+ue[Ne+256|0]+ue[ze+512|0]>>16)-128,q[Q]=(ue[Le+768|0]+ue[Ne+1024|0]+ue[ze+1280|0]>>16)-128,U[Q]=(ue[Le+1280|0]+ue[Ne+1536|0]+ue[ze+1792|0]>>16)-128;ie=We(V,f,ie,e,r),fe=We(q,d,fe,t,i),de=We(U,d,de,t,i),ye+=32}rt+=8}if(N>=0){var $e=[];$e[1]=N+1,$e[0]=(1<<N+1)-1,he($e)}return Ce(65497),new Uint8Array(S)},n=n||50,(function(){for(var F=String.fromCharCode,$=0;$<256;$++)re[$]=F($)})(),e=te(R,P),t=te(k,j),r=te(H,O),i=te(ce,xe),(function(){for(var F=1,$=2,ie=1;ie<=15;ie++){for(var fe=F;fe<$;fe++)_[32767+fe]=ie,g[32767+fe]=[],g[32767+fe][1]=ie,g[32767+fe][0]=fe;for(var de=-($-1);de<=-F;de++)_[32767+de]=ie,g[32767+de]=[],g[32767+de][1]=ie,g[32767+de][0]=$-1+de;F<<=1,$<<=1}})(),(function(){for(var F=0;F<256;F++)ue[F]=19595*F,ue[F+256|0]=38470*F,ue[F+512|0]=7471*F+32768,ue[F+768|0]=-11059*F,ue[F+1024|0]=-21709*F,ue[F+1280|0]=32768*F+8421375,ue[F+1536|0]=-27439*F,ue[F+1792|0]=-5329*F})(),Z(n)}function ol(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function e4(n){function e(P){if(!P)throw Error("assert :P")}function t(P,H,O){for(var k=0;4>k;k++)if(P[H+k]!=O.charCodeAt(k))return!0;return!1}function r(P,H,O,k,j){for(var ce=0;ce<j;ce++)P[H+ce]=O[k+ce]}function i(P,H,O,k){for(var j=0;j<k;j++)P[H+j]=O}function a(P){return new Int32Array(P)}function s(P,H){for(var O=[],k=0;k<P;k++)O.push(new H);return O}function l(P,H){var O=[];return(function k(j,ce,xe){for(var te=xe[ce],he=0;he<te&&(j.push(xe.length>ce+1?[]:new H),!(xe.length<ce+1));he++)k(j[he],ce+1,xe)})(O,0,P),O}var c=function(){var P=this;function H(m,x){for(var C=1<<x-1>>>0;m&C;)C>>>=1;return C?(m&C-1)+C:m}function O(m,x,C,L,W){e(!(L%C));do m[x+(L-=C)]=W;while(0<L)}function k(m,x,C,L,W){if(e(2328>=W),512>=W)var X=a(512);else if((X=a(W))==null)return 0;return(function(Y,J,ne,le,me,Ie){var oe,we,Se=J,Ue=1<<ne,Te=a(16),je=a(16);for(e(me!=0),e(le!=null),e(Y!=null),e(0<ne),we=0;we<me;++we){if(15<le[we])return 0;++Te[le[we]]}if(Te[0]==me)return 0;for(je[1]=0,oe=1;15>oe;++oe){if(Te[oe]>1<<oe)return 0;je[oe+1]=je[oe]+Te[oe]}for(we=0;we<me;++we)oe=le[we],0<le[we]&&(Ie[je[oe]++]=we);if(je[15]==1)return(le=new j).g=0,le.value=Ie[0],O(Y,Se,1,Ue,le),Ue;var Ge,it=-1,Ze=Ue-1,bt=0,dt=1,nn=1,yt=1<<ne;for(we=0,oe=1,me=2;oe<=ne;++oe,me<<=1){if(dt+=nn<<=1,0>(nn-=Te[oe]))return 0;for(;0<Te[oe];--Te[oe])(le=new j).g=oe,le.value=Ie[we++],O(Y,Se+bt,me,yt,le),bt=H(bt,oe)}for(oe=ne+1,me=2;15>=oe;++oe,me<<=1){if(dt+=nn<<=1,0>(nn-=Te[oe]))return 0;for(;0<Te[oe];--Te[oe]){if(le=new j,(bt&Ze)!=it){for(Se+=yt,Ge=1<<(it=oe)-ne;15>it&&!(0>=(Ge-=Te[it]));)++it,Ge<<=1;Ue+=yt=1<<(Ge=it-ne),Y[J+(it=bt&Ze)].g=Ge+ne,Y[J+it].value=Se-J-it}le.g=oe-ne,le.value=Ie[we++],O(Y,Se+(bt>>ne),me,yt,le),bt=H(bt,oe)}}return dt!=2*je[15]-1?0:Ue})(m,x,C,L,W,X)}function j(){this.value=this.g=0}function ce(){this.value=this.g=0}function xe(){this.G=s(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(El,ce)}function te(m,x,C,L){e(m!=null),e(x!=null),e(2147483648>L),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=C,m.Jd=x,m.Yc=C+L,m.Zc=4<=L?C+L-4+1:C,Le(m)}function he(m,x){for(var C=0;0<x--;)C|=ze(m,128)<<x;return C}function pe(m,x){var C=he(m,x);return Ne(m)?-C:C}function Ce(m,x,C,L){var W,X=0;for(e(m!=null),e(x!=null),e(4294967288>L),m.Sb=L,m.Ra=0,m.u=0,m.h=0,4<L&&(L=4),W=0;W<L;++W)X+=x[C+W]<<8*W;m.Ra=X,m.bb=L,m.oa=x,m.pa=C}function We(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<bs-8>>>0,++m.bb,m.u-=8;fe(m)&&(m.h=1,m.u=0)}function Z(m,x){if(e(0<=x),!m.h&&x<=La){var C=ie(m)&$a[x];return m.u+=x,We(m),C}return m.h=1,m.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(m){return m.Ra>>>(m.u&bs-1)>>>0}function fe(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>bs}function de(m,x){m.u=x,m.h=fe(m)}function ye(m){m.u>=As&&(e(m.u>=As),We(m))}function Le(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Ne(m){return he(m,1)}function ze(m,x){var C=m.Ca;0>m.b&&Le(m);var L=m.b,W=C*x>>>8,X=(m.I>>>L>W)+0;for(X?(C-=W,m.I-=W+1<<L>>>0):C=W+1,L=C,W=0;256<=L;)W+=8,L>>=8;return L=7^W+Xs[L],m.b-=L,m.Ca=(C<<L)-1,X}function nt(m,x,C){m[x+0]=C>>24&255,m[x+1]=C>>16&255,m[x+2]=C>>8&255,m[x+3]=255&C}function ut(m,x){return m[x+0]|m[x+1]<<8}function ke(m,x){return ut(m,x)|m[x+2]<<16}function Ke(m,x){return ut(m,x)|ut(m,x+2)<<16}function Q(m,x){var C=1<<x;return e(m!=null),e(0<x),m.X=a(C),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function et(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),r(x.X,0,m.X,0,1<<x.Xa)}function wt(){this.X=[],this.Xa=this.Mb=0}function ct(m,x,C,L){e(C!=null),e(L!=null);var W=C[0],X=L[0];return W==0&&(W=(m*X+x/2)/x),X==0&&(X=(x*W+m/2)/m),0>=W||0>=X?0:(C[0]=W,L[0]=X,1)}function Fe(m,x){return m+(1<<x)-1>>>x}function rt(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function $e(m,x){P[x]=function(C,L,W,X,Y,J,ne){var le;for(le=0;le<Y;++le){var me=P[m](J[ne+le-1],W,X+le);J[ne+le]=rt(C[L+le],me)}}}function ot(){this.ud=this.hd=this.jd=0}function ft(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function Vt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Qt(m,x){return Vt(m+(m-x+.5>>1))}function Bt(m,x,C){return Math.abs(x-C)-Math.abs(m-C)}function sn(m,x,C,L,W,X,Y){for(L=X[Y-1],C=0;C<W;++C)X[Y+C]=L=rt(m[x+C],L)}function Nt(m,x,C,L,W){var X;for(X=0;X<C;++X){var Y=m[x+X],J=Y>>8&255,ne=16711935&(ne=(ne=16711935&Y)+((J<<16)+J));L[W+X]=(4278255360&Y)+ne>>>0}}function ht(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function Yt(m,x,C,L,W,X){var Y;for(Y=0;Y<L;++Y){var J=x[C+Y],ne=J>>>8,le=J,me=255&(me=(me=J>>>16)+((m.jd<<24>>24)*(ne<<24>>24)>>>5));le=255&(le=(le+=(m.hd<<24>>24)*(ne<<24>>24)>>>5)+((m.ud<<24>>24)*(me<<24>>24)>>>5)),W[X+Y]=(4278255360&J)+(me<<16)+le}}function gt(m,x,C,L,W){P[x]=function(X,Y,J,ne,le,me,Ie,oe,we){for(ne=Ie;ne<oe;++ne)for(Ie=0;Ie<we;++Ie)le[me++]=W(J[L(X[Y++])])},P[m]=function(X,Y,J,ne,le,me,Ie){var oe=8>>X.b,we=X.Ea,Se=X.K[0],Ue=X.w;if(8>oe)for(X=(1<<X.b)-1,Ue=(1<<oe)-1;Y<J;++Y){var Te,je=0;for(Te=0;Te<we;++Te)Te&X||(je=L(ne[le++])),me[Ie++]=W(Se[je&Ue]),je>>=oe}else P["VP8LMapColor"+C](ne,le,Se,Ue,me,Ie,Y,J,we)}}function tr(m,x,C,L,W){for(C=x+C;x<C;){var X=m[x++];L[W++]=X>>16&255,L[W++]=X>>8&255,L[W++]=255&X}}function tn(m,x,C,L,W){for(C=x+C;x<C;){var X=m[x++];L[W++]=X>>16&255,L[W++]=X>>8&255,L[W++]=255&X,L[W++]=X>>24&255}}function Pt(m,x,C,L,W){for(C=x+C;x<C;){var X=(Y=m[x++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;L[W++]=X,L[W++]=Y}}function Kt(m,x,C,L,W){for(C=x+C;x<C;){var X=(Y=m[x++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;L[W++]=X,L[W++]=Y}}function on(m,x,C,L,W){for(C=x+C;x<C;){var X=m[x++];L[W++]=255&X,L[W++]=X>>8&255,L[W++]=X>>16&255}}function Rt(m,x,C,L,W,X){if(X==0)for(C=x+C;x<C;)nt(L,((X=m[x++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),W+=32;else r(L,W,m,x,C)}function jn(m,x){P[x][0]=P[m+"0"],P[x][1]=P[m+"1"],P[x][2]=P[m+"2"],P[x][3]=P[m+"3"],P[x][4]=P[m+"4"],P[x][5]=P[m+"5"],P[x][6]=P[m+"6"],P[x][7]=P[m+"7"],P[x][8]=P[m+"8"],P[x][9]=P[m+"9"],P[x][10]=P[m+"10"],P[x][11]=P[m+"11"],P[x][12]=P[m+"12"],P[x][13]=P[m+"13"],P[x][14]=P[m+"0"],P[x][15]=P[m+"0"]}function zt(m){return m==nf||m==Hf||m==Xu||m==qf}function Ht(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function It(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ht,this.f.kb=new Hn,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bi(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Ci(m,x){var C=m.T,L=x.ba.f.RGBA,W=L.eb,X=L.fb+m.ka*L.A,Y=Wi[x.ba.S],J=m.y,ne=m.O,le=m.f,me=m.N,Ie=m.ea,oe=m.W,we=x.cc,Se=x.dc,Ue=x.Mc,Te=x.Nc,je=m.ka,Ge=m.ka+m.T,it=m.U,Ze=it+1>>1;for(je==0?Y(J,ne,null,null,le,me,Ie,oe,le,me,Ie,oe,W,X,null,null,it):(Y(x.ec,x.fc,J,ne,we,Se,Ue,Te,le,me,Ie,oe,W,X-L.A,W,X,it),++C);je+2<Ge;je+=2)we=le,Se=me,Ue=Ie,Te=oe,me+=m.Rc,oe+=m.Rc,X+=2*L.A,Y(J,(ne+=2*m.fa)-m.fa,J,ne,we,Se,Ue,Te,le,me,Ie,oe,W,X-L.A,W,X,it);return ne+=m.fa,m.j+Ge<m.o?(r(x.ec,x.fc,J,ne,it),r(x.cc,x.dc,le,me,Ze),r(x.Mc,x.Nc,Ie,oe,Ze),C--):1&Ge||Y(J,ne,null,null,le,me,Ie,oe,le,me,Ie,oe,W,X+L.A,null,null,it),C}function Ao(m,x,C){var L=m.F,W=[m.J];if(L!=null){var X=m.U,Y=x.ba.S,J=Y==tf||Y==Xu;x=x.ba.f.RGBA;var ne=[0],le=m.ka;ne[0]=m.T,m.Kb&&(le==0?--ne[0]:(--le,W[0]-=m.width),m.j+m.ka+m.T==m.o&&(ne[0]=m.o-m.j-le));var me=x.eb;le=x.fb+le*x.A,m=Zc(L,W[0],m.width,X,ne,me,le+(J?0:3),x.A),e(C==ne),m&&zt(Y)&&uu(me,le,J,X,ne,x.A)}return 0}function vi(m){var x=m.ma,C=x.ba.S,L=11>C,W=C==pa||C==Oo||C==tf||C==Wu||C==12||zt(C);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Ws(x.Oa,m,W?11:12))return 0;if(W&&zt(C)&&en(),m.da)alert("todo:use_scaling");else{if(L){if(x.Ib=Bi,m.Kb){if(C=m.U+1>>1,x.memory=a(m.U+2*C),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+C,x.Ib=Ci,en()}}else alert("todo:EmitYUV");W&&(x.Jb=Ao,L&&Pe())}if(L&&!Ol){for(m=0;256>m;++m)Xi[m]=89858*(m-128)+$u>>Bo,C2[m]=-22014*(m-128)+$u,z1[m]=-45773*(m-128),Kf[m]=113618*(m-128)+$u>>Bo;for(m=du;m<Rl;++m)x=76283*(m-16)+$u>>Bo,T2[m-du]=Ta(x,255),N2[m-du]=Ta(x+8>>4,15);Ol=1}return 1}function Ot(m){var x=m.ma,C=m.U,L=m.T;return e(!(1&m.ka)),0>=C||0>=L?0:(C=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,C),x.Dc+=C,1)}function Zo(m){m.ma.memory=null}function Ea(m,x,C,L){return Z(m,8)!=47?0:(x[0]=Z(m,14)+1,C[0]=Z(m,14)+1,L[0]=Z(m,1),Z(m,3)!=0?0:!m.h)}function aa(m,x){if(4>m)return m+1;var C=m-2>>1;return(2+(1&m)<<C)+Z(x,C)+1}function oa(m,x){return 120<x?x-120:1<=(C=((C=Lo[x-1])>>4)*m+(8-(15&C)))?C:1;var C}function nr(m,x,C){var L=ie(C),W=m[x+=255&L].g-8;return 0<W&&(de(C,C.u+8),L=ie(C),x+=m[x].value,x+=L&(1<<W)-1),de(C,C.u+m[x].g),m[x].value}function gr(m,x,C){return C.g+=m.g,C.value+=m.value<<x>>>0,e(8>=C.g),m.g}function oi(m,x,C){var L=m.xc;return e((x=L==0?0:m.vc[m.md*(C>>L)+(x>>L)])<m.Wb),m.Ya[x]}function Fi(m,x,C,L){var W=m.ab,X=m.c*x,Y=m.C;x=Y+x;var J=C,ne=L;for(L=m.Ta,C=m.Ua;0<W--;){var le=m.gc[W],me=Y,Ie=x,oe=J,we=ne,Se=(ne=L,J=C,le.Ea);switch(e(me<Ie),e(Ie<=le.nc),le.hc){case 2:Jr(oe,we,(Ie-me)*Se,ne,J);break;case 0:var Ue=me,Te=Ie,je=ne,Ge=J,it=(yt=le).Ea;Ue==0&&(zu(oe,we,null,null,1,je,Ge),sn(oe,we+1,0,0,it-1,je,Ge+1),we+=it,Ge+=it,++Ue);for(var Ze=1<<yt.b,bt=Ze-1,dt=Fe(it,yt.b),nn=yt.K,yt=yt.w+(Ue>>yt.b)*dt;Ue<Te;){var xn=nn,Cr=yt,un=1;for(Hu(oe,we,je,Ge-it,1,je,Ge);un<it;){var pt=(un&~bt)+Ze;pt>it&&(pt=it),(0,Ys[xn[Cr++]>>8&15])(oe,we+ +un,je,Ge+un-it,pt-un,je,Ge+un),un=pt}we+=it,Ge+=it,++Ue&bt||(yt+=dt)}Ie!=le.nc&&r(ne,J-Se,ne,J+(Ie-me-1)*Se,Se);break;case 1:for(Se=oe,Te=we,it=(oe=le.Ea)-(Ge=oe&~(je=(we=1<<le.b)-1)),Ue=Fe(oe,le.b),Ze=le.K,le=le.w+(me>>le.b)*Ue;me<Ie;){for(bt=Ze,dt=le,nn=new ot,yt=Te+Ge,xn=Te+oe;Te<yt;)ht(bt[dt++],nn),qu(nn,Se,Te,we,ne,J),Te+=we,J+=we;Te<xn&&(ht(bt[dt++],nn),qu(nn,Se,Te,it,ne,J),Te+=it,J+=it),++me&je||(le+=Ue)}break;case 3:if(oe==ne&&we==J&&0<le.b){for(Te=ne,oe=Se=J+(Ie-me)*Se-(Ge=(Ie-me)*Fe(le.Ea,le.b)),we=ne,je=J,Ue=[],Ge=(it=Ge)-1;0<=Ge;--Ge)Ue[Ge]=we[je+Ge];for(Ge=it-1;0<=Ge;--Ge)Te[oe+Ge]=Ue[Ge];Ff(le,me,Ie,ne,Se,ne,J)}else Ff(le,me,Ie,oe,we,ne,J)}J=L,ne=C}ne!=C&&r(L,C,J,ne,X)}function Ti(m,x){var C=m.V,L=m.Ba+m.c*m.C,W=x-m.C;if(e(x<=m.l.o),e(16>=W),0<W){var X=m.l,Y=m.Ta,J=m.Ua,ne=X.width;if(Fi(m,W,C,L),W=J=[J],e((C=m.C)<(L=x)),e(X.v<X.va),L>X.o&&(L=X.o),C<X.j){var le=X.j-C;C=X.j,W[0]+=le*ne}if(C>=L?C=0:(W[0]+=4*X.v,X.ka=C-X.j,X.U=X.va-X.v,X.T=L-C,C=1),C){if(J=J[0],11>(C=m.ca).S){var me=C.f.RGBA,Ie=(L=C.S,W=X.U,X=X.T,le=me.eb,me.A),oe=X;for(me=me.fb+m.Ma*me.A;0<oe--;){var we=Y,Se=J,Ue=W,Te=le,je=me;switch(L){case Vf:Gu(we,Se,Ue,Te,je);break;case pa:Ks(we,Se,Ue,Te,je);break;case nf:Ks(we,Se,Ue,Te,je),uu(Te,je,0,Ue,1,0);break;case zf:su(we,Se,Ue,Te,je);break;case Oo:Rt(we,Se,Ue,Te,je,1);break;case Hf:Rt(we,Se,Ue,Te,je,1),uu(Te,je,0,Ue,1,0);break;case tf:Rt(we,Se,Ue,Te,je,0);break;case Xu:Rt(we,Se,Ue,Te,je,0),uu(Te,je,1,Ue,1,0);break;case Wu:$s(we,Se,Ue,Te,je);break;case qf:$s(we,Se,Ue,Te,je),Ro(Te,je,Ue,1,0);break;case Sl:Cs(we,Se,Ue,Te,je);break;default:e(0)}J+=ne,me+=Ie}m.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=C.height)}}m.C=x,e(m.C<=m.i)}function qn(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var C=m.Ya[x].G,L=m.Ya[x].H;if(0<C[1][L[1]+0].g||0<C[2][L[2]+0].g||0<C[3][L[3]+0].g)return 0}return 1}function sr(m,x,C,L,W,X){if(m.Z!=0){var Y=m.qd,J=m.rd;for(e(Js[m.Z]!=null);x<C;++x)Js[m.Z](Y,J,L,W,L,W,X),Y=L,J=W,W+=X;m.qd=Y,m.rd=J}}function si(m,x){var C=m.l.ma,L=C.Z==0||C.Z==1?m.l.j:m.C;if(L=m.C<L?L:m.C,e(x<=m.l.o),x>L){var W=m.l.width,X=C.ca,Y=C.tb+W*L,J=m.V,ne=m.Ba+m.c*L,le=m.gc;e(m.ab==1),e(le[0].hc==3),Ss(le[0],L,x,J,ne,X,Y),sr(C,L,x,X,Y,W)}m.C=m.Ma=x}function sa(m,x,C,L,W,X,Y){var J=m.$/L,ne=m.$%L,le=m.m,me=m.s,Ie=C+m.$,oe=Ie;W=C+L*W;var we=C+L*X,Se=280+me.ua,Ue=m.Pb?J:16777216,Te=0<me.ua?me.Wa:null,je=me.wc,Ge=Ie<we?oi(me,ne,J):null;e(m.C<X),e(we<=W);var it=!1;e:for(;;){for(;it||Ie<we;){var Ze=0;if(J>=Ue){var bt=Ie-C;e((Ue=m).Pb),Ue.wd=Ue.m,Ue.xd=bt,0<Ue.s.ua&&et(Ue.s.Wa,Ue.s.vb),Ue=J+Cl}if(ne&je||(Ge=oi(me,ne,J)),e(Ge!=null),Ge.Qb&&(x[Ie]=Ge.qb,it=!0),!it)if(ye(le),Ge.jc){Ze=le,bt=x;var dt=Ie,nn=Ge.pd[ie(Ze)&El-1];e(Ge.jc),256>nn.g?(de(Ze,Ze.u+nn.g),bt[dt]=nn.value,Ze=0):(de(Ze,Ze.u+nn.g-256),e(256<=nn.value),Ze=nn.value),Ze==0&&(it=!0)}else Ze=nr(Ge.G[0],Ge.H[0],le);if(le.h)break;if(it||256>Ze){if(!it)if(Ge.nd)x[Ie]=(Ge.qb|Ze<<8)>>>0;else{if(ye(le),it=nr(Ge.G[1],Ge.H[1],le),ye(le),bt=nr(Ge.G[2],Ge.H[2],le),dt=nr(Ge.G[3],Ge.H[3],le),le.h)break;x[Ie]=(dt<<24|it<<16|Ze<<8|bt)>>>0}if(it=!1,++Ie,++ne>=L&&(ne=0,++J,Y!=null&&J<=X&&!(J%16)&&Y(m,J),Te!=null))for(;oe<Ie;)Ze=x[oe++],Te.X[(506832829*Ze&4294967295)>>>Te.Mb]=Ze}else if(280>Ze){if(Ze=aa(Ze-256,le),bt=nr(Ge.G[4],Ge.H[4],le),ye(le),bt=oa(L,bt=aa(bt,le)),le.h)break;if(Ie-C<bt||W-Ie<Ze)break e;for(dt=0;dt<Ze;++dt)x[Ie+dt]=x[Ie+dt-bt];for(Ie+=Ze,ne+=Ze;ne>=L;)ne-=L,++J,Y!=null&&J<=X&&!(J%16)&&Y(m,J);if(e(Ie<=W),ne&je&&(Ge=oi(me,ne,J)),Te!=null)for(;oe<Ie;)Ze=x[oe++],Te.X[(506832829*Ze&4294967295)>>>Te.Mb]=Ze}else{if(!(Ze<Se))break e;for(it=Ze-280,e(Te!=null);oe<Ie;)Ze=x[oe++],Te.X[(506832829*Ze&4294967295)>>>Te.Mb]=Ze;Ze=Ie,e(!(it>>>(bt=Te).Xa)),x[Ze]=bt.X[it],it=!0}it||e(le.h==fe(le))}if(m.Pb&&le.h&&Ie<W)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&et(m.s.vb,m.s.Wa);else{if(le.h)break e;Y?.(m,J>X?X:J),m.a=0,m.$=Ie-C}return 1}return m.a=3,0}function Ga(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function ps(){var m=new Ft;return m==null?null:(m.a=0,m.xb=dd,jn("Predictor","VP8LPredictors"),jn("Predictor","VP8LPredictors_C"),jn("PredictorAdd","VP8LPredictorsAdd"),jn("PredictorAdd","VP8LPredictorsAdd_C"),Jr=Nt,qu=Yt,Gu=tr,Ks=tn,$s=Pt,Cs=Kt,su=on,P.VP8LMapColor32b=Es,P.VP8LMapColor8b=Hi,m)}function uo(m,x,C,L,W){var X=1,Y=[m],J=[x],ne=L.m,le=L.s,me=null,Ie=0;e:for(;;){if(C)for(;X&&Z(ne,1);){var oe=Y,we=J,Se=L,Ue=1,Te=Se.m,je=Se.gc[Se.ab],Ge=Z(Te,2);if(Se.Oc&1<<Ge)X=0;else{switch(Se.Oc|=1<<Ge,je.hc=Ge,je.Ea=oe[0],je.nc=we[0],je.K=[null],++Se.ab,e(4>=Se.ab),Ge){case 0:case 1:je.b=Z(Te,3)+2,Ue=uo(Fe(je.Ea,je.b),Fe(je.nc,je.b),0,Se,je.K),je.K=je.K[0];break;case 3:var it,Ze=Z(Te,8)+1,bt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(oe[0]=Fe(je.Ea,bt),je.b=bt,it=Ue=uo(Ze,1,0,Se,je.K)){var dt,nn=Ze,yt=je,xn=1<<(8>>yt.b),Cr=a(xn);if(Cr==null)it=0;else{var un=yt.K[0],pt=yt.w;for(Cr[0]=yt.K[0][0],dt=1;dt<1*nn;++dt)Cr[dt]=rt(un[pt+dt],Cr[dt-1]);for(;dt<4*xn;++dt)Cr[dt]=0;yt.K[0]=null,yt.K[0]=Cr,it=1}}Ue=it;break;case 2:break;default:e(0)}X=Ue}}if(Y=Y[0],J=J[0],X&&Z(ne,1)&&!(X=1<=(Ie=Z(ne,4))&&11>=Ie)){L.a=3;break e}var lt;if(lt=X)t:{var Pr,$t,dn,$n=L,_i=Y,Yi=J,_r=Ie,ui=C,ga=$n.m,ci=$n.s,mn=[null],Pn=1,Mr=0,Vn=Po[_r];n:for(;;){if(ui&&Z(ga,1)){var wi=Z(ga,3)+2,kr=Fe(_i,wi),Mn=Fe(Yi,wi),ni=kr*Mn;if(!uo(kr,Mn,0,$n,mn))break n;for(mn=mn[0],ci.xc=wi,Pr=0;Pr<ni;++Pr){var Zn=mn[Pr]>>8&65535;mn[Pr]=Zn,Zn>=Pn&&(Pn=Zn+1)}}if(ga.h)break n;for($t=0;5>$t;++$t){var fi=fu[$t];!$t&&0<_r&&(fi+=1<<_r),Mr<fi&&(Mr=fi)}var hi=s(Pn*Vn,j),ur=Pn,Ln=s(ur,xe);if(Ln==null)var va=null;else e(65536>=ur),va=Ln;var Xr=a(Mr);if(va==null||Xr==null||hi==null){$n.a=1;break n}var kt=hi;for(Pr=dn=0;Pr<Pn;++Pr){var jt=va[Pr],kn=jt.G,Za=jt.H,Fo=0,Ma=1,di=0;for($t=0;5>$t;++$t){fi=fu[$t],kn[$t]=kt,Za[$t]=dn,!$t&&0<_r&&(fi+=1<<_r);i:{var Dl,Ll=fi,Zf=$n,wr=Xr,gd=kt,vd=dn,Qf=0,el=Zf.m,I2=Z(el,1);if(i(wr,0,0,Ll),I2){var md=Z(el,1)+1,yd=Z(el,1),Jf=Z(el,yd==0?1:8);wr[Jf]=1,md==2&&(wr[Jf=Z(el,8)]=1);var Oi=1}else{var Yr=a(19),sf=Z(el,4)+4;if(19<sf){Zf.a=3;var Pl=0;break i}for(Dl=0;Dl<sf;++Dl)Yr[rf[Dl]]=Z(el,3);var Qu=void 0,pu=void 0,Is=Zf,eh=Yr,Ju=Ll,th=wr,nh=0,tl=Is.m,_d=8,wd=s(128,j);r:for(;k(wd,0,7,eh,19);){if(Z(tl,1)){var H1=2+2*Z(tl,3);if((Qu=2+Z(tl,H1))>Ju)break r}else Qu=Ju;for(pu=0;pu<Ju&&Qu--;){ye(tl);var xd=wd[0+(127&ie(tl))];de(tl,tl.u+xd.g);var Ml=xd.value;if(16>Ml)th[pu++]=Ml,Ml!=0&&(_d=Ml);else{var q1=Ml==16,G1=Ml-16,W1=Yu[G1],bd=Z(tl,Do[G1])+W1;if(pu+bd>Ju)break r;for(var X1=q1?_d:0;0<bd--;)th[pu++]=X1}}nh=1;break r}nh||(Is.a=3),Oi=nh}(Oi=Oi&&!el.h)&&(Qf=k(gd,vd,8,wr,Ll)),Oi&&Qf!=0?Pl=Qf:(Zf.a=3,Pl=0)}if(Pl==0)break n;if(Ma&&Gf[$t]==1&&(Ma=kt[dn].g==0),Fo+=kt[dn].g,dn+=Pl,3>=$t){var gu,rh=Xr[0];for(gu=1;gu<fi;++gu)Xr[gu]>rh&&(rh=Xr[gu]);di+=rh}}if(jt.nd=Ma,jt.Qb=0,Ma&&(jt.qb=(kn[3][Za[3]+0].value<<24|kn[1][Za[1]+0].value<<16|kn[2][Za[2]+0].value)>>>0,Fo==0&&256>kn[0][Za[0]+0].value&&(jt.Qb=1,jt.qb+=kn[0][Za[0]+0].value<<8)),jt.jc=!jt.Qb&&6>di,jt.jc){var lf,Rs=jt;for(lf=0;lf<El;++lf){var nl=lf,rl=Rs.pd[nl],ih=Rs.G[0][Rs.H[0]+nl];256<=ih.value?(rl.g=ih.g+256,rl.value=ih.value):(rl.g=0,rl.value=0,nl>>=gr(ih,8,rl),nl>>=gr(Rs.G[1][Rs.H[1]+nl],16,rl),nl>>=gr(Rs.G[2][Rs.H[2]+nl],0,rl),gr(Rs.G[3][Rs.H[3]+nl],24,rl))}}}ci.vc=mn,ci.Wb=Pn,ci.Ya=va,ci.yc=hi,lt=1;break t}lt=0}if(!(X=lt)){L.a=3;break e}if(0<Ie){if(le.ua=1<<Ie,!Q(le.Wa,Ie)){L.a=1,X=0;break e}}else le.ua=0;var ah=L,vu=Y,Y1=J,ec=ah.s,tc=ec.xc;if(ah.c=vu,ah.i=Y1,ec.md=Fe(vu,tc),ec.wc=tc==0?-1:(1<<tc)-1,C){L.xb=Tl;break e}if((me=a(Y*J))==null){L.a=1,X=0;break e}X=(X=sa(L,me,0,Y,J,J,null))&&!ne.h;break e}return X?(W!=null?W[0]=me:(e(me==null),e(C)),L.$=0,C||Ga(le)):Ga(le),X}function la(m,x){var C=m.c*m.i,L=C+x+16*x;return e(m.c<=x),m.V=a(L),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+C+x,1)}function Qo(m,x){var C=m.C,L=x-C,W=m.V,X=m.Ba+m.c*C;for(e(x<=m.l.o);0<L;){var Y=16<L?16:L,J=m.l.ma,ne=m.l.width,le=ne*Y,me=J.ca,Ie=J.tb+ne*C,oe=m.Ta,we=m.Ua;Fi(m,Y,W,X),yo(oe,we,me,Ie,le),sr(J,C,C+Y,me,Ie,ne),L-=Y,W+=Y*m.c,C+=Y}e(C==x),m.C=m.Ma=x}function Sa(){this.ub=this.yd=this.td=this.Rb=0}function ji(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ca(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Wa(){this.Yb=(function(){var m=[];return(function x(C,L,W){for(var X=W[L],Y=0;Y<X&&(C.push(W.length>L+1?[]:0),!(W.length<L+1));Y++)x(C[Y],L+1,W)})(m,0,[3,11]),m})()}function Lr(){this.jb=a(3),this.Wc=l([4,8],Wa),this.Xc=l([4,17],Wa)}function vl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ua(){this.ld=this.La=this.dd=this.tc=0}function Xa(){this.Na=this.la=0}function co(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function js(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ml(){this.uc=this.M=this.Nb=0,this.wa=Array(new ua),this.Y=0,this.ya=Array(new js),this.aa=0,this.l=new Ni}function yl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function eu(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Sa,this.Kc=new ji,this.ed=new vl,this.Qa=new Ca,this.Ic=this.$c=this.Aa=0,this.D=new ml,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,F),this.ia=0,this.pb=s(4,co),this.Pa=new Lr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yl),this.Hd=0,this.rb=Array(new Xa),this.sb=0,this.wa=Array(new ua),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new js),this.L=this.aa=0,this.gd=l([4,2],ua),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ta(m,x){return 0>m?0:m>x?x:m}function Ni(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qr(){var m=new eu;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,_o||(_o=Cn)),m}function yn(m,x,C){return m.a==0&&(m.a=x,m.sc=C,m.cb=0),0}function Jo(m,x,C){return 3<=C&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function Ya(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return yn(m,2,"null VP8Io passed to VP8GetHeaders()");var C=x.data,L=x.w,W=x.ha;if(4>W)return yn(m,7,"Truncated header.");var X=C[L+0]|C[L+1]<<8|C[L+2]<<16,Y=m.Od;if(Y.Rb=!(1&X),Y.td=X>>1&7,Y.yd=X>>4&1,Y.ub=X>>5,3<Y.td)return yn(m,3,"Incorrect keyframe parameters.");if(!Y.yd)return yn(m,4,"Frame not displayable.");L+=3,W-=3;var J=m.Kc;if(Y.Rb){if(7>W)return yn(m,7,"cannot parse picture header");if(!Jo(C,L,W))return yn(m,3,"Bad code word");J.c=16383&(C[L+4]<<8|C[L+3]),J.Td=C[L+4]>>6,J.i=16383&(C[L+6]<<8|C[L+5]),J.Ud=C[L+6]>>6,L+=7,W-=7,m.za=J.c+15>>4,m.Ub=J.i+15>>4,x.width=J.c,x.height=J.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((X=m.Pa).jb,0,255,X.jb.length),e((X=m.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,i(X.Zb,0,0,X.Zb.length),i(X.Lb,0,0,X.Lb)}if(Y.ub>W)return yn(m,7,"bad partition length");te(X=m.m,C,L,Y.ub),L+=Y.ub,W-=Y.ub,Y.Rb&&(J.Ld=Ne(X),J.Kd=Ne(X)),J=m.Qa;var ne,le=m.Pa;if(e(X!=null),e(J!=null),J.Cb=Ne(X),J.Cb){if(J.Bb=Ne(X),Ne(X)){for(J.Fb=Ne(X),ne=0;4>ne;++ne)J.Zb[ne]=Ne(X)?pe(X,7):0;for(ne=0;4>ne;++ne)J.Lb[ne]=Ne(X)?pe(X,6):0}if(J.Bb)for(ne=0;3>ne;++ne)le.jb[ne]=Ne(X)?he(X,8):255}else J.Bb=0;if(X.Ka)return yn(m,3,"cannot parse segment header");if((J=m.ed).zd=Ne(X),J.Tb=he(X,6),J.wb=he(X,3),J.Pc=Ne(X),J.Pc&&Ne(X)){for(le=0;4>le;++le)Ne(X)&&(J.vd[le]=pe(X,6));for(le=0;4>le;++le)Ne(X)&&(J.od[le]=pe(X,6))}if(m.L=J.Tb==0?0:J.zd?1:2,X.Ka)return yn(m,3,"cannot parse filter header");var me=W;if(W=ne=L,L=ne+me,J=me,m.Xb=(1<<he(m.m,2))-1,me<3*(le=m.Xb))C=7;else{for(ne+=3*le,J-=3*le,me=0;me<le;++me){var Ie=C[W+0]|C[W+1]<<8|C[W+2]<<16;Ie>J&&(Ie=J),te(m.Jc[+me],C,ne,Ie),ne+=Ie,J-=Ie,W+=3}te(m.Jc[+le],C,ne,J),C=ne<L?0:5}if(C!=0)return yn(m,C,"cannot parse partitions");for(C=he(ne=m.m,7),W=Ne(ne)?pe(ne,4):0,L=Ne(ne)?pe(ne,4):0,J=Ne(ne)?pe(ne,4):0,le=Ne(ne)?pe(ne,4):0,ne=Ne(ne)?pe(ne,4):0,me=m.Qa,Ie=0;4>Ie;++Ie){if(me.Cb){var oe=me.Zb[Ie];me.Fb||(oe+=C)}else{if(0<Ie){m.pb[Ie]=m.pb[0];continue}oe=C}var we=m.pb[Ie];we.Sc[0]=Mo[Ta(oe+W,127)],we.Sc[1]=ko[Ta(oe+0,127)],we.Eb[0]=2*Mo[Ta(oe+L,127)],we.Eb[1]=101581*ko[Ta(oe+J,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Mo[Ta(oe+le,117)],we.Qc[1]=ko[Ta(oe+ne,127)],we.lc=oe+ne}if(!Y.Rb)return yn(m,4,"Not a key frame.");for(Ne(X),Y=m.Pa,C=0;4>C;++C){for(W=0;8>W;++W)for(L=0;3>L;++L)for(J=0;11>J;++J)le=ze(X,Sr[C][W][L][J])?he(X,8):V1[C][W][L][J],Y.Wc[C][W].Yb[L][J]=le;for(W=0;17>W;++W)Y.Xc[C][W]=Y.Wc[C][An[W]]}return m.kc=Ne(X),m.kc&&(m.Bd=he(X,8)),m.cb=1}function Cn(m,x,C,L,W,X,Y){var J=x[W].Yb[C];for(C=0;16>W;++W){if(!ze(m,J[C+0]))return W;for(;!ze(m,J[C+1]);)if(J=x[++W].Yb[0],C=0,W==16)return 16;var ne=x[W+1].Yb;if(ze(m,J[C+2])){var le=m,me=0;if(ze(le,(oe=J)[(Ie=C)+3]))if(ze(le,oe[Ie+6])){for(J=0,Ie=2*(me=ze(le,oe[Ie+8]))+(oe=ze(le,oe[Ie+9+me])),me=0,oe=U1[Ie];oe[J];++J)me+=me+ze(le,oe[J]);me+=3+(8<<Ie)}else ze(le,oe[Ie+7])?(me=7+2*ze(le,165),me+=ze(le,145)):me=5+ze(le,159);else me=ze(le,oe[Ie+4])?3+ze(le,oe[Ie+5]):2;J=ne[2]}else me=1,J=ne[1];ne=Y+hd[W],0>(le=m).b&&Le(le);var Ie,oe=le.b,we=(Ie=le.Ca>>1)-(le.I>>oe)>>31;--le.b,le.Ca+=we,le.Ca|=1,le.I-=(Ie+1&we)<<oe,X[ne]=((me^we)-we)*L[(0<W)+0]}return 16}function gs(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Zr(m,x,C,L,W){W=m[x+C+32*L]+(W>>3),m[x+C+32*L]=-256&W?0>W?0:255:W}function Er(m,x,C,L,W,X){Zr(m,x,0,C,L+W),Zr(m,x,1,C,L+X),Zr(m,x,2,C,L-X),Zr(m,x,3,C,L-W)}function Gr(m){return(20091*m>>16)+m}function Us(m,x,C,L){var W,X=0,Y=a(16);for(W=0;4>W;++W){var J=m[x+0]+m[x+8],ne=m[x+0]-m[x+8],le=(35468*m[x+4]>>16)-Gr(m[x+12]),me=Gr(m[x+4])+(35468*m[x+12]>>16);Y[X+0]=J+me,Y[X+1]=ne+le,Y[X+2]=ne-le,Y[X+3]=J-me,X+=4,x++}for(W=X=0;4>W;++W)J=(m=Y[X+0]+4)+Y[X+8],ne=m-Y[X+8],le=(35468*Y[X+4]>>16)-Gr(Y[X+12]),Zr(C,L,0,0,J+(me=Gr(Y[X+4])+(35468*Y[X+12]>>16))),Zr(C,L,1,0,ne+le),Zr(C,L,2,0,ne-le),Zr(C,L,3,0,J-me),X++,L+=32}function Uu(m,x,C,L){var W=m[x+0]+4,X=35468*m[x+4]>>16,Y=Gr(m[x+4]),J=35468*m[x+1]>>16;Er(C,L,0,W+Y,m=Gr(m[x+1]),J),Er(C,L,1,W+X,m,J),Er(C,L,2,W-X,m,J),Er(C,L,3,W-Y,m,J)}function tu(m,x,C,L,W){Us(m,x,C,L),W&&Us(m,x+16,C,L+4)}function Ui(m,x,C,L){Zs(m,x+0,C,L,1),Zs(m,x+32,C,L+128,1)}function nu(m,x,C,L){var W;for(m=m[x+0]+4,W=0;4>W;++W)for(x=0;4>x;++x)Zr(C,L,x,W,m)}function es(m,x,C,L){m[x+0]&&Un(m,x+0,C,L),m[x+16]&&Un(m,x+16,C,L+4),m[x+32]&&Un(m,x+32,C,L+128),m[x+48]&&Un(m,x+48,C,L+128+4)}function mi(m,x,C,L){var W,X=a(16);for(W=0;4>W;++W){var Y=m[x+0+W]+m[x+12+W],J=m[x+4+W]+m[x+8+W],ne=m[x+4+W]-m[x+8+W],le=m[x+0+W]-m[x+12+W];X[0+W]=Y+J,X[8+W]=Y-J,X[4+W]=le+ne,X[12+W]=le-ne}for(W=0;4>W;++W)Y=(m=X[0+4*W]+3)+X[3+4*W],J=X[1+4*W]+X[2+4*W],ne=X[1+4*W]-X[2+4*W],le=m-X[3+4*W],C[L+0]=Y+J>>3,C[L+16]=le+ne>>3,C[L+32]=Y-J>>3,C[L+48]=le-ne>>3,L+=64}function vs(m,x,C){var L,W=x-32,X=da,Y=255-m[W-1];for(L=0;L<C;++L){var J,ne=X,le=Y+m[x-1];for(J=0;J<C;++J)m[x+J]=ne[le+m[W+J]];x+=32}}function ru(m,x){vs(m,x,4)}function iu(m,x){vs(m,x,8)}function _l(m,x){vs(m,x,16)}function wl(m,x){var C;for(C=0;16>C;++C)r(m,x+32*C,m,x-32,16)}function ts(m,x){var C;for(C=16;0<C;--C)i(m,x,m[x-1],16),x+=32}function ca(m,x,C){var L;for(L=0;16>L;++L)i(x,C+32*L,m,16)}function fo(m,x){var C,L=16;for(C=0;16>C;++C)L+=m[x-1+32*C]+m[x+C-32];ca(L>>5,m,x)}function ns(m,x){var C,L=8;for(C=0;16>C;++C)L+=m[x-1+32*C];ca(L>>4,m,x)}function fa(m,x){var C,L=8;for(C=0;16>C;++C)L+=m[x+C-32];ca(L>>4,m,x)}function ms(m,x){ca(128,m,x)}function Mt(m,x,C){return m+2*x+C+2>>2}function Vs(m,x){var C,L=x-32;for(L=new Uint8Array([Mt(m[L-1],m[L+0],m[L+1]),Mt(m[L+0],m[L+1],m[L+2]),Mt(m[L+1],m[L+2],m[L+3]),Mt(m[L+2],m[L+3],m[L+4])]),C=0;4>C;++C)r(m,x+32*C,L,0,L.length)}function xl(m,x){var C=m[x-1],L=m[x-1+32],W=m[x-1+64],X=m[x-1+96];nt(m,x+0,16843009*Mt(m[x-1-32],C,L)),nt(m,x+32,16843009*Mt(C,L,W)),nt(m,x+64,16843009*Mt(L,W,X)),nt(m,x+96,16843009*Mt(W,X,X))}function ys(m,x){var C,L=4;for(C=0;4>C;++C)L+=m[x+C-32]+m[x-1+32*C];for(L>>=3,C=0;4>C;++C)i(m,x+32*C,L,4)}function yi(m,x){var C=m[x-1+0],L=m[x-1+32],W=m[x-1+64],X=m[x-1-32],Y=m[x+0-32],J=m[x+1-32],ne=m[x+2-32],le=m[x+3-32];m[x+0+96]=Mt(L,W,m[x-1+96]),m[x+1+96]=m[x+0+64]=Mt(C,L,W),m[x+2+96]=m[x+1+64]=m[x+0+32]=Mt(X,C,L),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=Mt(Y,X,C),m[x+3+64]=m[x+2+32]=m[x+1+0]=Mt(J,Y,X),m[x+3+32]=m[x+2+0]=Mt(ne,J,Y),m[x+3+0]=Mt(le,ne,J)}function li(m,x){var C=m[x+1-32],L=m[x+2-32],W=m[x+3-32],X=m[x+4-32],Y=m[x+5-32],J=m[x+6-32],ne=m[x+7-32];m[x+0+0]=Mt(m[x+0-32],C,L),m[x+1+0]=m[x+0+32]=Mt(C,L,W),m[x+2+0]=m[x+1+32]=m[x+0+64]=Mt(L,W,X),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=Mt(W,X,Y),m[x+3+32]=m[x+2+64]=m[x+1+96]=Mt(X,Y,J),m[x+3+64]=m[x+2+96]=Mt(Y,J,ne),m[x+3+96]=Mt(J,ne,ne)}function zs(m,x){var C=m[x-1+0],L=m[x-1+32],W=m[x-1+64],X=m[x-1-32],Y=m[x+0-32],J=m[x+1-32],ne=m[x+2-32],le=m[x+3-32];m[x+0+0]=m[x+1+64]=X+Y+1>>1,m[x+1+0]=m[x+2+64]=Y+J+1>>1,m[x+2+0]=m[x+3+64]=J+ne+1>>1,m[x+3+0]=ne+le+1>>1,m[x+0+96]=Mt(W,L,C),m[x+0+64]=Mt(L,C,X),m[x+0+32]=m[x+1+96]=Mt(C,X,Y),m[x+1+32]=m[x+2+96]=Mt(X,Y,J),m[x+2+32]=m[x+3+96]=Mt(Y,J,ne),m[x+3+32]=Mt(J,ne,le)}function Gn(m,x){var C=m[x+0-32],L=m[x+1-32],W=m[x+2-32],X=m[x+3-32],Y=m[x+4-32],J=m[x+5-32],ne=m[x+6-32],le=m[x+7-32];m[x+0+0]=C+L+1>>1,m[x+1+0]=m[x+0+64]=L+W+1>>1,m[x+2+0]=m[x+1+64]=W+X+1>>1,m[x+3+0]=m[x+2+64]=X+Y+1>>1,m[x+0+32]=Mt(C,L,W),m[x+1+32]=m[x+0+96]=Mt(L,W,X),m[x+2+32]=m[x+1+96]=Mt(W,X,Y),m[x+3+32]=m[x+2+96]=Mt(X,Y,J),m[x+3+64]=Mt(Y,J,ne),m[x+3+96]=Mt(J,ne,le)}function Na(m,x){var C=m[x-1+0],L=m[x-1+32],W=m[x-1+64],X=m[x-1+96];m[x+0+0]=C+L+1>>1,m[x+2+0]=m[x+0+32]=L+W+1>>1,m[x+2+32]=m[x+0+64]=W+X+1>>1,m[x+1+0]=Mt(C,L,W),m[x+3+0]=m[x+1+32]=Mt(L,W,X),m[x+3+32]=m[x+1+64]=Mt(W,X,X),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=X}function Hs(m,x){var C=m[x-1+0],L=m[x-1+32],W=m[x-1+64],X=m[x-1+96],Y=m[x-1-32],J=m[x+0-32],ne=m[x+1-32],le=m[x+2-32];m[x+0+0]=m[x+2+32]=C+Y+1>>1,m[x+0+32]=m[x+2+64]=L+C+1>>1,m[x+0+64]=m[x+2+96]=W+L+1>>1,m[x+0+96]=X+W+1>>1,m[x+3+0]=Mt(J,ne,le),m[x+2+0]=Mt(Y,J,ne),m[x+1+0]=m[x+3+32]=Mt(C,Y,J),m[x+1+32]=m[x+3+64]=Mt(L,C,Y),m[x+1+64]=m[x+3+96]=Mt(W,L,C),m[x+1+96]=Mt(X,W,L)}function ho(m,x){var C;for(C=0;8>C;++C)r(m,x+32*C,m,x-32,8)}function au(m,x){var C;for(C=0;8>C;++C)i(m,x,m[x-1],8),x+=32}function Ia(m,x,C){var L;for(L=0;8>L;++L)i(x,C+32*L,m,8)}function rs(m,x){var C,L=8;for(C=0;8>C;++C)L+=m[x+C-32]+m[x-1+32*C];Ia(L>>4,m,x)}function Ra(m,x){var C,L=4;for(C=0;8>C;++C)L+=m[x+C-32];Ia(L>>3,m,x)}function Qr(m,x){var C,L=4;for(C=0;8>C;++C)L+=m[x-1+32*C];Ia(L>>3,m,x)}function Eo(m,x){Ia(128,m,x)}function Ii(m,x,C){var L=m[x-C],W=m[x+0],X=3*(W-L)+Qs[1020+m[x-2*C]-m[x+C]],Y=ef[112+(X+4>>3)];m[x-C]=da[255+L+ef[112+(X+3>>3)]],m[x+0]=da[255+W-Y]}function So(m,x,C,L){var W=m[x+0],X=m[x+C];return qi[255+m[x-2*C]-m[x-C]]>L||qi[255+X-W]>L}function _s(m,x,C,L){return 4*qi[255+m[x-C]-m[x+0]]+qi[255+m[x-2*C]-m[x+C]]<=L}function Co(m,x,C,L,W){var X=m[x-3*C],Y=m[x-2*C],J=m[x-C],ne=m[x+0],le=m[x+C],me=m[x+2*C],Ie=m[x+3*C];return 4*qi[255+J-ne]+qi[255+Y-le]>L?0:qi[255+m[x-4*C]-X]<=W&&qi[255+X-Y]<=W&&qi[255+Y-J]<=W&&qi[255+Ie-me]<=W&&qi[255+me-le]<=W&&qi[255+le-ne]<=W}function To(m,x,C,L){var W=2*L+1;for(L=0;16>L;++L)_s(m,x+L,C,W)&&Ii(m,x+L,C)}function Ka(m,x,C,L){var W=2*L+1;for(L=0;16>L;++L)_s(m,x+L*C,1,W)&&Ii(m,x+L*C,1)}function qs(m,x,C,L){var W;for(W=3;0<W;--W)To(m,x+=4*C,C,L)}function bl(m,x,C,L){var W;for(W=3;0<W;--W)Ka(m,x+=4,C,L)}function Oa(m,x,C,L,W,X,Y,J){for(X=2*X+1;0<W--;){if(Co(m,x,C,X,Y))if(So(m,x,C,J))Ii(m,x,C);else{var ne=m,le=x,me=C,Ie=ne[le-2*me],oe=ne[le-me],we=ne[le+0],Se=ne[le+me],Ue=ne[le+2*me],Te=27*(Ge=Qs[1020+3*(we-oe)+Qs[1020+Ie-Se]])+63>>7,je=18*Ge+63>>7,Ge=9*Ge+63>>7;ne[le-3*me]=da[255+ne[le-3*me]+Ge],ne[le-2*me]=da[255+Ie+je],ne[le-me]=da[255+oe+Te],ne[le+0]=da[255+we-Te],ne[le+me]=da[255+Se-je],ne[le+2*me]=da[255+Ue-Ge]}x+=L}}function No(m,x,C,L,W,X,Y,J){for(X=2*X+1;0<W--;){if(Co(m,x,C,X,Y))if(So(m,x,C,J))Ii(m,x,C);else{var ne=m,le=x,me=C,Ie=ne[le-me],oe=ne[le+0],we=ne[le+me],Se=ef[112+(4+(Ue=3*(oe-Ie))>>3)],Ue=ef[112+(Ue+3>>3)],Te=Se+1>>1;ne[le-2*me]=da[255+ne[le-2*me]+Te],ne[le-me]=da[255+Ie+Ue],ne[le+0]=da[255+oe-Se],ne[le+me]=da[255+we-Te]}x+=L}}function ou(m,x,C,L,W,X){Oa(m,x,C,1,16,L,W,X)}function po(m,x,C,L,W,X){Oa(m,x,1,C,16,L,W,X)}function Al(m,x,C,L,W,X){var Y;for(Y=3;0<Y;--Y)No(m,x+=4*C,C,1,16,L,W,X)}function E(m,x,C,L,W,X){var Y;for(Y=3;0<Y;--Y)No(m,x+=4,1,C,16,L,W,X)}function G(m,x,C,L,W,X,Y,J){Oa(m,x,W,1,8,X,Y,J),Oa(C,L,W,1,8,X,Y,J)}function se(m,x,C,L,W,X,Y,J){Oa(m,x,1,W,8,X,Y,J),Oa(C,L,1,W,8,X,Y,J)}function ve(m,x,C,L,W,X,Y,J){No(m,x+4*W,W,1,8,X,Y,J),No(C,L+4*W,W,1,8,X,Y,J)}function be(m,x,C,L,W,X,Y,J){No(m,x+4,1,W,8,X,Y,J),No(C,L+4,1,W,8,X,Y,J)}function He(){this.ba=new It,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xt(){this.ua=0,this.Wa=new wt,this.vb=new wt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new j}function Ft(){this.xb=this.a=0,this.l=new Ni,this.ca=new It,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xt,this.ab=0,this.gc=s(4,vt),this.Oc=0}function Dt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ni,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wn(m,x,C,L,W,X,Y){for(m=m==null?0:m[x+0],x=0;x<Y;++x)W[X+x]=m+C[L+x]&255,m=W[X+x]}function vr(m,x,C,L,W,X,Y){var J;if(m==null)wn(null,null,C,L,W,X,Y);else for(J=0;J<Y;++J)W[X+J]=m[x+J]+C[L+J]&255}function rr(m,x,C,L,W,X,Y){if(m==null)wn(null,null,C,L,W,X,Y);else{var J,ne=m[x+0],le=ne,me=ne;for(J=0;J<Y;++J)le=me+(ne=m[x+J])-le,me=C[L+J]+(-256&le?0>le?0:255:le)&255,le=ne,W[X+J]=me}}function y(m,x,C,L){var W=x.width,X=x.o;if(e(m!=null&&x!=null),0>C||0>=L||C+L>X)return null;if(!m.Cc){if(m.ga==null){var Y;if(m.ga=new Dt,(Y=m.ga==null)||(Y=x.width*x.o,e(m.Gb.length==0),m.Gb=a(Y),m.Uc=0,m.Gb==null?Y=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,Y=1),Y=!Y),!Y){Y=m.ga;var J=m.Fa,ne=m.P,le=m.qc,me=m.mb,Ie=m.nb,oe=ne+1,we=le-1,Se=Y.l;if(e(J!=null&&me!=null&&x!=null),Js[0]=null,Js[1]=wn,Js[2]=vr,Js[3]=rr,Y.ca=me,Y.tb=Ie,Y.c=x.width,Y.i=x.height,e(0<Y.c&&0<Y.i),1>=le)x=0;else if(Y.$a=3&J[ne+0],Y.Z=J[ne+0]>>2&3,Y.Lc=J[ne+0]>>4&3,ne=J[ne+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||ne)x=0;else if(Se.put=Ot,Se.ac=vi,Se.bc=Zo,Se.ma=Y,Se.width=x.width,Se.height=x.height,Se.Da=x.Da,Se.v=x.v,Se.va=x.va,Se.j=x.j,Se.o=x.o,Y.$a)e:{e(Y.$a==1),x=ps();t:for(;;){if(x==null){x=0;break e}if(e(Y!=null),Y.mc=x,x.c=Y.c,x.i=Y.i,x.l=Y.l,x.l.ma=Y,x.l.width=Y.c,x.l.height=Y.i,x.a=0,Ce(x.m,J,oe,we),!uo(Y.c,Y.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&qn(x.s)?(Y.ic=1,J=x.c*x.i,x.Ta=null,x.Ua=0,x.V=a(J),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(Y.ic=0,x=la(x,Y.c)),!x))break t;x=1;break e}Y.mc=null,x=0}else x=we>=Y.c*Y.i;Y=!x}if(Y)return null;m.ga.Lc!=1?m.Ga=0:L=X-C}e(m.ga!=null),e(C+L<=X);e:{if(x=(J=m.ga).c,X=J.l.o,J.$a==0){if(oe=m.rc,we=m.Vc,Se=m.Fa,ne=m.P+1+C*x,le=m.mb,me=m.nb+C*x,e(ne<=m.P+m.qc),J.Z!=0)for(e(Js[J.Z]!=null),Y=0;Y<L;++Y)Js[J.Z](oe,we,Se,ne,le,me,x),oe=le,we=me,me+=x,ne+=x;else for(Y=0;Y<L;++Y)r(le,me,Se,ne,x),oe=le,we=me,me+=x,ne+=x;m.rc=oe,m.Vc=we}else{if(e(J.mc!=null),x=C+L,e((Y=J.mc)!=null),e(x<=Y.i),Y.C>=x)x=1;else if(J.ic||Pe(),J.ic){J=Y.V,oe=Y.Ba,we=Y.c;var Ue=Y.i,Te=(Se=1,ne=Y.$/we,le=Y.$%we,me=Y.m,Ie=Y.s,Y.$),je=we*Ue,Ge=we*x,it=Ie.wc,Ze=Te<Ge?oi(Ie,le,ne):null;e(Te<=je),e(x<=Ue),e(qn(Ie));t:for(;;){for(;!me.h&&Te<Ge;){if(le&it||(Ze=oi(Ie,le,ne)),e(Ze!=null),ye(me),256>(Ue=nr(Ze.G[0],Ze.H[0],me)))J[oe+Te]=Ue,++Te,++le>=we&&(le=0,++ne<=x&&!(ne%16)&&si(Y,ne));else{if(!(280>Ue)){Se=0;break t}Ue=aa(Ue-256,me);var bt,dt=nr(Ze.G[4],Ze.H[4],me);if(ye(me),!(Te>=(dt=oa(we,dt=aa(dt,me)))&&je-Te>=Ue)){Se=0;break t}for(bt=0;bt<Ue;++bt)J[oe+Te+bt]=J[oe+Te+bt-dt];for(Te+=Ue,le+=Ue;le>=we;)le-=we,++ne<=x&&!(ne%16)&&si(Y,ne);Te<Ge&&le&it&&(Ze=oi(Ie,le,ne))}e(me.h==fe(me))}si(Y,ne>x?x:ne);break t}!Se||me.h&&Te<je?(Se=0,Y.a=me.h?5:3):Y.$=Te,x=Se}else x=sa(Y,Y.V,Y.Ba,Y.c,Y.i,x,Qo);if(!x){L=0;break e}}C+L>=X&&(m.Cc=1),L=1}if(!L)return null;if(m.Cc&&((L=m.ga)!=null&&(L.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+C*W}function T(m,x,C,L,W,X){for(;0<W--;){var Y,J=m,ne=x+(C?1:0),le=m,me=x+(C?0:3);for(Y=0;Y<L;++Y){var Ie=le[me+4*Y];Ie!=255&&(Ie*=32897,J[ne+4*Y+0]=J[ne+4*Y+0]*Ie>>23,J[ne+4*Y+1]=J[ne+4*Y+1]*Ie>>23,J[ne+4*Y+2]=J[ne+4*Y+2]*Ie>>23)}x+=X}}function B(m,x,C,L,W){for(;0<L--;){var X;for(X=0;X<C;++X){var Y=m[x+2*X+0],J=15&(le=m[x+2*X+1]),ne=4369*J,le=(240&le|le>>4)*ne>>16;m[x+2*X+0]=(240&Y|Y>>4)*ne>>16&240|(15&Y|Y<<4)*ne>>16>>4&15,m[x+2*X+1]=240&le|J}x+=W}}function ee(m,x,C,L,W,X,Y,J){var ne,le,me=255;for(le=0;le<W;++le){for(ne=0;ne<L;++ne){var Ie=m[x+ne];X[Y+4*ne]=Ie,me&=Ie}x+=C,Y+=J}return me!=255}function Ee(m,x,C,L,W){var X;for(X=0;X<W;++X)C[L+X]=m[x+X]>>8}function Pe(){uu=T,Ro=B,Zc=ee,yo=Ee}function at(m,x,C){P[m]=function(L,W,X,Y,J,ne,le,me,Ie,oe,we,Se,Ue,Te,je,Ge,it){var Ze,bt=it-1>>1,dt=J[ne+0]|le[me+0]<<16,nn=Ie[oe+0]|we[Se+0]<<16;e(L!=null);var yt=3*dt+nn+131074>>2;for(x(L[W+0],255&yt,yt>>16,Ue,Te),X!=null&&(yt=3*nn+dt+131074>>2,x(X[Y+0],255&yt,yt>>16,je,Ge)),Ze=1;Ze<=bt;++Ze){var xn=J[ne+Ze]|le[me+Ze]<<16,Cr=Ie[oe+Ze]|we[Se+Ze]<<16,un=dt+xn+nn+Cr+524296,pt=un+2*(xn+nn)>>3;yt=pt+dt>>1,dt=(un=un+2*(dt+Cr)>>3)+xn>>1,x(L[W+2*Ze-1],255&yt,yt>>16,Ue,Te+(2*Ze-1)*C),x(L[W+2*Ze-0],255&dt,dt>>16,Ue,Te+(2*Ze-0)*C),X!=null&&(yt=un+nn>>1,dt=pt+Cr>>1,x(X[Y+2*Ze-1],255&yt,yt>>16,je,Ge+(2*Ze-1)*C),x(X[Y+2*Ze+0],255&dt,dt>>16,je,Ge+(2*Ze+0)*C)),dt=xn,nn=Cr}1&it||(yt=3*dt+nn+131074>>2,x(L[W+it-1],255&yt,yt>>16,Ue,Te+(it-1)*C),X!=null&&(yt=3*nn+dt+131074>>2,x(X[Y+it-1],255&yt,yt>>16,je,Ge+(it-1)*C)))}}function en(){Wi[Vf]=hu,Wi[pa]=Ku,Wi[zf]=pd,Wi[Oo]=Xf,Wi[tf]=Nl,Wi[Wu]=Ns,Wi[Sl]=Il,Wi[nf]=Ku,Wi[Hf]=Xf,Wi[Xu]=Nl,Wi[qf]=Ns}function mr(m){return m&-16384?0>m?0:255:m>>Yf}function vn(m,x){return mr((19077*m>>8)+(26149*x>>8)-14234)}function Wn(m,x,C){return mr((19077*m>>8)-(6419*x>>8)-(13320*C>>8)+8708)}function Ri(m,x){return mr((19077*m>>8)+(33050*x>>8)-17685)}function Vi(m,x,C,L,W){L[W+0]=vn(m,C),L[W+1]=Wn(m,x,C),L[W+2]=Ri(m,x)}function lr(m,x,C,L,W){L[W+0]=Ri(m,x),L[W+1]=Wn(m,x,C),L[W+2]=vn(m,C)}function zi(m,x,C,L,W){var X=Wn(m,x,C);x=X<<3&224|Ri(m,x)>>3,L[W+0]=248&vn(m,C)|X>>5,L[W+1]=x}function go(m,x,C,L,W){var X=240&Ri(m,x)|15;L[W+0]=240&vn(m,C)|Wn(m,x,C)>>4,L[W+1]=X}function ws(m,x,C,L,W){L[W+0]=255,Vi(m,x,C,L,W+1)}function xs(m,x,C,L,W){lr(m,x,C,L,W),L[W+3]=255}function Da(m,x,C,L,W){Vi(m,x,C,L,W),L[W+3]=255}function Gs(m,x,C){P[m]=function(L,W,X,Y,J,ne,le,me,Ie){for(var oe=me+(-2&Ie)*C;me!=oe;)x(L[W+0],X[Y+0],J[ne+0],le,me),x(L[W+1],X[Y+0],J[ne+0],le,me+C),W+=2,++Y,++ne,me+=2*C;1&Ie&&x(L[W+0],X[Y+0],J[ne+0],le,me)}}function Vu(m,x,C){return C==0?m==0?x==0?6:5:x==0?4:0:C}function Yc(m,x,C,L,W){switch(m>>>30){case 3:Zs(x,C,L,W,0);break;case 2:ha(x,C,L,W);break;case 1:Un(x,C,L,W)}}function vo(m,x){var C,L,W=x.M,X=x.Nb,Y=m.oc,J=m.pc+40,ne=m.oc,le=m.pc+584,me=m.oc,Ie=m.pc+600;for(C=0;16>C;++C)Y[J+32*C-1]=129;for(C=0;8>C;++C)ne[le+32*C-1]=129,me[Ie+32*C-1]=129;for(0<W?Y[J-1-32]=ne[le-1-32]=me[Ie-1-32]=129:(i(Y,J-32-1,127,21),i(ne,le-32-1,127,9),i(me,Ie-32-1,127,9)),L=0;L<m.za;++L){var oe=x.ya[x.aa+L];if(0<L){for(C=-1;16>C;++C)r(Y,J+32*C-4,Y,J+32*C+12,4);for(C=-1;8>C;++C)r(ne,le+32*C-4,ne,le+32*C+4,4),r(me,Ie+32*C-4,me,Ie+32*C+4,4)}var we=m.Gd,Se=m.Hd+L,Ue=oe.ad,Te=oe.Hc;if(0<W&&(r(Y,J-32,we[Se].y,0,16),r(ne,le-32,we[Se].f,0,8),r(me,Ie-32,we[Se].ea,0,8)),oe.Za){var je=Y,Ge=J-32+16;for(0<W&&(L>=m.za-1?i(je,Ge,we[Se].y[15],4):r(je,Ge,we[Se+1].y,0,4)),C=0;4>C;C++)je[Ge+128+C]=je[Ge+256+C]=je[Ge+384+C]=je[Ge+0+C];for(C=0;16>C;++C,Te<<=2)je=Y,Ge=J+ti[C],Wr[oe.Ob[C]](je,Ge),Yc(Te,Ue,16*+C,je,Ge)}else if(je=Vu(L,W,oe.Ob[0]),Pa[je](Y,J),Te!=0)for(C=0;16>C;++C,Te<<=2)Yc(Te,Ue,16*+C,Y,J+ti[C]);for(C=oe.Gc,je=Vu(L,W,oe.Dd),ss[je](ne,le),ss[je](me,Ie),Te=Ue,je=ne,Ge=le,255&(oe=0|C)&&(170&oe?Io(Te,256,je,Ge):Dn(Te,256,je,Ge)),oe=me,Te=Ie,255&(C>>=8)&&(170&C?Io(Ue,320,oe,Te):Dn(Ue,320,oe,Te)),W<m.Ub-1&&(r(we[Se].y,0,Y,J+480,16),r(we[Se].f,0,ne,le+224,8),r(we[Se].ea,0,me,Ie+224,8)),C=8*X*m.B,we=m.sa,Se=m.ta+16*L+16*X*m.R,Ue=m.qa,oe=m.ra+8*L+C,Te=m.Ha,je=m.Ia+8*L+C,C=0;16>C;++C)r(we,Se+C*m.R,Y,J+32*C,16);for(C=0;8>C;++C)r(Ue,oe+C*m.B,ne,le+32*C,8),r(Te,je+C*m.B,me,Ie+32*C,8)}}function is(m,x,C,L,W,X,Y,J,ne){var le=[0],me=[0],Ie=0,oe=ne!=null?ne.kd:0,we=ne??new Qe;if(m==null||12>C)return 7;we.data=m,we.w=x,we.ha=C,x=[x],C=[C],we.gb=[we.gb];e:{var Se=x,Ue=C,Te=we.gb;if(e(m!=null),e(Ue!=null),e(Te!=null),Te[0]=0,12<=Ue[0]&&!t(m,Se[0],"RIFF")){if(t(m,Se[0]+8,"WEBP")){Te=3;break e}var je=Ke(m,Se[0]+4);if(12>je||4294967286<je){Te=3;break e}if(oe&&je>Ue[0]-8){Te=7;break e}Te[0]=je,Se[0]+=12,Ue[0]-=12}Te=0}if(Te!=0)return Te;for(je=0<we.gb[0],C=C[0];;){e:{var Ge=m;Ue=x,Te=C;var it=le,Ze=me,bt=Se=[0];if((yt=Ie=[Ie])[0]=0,8>Te[0])Te=7;else{if(!t(Ge,Ue[0],"VP8X")){if(Ke(Ge,Ue[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var dt=Ke(Ge,Ue[0]+8),nn=1+ke(Ge,Ue[0]+12);if(2147483648<=nn*(Ge=1+ke(Ge,Ue[0]+15))){Te=3;break e}bt!=null&&(bt[0]=dt),it!=null&&(it[0]=nn),Ze!=null&&(Ze[0]=Ge),Ue[0]+=18,Te[0]-=18,yt[0]=1}Te=0}}if(Ie=Ie[0],Se=Se[0],Te!=0)return Te;if(Ue=!!(2&Se),!je&&Ie)return 3;if(X!=null&&(X[0]=!!(16&Se)),Y!=null&&(Y[0]=Ue),J!=null&&(J[0]=0),Y=le[0],Se=me[0],Ie&&Ue&&ne==null){Te=0;break}if(4>C){Te=7;break}if(je&&Ie||!je&&!Ie&&!t(m,x[0],"ALPH")){C=[C],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{dt=m,Te=x,je=C;var yt=we.gb;it=we.na,Ze=we.P,bt=we.Sa,nn=22,e(dt!=null),e(je!=null),Ge=Te[0];var xn=je[0];for(e(it!=null),e(bt!=null),it[0]=null,Ze[0]=null,bt[0]=0;;){if(Te[0]=Ge,je[0]=xn,8>xn){Te=7;break e}var Cr=Ke(dt,Ge+4);if(4294967286<Cr){Te=3;break e}var un=8+Cr+1&-2;if(nn+=un,0<yt&&nn>yt){Te=3;break e}if(!t(dt,Ge,"VP8 ")||!t(dt,Ge,"VP8L")){Te=0;break e}if(xn[0]<un){Te=7;break e}t(dt,Ge,"ALPH")||(it[0]=dt,Ze[0]=Ge+8,bt[0]=Cr),Ge+=un,xn-=un}}if(C=C[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Te!=0)break}C=[C],we.Ja=[we.Ja],we.xa=[we.xa];e:if(yt=m,Te=x,je=C,it=we.gb[0],Ze=we.Ja,bt=we.xa,dt=Te[0],Ge=!t(yt,dt,"VP8 "),nn=!t(yt,dt,"VP8L"),e(yt!=null),e(je!=null),e(Ze!=null),e(bt!=null),8>je[0])Te=7;else{if(Ge||nn){if(yt=Ke(yt,dt+4),12<=it&&yt>it-12){Te=3;break e}if(oe&&yt>je[0]-8){Te=7;break e}Ze[0]=yt,Te[0]+=8,je[0]-=8,bt[0]=nn}else bt[0]=5<=je[0]&&yt[dt+0]==47&&!(yt[dt+4]>>5),Ze[0]=je[0];Te=0}if(C=C[0],we.Ja=we.Ja[0],we.xa=we.xa[0],x=x[0],Te!=0)break;if(4294967286<we.Ja)return 3;if(J==null||Ue||(J[0]=we.xa?2:1),Y=[Y],Se=[Se],we.xa){if(5>C){Te=7;break}J=Y,oe=Se,Ue=X,m==null||5>C?m=0:5<=C&&m[x+0]==47&&!(m[x+4]>>5)?(je=[0],yt=[0],it=[0],Ce(Ze=new $,m,x,C),Ea(Ze,je,yt,it)?(J!=null&&(J[0]=je[0]),oe!=null&&(oe[0]=yt[0]),Ue!=null&&(Ue[0]=it[0]),m=1):m=0):m=0}else{if(10>C){Te=7;break}J=Se,m==null||10>C||!Jo(m,x+3,C-3)?m=0:(oe=m[x+0]|m[x+1]<<8|m[x+2]<<16,Ue=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=we.Ja||!Ue||!m?m=0:(Y&&(Y[0]=Ue),J&&(J[0]=m),m=1))}if(!m||(Y=Y[0],Se=Se[0],Ie&&(le[0]!=Y||me[0]!=Se)))return 3;ne!=null&&(ne[0]=we,ne.offset=x-ne.w,e(4294967286>x-ne.w),e(ne.offset==ne.ha-C));break}return Te==0||Te==7&&Ie&&ne==null?(X!=null&&(X[0]|=we.na!=null&&0<we.na.length),L!=null&&(L[0]=Y),W!=null&&(W[0]=Se),0):Te}function Ws(m,x,C){var L=x.width,W=x.height,X=0,Y=0,J=L,ne=W;if(x.Da=m!=null&&0<m.Da,x.Da&&(J=m.cd,ne=m.bd,X=m.v,Y=m.j,11>C||(X&=-2,Y&=-2),0>X||0>Y||0>=J||0>=ne||X+J>L||Y+ne>W))return 0;if(x.v=X,x.j=Y,x.va=X+J,x.o=Y+ne,x.U=J,x.T=ne,x.da=m!=null&&0<m.da,x.da){if(!ct(J,ne,C=[m.ib],X=[m.hb]))return 0;x.ib=C[0],x.hb=X[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*L/4&&x.hb<3*W/4,x.Kb=0),1}function Kc(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function as(m,x,C,L){if(L==null||0>=m||0>=x)return 2;if(C!=null){if(C.Da){var W=C.cd,X=C.bd,Y=-2&C.v,J=-2&C.j;if(0>Y||0>J||0>=W||0>=X||Y+W>m||J+X>x)return 2;m=W,x=X}if(C.da){if(!ct(m,x,W=[C.ib],X=[C.hb]))return 2;m=W[0],x=X[0]}}L.width=m,L.height=x;e:{var ne=L.width,le=L.height;if(m=L.S,0>=ne||0>=le||!(m>=Vf&&13>m))m=2;else{if(0>=L.Rd&&L.sd==null){Y=X=W=x=0;var me=(J=ne*$f[m])*le;if(11>m||(X=(le+1)/2*(x=(ne+1)/2),m==12&&(Y=(W=ne)*le)),(le=a(me+2*X+Y))==null){m=1;break e}L.sd=le,11>m?((ne=L.f.RGBA).eb=le,ne.fb=0,ne.A=J,ne.size=me):((ne=L.f.kb).y=le,ne.O=0,ne.fa=J,ne.Fd=me,ne.f=le,ne.N=0+me,ne.Ab=x,ne.Cd=X,ne.ea=le,ne.W=0+me+X,ne.Db=x,ne.Ed=X,m==12&&(ne.F=le,ne.J=0+me+2*X),ne.Tc=Y,ne.lb=W)}if(x=1,W=L.S,X=L.width,Y=L.height,W>=Vf&&13>W)if(11>W)m=L.f.RGBA,x&=(J=Math.abs(m.A))*(Y-1)+X<=m.size,x&=J>=X*$f[W],x&=m.eb!=null;else{m=L.f.kb,J=(X+1)/2,me=(Y+1)/2,ne=Math.abs(m.fa),le=Math.abs(m.Ab);var Ie=Math.abs(m.Db),oe=Math.abs(m.lb),we=oe*(Y-1)+X;x&=ne*(Y-1)+X<=m.Fd,x&=le*(me-1)+J<=m.Cd,x=(x&=Ie*(me-1)+J<=m.Ed)&ne>=X&le>=J&Ie>=J,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,W==12&&(x&=oe>=X,x&=we<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||C!=null&&C.fd&&(m=Kc(L)),m}var El=64,$a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],La=24,bs=32,As=8,Xs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(m){return m},P.Predictor2=function(m,x,C){return x[C+0]},P.Predictor3=function(m,x,C){return x[C+1]},P.Predictor4=function(m,x,C){return x[C-1]},P.Predictor5=function(m,x,C){return ft(ft(m,x[C+1]),x[C+0])},P.Predictor6=function(m,x,C){return ft(m,x[C-1])},P.Predictor7=function(m,x,C){return ft(m,x[C+0])},P.Predictor8=function(m,x,C){return ft(x[C-1],x[C+0])},P.Predictor9=function(m,x,C){return ft(x[C+0],x[C+1])},P.Predictor10=function(m,x,C){return ft(ft(m,x[C-1]),ft(x[C+0],x[C+1]))},P.Predictor11=function(m,x,C){var L=x[C+0];return 0>=Bt(L>>24&255,m>>24&255,(x=x[C-1])>>24&255)+Bt(L>>16&255,m>>16&255,x>>16&255)+Bt(L>>8&255,m>>8&255,x>>8&255)+Bt(255&L,255&m,255&x)?L:m},P.Predictor12=function(m,x,C){var L=x[C+0];return(Vt((m>>24&255)+(L>>24&255)-((x=x[C-1])>>24&255))<<24|Vt((m>>16&255)+(L>>16&255)-(x>>16&255))<<16|Vt((m>>8&255)+(L>>8&255)-(x>>8&255))<<8|Vt((255&m)+(255&L)-(255&x)))>>>0},P.Predictor13=function(m,x,C){var L=x[C-1];return(Qt((m=ft(m,x[C+0]))>>24&255,L>>24&255)<<24|Qt(m>>16&255,L>>16&255)<<16|Qt(m>>8&255,L>>8&255)<<8|Qt(255&m,255&L))>>>0};var zu=P.PredictorAdd0;P.PredictorAdd1=sn,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var Hu=P.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Jr,Ff=P.ColorIndexInverseTransform,Es=P.MapARGB,Ss=P.VP8LColorIndexInverseTransformAlpha,Hi=P.MapAlpha,Ys=P.VP8LPredictorsAdd=[];Ys.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var qu,Gu,Ks,$s,Cs,su,mo,Zs,ha,Io,Un,Dn,yr,ei,Ts,os,lu,$c,ud,B1,F1,j1,cd,fd,uu,Ro,Zc,yo,cu=a(511),jf=a(2041),Qc=a(225),Jc=a(767),Uf=0,Qs=jf,ef=Qc,da=Jc,qi=cu,Vf=0,pa=1,zf=2,Oo=3,tf=4,Wu=5,Sl=6,nf=7,Hf=8,Xu=9,qf=10,Do=[2,3,7],Yu=[3,3,11],fu=[280,256,256,256,40],Gf=[0,1,1,1,0],rf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Lo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Po=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Cl=8,Mo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ko=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_o=null,U1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],V1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Gi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],An=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pa=[],Wr=[],ss=[],Tl=1,dd=2,Js=[],Wi=[];at("UpsampleRgbLinePair",Vi,3),at("UpsampleBgrLinePair",lr,3),at("UpsampleRgbaLinePair",Da,4),at("UpsampleBgraLinePair",xs,4),at("UpsampleArgbLinePair",ws,4),at("UpsampleRgba4444LinePair",go,2),at("UpsampleRgb565LinePair",zi,2);var hu=P.UpsampleRgbLinePair,pd=P.UpsampleBgrLinePair,Ku=P.UpsampleRgbaLinePair,Xf=P.UpsampleBgraLinePair,Nl=P.UpsampleArgbLinePair,Ns=P.UpsampleRgba4444LinePair,Il=P.UpsampleRgb565LinePair,Bo=16,$u=1<<Bo-1,du=-227,Rl=482,Yf=6,Ol=0,Xi=a(256),Kf=a(256),z1=a(256),C2=a(256),T2=a(Rl-du),N2=a(Rl-du);Gs("YuvToRgbRow",Vi,3),Gs("YuvToBgrRow",lr,3),Gs("YuvToRgbaRow",Da,4),Gs("YuvToBgraRow",xs,4),Gs("YuvToArgbRow",ws,4),Gs("YuvToRgba4444Row",go,2),Gs("YuvToRgb565Row",zi,2);var ti=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zu=[0,2,8],af=[8,7,6,4,4,2,2,2,1,1,1,1],of=1;this.WebPDecodeRGBA=function(m,x,C,L,W){var X=pa,Y=new He,J=new It;Y.ba=J,J.S=X,J.width=[J.width],J.height=[J.height];var ne=J.width,le=J.height,me=new Ct;if(me==null||m==null)var Ie=2;else e(me!=null),Ie=is(m,x,C,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Ie!=0?ne=0:(ne!=null&&(ne[0]=me.width[0]),le!=null&&(le[0]=me.height[0]),ne=1),ne){J.width=J.width[0],J.height=J.height[0],L!=null&&(L[0]=J.width),W!=null&&(W[0]=J.height);e:{if(L=new Ni,(W=new Qe).data=m,W.w=x,W.ha=C,W.kd=1,x=[0],e(W!=null),((m=is(W.data,W.w,W.ha,null,null,null,x,null,W))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(Y!=null),L.data=W.data,L.w=W.w+W.offset,L.ha=W.ha-W.offset,L.put=Ot,L.ac=vi,L.bc=Zo,L.ma=Y,W.xa){if((m=ps())==null){Y=1;break e}if((function(oe,we){var Se=[0],Ue=[0],Te=[0];t:for(;;){if(oe==null)return 0;if(we==null)return oe.a=2,0;if(oe.l=we,oe.a=0,Ce(oe.m,we.data,we.w,we.ha),!Ea(oe.m,Se,Ue,Te)){oe.a=3;break t}if(oe.xb=dd,we.width=Se[0],we.height=Ue[0],!uo(Se[0],Ue[0],1,oe,null))break t;return 1}return e(oe.a!=0),0})(m,L)){if(L=(x=as(L.width,L.height,Y.Oa,Y.ba))==0){t:{L=m;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((C=L.l)!=null),e((W=C.ma)!=null),L.xb!=0){if(L.ca=W.ba,L.tb=W.tb,e(L.ca!=null),!Ws(W.Oa,C,Oo)){L.a=2;break n}if(!la(L,C.width)||C.da)break n;if((C.da||zt(L.ca.S))&&Pe(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Pe()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!Q(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!sa(L,L.V,L.Ba,L.c,L.i,C.o,Ti))break n;W.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(x=m.a)}else x=m.a}else{if((m=new qr)==null){Y=1;break e}if(m.Fa=W.na,m.P=W.P,m.qc=W.Sa,Ya(m,L)){if((x=as(L.width,L.height,Y.Oa,Y.ba))==0){if(m.Aa=0,C=Y.Oa,e((W=m)!=null),C!=null){if(0<(ne=0>(ne=C.Md)?0:100<ne?255:255*ne/100)){for(le=me=0;4>le;++le)12>(Ie=W.pb[le]).lc&&(Ie.ia=ne*af[0>Ie.lc?0:Ie.lc]>>3),me|=Ie.ia;me&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=C.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}(function(oe,we){if(oe==null)return 0;if(we==null)return yn(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!Ya(oe,we))return 0;if(e(oe.cb),we.ac==null||we.ac(we)){we.ob&&(oe.L=0);var Se=Zu[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=we.v-Se>>4,oe.zb=we.j-Se>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=we.o+15+Se>>4,oe.Hb=we.va+15+Se>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Ue=oe.ed;for(Se=0;4>Se;++Se){var Te;if(oe.Qa.Cb){var je=oe.Qa.Lb[Se];oe.Qa.Fb||(je+=Ue.Tb)}else je=Ue.Tb;for(Te=0;1>=Te;++Te){var Ge=oe.gd[Se][Te],it=je;if(Ue.Pc&&(it+=Ue.vd[0],Te&&(it+=Ue.od[0])),0<(it=0>it?0:63<it?63:it)){var Ze=it;0<Ue.wb&&(Ze=4<Ue.wb?Ze>>2:Ze>>1)>9-Ue.wb&&(Ze=9-Ue.wb),1>Ze&&(Ze=1),Ge.dd=Ze,Ge.tc=2*it+Ze,Ge.ld=40<=it?2:15<=it?1:0}else Ge.tc=0;Ge.La=Te}}}Se=0}else yn(oe,6,"Frame setup failed"),Se=oe.a;if(Se=Se==0){if(Se){oe.$c=0,0<oe.Aa||(oe.Ic=of);t:{Se=oe.Ic,Ue=4*(Ze=oe.za);var bt=32*Ze,dt=Ze+1,nn=0<oe.L?Ze*(0<oe.Aa?2:1):0,yt=(oe.Aa==2?2:1)*Ze;if((Ge=Ue+832+(Te=3*(16*Se+Zu[oe.L])/2*bt)+(je=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=Ge)Se=0;else{if(Ge>oe.Vb){if(oe.Vb=0,oe.Ec=a(Ge),oe.Fc=0,oe.Ec==null){Se=yn(oe,1,"no memory during frame initialization.");break t}oe.Vb=Ge}Ge=oe.Ec,it=oe.Fc,oe.Ac=Ge,oe.Bc=it,it+=Ue,oe.Gd=s(bt,yl),oe.Hd=0,oe.rb=s(dt+1,Xa),oe.sb=1,oe.wa=nn?s(nn,ua):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Ze),e(!0),oe.oc=Ge,oe.pc=it,it+=832,oe.ya=s(yt,js),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Ze),oe.R=16*Ze,oe.B=8*Ze,Ze=(bt=Zu[oe.L])*oe.R,bt=bt/2*oe.B,oe.sa=Ge,oe.ta=it+Ze,oe.qa=oe.sa,oe.ra=oe.ta+16*Se*oe.R+bt,oe.Ha=oe.qa,oe.Ia=oe.ra+8*Se*oe.B+bt,oe.$c=0,it+=Te,oe.mb=je?Ge:null,oe.nb=je?it:null,e(it+je<=oe.Fc+oe.Vb),gs(oe),i(oe.Ac,oe.Bc,0,Ue),Se=1}}if(Se){if(we.ka=0,we.y=oe.sa,we.O=oe.ta,we.f=oe.qa,we.N=oe.ra,we.ea=oe.Ha,we.Vd=oe.Ia,we.fa=oe.R,we.Rc=oe.B,we.F=null,we.J=0,!Uf){for(Se=-255;255>=Se;++Se)cu[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)jf[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)Qc[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)Jc[255+Se]=0>Se?0:255<Se?255:Se;Uf=1}mo=mi,Zs=tu,Io=Ui,Un=nu,Dn=es,ha=Uu,yr=ou,ei=po,Ts=G,os=se,lu=Al,$c=E,ud=ve,B1=be,F1=To,j1=Ka,cd=qs,fd=bl,Wr[0]=ys,Wr[1]=ru,Wr[2]=Vs,Wr[3]=xl,Wr[4]=yi,Wr[5]=zs,Wr[6]=li,Wr[7]=Gn,Wr[8]=Hs,Wr[9]=Na,Pa[0]=fo,Pa[1]=_l,Pa[2]=wl,Pa[3]=ts,Pa[4]=ns,Pa[5]=fa,Pa[6]=ms,ss[0]=rs,ss[1]=iu,ss[2]=ho,ss[3]=au,ss[4]=Qr,ss[5]=Ra,ss[6]=Eo,Se=1}else Se=0}Se&&(Se=(function(xn,Cr){for(xn.M=0;xn.M<xn.Va;++xn.M){var un,pt=xn.Jc[xn.M&xn.Xb],lt=xn.m,Pr=xn;for(un=0;un<Pr.za;++un){var $t=lt,dn=Pr,$n=dn.Ac,_i=dn.Bc+4*un,Yi=dn.zc,_r=dn.ya[dn.aa+un];if(dn.Qa.Bb?_r.$b=ze($t,dn.Pa.jb[0])?2+ze($t,dn.Pa.jb[2]):ze($t,dn.Pa.jb[1]):_r.$b=0,dn.kc&&(_r.Ad=ze($t,dn.Bd)),_r.Za=!ze($t,145)+0,_r.Za){var ui=_r.Ob,ga=0;for(dn=0;4>dn;++dn){var ci,mn=Yi[0+dn];for(ci=0;4>ci;++ci){mn=Gi[$n[_i+ci]][mn];for(var Pn=Wf[ze($t,mn[0])];0<Pn;)Pn=Wf[2*Pn+ze($t,mn[Pn])];mn=-Pn,$n[_i+ci]=mn}r(ui,ga,$n,_i,4),ga+=4,Yi[0+dn]=mn}}else mn=ze($t,156)?ze($t,128)?1:3:ze($t,163)?2:0,_r.Ob[0]=mn,i($n,_i,mn,4),i(Yi,0,mn,4);_r.Dd=ze($t,142)?ze($t,114)?ze($t,183)?1:3:2:0}if(Pr.m.Ka)return yn(xn,7,"Premature end-of-partition0 encountered.");for(;xn.ja<xn.za;++xn.ja){if(Pr=pt,$t=(lt=xn).rb[lt.sb-1],$n=lt.rb[lt.sb+lt.ja],un=lt.ya[lt.aa+lt.ja],_i=lt.kc?un.Ad:0)$t.la=$n.la=0,un.Za||($t.Na=$n.Na=0),un.Hc=0,un.Gc=0,un.ia=0;else{var Mr,Vn;if($t=$n,$n=Pr,_i=lt.Pa.Xc,Yi=lt.ya[lt.aa+lt.ja],_r=lt.pb[Yi.$b],dn=Yi.ad,ui=0,ga=lt.rb[lt.sb-1],mn=ci=0,i(dn,ui,0,384),Yi.Za)var wi=0,kr=_i[3];else{Pn=a(16);var Mn=$t.Na+ga.Na;if(Mn=_o($n,_i[1],Mn,_r.Eb,0,Pn,0),$t.Na=ga.Na=(0<Mn)+0,1<Mn)mo(Pn,0,dn,ui);else{var ni=Pn[0]+3>>3;for(Pn=0;256>Pn;Pn+=16)dn[ui+Pn]=ni}wi=1,kr=_i[0]}var Zn=15&$t.la,fi=15&ga.la;for(Pn=0;4>Pn;++Pn){var hi=1&fi;for(ni=Vn=0;4>ni;++ni)Zn=Zn>>1|(hi=(Mn=_o($n,kr,Mn=hi+(1&Zn),_r.Sc,wi,dn,ui))>wi)<<7,Vn=Vn<<2|(3<Mn?3:1<Mn?2:dn[ui+0]!=0),ui+=16;Zn>>=4,fi=fi>>1|hi<<7,ci=(ci<<8|Vn)>>>0}for(kr=Zn,wi=fi>>4,Mr=0;4>Mr;Mr+=2){for(Vn=0,Zn=$t.la>>4+Mr,fi=ga.la>>4+Mr,Pn=0;2>Pn;++Pn){for(hi=1&fi,ni=0;2>ni;++ni)Mn=hi+(1&Zn),Zn=Zn>>1|(hi=0<(Mn=_o($n,_i[2],Mn,_r.Qc,0,dn,ui)))<<3,Vn=Vn<<2|(3<Mn?3:1<Mn?2:dn[ui+0]!=0),ui+=16;Zn>>=2,fi=fi>>1|hi<<5}mn|=Vn<<4*Mr,kr|=Zn<<4<<Mr,wi|=(240&fi)<<Mr}$t.la=kr,ga.la=wi,Yi.Hc=ci,Yi.Gc=mn,Yi.ia=43690&mn?0:_r.ia,_i=!(ci|mn)}if(0<lt.L&&(lt.wa[lt.Y+lt.ja]=lt.gd[un.$b][un.Za],lt.wa[lt.Y+lt.ja].La|=!_i),Pr.Ka)return yn(xn,7,"Premature end-of-file encountered.")}if(gs(xn),lt=Cr,Pr=1,un=(pt=xn).D,$t=0<pt.L&&pt.M>=pt.zb&&pt.M<=pt.Va,pt.Aa==0)t:{if(un.M=pt.M,un.uc=$t,vo(pt,un),Pr=1,un=(Vn=pt.D).Nb,$t=(mn=Zu[pt.L])*pt.R,$n=mn/2*pt.B,Pn=16*un*pt.R,ni=8*un*pt.B,_i=pt.sa,Yi=pt.ta-$t+Pn,_r=pt.qa,dn=pt.ra-$n+ni,ui=pt.Ha,ga=pt.Ia-$n+ni,fi=(Zn=Vn.M)==0,ci=Zn>=pt.Va-1,pt.Aa==2&&vo(pt,Vn),Vn.uc)for(hi=(Mn=pt).D.M,e(Mn.D.uc),Vn=Mn.yb;Vn<Mn.Hb;++Vn){wi=Vn,kr=hi;var ur=(Ln=(di=Mn).D).Nb;Mr=di.R;var Ln=Ln.wa[Ln.Y+wi],va=di.sa,Xr=di.ta+16*ur*Mr+16*wi,kt=Ln.dd,jt=Ln.tc;if(jt!=0)if(e(3<=jt),di.L==1)0<wi&&j1(va,Xr,Mr,jt+4),Ln.La&&fd(va,Xr,Mr,jt),0<kr&&F1(va,Xr,Mr,jt+4),Ln.La&&cd(va,Xr,Mr,jt);else{var kn=di.B,Za=di.qa,Fo=di.ra+8*ur*kn+8*wi,Ma=di.Ha,di=di.Ia+8*ur*kn+8*wi;ur=Ln.ld,0<wi&&(ei(va,Xr,Mr,jt+4,kt,ur),os(Za,Fo,Ma,di,kn,jt+4,kt,ur)),Ln.La&&($c(va,Xr,Mr,jt,kt,ur),B1(Za,Fo,Ma,di,kn,jt,kt,ur)),0<kr&&(yr(va,Xr,Mr,jt+4,kt,ur),Ts(Za,Fo,Ma,di,kn,jt+4,kt,ur)),Ln.La&&(lu(va,Xr,Mr,jt,kt,ur),ud(Za,Fo,Ma,di,kn,jt,kt,ur))}}if(pt.ia&&alert("todo:DitherRow"),lt.put!=null){if(Vn=16*Zn,Zn=16*(Zn+1),fi?(lt.y=pt.sa,lt.O=pt.ta+Pn,lt.f=pt.qa,lt.N=pt.ra+ni,lt.ea=pt.Ha,lt.W=pt.Ia+ni):(Vn-=mn,lt.y=_i,lt.O=Yi,lt.f=_r,lt.N=dn,lt.ea=ui,lt.W=ga),ci||(Zn-=mn),Zn>lt.o&&(Zn=lt.o),lt.F=null,lt.J=null,pt.Fa!=null&&0<pt.Fa.length&&Vn<Zn&&(lt.J=y(pt,lt,Vn,Zn-Vn),lt.F=pt.mb,lt.F==null&&lt.F.length==0)){Pr=yn(pt,3,"Could not decode alpha data.");break t}Vn<lt.j&&(mn=lt.j-Vn,Vn=lt.j,e(!(1&mn)),lt.O+=pt.R*mn,lt.N+=pt.B*(mn>>1),lt.W+=pt.B*(mn>>1),lt.F!=null&&(lt.J+=lt.width*mn)),Vn<Zn&&(lt.O+=lt.v,lt.N+=lt.v>>1,lt.W+=lt.v>>1,lt.F!=null&&(lt.J+=lt.v),lt.ka=Vn-lt.j,lt.U=lt.va-lt.v,lt.T=Zn-Vn,Pr=lt.put(lt))}un+1!=pt.Ic||ci||(r(pt.sa,pt.ta-$t,_i,Yi+16*pt.R,$t),r(pt.qa,pt.ra-$n,_r,dn+8*pt.B,$n),r(pt.Ha,pt.Ia-$n,ui,ga+8*pt.B,$n))}if(!Pr)return yn(xn,6,"Output aborted.")}return 1})(oe,we)),we.bc!=null&&we.bc(we),Se&=1}return Se?(oe.cb=0,Se):0})(m,L)||(x=m.a)}}else x=m.a}x==0&&Y.Oa!=null&&Y.Oa.fd&&(x=Kc(Y.ba))}Y=x}X=Y!=0?null:11>X?J.f.RGBA.eb:J.f.kb.y}else X=null;return X};var $f=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(P,H){for(var O="",k=0;k<4;k++)O+=String.fromCharCode(P[H++]);return O}function d(P,H){return P[H+0]|P[H+1]<<8}function g(P,H){return(P[H+0]|P[H+1]<<8|P[H+2]<<16)>>>0}function _(P,H){return(P[H+0]|P[H+1]<<8|P[H+2]<<16|P[H+3]<<24)>>>0}new c;var v=[0],A=[0],S=[],I=new c,N=n,V=(function(P,H){var O={},k=0,j=!1,ce=0,xe=0;if(O.frames=[],!(function(F,$){for(var ie=0;ie<4;ie++)if(F[$+ie]!="RIFF".charCodeAt(ie))return!0;return!1})(P,H)){for(_(P,H+=4),H+=8;H<P.length;){var te=f(P,H),he=_(P,H+=4);H+=4;var pe=he+(1&he);switch(te){case"VP8 ":case"VP8L":O.frames[k]===void 0&&(O.frames[k]={}),(Z=O.frames[k]).src_off=j?xe:H-8,Z.src_size=ce+he+8,k++,j&&(j=!1,ce=0,xe=0);break;case"VP8X":(Z=O.header={}).feature_flags=P[H];var Ce=H+4;Z.canvas_width=1+g(P,Ce),Ce+=3,Z.canvas_height=1+g(P,Ce),Ce+=3;break;case"ALPH":j=!0,ce=pe+8,xe=H-8;break;case"ANIM":(Z=O.header).bgcolor=_(P,H),Ce=H+4,Z.loop_count=d(P,Ce),Ce+=2;break;case"ANMF":var We,Z;(Z=O.frames[k]={}).offset_x=2*g(P,H),H+=3,Z.offset_y=2*g(P,H),H+=3,Z.width=1+g(P,H),H+=3,Z.height=1+g(P,H),H+=3,Z.duration=g(P,H),H+=3,We=P[H++],Z.dispose=1&We,Z.blend=We>>1&1}te!="ANMF"&&(H+=pe)}return O}})(N,0);V.response=N,V.rgbaoutput=!0,V.dataurl=!1;var q=V.header?V.header:null,U=V.frames?V.frames:null;if(q){q.loop_counter=q.loop_count,v=[q.canvas_height],A=[q.canvas_width];for(var re=0;re<U.length&&U[re].blend!=0;re++);}var ue=U[0],z=I.WebPDecodeRGBA(N,ue.src_off,ue.src_size,A,v);ue.rgba=z,ue.imgwidth=A[0],ue.imgheight=v[0];for(var R=0;R<A[0]*v[0]*4;R++)S[R]=z[R];return this.width=A,this.height=v,this.data=S,this}function FL(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function jL(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,i,a,s,l,c,f,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new s,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new s,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,f=new d}]);var g=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=F;Object.defineProperty(this,"pdf",{get:function(){return $}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(Q){ie=!!Q}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(Q){fe=!!Q}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Q){isNaN(Q)||(de=Q)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(Q){isNaN(Q)||(ye=Q)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Q){var et;typeof Q=="number"?et=[Q,Q,Q,Q]:((et=new Array(4))[0]=Q[0],et[1]=Q.length>=2?Q[1]:et[0],et[2]=Q.length>=3?Q[2]:et[0],et[3]=Q.length>=4?Q[3]:et[1]),f.margin=et}});var Le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Le},set:function(Q){Le=Q}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(Q){Ne=Q}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(Q){ze=Q}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Q){Q instanceof d&&(f=Q)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Q){f.path=Q}});var nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return nt},set:function(Q){nt=Q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Q){var et;et=_(Q),this.ctx.fillStyle=et.style,this.ctx.isFillTransparent=et.a===0,this.ctx.fillOpacity=et.a,this.pdf.setFillColor(et.r,et.g,et.b,{a:et.a}),this.pdf.setTextColor(et.r,et.g,et.b,{a:et.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Q){var et=_(Q);this.ctx.strokeStyle=et.style,this.ctx.isStrokeTransparent=et.a===0,this.ctx.strokeOpacity=et.a,et.a===0?this.pdf.setDrawColor(255,255,255):(et.a,this.pdf.setDrawColor(et.r,et.g,et.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Q){["butt","round","square"].indexOf(Q)!==-1&&(this.ctx.lineCap=Q,this.pdf.setLineCap(Q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Q){isNaN(Q)||(this.ctx.lineWidth=Q,this.pdf.setLineWidth(Q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Q){["bevel","round","miter"].indexOf(Q)!==-1&&(this.ctx.lineJoin=Q,this.pdf.setLineJoin(Q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Q){isNaN(Q)||(this.ctx.miterLimit=Q,this.pdf.setMiterLimit(Q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Q){this.ctx.textBaseline=Q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Q){["right","end","center","left","start"].indexOf(Q)!==-1&&(this.ctx.textAlign=Q)}});var ut=null,ke=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Q){ut=null,ke=null,Ke=Q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Q){var et;if(this.ctx.font=Q,(et=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Q))!==null){var wt=et[1];et[2];var ct=et[3],Fe=et[4];et[5];var rt=et[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor($e==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var ot=(function(gt){var tr,tn,Pt=[],Kt=gt.trim();if(Kt==="")return xv;if(Kt in V3)return[V3[Kt]];for(;Kt!=="";){switch(tn=null,tr=(Kt=H3(Kt)).charAt(0)){case'"':case"'":tn=DL(Kt.substring(1),tr);break;default:tn=LL(Kt)}if(tn===null||(Pt.push(tn[0]),(Kt=H3(tn[1]))!==""&&Kt.charAt(0)!==","))return xv;Kt=Kt.replace(/^,/,"")}return Pt})(rt);if(this.fontFaces){var ft=(function(gt,tr){var tn=gt.getFontList(),Pt=JSON.stringify(tn);if(ut===null||ke!==Pt){var Kt=(function(on){var Rt=[];return Object.keys(on).forEach(function(jn){on[jn].forEach(function(zt){var Ht=null;switch(zt){case"bold":Ht={family:jn,weight:"bold"};break;case"italic":Ht={family:jn,style:"italic"};break;case"bolditalic":Ht={family:jn,weight:"bold",style:"italic"};break;case"":case"normal":Ht={family:jn}}Ht!==null&&(Ht.ref={name:jn,style:zt},Rt.push(Ht))})}),Rt})(tn);ut=(function(on){for(var Rt={},jn=0;jn<on.length;++jn){var zt=wv(on[jn]),Ht=zt.family,Hn=zt.stretch,It=zt.style,Ct=zt.weight;Rt[Ht]=Rt[Ht]||{},Rt[Ht][Hn]=Rt[Ht][Hn]||{},Rt[Ht][Hn][It]=Rt[Ht][Hn][It]||{},Rt[Ht][Hn][It][Ct]=zt}return Rt})(Kt.concat(tr)),ke=Pt}return ut})(this.pdf,this.fontFaces),Vt=ot.map(function(gt){return{family:gt,stretch:"normal",weight:ct,style:wt}}),Qt=(function(gt,tr,tn){for(var Pt=(tn=tn||{}).defaultFontFamily||"times",Kt=Object.assign({},OL,tn.genericFontFamilies||{}),on=null,Rt=null,jn=0;jn<tr.length;++jn)if(Kt[(on=wv(tr[jn])).family]&&(on.family=Kt[on.family]),gt.hasOwnProperty(on.family)){Rt=gt[on.family];break}if(!(Rt=Rt||gt[Pt]))throw new Error("Could not find a font-family for the rule '"+z3(on)+"' and default family '"+Pt+"'.");if(Rt=(function(zt,Ht){if(Ht[zt])return Ht[zt];var Hn=bm[zt],It=Hn<=bm.normal?-1:1,Ct=U3(Ht,sE,Hn,It);if(!Ct)throw new Error("Could not find a matching font-stretch value for "+zt);return Ct})(on.stretch,Rt),Rt=(function(zt,Ht){if(Ht[zt])return Ht[zt];for(var Hn=oE[zt],It=0;It<Hn.length;++It)if(Ht[Hn[It]])return Ht[Hn[It]];throw new Error("Could not find a matching font-style for "+zt)})(on.style,Rt),!(Rt=(function(zt,Ht){if(Ht[zt])return Ht[zt];if(zt===400&&Ht[500])return Ht[500];if(zt===500&&Ht[400])return Ht[400];var Hn=RL[zt],It=U3(Ht,lE,Hn,zt<400?-1:1);if(!It)throw new Error("Could not find a matching font-weight for value "+zt);return It})(on.weight,Rt)))throw new Error("Failed to resolve a font for the rule '"+z3(on)+"'.");return Rt})(ft,Vt);this.pdf.setFont(Qt.ref.name,Qt.ref.style)}else{var Bt="";(ct==="bold"||parseInt(ct,10)>=700||wt==="bold")&&(Bt="bold"),wt==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var sn="",Nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<ot.length;ht++){if(this.pdf.internal.getFont(ot[ht],Bt,{noFallback:!0,disableWarning:!0})!==void 0){sn=ot[ht];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(ot[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)sn=ot[ht],Bt="bold";else if(this.pdf.internal.getFont(ot[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){sn=ot[ht],Bt="normal";break}}if(sn===""){for(var Yt=0;Yt<ot.length;Yt++)if(Nt[ot[Yt]]){sn=Nt[ot[Yt]];break}}sn=sn===""?"Times":sn,this.pdf.setFont(sn,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Q){this.ctx.globalCompositeOperation=Q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Q){this.ctx.globalAlpha=Q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Q){this.ctx.lineDashOffset=Q,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Q){this.ctx.lineDash=Q,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Q){this.ctx.ignoreClearRect=!!Q}})};g.prototype.setLineDash=function(F){this.lineDash=F},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){U.call(this,"fill",!1)},g.prototype.stroke=function(){U.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(F,$){if(isNaN(F)||isNaN($))throw Nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new s(F,$));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(F,$)},g.prototype.closePath=function(){var F=new s(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&pr(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){F=new s(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(F.x,F.y)},g.prototype.lineTo=function(F,$){if(isNaN(F)||isNaN($))throw Nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new s(F,$));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},g.prototype.quadraticCurveTo=function(F,$,ie,fe){if(isNaN(ie)||isNaN(fe)||isNaN(F)||isNaN($))throw Nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new s(ie,fe)),ye=this.ctx.transform.applyToPoint(new s(F,$));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},g.prototype.bezierCurveTo=function(F,$,ie,fe,de,ye){if(isNaN(de)||isNaN(ye)||isNaN(F)||isNaN($)||isNaN(ie)||isNaN(fe))throw Nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Le=this.ctx.transform.applyToPoint(new s(de,ye)),Ne=this.ctx.transform.applyToPoint(new s(F,$)),ze=this.ctx.transform.applyToPoint(new s(ie,fe));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:ze.x,y2:ze.y,x:Le.x,y:Le.y}),this.ctx.lastPoint=new s(Le.x,Le.y)},g.prototype.arc=function(F,$,ie,fe,de,ye){if(isNaN(F)||isNaN($)||isNaN(ie)||isNaN(fe)||isNaN(de))throw Nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Le=this.ctx.transform.applyToPoint(new s(F,$));F=Le.x,$=Le.y;var Ne=this.ctx.transform.applyToPoint(new s(0,ie)),ze=this.ctx.transform.applyToPoint(new s(0,0));ie=Math.sqrt(Math.pow(Ne.x-ze.x,2)+Math.pow(Ne.y-ze.y,2))}Math.abs(de-fe)>=2*Math.PI&&(fe=0,de=2*Math.PI),this.path.push({type:"arc",x:F,y:$,radius:ie,startAngle:fe,endAngle:de,counterclockwise:ye})},g.prototype.arcTo=function(F,$,ie,fe,de){throw new Error("arcTo not implemented.")},g.prototype.rect=function(F,$,ie,fe){if(isNaN(F)||isNaN($)||isNaN(ie)||isNaN(fe))throw Nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,$),this.lineTo(F+ie,$),this.lineTo(F+ie,$+fe),this.lineTo(F,$+fe),this.lineTo(F,$),this.lineTo(F+ie,$),this.lineTo(F,$)},g.prototype.fillRect=function(F,$,ie,fe){if(isNaN(F)||isNaN($)||isNaN(ie)||isNaN(fe))throw Nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,$,ie,fe),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},g.prototype.strokeRect=function(F,$,ie,fe){if(isNaN(F)||isNaN($)||isNaN(ie)||isNaN(fe))throw Nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(F,$,ie,fe),this.stroke())},g.prototype.clearRect=function(F,$,ie,fe){if(isNaN(F)||isNaN($)||isNaN(ie)||isNaN(fe))throw Nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,$,ie,fe))},g.prototype.save=function(F){F=typeof F!="boolean"||F;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage($),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},g.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage($),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(F){var $,ie,fe,de;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))$=0,ie=0,fe=0,de=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ye!==null)$=parseInt(ye[1]),ie=parseInt(ye[2]),fe=parseInt(ye[3]),de=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)$=parseInt(ye[1]),ie=parseInt(ye[2]),fe=parseInt(ye[3]),de=parseFloat(ye[4]);else{if(de=1,typeof F=="string"&&F.charAt(0)!=="#"){var Le=new J6(F);F=Le.ok?Le.toHex():"#000000"}F.length===4?($=F.substring(1,2),$+=$,ie=F.substring(2,3),ie+=ie,fe=F.substring(3,4),fe+=fe):($=F.substring(1,3),ie=F.substring(3,5),fe=F.substring(5,7)),$=parseInt($,16),ie=parseInt(ie,16),fe=parseInt(fe,16)}}return{r:$,g:ie,b:fe,a:de,style:F}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(F,$,ie,fe){if(isNaN($)||isNaN(ie)||typeof F!="string")throw Nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!v.call(this)){var de=pe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;k.call(this,{text:F,x:$,y:ie,scale:ye,angle:de,align:this.textAlign,maxWidth:fe})}},g.prototype.strokeText=function(F,$,ie,fe){if(isNaN($)||isNaN(ie)||typeof F!="string")throw Nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){fe=isNaN(fe)?void 0:fe;var de=pe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;k.call(this,{text:F,x:$,y:ie,scale:ye,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:fe})}},g.prototype.measureText=function(F){if(typeof F!="string")throw Nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,ie=this.pdf.internal.scaleFactor,fe=$.internal.getFontSize(),de=$.getStringUnitWidth(F)*fe/$.internal.scaleFactor;return new function(ye){var Le=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Le}}),this}({width:de*=Math.round(96*ie/72*1e4)/1e4})},g.prototype.scale=function(F,$){if(isNaN(F)||isNaN($))throw Nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new c(F,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.rotate=function(F){if(isNaN(F))throw Nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply($)},g.prototype.translate=function(F,$){if(isNaN(F)||isNaN($))throw Nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new c(1,0,0,1,F,$);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.transform=function(F,$,ie,fe,de,ye){if(isNaN(F)||isNaN($)||isNaN(ie)||isNaN(fe)||isNaN(de)||isNaN(ye))throw Nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Le=new c(F,$,ie,fe,de,ye);this.ctx.transform=this.ctx.transform.multiply(Le)},g.prototype.setTransform=function(F,$,ie,fe,de,ye){F=isNaN(F)?1:F,$=isNaN($)?0:$,ie=isNaN(ie)?0:ie,fe=isNaN(fe)?1:fe,de=isNaN(de)?0:de,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(F,$,ie,fe,de,ye)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(F,$,ie,fe,de,ye,Le,Ne,ze){var nt=this.pdf.getImageProperties(F),ut=1,ke=1,Ke=1,Q=1;fe!==void 0&&Ne!==void 0&&(Ke=Ne/fe,Q=ze/de,ut=nt.width/fe*Ne/fe,ke=nt.height/de*ze/de),ye===void 0&&(ye=$,Le=ie,$=0,ie=0),fe!==void 0&&Ne===void 0&&(Ne=fe,ze=de),fe===void 0&&Ne===void 0&&(Ne=nt.width,ze=nt.height);var et=this.ctx.transform.decompose(),wt=pe(et.rotate.shx),ct=new c,Fe=(ct=(ct=(ct=ct.multiply(et.translate)).multiply(et.skew)).multiply(et.scale)).applyToRectangle(new l(ye-$*Ke,Le-ie*Q,fe*ut,de*ke));if(this.autoPaging){for(var rt,$e=I.call(this,Fe),ot=[],ft=0;ft<$e.length;ft+=1)ot.indexOf($e[ft])===-1&&ot.push($e[ft]);q(ot);for(var Vt=ot[0],Qt=ot[ot.length-1],Bt=Vt;Bt<Qt+1;Bt++){this.pdf.setPage(Bt);var sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=Bt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Bt===1?0:ht+(Bt-2)*Yt;if(this.ctx.clip_path.length!==0){var tr=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(rt,this.posX+this.margin[3],-gt+Nt+this.ctx.prevPageLastElemOffset),re.call(this,"fill",!0),this.path=tr}var tn=JSON.parse(JSON.stringify(Fe));tn=V([tn],this.posX+this.margin[3],-gt+Nt+this.ctx.prevPageLastElemOffset)[0];var Pt=(Bt>Vt||Bt<Qt)&&S.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sn,Yt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,wt),Pt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,wt)};var I=function(F,$,ie){var fe=[];$=$||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":fe.push(Math.floor((F.y+de)/ie)+1);break;case"arc":fe.push(Math.floor((F.y+de-F.radius)/ie)+1),fe.push(Math.floor((F.y+de+F.radius)/ie)+1);break;case"qct":var ye=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);fe.push(Math.floor((ye.y+de)/ie)+1),fe.push(Math.floor((ye.y+ye.h+de)/ie)+1);break;case"bct":var Le=We(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);fe.push(Math.floor((Le.y+de)/ie)+1),fe.push(Math.floor((Le.y+Le.h+de)/ie)+1);break;case"rect":fe.push(Math.floor((F.y+de)/ie)+1),fe.push(Math.floor((F.y+F.h+de)/ie)+1)}for(var Ne=0;Ne<fe.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<fe[Ne];)N.call(this);return fe},N=function(){var F=this.fillStyle,$=this.strokeStyle,ie=this.font,fe=this.lineCap,de=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=$,this.font=ie,this.lineCap=fe,this.lineWidth=de,this.lineJoin=ye},V=function(F,$,ie){for(var fe=0;fe<F.length;fe++)switch(F[fe].type){case"bct":F[fe].x2+=$,F[fe].y2+=ie;case"qct":F[fe].x1+=$,F[fe].y1+=ie;default:F[fe].x+=$,F[fe].y+=ie}return F},q=function(F){return F.sort(function($,ie){return $-ie})},U=function(F,$){var ie=this.fillStyle,fe=this.strokeStyle,de=this.lineCap,ye=this.lineWidth,Le=Math.abs(ye*this.ctx.transform.scaleX),Ne=this.lineJoin;if(this.autoPaging){for(var ze,nt,ut=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Ke=[],Q=0;Q<ke.length;Q++)if(ke[Q].x!==void 0)for(var et=I.call(this,ke[Q]),wt=0;wt<et.length;wt+=1)Ke.indexOf(et[wt])===-1&&Ke.push(et[wt]);for(var ct=0;ct<Ke.length;ct++)for(;this.pdf.internal.getNumberOfPages()<Ke[ct];)N.call(this);q(Ke);for(var Fe=Ke[0],rt=Ke[Ke.length-1],$e=Fe;$e<rt+1;$e++){this.pdf.setPage($e),this.fillStyle=ie,this.strokeStyle=fe,this.lineCap=de,this.lineWidth=Le,this.lineJoin=Ne;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=$e===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=$e===1?0:Vt+($e-2)*Qt;if(this.ctx.clip_path.length!==0){var sn=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(ze,this.posX+this.margin[3],-Bt+ft+this.ctx.prevPageLastElemOffset),re.call(this,F,!0),this.path=sn}if(nt=JSON.parse(JSON.stringify(ut)),this.path=V(nt,this.posX+this.margin[3],-Bt+ft+this.ctx.prevPageLastElemOffset),$===!1||$e===0){var Nt=($e>Fe||$e<rt)&&S.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Qt,null).clip().discardPath()),re.call(this,F,$),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=ut}else this.lineWidth=Le,re.call(this,F,$),this.lineWidth=ye},re=function(F,$){if((F!=="stroke"||$||!A.call(this))&&(F==="stroke"||$||!v.call(this))){for(var ie,fe,de=[],ye=this.path,Le=0;Le<ye.length;Le++){var Ne=ye[Le];switch(Ne.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Ne,deltas:[],abs:[]});break;case"lt":var ze=de.length;if(ye[Le-1]&&!isNaN(ye[Le-1].x)&&(ie=[Ne.x-ye[Le-1].x,Ne.y-ye[Le-1].y],ze>0)){for(;ze>=0;ze--)if(de[ze-1].close!==!0&&de[ze-1].begin!==!0){de[ze-1].deltas.push(ie),de[ze-1].abs.push(Ne);break}}break;case"bct":ie=[Ne.x1-ye[Le-1].x,Ne.y1-ye[Le-1].y,Ne.x2-ye[Le-1].x,Ne.y2-ye[Le-1].y,Ne.x-ye[Le-1].x,Ne.y-ye[Le-1].y],de[de.length-1].deltas.push(ie);break;case"qct":var nt=ye[Le-1].x+2/3*(Ne.x1-ye[Le-1].x),ut=ye[Le-1].y+2/3*(Ne.y1-ye[Le-1].y),ke=Ne.x+2/3*(Ne.x1-Ne.x),Ke=Ne.y+2/3*(Ne.y1-Ne.y),Q=Ne.x,et=Ne.y;ie=[nt-ye[Le-1].x,ut-ye[Le-1].y,ke-ye[Le-1].x,Ke-ye[Le-1].y,Q-ye[Le-1].x,et-ye[Le-1].y],de[de.length-1].deltas.push(ie);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Ne)}}fe=$?null:F==="stroke"?"stroke":"fill";for(var wt=!1,ct=0;ct<de.length;ct++)if(de[ct].arc)for(var Fe=de[ct].abs,rt=0;rt<Fe.length;rt++){var $e=Fe[rt];$e.type==="arc"?R.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,$,!wt):j.call(this,$e.x,$e.y),wt=!0}else if(de[ct].close===!0)this.pdf.internal.out("h"),wt=!1;else if(de[ct].begin!==!0){var ot=de[ct].start.x,ft=de[ct].start.y;ce.call(this,de[ct].deltas,ot,ft),wt=!0}fe&&P.call(this,fe),$&&H.call(this)}},ue=function(F){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-ie;case"top":return F+$-ie;case"hanging":return F+$-2*ie;case"middle":return F+$/2-ie;default:return F}},z=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function($,ie){this.colorStops.push([$,ie])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(F,$,ie,fe,de,ye,Le,Ne,ze){for(var nt=te.call(this,ie,fe,de,ye),ut=0;ut<nt.length;ut++){var ke=nt[ut];ut===0&&(ze?O.call(this,ke.x1+F,ke.y1+$):j.call(this,ke.x1+F,ke.y1+$)),xe.call(this,F,$,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}Ne?H.call(this):P.call(this,Le)},P=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(F,$){this.pdf.internal.out(t(F)+" "+r($)+" m")},k=function(F){var $;switch(F.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var ie,fe,de,ye=this.pdf.getTextDimensions(F.text),Le=ue.call(this,F.y),Ne=z.call(this,Le)-ye.h,ze=this.ctx.transform.applyToPoint(new s(F.x,Le));if(this.autoPaging){var nt=this.ctx.transform.decompose(),ut=new c;ut=(ut=(ut=ut.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale);for(var ke=this.ctx.transform.applyToRectangle(new l(F.x,Le,ye.w,ye.h)),Ke=ut.applyToRectangle(new l(F.x,Ne,ye.w,ye.h)),Q=I.call(this,Ke),et=[],wt=0;wt<Q.length;wt+=1)et.indexOf(Q[wt])===-1&&et.push(Q[wt]);q(et);for(var ct=et[0],Fe=et[et.length-1],rt=ct;rt<Fe+1;rt++){this.pdf.setPage(rt);var $e=rt===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],Vt=ft-this.margin[0],Qt=this.pdf.internal.pageSize.width-this.margin[1],Bt=Qt-this.margin[3],sn=rt===1?0:ot+(rt-2)*Vt;if(this.ctx.clip_path.length!==0){var Nt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(ie,this.posX+this.margin[3],-1*sn+$e),re.call(this,"fill",!0),this.path=Nt}var ht=V([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-sn+$e+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*F.scale),de=this.lineWidth,this.lineWidth=de*F.scale);var Yt=this.autoPaging!=="text";if(Yt||ht.y+ht.h<=ft){if(Yt||ht.y>=$e&&ht.x<=Qt){var gt=Yt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Qt-ht.x)[0],tr=V([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-sn+$e+this.ctx.prevPageLastElemOffset)[0],tn=Yt&&(rt>ct||rt<Fe)&&S.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,Vt,null).clip().discardPath()),this.pdf.text(gt,tr.x,tr.y,{angle:F.angle,align:$,renderingMode:F.renderingMode}),tn&&this.pdf.restoreGraphicsState()}}else ht.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-ht.y);F.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=de)}}else F.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*F.scale),de=this.lineWidth,this.lineWidth=de*F.scale),this.pdf.text(F.text,ze.x+this.posX,ze.y+this.posY,{angle:F.angle,align:$,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=de)},j=function(F,$,ie,fe){ie=ie||0,fe=fe||0,this.pdf.internal.out(t(F+ie)+" "+r($+fe)+" l")},ce=function(F,$,ie){return this.pdf.lines(F,$,ie,null,null)},xe=function(F,$,ie,fe,de,ye,Le,Ne){this.pdf.internal.out([e(i(ie+F)),e(a(fe+$)),e(i(de+F)),e(a(ye+$)),e(i(Le+F)),e(a(Ne+$)),"c"].join(" "))},te=function(F,$,ie,fe){for(var de=2*Math.PI,ye=Math.PI/2;$>ie;)$-=de;var Le=Math.abs(ie-$);Le<de&&fe&&(Le=de-Le);for(var Ne=[],ze=fe?-1:1,nt=$;Le>1e-5;){var ut=nt+ze*Math.min(Le,ye);Ne.push(he.call(this,F,nt,ut)),Le-=Math.abs(ut-nt),nt=ut}return Ne},he=function(F,$,ie){var fe=(ie-$)/2,de=F*Math.cos(fe),ye=F*Math.sin(fe),Le=de,Ne=-ye,ze=Le*Le+Ne*Ne,nt=ze+Le*de+Ne*ye,ut=4/3*(Math.sqrt(2*ze*nt)-nt)/(Le*ye-Ne*de),ke=Le-ut*Ne,Ke=Ne+ut*Le,Q=ke,et=-Ke,wt=fe+$,ct=Math.cos(wt),Fe=Math.sin(wt);return{x1:F*Math.cos($),y1:F*Math.sin($),x2:ke*ct-Ke*Fe,y2:ke*Fe+Ke*ct,x3:Q*ct-et*Fe,y3:Q*Fe+et*ct,x4:F*Math.cos(ie),y4:F*Math.sin(ie)}},pe=function(F){return 180*F/Math.PI},Ce=function(F,$,ie,fe,de,ye){var Le=F+.5*(ie-F),Ne=$+.5*(fe-$),ze=de+.5*(ie-de),nt=ye+.5*(fe-ye),ut=Math.min(F,de,Le,ze),ke=Math.max(F,de,Le,ze),Ke=Math.min($,ye,Ne,nt),Q=Math.max($,ye,Ne,nt);return new l(ut,Ke,ke-ut,Q-Ke)},We=function(F,$,ie,fe,de,ye,Le,Ne){var ze,nt,ut,ke,Ke,Q,et,wt,ct,Fe,rt,$e,ot,ft,Vt=ie-F,Qt=fe-$,Bt=de-ie,sn=ye-fe,Nt=Le-de,ht=Ne-ye;for(nt=0;nt<41;nt++)ct=(et=(ut=F+(ze=nt/40)*Vt)+ze*((Ke=ie+ze*Bt)-ut))+ze*(Ke+ze*(de+ze*Nt-Ke)-et),Fe=(wt=(ke=$+ze*Qt)+ze*((Q=fe+ze*sn)-ke))+ze*(Q+ze*(ye+ze*ht-Q)-wt),nt==0?(rt=ct,$e=Fe,ot=ct,ft=Fe):(rt=Math.min(rt,ct),$e=Math.min($e,Fe),ot=Math.max(ot,ct),ft=Math.max(ft,Fe));return new l(Math.round(rt),Math.round($e),Math.round(ot-rt),Math.round(ft-$e))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,$,ie=(F=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:$}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(Lt.API),(function(n){var e=function(s){var l,c,f,d,g,_,v,A,S,I;for(c=[],f=0,d=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;d>f;f+=4)(g=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))!==0?(_=(g=((g=((g=((g=(g-(I=g%85))/85)-(S=g%85))/85)-(A=g%85))/85)-(v=g%85))/85)%85,c.push(_+33,v+33,A+33,S+33,I+33)):c.push(122);return(function(N,V){for(var q=V;q>0;q--)N.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},t=function(s){var l,c,f,d,g,_=String,v="length",A=255,S="charCodeAt",I="slice",N="replace";for(s[I](-2),s=s[I](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),f=[],d=0,g=(s+=l="uuuuu"[I](s[v]%5||5))[v];g>d;d+=5)c=52200625*(s[S](d)-33)+614125*(s[S](d+1)-33)+7225*(s[S](d+2)-33)+85*(s[S](d+3)-33)+(s[S](d+4)-33),f.push(A&c>>24,A&c>>16,A&c>>8,A&c);return(function(V,q){for(var U=q;U>0;U--)V.pop()})(f,l[v]),_.fromCharCode.apply(_,f)},r=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",f=0;f<s.length;f+=2)c+=String.fromCharCode("0x"+(s[f]+s[f+1]));return c},a=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=gm(l)).reduce(function(f,d){return f+String.fromCharCode(d)},"")};n.processDataByFilters=function(s,l){var c=0,f=s||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:f,reverseChain:d.reverse().join(" ")}}})(Lt.API),(function(n){n.loadFile=function(e,t,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,f,d){var g=new XMLHttpRequest,_=0,v=function(A){var S=A.length,I=[],N=String.fromCharCode;for(_=0;_<S;_+=1)I.push(N(255&A.charCodeAt(_)));return I.join("")};if(g.open("GET",c,!f),g.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(g.onload=function(){g.status===200?d(v(this.responseText)):d(void 0)}),g.send(null),f&&g.status===200)return v(g.responseText)})(i,a,s)}catch{}return l})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(Lt.API),(function(n){function e(){return(rn.html2canvas?Promise.resolve(rn.html2canvas):nv(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(rn.DOMPurify?Promise.resolve(rn.DOMPurify):nv(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=pr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var f=document.createElement(l);for(var d in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[d]=c.style[d];return f},a=function l(c,f){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(l(g,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},s=function l(c){var f=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),f);return(d=d.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(t).then(function(f){return this.set({src:i("div",{innerHTML:l,dompurify:f})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var f=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=d,d)for(var v=0;v<d.length;++v){var A=d[v],S=A.src.find(function(I){return I.format==="truetype"});S&&f.addFont(S.url,A.ref.name,A.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,f.context2d.save(!0),c(this.prop.container,_)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=l[f]};switch(f){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[f]=l[f]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var f=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(f):f})},s.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(f,d){return Math.floor(f*d/72*96)}return this.then(function(){(l=l||Lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,f,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,f,d){return this.setProgress(l?this.progress.val+l:null,c||null,f?this.progress.n+f:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(l,c){var f=this;return this.thenCore(l,c,function(d,g){return f.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(_){return f.updateProgress(null,d),_}).then(d,g).then(function(_){return f.updateProgress(1),_})})},s.prototype.thenCore=function(l,c,f){f=f||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),_=f.call(g,l,c);return s.convert(_,d.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(f){c=c.thenCore(f)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Lt.getPageSize=function(l,c,f){if(pr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,f=d.format||f}c=c||"mm",f=f||"a4",l=(""+(l||"P")).toLowerCase();var g,_=(""+f).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+c}var A,S=0,I=0;if(v.hasOwnProperty(_))S=v[_][1]/g,I=v[_][0]/g;else try{S=f[1],I=f[0]}catch{throw new Error("Invalid format: "+f)}if(l==="p"||l==="portrait")l="p",I>S&&(A=I,I=S,S=A);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",S>I&&(A=I,I=S,S=A)}return{width:I,height:S,unit:c,k:g,orientation:l}},n.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(wv):null;var f=new s(c);return c.worker?f:f.from(l).doCallback()}})(Lt.API),Lt.API.addJS=function(n){var e,t,r=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,d=[];for(a=0;a<f;a++){var g=t.internal.newObject();d.push(g);var _=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<d.length;a++)t.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(Lt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,a,s,l){var c,f=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(g){for(var _,v=256*g.charCodeAt(4)+g.charCodeAt(5),A=g.length,S={width:0,height:0,numcomponents:1},I=4;I<A;I+=2){if(I+=v,e.indexOf(g.charCodeAt(I+1))!==-1){_=256*g.charCodeAt(I+5)+g.charCodeAt(I+6),S={width:256*g.charCodeAt(I+7)+g.charCodeAt(I+8),height:_,numcomponents:g.charCodeAt(I+9)};break}v=256*g.charCodeAt(I+2)+g.charCodeAt(I+3)}return S})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:f,index:r,alias:i}}return d}})(Lt.API),Lt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,a=vL(n,{checkCrc:!0}),s=a.width,l=a.height,c=a.channels,f=a.palette,d=a.depth;i=f&&c===1?(function(R){for(var P=R.width,H=R.height,O=R.data,k=R.palette,j=R.depth,ce=!1,xe=[],te=[],he=void 0,pe=!1,Ce=0,We=0;We<k.length;We++){var Z=Kx(k[We],4),F=Z[0],$=Z[1],ie=Z[2],fe=Z[3];xe.push(F,$,ie),fe!=null&&(fe===0?(Ce++,te.length<1&&te.push(We)):fe<255&&(pe=!0))}if(pe||Ce>1){ce=!0,te=void 0;var de=P*H;he=new Uint8Array(de);for(var ye=new DataView(O.buffer),Le=0;Le<de;Le++){var Ne=bv(ye,Le,j),ze=Kx(k[Ne],4)[3];he[Le]=ze}}else Ce===0&&(te=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ce?8:void 0,colorBytes:O,alphaBytes:he,needSMask:ce,palette:xe,mask:te}})(a):c===2||c===4?(function(R){for(var P=R.data,H=R.width,O=R.height,k=R.channels,j=R.depth,ce=k===2?"DeviceGray":"DeviceRGB",xe=k-1,te=H*O,he=xe,pe=te*he,Ce=1*te,We=Math.ceil(pe*j/8),Z=Math.ceil(Ce*j/8),F=new Uint8Array(We),$=new Uint8Array(Z),ie=new DataView(P.buffer),fe=new DataView(F.buffer),de=new DataView($.buffer),ye=!1,Le=0;Le<te;Le++){for(var Ne=Le*k,ze=0;ze<he;ze++)Q3(fe,bv(ie,Ne+ze,j),Le*he+ze,j);var nt=bv(ie,Ne+he,j);nt<(1<<j)-1&&(ye=!0),Q3(de,nt,1*Le,j)}return{colorSpace:ce,colorsPerPixel:xe,sMaskBitsPerComponent:ye?j:void 0,colorBytes:F,alphaBytes:$,needSMask:ye}})(a):(function(R){var P=R.data,H=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(O){for(var k=O.length,j=new Uint8Array(2*k),ce=new DataView(j.buffer,j.byteOffset,j.byteLength),xe=0;xe<k;xe++)ce.setUint16(2*xe,O[xe],!1);return j})(P):P,needSMask:!1}})(a);var g,_,v,A=i,S=A.colorSpace,I=A.colorsPerPixel,N=A.sMaskBitsPerComponent,V=A.colorBytes,q=A.alphaBytes,U=A.needSMask,re=A.palette,ue=A.mask,z=null;return r!==Lt.API.image_compression.NONE&&typeof gm=="function"?(z=(function(R){var P;switch(R){case Lt.API.image_compression.FAST:P=11;break;case Lt.API.image_compression.MEDIUM:P=13;break;case Lt.API.image_compression.SLOW:P=14;break;default:P=12}return P})(r),g=this.decode.FLATE_DECODE,_="/Predictor ".concat(z," /Colors ").concat(I," /BitsPerComponent ").concat(d," /Columns ").concat(s),n=X3(V,Math.ceil(s*I*d/8),I,d,r),U&&(v=X3(q,Math.ceil(s*N/8),1,N,r))):(g=void 0,_=void 0,n=V,U&&(v=q)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:t,data:n,index:e,filter:g,decodeParameters:_,transparency:ue,palette:re,sMask:v,predictor:z,width:s,height:l,bitsPerComponent:d,sMaskBitsPerComponent:N,colorSpace:S}}},(function(n){n.processGIF89A=function(e,t,r,i){var a=new BL(e),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:s,height:l},d=new Av(100).encode(f,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A})(Lt.API),ol.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ol.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){Nr.log("bit decode error:"+t)}},ol.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}t!==0&&(this.pos+=4-t)}},ol.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,c=15&a,f=this.palette[l];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},ol.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},ol.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,f=a>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=f}this.pos+=n}},ol.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&t)/t*255|0,f=(s>>11)/e*255|0,d=i*this.width*4+4*a;this.data[d]=f,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=n}},ol.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},ol.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},ol.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var a=new ol(e,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new Av(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)}})(Lt.API),e4.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var a=new e4(e),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},f=new Av(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)}})(Lt.API),Lt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,f=0;f<i;f+=4){var d=r[f],g=r[f+1],_=r[f+2],v=r[f+3];a[l++]=d,a[l++]=g,a[l++]=_,s[c++]=v}var A=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Lt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wh=Lt.API,H0=wh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=f.fof?f.fof:1,g=e.doKerning!==!1,_=0,v=n.length,A=0,S=l[0]||c,I=[];for(t=0;t<v;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?I.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(_=g&&pr(f[r])==="object"&&!isNaN(parseInt(f[r][A],10))?f[r][A]/d:0,I.push((l[r]||S)/c+_)),A=r;return I},q3=wh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return wh.processArabic&&(n=wh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:H0.apply(this,arguments).reduce(function(a,s){return a+s},0)},G3=function(n,e,t,r){for(var i=[],a=0,s=n.length,l=0;a!==s&&l+e[a]<t;)l+=e[a],a++;i.push(n.slice(0,a));var c=a;for(l=0;a!==s;)l+e[a]>r&&(i.push(n.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(n.slice(c,a)),i},W3=function(n,e,t){t||(t={});var r,i,a,s,l,c,f,d=[],g=[d],_=t.textIndent||0,v=0,A=0,S=n.split(" "),I=H0.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var N=Array(c).join(" "),V=[];S.map(function(U){(U=U.split(/\s*\n/)).length>1?V=V.concat(U.map(function(re,ue){return(ue&&re.length?`
`:"")+re})):V.push(U[0])}),S=V,c=q3.apply(this,[N,t])}for(a=0,s=S.length;a<s;a++){var q=0;if(r=S[a],c&&r[0]==`
`&&(r=r.substr(1),q=1),_+v+(A=(i=H0.apply(this,[r,t])).reduce(function(U,re){return U+re},0))>e||q){if(A>e){for(l=G3.apply(this,[r,i,e-(_+v),e]),d.push(l.shift()),d=[l.pop()];l.length;)g.push([l.shift()]);A=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(U,re){return U+re},0)}else d=[r];g.push(d),_=A+c,v=I}else d.push(r),_+=v+A,v=I}return f=c?function(U,re){return(re?N:"")+U.join(" ")}:function(U){return U.join(" ")},g.map(f)},wh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),_="Unicode";return g.metadata[_]?{widths:g.metadata[_].widths||{0:1},kerning:g.metadata[_].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var l,c,f=[];for(l=0,c=r.length;l<c;l++)f=f.concat(W3.apply(this,[r[l],s,a]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[t[a]]=e[a],i[e[a]]=t[a];var s=function(_){return"0x"+parseInt(_,10).toString(16)},l=n.__fontmetrics__.compress=function(_){var v,A,S,I,N=["{"];for(var V in _){if(v=_[V],isNaN(parseInt(V,10))?A="'"+V+"'":(V=parseInt(V,10),A=(A=s(V).slice(2)).slice(0,-1)+i[A.slice(-1)]),typeof v=="number")v<0?(S=s(v).slice(3),I="-"):(S=s(v).slice(2),I=""),S=I+S.slice(0,-1)+i[S.slice(-1)];else{if(pr(v)!=="object")throw new Error("Don't know what to do with value type "+pr(v)+".");S=l(v)}N.push(A+S)}return N.push("}"),N.join("")},c=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,A,S,I,N={},V=1,q=N,U=[],re="",ue="",z=_.length-1,R=1;R<z;R+=1)(I=_[R])=="'"?v?(S=v.join(""),v=void 0):v=[]:v?v.push(I):I=="{"?(U.push([q,S]),q={},S=void 0):I=="}"?((A=U.pop())[0][A[1]]=q,S=void 0,q=A[0]):I=="-"?V=-1:S===void 0?r.hasOwnProperty(I)?(re+=r[I],S=parseInt(re,16)*V,V=1,re=""):re+=I:r.hasOwnProperty(I)?(ue+=r[I],q[S]=parseInt(ue,16)*V,V=1,S=void 0,ue=""):ue+=I;return N},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},g={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var v=_.font,A=g.Unicode[v.postScriptName];A&&(v.metadata.Unicode={},v.metadata.Unicode.widths=A.widths,v.metadata.Unicode.kerning=A.kerning);var S=d.Unicode[v.postScriptName];S&&(v.metadata.Unicode.encoding=S,v.encoding=S.codePages[0])}])})(Lt.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(op(l)),s.metadata=n.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(Lt),Lt.API.addSvgAsImage=function(n,e,t,r,i,a,s,l){if(isNaN(e)||isNaN(t))throw Nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(rn.canvg?Promise.resolve(rn.canvg):nv(()=>import("./index.es-u0qSRIbY.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(f,n,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(d)}).then(function(){g.addImage(c.toDataURL("image/jpeg",1),e,t,r,i,s,l)})},Lt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Lt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],f=0,d=0,g=0;function _(A,S){var I,N=!1;for(I=0;I<A.length;I+=1)A[I]===S&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var v=l.length;for(g=0;g<v;g+=1)t[l[g]].value=t[l[g]].defaultValue,t[l[g]].explicitSet=!1}if(pr(n)==="object"){for(i in n)if(a=n[i],_(l,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&_(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")c.push(String(a[f]-1));else if(a[f].length>1){for(d=0;d<a[f].length;d+=1)typeof a[f][d]!="number"&&(r=!1);r===!0&&c.push([a[f][0]-1,a[f][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,S=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?S.push("/"+A+" /"+t[A].value):S.push("/"+A+" "+t[A].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},Lt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",jL),this.internal.events.subscribe("postPutResources",FL)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,f=["","0","00","000","0000"],d=[""],g=0,_=a.length;g<_;++g){if(l=s.metadata.characterToGlyph(a.charCodeAt(g)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(f[4-l.length],l)}return d.join("")},r=function(a){var s,l,c,f,d,g,_;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,_=(l=Object.keys(a).sort(function(v,A){return v-A})).length;g<_;g++)s=l[g],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+f+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,d=s.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,_=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),v="",A=0;A<_.length;A++)v+=String.fromCharCode(_[A]);var S=f();d({data:v,addLength1:!0,objectId:S}),c("endobj");var I=f();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:I}),c("endobj");var N=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Th(l.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var V=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+Th(l.fontName)),c("/FontDescriptor "+N+" 0 R"),c("/W "+n.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+I+" 0 R"),c("/BaseFont /"+Th(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+V+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,f=s.newObject,d=s.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,_="",v=0;v<g.length;v++)_+=String.fromCharCode(g[v]);var A=f();d({data:_,addLength1:!0,objectId:A}),c("endobj");var S=f();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var I=f();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+A+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Th(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=f();for(var N=0;N<l.metadata.hmtx.widths.length;N++)l.metadata.hmtx.widths[N]=parseInt(l.metadata.hmtx.widths[N]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Th(l.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,f=a.y,d=a.options||{},g=a.mutex||{},_=g.pdfEscape,v=g.activeFontKey,A=g.fonts,S=v,I="",N=0,V="",q=A[S].encoding;if(A[S].encoding!=="Identity-H")return{text:l,x:c,y:f,options:d,mutex:g};for(V=l,S=v,Array.isArray(l)&&(V=l[0]),N=0;N<V.length;N+=1)A[S].metadata.hasOwnProperty("cmap")&&(s=A[S].metadata.cmap.unicode.codeMap[V[N].charCodeAt(0)]),s||V[N].charCodeAt(0)<256&&A[S].metadata.hasOwnProperty("Unicode")?I+=V[N]:I+="";var U="";return parseInt(S.slice(1))<14||q==="WinAnsiEncoding"?U=_(I,S).split("").map(function(re){return re.charCodeAt(0).toString(16)}).join(""):q==="Identity-H"&&(U=t(I,A[S])),g.isHex=!0,{text:U,x:c,y:f,options:d,mutex:g}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?l.push([i(Object.assign({},c,{text:s[f][0]})).text,s[f][1],s[f][2]]):l.push(i(Object.assign({},c,{text:s[f]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])})(Lt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Lt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,s,l,c,f,d,g=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),V=!1,q=0;this.__bidiEngine__={};var U=function(O){var k=O.charCodeAt(),j=k>>8,ce=S[j];return ce!==void 0?g[256*ce+(255&k)]:j===252||j===253?"AL":N.test(j)?"L":j===8?"R":"N"},re=function(O){for(var k,j=0;j<O.length;j++){if((k=U(O.charAt(j)))==="L")return!1;if(k==="R")return!0}return!1},ue=function(O,k,j,ce){var xe,te,he,pe,Ce=k[ce];switch(Ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":V=!1;break;case"N":case"AN":break;case"EN":V&&(Ce="AN");break;case"AL":V=!0,Ce="R";break;case"WS":case"BN":Ce="N";break;case"CS":ce<1||ce+1>=k.length||(xe=j[ce-1])!=="EN"&&xe!=="AN"||(te=k[ce+1])!=="EN"&&te!=="AN"?Ce="N":V&&(te="AN"),Ce=te===xe?te:"N";break;case"ES":Ce=(xe=ce>0?j[ce-1]:"B")==="EN"&&ce+1<k.length&&k[ce+1]==="EN"?"EN":"N";break;case"ET":if(ce>0&&j[ce-1]==="EN"){Ce="EN";break}if(V){Ce="N";break}for(he=ce+1,pe=k.length;he<pe&&k[he]==="ET";)he++;Ce=he<pe&&k[he]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(pe=k.length,he=ce+1;he<pe&&k[he]==="NSM";)he++;if(he<pe){var We=O[ce],Z=We>=1425&&We<=2303||We===64286;if(xe=k[he],Z&&(xe==="R"||xe==="AL")){Ce="R";break}}}Ce=ce<1||(xe=k[ce-1])==="B"?"N":j[ce-1];break;case"B":V=!1,i=!0,Ce=q;break;case"S":a=!0,Ce="N"}return Ce},z=function(O,k,j){var ce=O.split("");return j&&R(ce,j,{hiLevel:q}),ce.reverse(),k&&k.reverse(),ce.join("")},R=function(O,k,j){var ce,xe,te,he,pe,Ce=-1,We=O.length,Z=0,F=[],$=q?v:_,ie=[];for(V=!1,i=!1,a=!1,xe=0;xe<We;xe++)ie[xe]=U(O[xe]);for(te=0;te<We;te++){if(pe=Z,F[te]=ue(O,ie,F,te),ce=240&(Z=$[pe][A[F[te]]]),Z&=15,k[te]=he=$[Z][5],ce>0)if(ce===16){for(xe=Ce;xe<te;xe++)k[xe]=1;Ce=-1}else Ce=-1;if($[Z][6])Ce===-1&&(Ce=te);else if(Ce>-1){for(xe=Ce;xe<te;xe++)k[xe]=he;Ce=-1}ie[te]==="B"&&(k[te]=0),j.hiLevel|=he}a&&(function(fe,de,ye){for(var Le=0;Le<ye;Le++)if(fe[Le]==="S"){de[Le]=q;for(var Ne=Le-1;Ne>=0&&fe[Ne]==="WS";Ne--)de[Ne]=q}})(ie,k,We)},P=function(O,k,j,ce,xe){if(!(xe.hiLevel<O)){if(O===1&&q===1&&!i)return k.reverse(),void(j&&j.reverse());for(var te,he,pe,Ce,We=k.length,Z=0;Z<We;){if(ce[Z]>=O){for(pe=Z+1;pe<We&&ce[pe]>=O;)pe++;for(Ce=Z,he=pe-1;Ce<he;Ce++,he--)te=k[Ce],k[Ce]=k[he],k[he]=te,j&&(te=j[Ce],j[Ce]=j[he],j[he]=te);Z=pe}Z++}}},H=function(O,k,j){var ce=O.split(""),xe={hiLevel:q};return j||(j=[]),R(ce,j,xe),(function(te,he,pe){if(pe.hiLevel!==0&&d)for(var Ce,We=0;We<te.length;We++)he[We]===1&&(Ce=I.indexOf(te[We]))>=0&&(te[We]=I[Ce+1])})(ce,j,xe),P(2,ce,k,j,xe),P(1,ce,k,j,xe),ce.join("")};return this.__bidiEngine__.doBidiReorder=function(O,k,j){if((function(xe,te){if(te)for(var he=0;he<xe.length;he++)te[he]=he;l===void 0&&(l=re(xe)),f===void 0&&(f=re(xe))})(O,k),s||!c||f)if(s&&c&&l^f)q=l?1:0,O=z(O,k,j);else if(!s&&c&&f)q=l?1:0,O=H(O,k,j),O=z(O,k);else if(!s||l||c||f){if(s&&!c&&l^f)O=z(O,k),l?(q=0,O=H(O,k,j)):(q=1,O=H(O,k,j),O=z(O,k));else if(s&&l&&!c&&f)q=1,O=H(O,k,j),O=z(O,k);else if(!s&&!c&&l^f){var ce=d;l?(q=1,O=H(O,k,j),q=0,d=!1,O=H(O,k,j),d=ce):(q=0,O=H(O,k,j),O=z(O,k),q=1,d=!1,O=H(O,k,j),d=ce,O=z(O,k))}}else q=0,O=H(O,k,j);else q=l?1:0,O=H(O,k,j);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,c=O.isOutputVisual,l=O.isInputRtl,f=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([t.doBidiReorder(i[l])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Lt),Lt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Gc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new eP(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new UL(this.contents),this.head=new zL(this),this.name=new XL(this),this.cmap=new cE(this),this.toUnicode={},this.hhea=new HL(this),this.maxp=new YL(this),this.hmtx=new KL(this),this.post=new GL(this),this.os2=new qL(this),this.loca=new JL(this),this.glyf=new $L(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,f;for(f=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var gl,Gc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,a,s,l,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)t=e[r],a.push(this.writeByte(t));return a},n})(),UL=(function(){var n;function e(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,a,s,l,c,f,d,g,_,v,A,S;for(S in v=Object.keys(t).length,c=Math.log(2),g=16*Math.floor(Math.log(v)/c),s=Math.floor(g/c),d=16*v-g,(i=new Gc).writeInt(this.scalarType),i.writeShort(v),i.writeShort(g),i.writeShort(s),i.writeShort(d),a=16*v,f=i.pos+a,l=null,A=[],t)for(_=t[S],i.writeString(S),i.writeInt(n(_)),i.writeInt(f),i.writeInt(_.length),A=A.concat(_),S==="head"&&(l=f),f+=_.length;f%4;)A.push(0),f++;return i.write(A),r=2981146554-n(i.data),i.pos=l+8,i.writeUInt32(r),i.data},n=function(t){var r,i,a,s;for(t=fE.call(t);t.length%4;)t.push(0);for(a=new Gc(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),VL={}.hasOwnProperty,Jl=function(n,e){for(var t in e)VL.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};gl=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var zL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,gl),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Gc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),t4=(function(){function n(e,t){var r,i,a,s,l,c,f,d,g,_,v,A,S,I,N,V,q;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(v=e.readUInt16(),_=v/2,e.pos+=6,a=(function(){var U,re;for(re=[],c=U=0;0<=_?U<_:U>_;c=0<=_?++U:--U)re.push(e.readUInt16());return re})(),e.pos+=2,S=(function(){var U,re;for(re=[],c=U=0;0<=_?U<_:U>_;c=0<=_?++U:--U)re.push(e.readUInt16());return re})(),f=(function(){var U,re;for(re=[],c=U=0;0<=_?U<_:U>_;c=0<=_?++U:--U)re.push(e.readUInt16());return re})(),d=(function(){var U,re;for(re=[],c=U=0;0<=_?U<_:U>_;c=0<=_?++U:--U)re.push(e.readUInt16());return re})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var U,re;for(re=[],c=U=0;0<=i?U<i:U>i;c=0<=i?++U:--U)re.push(e.readUInt16());return re})(),c=N=0,q=a.length;N<q;c=++N)for(I=a[c],r=V=A=S[c];A<=I?V<=I:V>=I;r=A<=I?++V:--V)d[c]===0?s=r+f[c]:(s=l[d[c]/2+(r-A)-(_-c)]||0)!==0&&(s+=f[c]),this.codeMap[r]=65535&s}e.pos=g}return n.encode=function(e,t){var r,i,a,s,l,c,f,d,g,_,v,A,S,I,N,V,q,U,re,ue,z,R,P,H,O,k,j,ce,xe,te,he,pe,Ce,We,Z,F,$,ie,fe,de,ye,Le,Ne,ze,nt,ut;switch(ce=new Gc,s=Object.keys(e).sort(function(ke,Ke){return ke-Ke}),t){case"macroman":for(S=0,I=(function(){var ke=[];for(A=0;A<256;++A)ke.push(0);return ke})(),V={0:0},a={},xe=0,Ce=s.length;xe<Ce;xe++)V[Ne=e[i=s[xe]]]==null&&(V[Ne]=++S),a[i]={old:e[i],new:V[e[i]]},I[i]=V[e[i]];return ce.writeUInt16(1),ce.writeUInt16(0),ce.writeUInt32(12),ce.writeUInt16(0),ce.writeUInt16(262),ce.writeUInt16(0),ce.write(I),{charMap:a,subtable:ce.data,maxGlyphID:S+1};case"unicode":for(k=[],g=[],q=0,V={},r={},N=f=null,te=0,We=s.length;te<We;te++)V[re=e[i=s[te]]]==null&&(V[re]=++q),r[i]={old:re,new:V[re]},l=V[re]-i,N!=null&&l===f||(N&&g.push(N),k.push(i),f=l),N=i;for(N&&g.push(N),g.push(65535),k.push(65535),H=2*(P=k.length),R=2*Math.pow(Math.log(P)/Math.LN2,2),_=Math.log(R/2)/Math.LN2,z=2*P-R,c=[],ue=[],v=[],A=he=0,Z=k.length;he<Z;A=++he){if(O=k[A],d=g[A],O===65535){c.push(0),ue.push(0);break}if(O-(j=r[O].new)>=32768)for(c.push(0),ue.push(2*(v.length+P-A)),i=pe=O;O<=d?pe<=d:pe>=d;i=O<=d?++pe:--pe)v.push(r[i].new);else c.push(j-O),ue.push(0)}for(ce.writeUInt16(3),ce.writeUInt16(1),ce.writeUInt32(12),ce.writeUInt16(4),ce.writeUInt16(16+8*P+2*v.length),ce.writeUInt16(0),ce.writeUInt16(H),ce.writeUInt16(R),ce.writeUInt16(_),ce.writeUInt16(z),ye=0,F=g.length;ye<F;ye++)i=g[ye],ce.writeUInt16(i);for(ce.writeUInt16(0),Le=0,$=k.length;Le<$;Le++)i=k[Le],ce.writeUInt16(i);for(ze=0,ie=c.length;ze<ie;ze++)l=c[ze],ce.writeUInt16(l);for(nt=0,fe=ue.length;nt<fe;nt++)U=ue[nt],ce.writeUInt16(U);for(ut=0,de=v.length;ut<de;ut++)S=v[ut],ce.writeUInt16(S);return{charMap:r,subtable:ce.data,maxGlyphID:q+1}}},n})(),cE=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,gl),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new t4(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=t4.encode(e,t),(i=new Gc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),HL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,gl),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),qL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,gl),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),GL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,gl),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,l,c;for(c=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},n})(),WL=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},XL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,gl),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,a,s,l,c,f,d,g,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=d=0,g=r.length;d<g;a=++d)i=r[a],e.pos=i.offset,f=e.readString(i.length),s=new WL(f,i),c[_=i.nameID]==null&&(c[_]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),YL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,gl),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),KL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,gl),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,a,s,l,c;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,d;for(d=[],t=f=0;0<=i?f<i:f>i;t=0<=i?++f:--f)d.push(e.readInt16());return d})(),this.widths=(function(){var f,d,g,_;for(_=[],f=0,d=(g=this.metrics).length;f<d;f++)a=g[f],_.push(a.advance);return _}).call(this),r=this.widths[this.widths.length-1],c=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)c.push(this.widths.push(r));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),fE=[].slice,$L=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,gl),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,a,s,l,c,f,d,g;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,s=(l=new Gc(t.read(i))).readShort(),f=l.readShort(),g=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=s===-1?new QL(l,f,g,c,d):new ZL(l,s,f,g,c,d),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,a,s,l,c;for(s=[],a=[],l=0,c=t.length;l<c;l++)i=e[t[l]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},n})(),ZL=(function(){function n(e,t,r,i,a,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),QL=(function(){function n(e,t,r,i,a){var s,l;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Gc(fE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),JL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,gl),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<t.length&&t[a]==s){++a,r[s]=i;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(i+=c)}for(var f=new Array(4*r.length),d=0;d<r.length;++d)f[4*d+3]=255&r[d],f[4*d+2]=(65280&r[d])>>8,f[4*d+1]=(16711680&r[d])>>16,f[4*d]=(4278190080&r[d])>>24;return f},n})(),eP=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,a,s,l,c;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in c=this.glyphsFor(t))r=c[a],i[a]=r;return i},n.prototype.encode=function(e,t){var r,i,a,s,l,c,f,d,g,_,v,A,S,I,N;for(i in r=cE.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),v={0:0},N=r.charMap)v[(c=N[i]).old]=c.new;for(A in _=r.maxGlyphID,s)A in v||(v[A]=_++);return d=(function(V){var q,U;for(q in U={},V)U[V[q]]=q;return U})(v),g=Object.keys(d).sort(function(V,q){return V-q}),S=(function(){var V,q,U;for(U=[],V=0,q=g.length;V<q;V++)l=g[V],U.push(d[l]);return U})(),a=this.font.glyf.encode(s,S,v),f=this.font.loca.encode(a.offsets,S),I={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},n})();Lt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,a,s;if(Array.isArray(t))return"["+(function(){var l,c,f;for(f=[],l=0,c=t.length;l<c;l++)r=t[l],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+t},e})();function hE(n,e,t,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,l=i.internal.getFontSize()/s,c=i.getLineHeightFactor?i.getLineHeightFactor():a,f=l*c,d=/\r\n|\r|\n/g,g="",_=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(g=typeof n=="string"?n.split(d):n,_=g.length||1),t+=l*(2-a),r.valign==="middle"?t-=_/2*f:r.valign==="bottom"&&(t-=_*f),r.halign==="center"||r.halign==="right"){var v=l;if(r.halign==="center"&&(v*=.5),g&&_>=1){for(var A=0;A<g.length;A++)i.text(g[A],e-i.getStringUnitWidth(g[A])*v,t),t+=f;return i}e-=i.getStringUnitWidth(n)*v}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var n4={},zh=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:n4=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var f=this.getFontList()[c];f&&f.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),l=f[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var d=n.unifyColor(e.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=n.unifyColor(e.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=n.unifyColor(e.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,a){return this.jsPDFDocument.rect(e,t,r,i,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return n4||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),Am=function(n,e){return Am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Am(n,e)};function dE(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Am(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var pE=(function(n){dE(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function tP(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function nP(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Vp(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(a){return t.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function gE(n,e,t,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:a});var s=vE(i,!1);s&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,s)}function vE(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function b2(n,e){var t,r,i,a;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(a=n.bottom)!==null&&a!==void 0?a:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function mE(n,e){var t=b2(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function rP(n,e,t,r,i){var a={},s=1.3333333333333333,l=Ev(e,function(q){return i.getComputedStyle(q).backgroundColor});l!=null&&(a.fillColor=l);var c=Ev(e,function(q){return i.getComputedStyle(q).color});c!=null&&(a.textColor=c);var f=aP(r,t);f&&(a.cellPadding=f);var d="borderTopColor",g=s*t,_=r.borderTopWidth;if(r.borderBottomWidth===_&&r.borderRightWidth===_&&r.borderLeftWidth===_){var v=(parseFloat(_)||0)/g;v&&(a.lineWidth=v)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/g,right:(parseFloat(r.borderRightWidth)||0)/g,bottom:(parseFloat(r.borderBottomWidth)||0)/g,left:(parseFloat(r.borderLeftWidth)||0)/g},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var A=Ev(e,function(q){return i.getComputedStyle(q)[d]});A!=null&&(a.lineColor=A);var S=["left","right","center","justify"];S.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),S=["middle","bottom","top"],S.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var I=parseInt(r.fontSize||"");isNaN(I)||(a.fontSize=I/s);var N=iP(r);N&&(a.fontStyle=N);var V=(r.fontFamily||"").toLowerCase();return n.indexOf(V)!==-1&&(a.font=V),a}function iP(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function Ev(n,e){var t=yE(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function yE(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:yE(n.parentElement,e):t}function aP(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,a=t.map(function(l){return parseInt(l||"0")/r}),s=b2(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function _E(n,e,t,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=t.document.querySelector(e):l=e;var c=Object.keys(n.getFontList()),f=n.scaleFactor(),d=[],g=[],_=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:d,body:g,foot:_};for(var v=0;v<l.rows.length;v++){var A=l.rows[v],S=(s=(a=A?.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),I=oP(c,f,t,A,r,i);I&&(S==="thead"?d.push(I):S==="tfoot"?_.push(I):g.push(I))}return{head:d,body:g,foot:_}}function oP(n,e,t,r,i,a){for(var s=new pE(r),l=0;l<r.cells.length;l++){var c=r.cells[l],f=t.getComputedStyle(c);if(i||f.display!=="none"){var d=void 0;a&&(d=rP(n,c,e,f,t)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:sP(c)})}}var g=t.getComputedStyle(r);if(s.length>0&&(i||g.display!=="none"))return s}function sP(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function lP(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Du(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])}return a}function wE(n,e){var t=new zh(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();lP(i,r,e);var a=Du({},i,r,e),s;typeof window<"u"&&(s=window);var l=uP(i,r,e),c=cP(i,r,e),f=fP(t,a),d=dP(t,a,s);return{id:e.tableId,content:d,hooks:c,styles:l,settings:f}}function uP(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var f=n[c],d=e[c],g=t[c];r.columnStyles=Du({},f,d,g)}else{var _=[n,e,t],v=_.map(function(A){return A[c]||{}});r[c]=Du({},v[0],v[1],v[2])}},a=0,s=Object.keys(r);a<s.length;a++){var l=s[a];i(l)}return r}function cP(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var l=s[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function fP(n,e){var t,r,i,a,s,l,c,f,d,g,_,v,A=b2(e.margin,40/n.scaleFactor()),S=(t=hP(n,e.startY))!==null&&t!==void 0?t:A.top,I;e.showFoot===!0?I="everyPage":e.showFoot===!1?I="never":I=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var N;e.showHead===!0?N="everyPage":e.showHead===!1?N="never":N=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var V=(a=e.useCss)!==null&&a!==void 0?a:!1,q=e.theme||(V?"plain":"striped"),U=!!e.horizontalPageBreak,re=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:V,theme:q,startY:S,margin:A,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:N,showFoot:I,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(_=e.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:U,horizontalPageBreakRepeat:re,horizontalPageBreakBehaviour:(v=e.horizontalPageBreakBehaviour)!==null&&v!==void 0?v:"afterAllRows"}}function hP(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),a=!1;if(t&&t.startPageNumber){var s=t.startPageNumber+t.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&t?.finalY!=null?t.finalY+20/r:null}function dP(n,e,t){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(t){var l=_E(n,e.html,t,s,e.useCss)||{};r=l.head||r,i=l.body||r,a=l.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||pP(r,i,a);return{columns:c,head:r,body:i,foot:a}}function pP(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,l;Array.isArray(r)?l=r[parseInt(a)]:l=r[a],typeof l=="object"&&!Array.isArray(l)&&(s=l?.colSpan||1);for(var c=0;c<s;c++){var f=void 0;Array.isArray(r)?f=i.length:f=a+(c>0?"_".concat(c):"");var d={dataKey:f};i.push(d)}}),i}var Em=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),gP=(function(n){dE(e,n);function e(t,r,i,a,s,l){var c=n.call(this,t,r,l)||this;return c.cell=i,c.row=a,c.column=s,c.section=a.section,c}return e})(Em),vP=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,a,s){for(var l=0,c=t;l<c.length;l++){var f=c[l],d=new gP(e,this,r,i,a,s),g=f(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],g)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new Em(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new Em(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),xE=(function(){function n(e,t,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof pE&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=t.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var l=t.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),f=c+l;return f>i?f:i},0)},n})(),bE=(function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=b2(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),mP=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(t=Math.max(t,s.styles.cellWidth))}return t},n})();function yP(n,e){_P(n,e);var t=[],r=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,t.push(a)),r+=a.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=Sm(t,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=Sm(t,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),xP(e),bP(e,n),wP(e)}function _P(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=mE(n,e);e.allRows().forEach(function(a){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],f=a.cells[c.index];if(f){var d=e.hooks.didParseCell;e.callCellHooks(n,d,f,a,c,null);var g=f.padding("horizontal");f.contentWidth=Vp(f.text,f.styles,n)+g;var _=Vp(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=_+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var v=10/t;f.minWidth=f.styles.minCellWidth||v,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],f=a.cells[c.index];if(f&&f.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,f.wrappedWidth),c.minWidth=Math.max(c.minWidth,f.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,f.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},g=d.cellWidth||d.minCellWidth;g&&typeof g=="number"&&(c.minWidth=g,c.wrappedWidth=g)}f&&(f.colSpan>1&&!c.minWidth&&(c.minWidth=f.minWidth),f.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=f.minWidth))}})}function Sm(n,e,t){for(var r=e,i=n.reduce(function(v,A){return v+A.wrappedWidth},0),a=0;a<n.length;a++){var s=n[a],l=s.wrappedWidth/i,c=r*l,f=s.width+c,d=t(s),g=f<d?d:f;e-=g-s.width,s.width=g}if(e=Math.round(e*1e10)/1e10,e){var _=n.filter(function(v){return e<0?v.width>t(v):!0});_.length&&(e=Sm(_,e,t))}return e}function wP(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,l=n.columns;s<l.length;s++){var c=l[s],f=e[c.index];if(t>1)t--,delete a.cells[c.index];else if(f)f.cell.height+=a.height,t=f.cell.colSpan,delete a.cells[c.index],f.left--,f.left<=1&&delete e[c.index];else{var d=a.cells[c.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var g=r.length-i,_=d.rowSpan>g?g:d.rowSpan;e[c.index]={cell:d,left:_,row:a}}}}}function xP(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,a=0,s=0,l=0;l<n.columns.length;l++){var c=n.columns[l];if(s-=1,s>1&&n.columns[l+1])a+=c.width,delete r.cells[c.index];else if(i){var f=i;delete r.cells[c.index],i=null,f.width=c.width+a}else{var f=r.cells[c.index];if(!f)continue;if(s=f.colSpan,a=0,f.colSpan>1){i=f,a+=c.width;continue}f.width=c.width+a}}}function bP(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var a=i[r],s=0,l=n.columns;s<l.length;s++){var c=l[s],f=a.cells[c.index];if(f){e.applyStyles(f.styles,!0);var d=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,d+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=r4(f.text,d,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=r4(f.text,d,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var g=f.styles.overflow(f.text,d);typeof g=="string"?f.text=[g]:f.text=g}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var _=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<_*f.rowSpan?t={height:_,count:f.rowSpan}:t&&t.count>0&&t.height>_&&(_=t.height),_>a.height&&(a.height=_)}}t.count--}}function r4(n,e,t,r,i){return n.map(function(a){return AP(a,e,t,r,i)})}function AP(n,e,t,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Vp(n,t,r))return n;for(;e<Vp(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function AE(n,e){var t=new zh(n),r=EP(e,t.scaleFactor()),i=new vP(e,r);return yP(t,i),t.applyStyles(t.userStyles),i}function EP(n,e){var t=n.content,r=CP(t.columns);if(t.head.length===0){var i=i4(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=i4(r,"foot");i&&t.foot.push(i)}var a=n.settings.theme,s=n.styles;return{columns:r,head:Sv("head",t.head,r,s,a,e),body:Sv("body",t.body,r,s,a,e),foot:Sv("foot",t.foot,r,s,a,e)}}function Sv(n,e,t,r,i,a){var s={},l=e.map(function(c,f){for(var d=0,g={},_=0,v=0,A=0,S=t;A<S.length;A++){var I=S[A];if(s[I.index]==null||s[I.index].left===0)if(v===0){var N=void 0;Array.isArray(c)?N=c[I.index-_-d]:N=c[I.dataKey];var V={};typeof N=="object"&&!Array.isArray(N)&&(V=N?.styles||{});var q=TP(n,I,f,i,r,a,V),U=new bE(N,q,n);g[I.dataKey]=U,g[I.index]=U,v=U.colSpan-1,s[I.index]={left:U.rowSpan-1,times:v}}else v--,_++;else s[I.index].left--,v=s[I.index].times,d++}return new xE(c,f,n,g)});return l}function i4(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=SP(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function SP(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function CP(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new mP(i,e,t)})}function TP(n,e,t,r,i,a,s){var l=nP(r),c;n==="head"?c=i.headStyles:n==="body"?c=i.bodyStyles:n==="foot"&&(c=i.footStyles);var f=Du({},l.table,l[n],i.styles,c),d=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},g=n==="body"?d:{},_=n==="body"&&t%2===0?Du({},l.alternateRow,i.alternateRowStyles):{},v=tP(a),A=Du({},v,f,_,g);return Du(A,s)}function NP(n,e,t){var r;t===void 0&&(t={});var i=mE(n,e),a=new Map,s=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(_){var v=e.columns.find(function(A){return A.dataKey===_||A.index===_});v&&!a.has(v.index)&&(a.set(v.index,!0),s.push(v.index),l.push(e.columns[v.index]),i-=v.wrappedWidth)});for(var f=!0,d=(r=t?.start)!==null&&r!==void 0?r:0;d<e.columns.length;){if(a.has(d)){d++;continue}var g=e.columns[d].wrappedWidth;if(f||i>=g)f=!1,s.push(d),l.push(e.columns[d]),i-=g;else break;d++}return{colIndexes:s,columns:l,lastIndex:d-1}}function IP(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=NP(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function EE(n,e){var t=e.settings,r=t.startY,i=t.margin,a={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=r+i.bottom+s;if(t.pageBreak==="avoid"){var c=e.body,f=c.reduce(function(_,v){return _+v.height},0);l+=f}var d=new zh(n);(t.pageBreak==="always"||t.startY!=null&&l>d.pageSize().height)&&(CE(d),a.y=i.top),e.callWillDrawPageHooks(d,a);var g=Du({},a);e.startPageNumber=d.pageNumber(),t.horizontalPageBreak?RP(d,e,g,a):(d.applyStyles(d.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(_){return Fu(d,e,_,a,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(_,v){var A=v===e.body.length-1;zp(d,e,_,A,g,a,e.columns)}),d.applyStyles(d.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(_){return Fu(d,e,_,a,e.columns)})),gE(d,e,g,a),e.callEndPageHooks(d,a),e.finalY=a.y,n.lastAutoTable=e,d.applyStyles(d.userStyles)}function RP(n,e,t,r){var i=IP(n,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,d){n.applyStyles(n.userStyles),d>0?h1(n,e,t,r,f.columns,!0):a4(n,e,r,f.columns),OP(n,e,t,r,f.columns),Cv(n,e,r,f.columns)});else for(var s=-1,l=i[0],c=function(){var f=s;if(l){n.applyStyles(n.userStyles);var d=l.columns;s>=0?h1(n,e,t,r,d,!0):a4(n,e,r,d),f=o4(n,e,s+1,r,d),Cv(n,e,r,d)}var g=f-s;i.slice(1).forEach(function(_){n.applyStyles(n.userStyles),h1(n,e,t,r,_.columns,!0),o4(n,e,s+1,r,_.columns,g),Cv(n,e,r,_.columns)}),s=f};s<e.body.length-1;)c()}function a4(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return Fu(n,e,a,t,r)})}function OP(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(a,s){var l=s===e.body.length-1;zp(n,e,a,l,t,r,i)})}function o4(n,e,t,r,i,a){n.applyStyles(n.userStyles),a=a??e.body.length;var s=Math.min(t+a,e.body.length),l=-1;return e.body.slice(t,s).forEach(function(c,f){var d=t+f===e.body.length-1,g=SE(n,e,d,r);c.canEntireRowFit(g,i)&&(Fu(n,e,c,r,i),l=t+f)}),l}function Cv(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return Fu(n,e,a,t,r)})}function DP(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function LP(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var a=0,s=0,l=t.columns;s<l.length;s++){var c=l[s],f=n.cells[c.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var d=new bE(f.raw,f.styles,f.section);d=Du(d,f),d.text=[];var g=DP(f,e,r);f.text.length>g&&(d.text=f.text.splice(g,f.text.length));var _=r.scaleFactor(),v=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(_,v),f.contentHeight>=e&&(f.contentHeight=e,d.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),d.contentHeight=d.getContentHeight(_,v),d.contentHeight>a&&(a=d.contentHeight),i[c.index]=d}}var A=new xE(n.raw,-1,n.section,i,!0);A.height=a;for(var S=0,I=t.columns;S<I.length;S++){var c=I[S],d=A.cells[c.index];d&&(d.height=A.height);var f=n.cells[c.index];f&&(f.height=n.height)}return A}function PP(n,e,t,r){var i=n.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,l=i-s;e.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,n),f=c<t;if(c>l)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var d=e.hasRowSpan(r.columns),g=e.getMaxCellHeight(r.columns)>l;return g?(d&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function zp(n,e,t,r,i,a,s){var l=SE(n,e,r,a);if(t.canEntireRowFit(l,s))Fu(n,e,t,a,s);else if(PP(n,t,l,e)){var c=LP(t,l,e,n);Fu(n,e,t,a,s),h1(n,e,i,a,s),zp(n,e,c,r,i,a,s)}else h1(n,e,i,a,s),zp(n,e,t,r,i,a,s)}function Fu(n,e,t,r,i){r.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var l=s[a],c=t.cells[l.index];if(!c){r.x+=l.width;continue}n.applyStyles(c.styles),c.x=r.x,c.y=r.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,c,t,l,r);if(f===!1){r.x+=l.width;continue}MP(n,c,r);var d=c.getTextPos();hE(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,l,r),r.x+=l.width}r.y+=t.height}function MP(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=vE(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),kP(n,e,t,r.lineWidth))}function kP(n,e,t,r){var i,a,s,l;r.top&&(i=t.x,a=t.y,s=t.x+e.width,l=t.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,a,s,l)),r.bottom&&(i=t.x,a=t.y+e.height,s=t.x+e.width,l=t.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,a,s,l)),r.left&&(i=t.x,a=t.y,s=t.x,l=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.left,i,a,s,l)),r.right&&(i=t.x+e.width,a=t.y,s=t.x+e.width,l=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.right,i,a,s,l));function c(f,d,g,_,v){n.getDocument().setLineWidth(f),n.getDocument().line(d,g,_,v,"S")}}function SE(n,e,t,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function h1(n,e,t,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(l){return Fu(n,e,l,r,i)}),e.callEndPageHooks(n,r);var s=e.settings.margin;gE(n,e,t,r),CE(n),e.pageNumber++,r.x=s.left,r.y=s.top,t.y=s.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Fu(n,e,l,r,i)}),n.applyStyles(n.userStyles))}function CE(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function BP(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=wE(this,r),a=AE(this,i);return EE(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){hE(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return zh.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){zh.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new zh(this),a=_E(i,e,window,t,!1),s=a.head,l=a.body,c=((r=s[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:c,rows:l,data:l}}}var Tv;function FP(n,e){var t=wE(n,e),r=AE(n,t);EE(n,r)}try{if(typeof window<"u"&&window){var s4=window,l4=s4.jsPDF||((Tv=s4.jspdf)===null||Tv===void 0?void 0:Tv.jsPDF);l4&&BP(l4)}}catch(n){console.error("Could not apply autoTable plugin",n)}function jP(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function UP(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var VP=(function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),zP=(function(n){VP(e,n);function e(t,r){var i=this.constructor,a=n.call(this,t,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),jP(a,i.prototype),UP(a),a}return e})(Error),HP=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),$o=(function(n){HP(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e})(zP),qP=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),xi=(function(n){qP(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e})($o),GP=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Wt=(function(n){GP(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})($o),TE=(function(){function n(e){if(this.binarizer=e,e===null)throw new Wt("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var a=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(a))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n})(),WP=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Mi=(function(n){WP(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})($o),XP=(function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n})(),Or=(function(){function n(){}return n.arraycopy=function(e,t,r,i,a){for(;a--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n})(),YP=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),ky=(function(n){YP(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})($o),KP=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),u4=(function(n){KP(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e})(ky),$P=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ta=(function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var a=t;a<r;a++)e[a]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new Wt("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new u4(t);if(r>e)throw new u4(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var a=$P(e),s=a.next();!s.done;s=a.next()){var l=s.value;i=31*i+l}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,a=new Int32Array(i);return Or.arraycopy(e,t,a,0,i),a},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,l=r(t,e[s]);if(l>0)i=s+1;else if(l<0)a=s-1;else return s}return-i-1},n.numberComparator=function(e,t){return e-t},n})(),bn=(function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n})(),Aa=(function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);Or.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=r[i]}var l=i*32+bn.numberOfTrailingZeros(a);return l>t?t:l},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=~r[i]}var l=i*32+bn.numberOfTrailingZeros(a);return l>t?t:l},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Wt;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,s=r;s<=i;s++){var l=s>r?0:e&31,c=s<i?31:t&31,f=(2<<c)-(1<<l);a[s]|=f}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new Wt;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),s=this.bits,l=i;l<=a;l++){var c=l>i?0:e&31,f=l<a?31:t&31,d=(2<<f)-(1<<c)&4294967295;if((s[l]&d)!==(r?d:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Wt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new Wt("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var a=0;a<i;a++){for(var s=0,l=0;l<8;l++)this.get(e)&&(s|=1<<7-l),e++;t[r+a]=s}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,a=0;a<r;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-a]=s}if(this.size!==r*32){for(var l=r*32-this.size,c=e[0]>>>l,a=1;a<r;a++){var f=e[a];c|=f<<32-l,e[a-1]=c,c=f>>>l}e[r-1]=c}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&ta.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+ta.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n})(),Cm;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Cm||(Cm={}));const Dr=Cm;var ZP=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),st=(function(n){ZP(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})($o),QP=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hr;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(hr||(hr={}));var Ji=(function(){function n(e,t,r){for(var i,a,s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var c=this.values,f=0,d=c.length;f!==d;f++){var g=c[f];n.VALUES_TO_ECI.set(g,this)}try{for(var _=QP(s),v=_.next();!v.done;v=_.next()){var A=v.value;n.NAME_TO_ECI.set(A,this)}}catch(S){i={error:S}}finally{try{v&&!v.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new st("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new st("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new st("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(hr.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(hr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(hr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(hr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(hr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(hr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(hr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(hr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(hr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(hr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(hr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(hr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(hr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(hr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(hr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(hr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(hr.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(hr.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(hr.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(hr.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(hr.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(hr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(hr.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(hr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(hr.Big5,28,"Big5"),n.GB18030=new n(hr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(hr.EUC_KR,30,"EUC_KR","EUC-KR"),n})(),JP=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),fp=(function(n){JP(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})($o),Bs=(function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof Ji?e:Ji.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",a=0,s=e.length;a<s;a++){var l=e[a].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(r.equals(Ji.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new fp("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(Ji.UTF8)||e.equals(Ji.ISO8859_1)||e.equals(Ji.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},n})(),Fn=(function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return Bs.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(Dr.CHARACTER_SET)!==void 0)return t.get(Dr.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,s=!0,l=0,c=0,f=0,d=0,g=0,_=0,v=0,A=0,S=0,I=0,N=0,V=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,q=0;q<r&&(i||a||s);q++){var U=e[q]&255;s&&(l>0?(U&128)===0?s=!1:l--:(U&128)!==0&&((U&64)===0?s=!1:(l++,(U&32)===0?c++:(l++,(U&16)===0?f++:(l++,(U&8)===0?d++:s=!1))))),i&&(U>127&&U<160?i=!1:U>159&&(U<192||U===215||U===247)&&N++),a&&(g>0?U<64||U===127||U>252?a=!1:g--:U===128||U===160||U>239?a=!1:U>160&&U<224?(_++,A=0,v++,v>S&&(S=v)):U>127?(g++,v=0,A++,A>I&&(I=A)):(v=0,A=0))}return s&&l>0&&(s=!1),a&&g>0&&(a=!1),s&&(V||c+f+d>0)?n.UTF8:a&&(n.ASSUME_SHIFT_JIS||S>=3||I>=3)?n.SHIFT_JIS:i&&a?S===2&&_===2||N*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:a?n.SHIFT_JIS:s?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function a(l,c,f,d,g,_){if(l==="%%")return"%";if(t[++i]!==void 0){l=d?parseInt(d.substr(1)):void 0;var v=g?parseInt(g.substr(1)):void 0,A;switch(_){case"s":A=t[i];break;case"c":A=t[i][0];break;case"f":A=parseFloat(t[i]).toFixed(l);break;case"p":A=parseFloat(t[i]).toPrecision(l);break;case"e":A=parseFloat(t[i]).toExponential(l);break;case"x":A=parseInt(t[i]).toString(v||16);break;case"d":A=parseFloat(parseInt(t[i],v||10).toPrecision(l)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(v);for(var S=parseInt(f),I=f&&f[0]+""=="0"?"0":" ";A.length<S;)A=c!==void 0?A+I:I+A;return A}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},n.getBytes=function(e,t){return Bs.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=Ji.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=Ji.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=Ji.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n})(),_n=(function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Fn.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n})(),Ql=(function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Wt("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),a=0;a<t;a++)for(var s=e[a],l=0;l<r;l++)s[l]&&i.set(l,a);return i},n.parseFromString=function(e,t,r){if(e===null)throw new Wt("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,l=-1,c=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>s){if(l===-1)l=a-s;else if(a-s!==l)throw new Wt("row lengths do not match");s=a,c++}f++}else if(e.substring(f,f+t.length)===t)f+=t.length,i[a]=!0,a++;else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!1,a++;else throw new Wt("illegal character encountered: "+e.substring(f));if(a>s){if(l===-1)l=a-s;else if(a-s!==l)throw new Wt("row lengths do not match");c++}for(var d=new n(l,c),g=0;g<a;g++)i[g]&&d.set(Math.floor(g%l),Math.floor(g/l));return d},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Wt("input matrix dimensions do not match");for(var t=new Aa(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var l=a*r,c=e.getRow(a,t).getBitArray(),f=0;f<r;f++)i[l+f]^=c[f]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new Wt("Left and top must be nonnegative");if(i<1||r<1)throw new Wt("Height and width must be at least 1");var a=e+r,s=t+i;if(s>this.height||a>this.width)throw new Wt("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,f=t;f<s;f++)for(var d=f*l,g=e;g<a;g++)c[d+Math.floor(g/32)]|=1<<(g&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Aa(this.width):t.clear();for(var r=this.rowSize,i=this.bits,a=e*r,s=0;s<r;s++)t.setBulk(s*32,i[a+s]);return t},n.prototype.setRow=function(e,t){Or.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new Aa(e),i=new Aa(e),a=0,s=Math.floor((t+1)/2);a<s;a++)r=this.getRow(a,r),i=this.getRow(t-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,a=e,s=t,l=-1,c=-1,f=0;f<t;f++)for(var d=0;d<r;d++){var g=i[f*r+d];if(g!==0){if(f<s&&(s=f),f>c&&(c=f),d*32<a){for(var _=0;(g<<31-_&4294967295)===0;)_++;d*32+_<a&&(a=d*32+_)}if(d*32+31>l){for(var _=31;!(g>>>_);)_--;d*32+_>l&&(l=d*32+_)}}}return l<a||c<s?null:Int32Array.from([a,s,l-a+1,c-s+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,a=r%e*32,s=t[r],l=0;(s<<31-l&4294967295)===0;)l++;return a+=l,Int32Array.from([a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,s=t[r],l=31;!(s>>>l);)l--;return a+=l,Int32Array.from([a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&ta.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ta.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new _n,a=0,s=this.height;a<s;a++){for(var l=0,c=this.width;l<c;l++)i.append(this.get(l,a)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n})(),eM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Ve=(function(n){eM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})($o),tM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),nM=(function(n){tM(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new Aa(a):r.clear(),this.initArrays(a);for(var s=i.getRow(t,this.luminances),l=this.buckets,c=0;c<a;c++)l[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(l);if(a<3)for(var c=0;c<a;c++)(s[c]&255)<f&&r.set(c);else for(var d=s[0]&255,g=s[1]&255,c=1;c<a-1;c++){var _=s[c+1]&255;(g*4-d-_)/2<f&&r.set(c),d=g,g=_}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),a=new Ql(r,i);this.initArrays(r);for(var s=this.buckets,l=1;l<5;l++)for(var c=Math.floor(i*l/5),f=t.getRow(c,this.luminances),d=Math.floor(r*4/5),g=Math.floor(r/5);g<d;g++){var _=f[g]&255;s[_>>e.LUMINANCE_SHIFT]++}for(var v=e.estimateBlackPoint(s),A=t.getMatrix(),l=0;l<i;l++)for(var S=l*r,g=0;g<r;g++){var _=A[S+g]&255;_<v&&a.set(g,l)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,a=0,s=0,l=0;l<r;l++)t[l]>s&&(a=l,s=t[l]),t[l]>i&&(i=t[l]);for(var c=0,f=0,l=0;l<r;l++){var d=l-a,g=t[l]*d*d;g>f&&(c=l,f=g)}if(a>c){var _=a;a=c,c=_}if(c-a<=r/16)throw new Ve;for(var v=c-1,A=-1,l=c-1;l>a;l--){var S=l-a,g=S*S*(c-l)*(i-t[l]);g>A&&(v=l,A=g)}return v<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(XP),rM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),NE=(function(n){rM(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&s++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var c=e.calculateBlackPoints(a,s,l,r,i),f=new Ql(r,i);e.calculateThresholdForBlock(a,s,l,r,i,c,f),this.matrix=f}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,a,s,l,c){for(var f=s-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,g=0;g<i;g++){var _=g<<e.BLOCK_SIZE_POWER;_>f&&(_=f);for(var v=e.cap(g,2,i-3),A=0;A<r;A++){var S=A<<e.BLOCK_SIZE_POWER;S>d&&(S=d);for(var I=e.cap(A,2,r-3),N=0,V=-2;V<=2;V++){var q=l[v+V];N+=q[I-2]+q[I-1]+q[I]+q[I+1]+q[I+2]}var U=N/25;e.thresholdBlock(t,S,_,U,a,c)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,a,s,l){for(var c=0,f=i*s+r;c<e.BLOCK_SIZE;c++,f+=s)for(var d=0;d<e.BLOCK_SIZE;d++)(t[f+d]&255)<=a&&l.set(r+d,i+c)},e.calculateBlackPoints=function(t,r,i,a,s){for(var l=s-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,f=new Array(i),d=0;d<i;d++){f[d]=new Int32Array(r);var g=d<<e.BLOCK_SIZE_POWER;g>l&&(g=l);for(var _=0;_<r;_++){var v=_<<e.BLOCK_SIZE_POWER;v>c&&(v=c);for(var A=0,S=255,I=0,N=0,V=g*a+v;N<e.BLOCK_SIZE;N++,V+=a){for(var q=0;q<e.BLOCK_SIZE;q++){var U=t[V+q]&255;A+=U,U<S&&(S=U),U>I&&(I=U)}if(I-S>e.MIN_DYNAMIC_RANGE)for(N++,V+=a;N<e.BLOCK_SIZE;N++,V+=a)for(var q=0;q<e.BLOCK_SIZE;q++)A+=t[V+q]&255}var re=A>>e.BLOCK_SIZE_POWER*2;if(I-S<=e.MIN_DYNAMIC_RANGE&&(re=S/2,d>0&&_>0)){var ue=(f[d-1][_]+2*f[d][_-1]+f[d-1][_-1])/4;S<ue&&(re=ue)}f[d][_]=re}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(nM),M1=(function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new fp("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new fp("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new fp("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new _n,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var s=i[a]&255,l=void 0;s<64?l="#":s<128?l="+":s<192?l=".":l=" ",t.append(l)}t.append(`
`)}return t.toString()},n})(),iM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),A2=(function(n){iM(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,a){return new e(this.delegate.crop(t,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(M1),aM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),oM=(function(n){aM(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,a){a===void 0&&(a=!1);var s=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var l=0,c=0,f=t.length;l<f;l+=4,c++){var d=void 0,g=t[l+3];if(g===0)d=255;else{var _=t[l],v=t[l+1],A=t[l+2];d=306*_+601*v+117*A+512>>10}s[c]=d}else for(var l=0,c=0,S=t.length;l<S;l+=4,c++){var d=void 0,g=t[l+3];if(g===0)d=255;else{var _=t[l],v=t[l+1],A=t[l+2];d=306*_+601*v+117*A+512>>10}s[c]=255-d}return s},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Wt("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*l),f=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*l);return r.width=c,r.height=f,i.translate(c/2,f/2),i.rotate(a),i.drawImage(this.canvas,s/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new A2(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(M1),sM=(function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n})(),wo=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(d){try{f(r.next(d))}catch(g){s(g)}}function c(d){try{f(r.throw(d))}catch(g){s(g)}}function f(d){d.done?a(d.value):i(d.value).then(l,c)}f((r=r.apply(n,e||[])).next())})},xo=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return c([f,d])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(d){f=[6,d],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},lM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sd=(function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return wo(this,void 0,void 0,function(){var e,t,r,i,a,s,l,c,f,d,g,_;return xo(this,function(v){switch(v.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=v.sent(),t=[];try{for(r=lM(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(l=a.deviceId||a.id,c=a.label||"Video device "+(t.length+1),f=a.groupId,d={deviceId:l,label:c,kind:s,groupId:f},t.push(d))}catch(A){g={error:A}}finally{try{i&&!i.done&&(_=r.return)&&_.call(r)}finally{if(g)throw g.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return wo(this,void 0,void 0,function(){var e;return xo(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new sM(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return wo(this,void 0,void 0,function(){var t;return xo(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return wo(this,void 0,void 0,function(){return xo(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return wo(this,void 0,void 0,function(){var r,i;return xo(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return wo(this,void 0,void 0,function(){var r;return xo(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return wo(this,void 0,void 0,function(){var r,i;return xo(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return wo(this,void 0,void 0,function(){return xo(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return wo(this,void 0,void 0,function(){var i,a;return xo(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return wo(this,void 0,void 0,function(){var i;return xo(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,a.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return wo(this,void 0,void 0,function(){var i;return xo(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return wo(this,void 0,void 0,function(){var r;return xo(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return wo(this,void 0,void 0,function(){return xo(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new xi("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new xi("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new xi("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new xi("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new xi("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new xi("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new xi("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new xi("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new xi("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new xi("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return wo(this,void 0,void 0,function(){return xo(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return wo(this,void 0,void 0,function(){return xo(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(s,l){if(i._stopAsyncDecode){l(new Ve("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);s(c)}catch(_){var f=t&&_ instanceof Ve,d=_ instanceof Mi||_ instanceof st,g=d&&r;if(f||g)return setTimeout(a,i._timeBetweenDecodingAttempts,s,l);l(_)}};return new Promise(function(s,l){return a(s,l)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);t(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){t(null,c);var s=c instanceof Mi||c instanceof st,l=c instanceof Ve;(s||l)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new oM(r,t),a=new NE(i);return new TE(a)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n})(),lo=(function(){function n(e,t,r,i,a,s){r===void 0&&(r=t==null?0:8*t.length),s===void 0&&(s=Or.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=Or.currentTimeMillis():this.timestamp=s}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);Or.arraycopy(t,0,r,0,t.length),Or.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n})(),Tm;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Tm||(Tm={}));const qt=Tm;var Nm;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Nm||(Nm={}));const za=Nm;var E2=(function(){function n(e,t,r,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n})(),t1=(function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Wt;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n})(),Mc=(function(){function n(e,t){if(t.length===0)throw new Wt;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Or.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,a=t.length;i!==a;i++){var s=t[i];r=t1.addOrSubtract(r,s)}return r}r=t[0];for(var l=t.length,c=this.field,i=1;i<l;i++)r=t1.addOrSubtract(c.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Wt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Or.arraycopy(r,0,a,0,s);for(var l=s;l<r.length;l++)a[l]=t1.addOrSubtract(t[l-s],r[l]);return new n(this.field,a)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Wt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),l=this.field,c=0;c<r;c++)for(var f=t[c],d=0;d<a;d++)s[c+d]=t1.addOrSubtract(s[c+d],l.multiply(f,i[d]));return new n(l,s)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),a=this.coefficients,s=0;s<t;s++)i[s]=r.multiply(a[s],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Wt;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),s=this.field,l=0;l<i;l++)a[l]=s.multiply(r[l],t);return new n(s,a)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Wt("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Wt("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),c=t.multiply(i.getCoefficient(i.getDegree()),s),f=e.multiplyByMonomial(l,c),d=t.buildMonomial(l,c);r=r.addOrSubtract(d),i=i.addOrSubtract(f)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n})(),uM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),IE=(function(n){uM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e})($o),cM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Xo=(function(n){cM(e,n);function e(t,r,i){var a=n.call(this)||this;a.primitive=t,a.size=r,a.generatorBase=i;for(var s=new Int32Array(r),l=1,c=0;c<r;c++)s[c]=l,l*=2,l>=r&&(l^=t,l&=r-1);a.expTable=s;for(var f=new Int32Array(r),c=0;c<r-1;c++)f[s[c]]=c;return a.logTable=f,a.zero=new Mc(a,Int32Array.from([0])),a.one=new Mc(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Wt;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Mc(this,i)},e.prototype.inverse=function(t){if(t===0)throw new IE;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+bn.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(t1),fM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),q0=(function(n){fM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})($o),hM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),k1=(function(n){hM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e})($o),S2=(function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new Mc(r,e),a=new Int32Array(t),s=!0,l=0;l<t;l++){var c=i.evaluateAt(r.exp(l+r.getGeneratorBase()));a[a.length-1-l]=c,c!==0&&(s=!1)}if(!s)for(var f=new Mc(r,a),d=this.runEuclideanAlgorithm(r.buildMonomial(t,1),f,t),g=d[0],_=d[1],v=this.findErrorLocations(g),A=this.findErrorMagnitudes(_,v),l=0;l<v.length;l++){var S=e.length-1-r.log(v[l]);if(S<0)throw new q0("Bad error location");e[S]=Xo.addOrSubtract(e[S],A[l])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,s=e,l=t,c=a.getZero(),f=a.getOne();l.getDegree()>=(r/2|0);){var d=s,g=c;if(s=l,c=f,s.isZero())throw new q0("r_{i-1} was zero");l=d;for(var _=a.getZero(),v=s.getCoefficient(s.getDegree()),A=a.inverse(v);l.getDegree()>=s.getDegree()&&!l.isZero();){var S=l.getDegree()-s.getDegree(),I=a.multiply(l.getCoefficient(l.getDegree()),A);_=_.addOrSubtract(a.buildMonomial(S,I)),l=l.addOrSubtract(s.multiplyByMonomial(S,I))}if(f=_.multiply(c).addOrSubtract(g),l.getDegree()>=s.getDegree())throw new k1("Division algorithm failed to reduce polynomial?")}var N=f.getCoefficient(0);if(N===0)throw new q0("sigmaTilde(0) was zero");var V=a.inverse(N),q=f.multiplyScalar(V),U=l.multiplyScalar(V);return[q,U]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,a=this.field,s=1;s<a.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(r[i]=a.inverse(s),i++);if(i!==t)throw new q0("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),a=this.field,s=0;s<r;s++){for(var l=a.inverse(t[s]),c=1,f=0;f<r;f++)if(s!==f){var d=a.multiply(t[f],l),g=(d&1)===0?d|1:d&-2;c=a.multiply(c,g)}i[s]=a.multiply(e.evaluateAt(l),a.inverse(c)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],l))}return i},n})(),Fa;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(Fa||(Fa={}));var c4=(function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),a=n.convertBoolArrayToByteArray(i),s=n.getEncodedData(i),l=new E2(a,s,null,null);return l.setNumBits(i.length),l},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=Fa.UPPER,i=Fa.UPPER,a="",s=0;s<t;)if(i===Fa.BINARY){if(t-s<5)break;var l=n.readCode(e,s,5);if(s+=5,l===0){if(t-s<11)break;l=n.readCode(e,s,11)+31,s+=11}for(var c=0;c<l;c++){if(t-s<8){s=t;break}var f=n.readCode(e,s,8);a+=Fn.castAsNonUtf8Char(f),s+=8}i=r}else{var d=i===Fa.DIGIT?4:5;if(t-s<d)break;var f=n.readCode(e,s,d);s+=d;var g=n.getCharacter(i,f);g.startsWith("CTRL_")?(r=i,i=n.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=i)):(a+=g,i=r)}return a},n.getTable=function(e){switch(e){case"L":return Fa.LOWER;case"P":return Fa.PUNCT;case"M":return Fa.MIXED;case"D":return Fa.DIGIT;case"B":return Fa.BINARY;case"U":default:return Fa.UPPER}},n.getCharacter=function(e,t){switch(e){case Fa.UPPER:return n.UPPER_TABLE[t];case Fa.LOWER:return n.LOWER_TABLE[t];case Fa.MIXED:return n.MIXED_TABLE[t];case Fa.PUNCT:return n.PUNCT_TABLE[t];case Fa.DIGIT:return n.DIGIT_TABLE[t];default:throw new k1("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=Xo.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=Xo.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=Xo.AZTEC_DATA_10):(r=12,t=Xo.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new st;for(var s=e.length%r,l=new Int32Array(a),c=0;c<a;c++,s+=r)l[c]=n.readCode(e,s,r);try{var f=new S2(t);f.decode(l,a-i)}catch(I){throw new st(I)}for(var d=(1<<r)-1,g=0,c=0;c<i;c++){var _=l[c];if(_===0||_===d)throw new st;(_===1||_===d-1)&&g++}for(var v=new Array(i*r-g),A=0,c=0;c<i;c++){var _=l[c];if(_===1||_===d-1)v.fill(_>1,A,A+r-1),A+=r-1;else for(var S=r-1;S>=0;--S)v[A++]=(_&1<<S)!==0}return v},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,t));if(t)for(var l=0;l<a.length;l++)a[l]=l;else for(var c=i+1+2*bn.truncDivision(bn.truncDivision(i,2)-1,15),f=i/2,d=bn.truncDivision(c,2),l=0;l<f;l++){var g=l+bn.truncDivision(l,15);a[f-l-1]=d-g-1,a[f+l]=d+g+1}for(var l=0,_=0;l<r;l++){for(var v=(r-l)*4+(t?9:12),A=l*2,S=i-1-A,I=0;I<v;I++)for(var N=I*2,V=0;V<2;V++)s[_+N+V]=e.get(a[A+V],a[A+I]),s[_+2*v+N+V]=e.get(a[A+I],a[S-V]),s[_+4*v+N+V]=e.get(a[S-V],a[S-I]),s[_+6*v+N+V]=e.get(a[S-I],a[A+V]);_+=v*8}return s},n.readCode=function(e,t,r){for(var i=0,a=t;a<t+r;a++)i<<=1,e[a]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n})(),Kn=(function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var a=e-r,s=t-i;return Math.sqrt(a*a+s*s)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var a=e[r];t+=a}return t},n})(),Im=(function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n})(),Et=(function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*Im.floatToIntBits(this.x)+Im.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,l;if(r>=t&&r>=i?(s=e[0],a=e[1],l=e[2]):i>=r&&i>=t?(s=e[1],a=e[0],l=e[2]):(s=e[2],a=e[0],l=e[1]),this.crossProductZ(a,s,l)<0){var c=a;a=l,l=c}e[0]=a,e[1]=s,e[2]=l},n.distance=function(e,t){return Kn.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,a=t.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},n})(),By=(function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n})(),dM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),pM=(function(n){dM(e,n);function e(t,r,i,a,s){var l=n.call(this,t,r)||this;return l.compact=i,l.nbDatablocks=a,l.nbLayers=s,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(By),Rm=(function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ve}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,a=!1,s=!0,l=!1,c=!1,f=!1,d=!1,g=!1,_=this.width,v=this.height;s;){s=!1;for(var A=!0;(A||!c)&&t<_;)A=this.containsBlackPoint(r,i,t,!1),A?(t++,s=!0,c=!0):c||t++;if(t>=_){a=!0;break}for(var S=!0;(S||!f)&&i<v;)S=this.containsBlackPoint(e,t,i,!0),S?(i++,s=!0,f=!0):f||i++;if(i>=v){a=!0;break}for(var I=!0;(I||!d)&&e>=0;)I=this.containsBlackPoint(r,i,e,!1),I?(e--,s=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var N=!0;(N||!g)&&r>=0;)N=this.containsBlackPoint(e,t,r,!0),N?(r--,s=!0,g=!0):g||r--;if(r<0){a=!0;break}s&&(l=!0)}if(!a&&l){for(var V=t-e,q=null,U=1;q===null&&U<V;U++)q=this.getBlackPointOnSegment(e,i-U,e+U,i);if(q==null)throw new Ve;for(var re=null,U=1;re===null&&U<V;U++)re=this.getBlackPointOnSegment(e,r+U,e+U,r);if(re==null)throw new Ve;for(var ue=null,U=1;ue===null&&U<V;U++)ue=this.getBlackPointOnSegment(t,r+U,t-U,r);if(ue==null)throw new Ve;for(var z=null,U=1;z===null&&U<V;U++)z=this.getBlackPointOnSegment(t,i-U,t-U,i);if(z==null)throw new Ve;return this.centerEdges(z,q,ue,re)}else throw new Ve},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var a=Kn.round(Kn.distance(e,t,r,i)),s=(r-e)/a,l=(i-t)/a,c=this.image,f=0;f<a;f++){var d=Kn.round(e+f*s),g=Kn.round(t+f*l);if(c.get(d,g))return new Et(d,g)}return null},n.prototype.centerEdges=function(e,t,r,i){var a=e.getX(),s=e.getY(),l=t.getX(),c=t.getY(),f=r.getX(),d=r.getY(),g=i.getX(),_=i.getY(),v=n.CORR;return a<this.width/2?[new Et(g-v,_+v),new Et(l+v,c+v),new Et(f-v,d-v),new Et(a+v,s-v)]:[new Et(g+v,_+v),new Et(l+v,c-v),new Et(f-v,d+v),new Et(a-v,s-v)]},n.prototype.containsBlackPoint=function(e,t,r,i){var a=this.image;if(i){for(var s=e;s<=t;s++)if(a.get(s,r))return!0}else for(var l=e;l<=t;l++)if(a.get(r,l))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n})(),f4=(function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<t.length&&a;s+=2){var l=Math.floor(t[s]),c=Math.floor(t[s+1]);if(l<-1||l>r||c<-1||c>i)throw new Ve;a=!1,l===-1?(t[s]=0,a=!0):l===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}a=!0;for(var s=t.length-2;s>=0&&a;s-=2){var l=Math.floor(t[s]),c=Math.floor(t[s+1]);if(l<-1||l>r||c<-1||c>i)throw new Ve;a=!1,l===-1?(t[s]=0,a=!0):l===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}},n})(),RE=(function(){function n(e,t,r,i,a,s,l,c,f){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=a,this.a32=s,this.a13=l,this.a23=c,this.a33=f}return n.quadrilateralToQuadrilateral=function(e,t,r,i,a,s,l,c,f,d,g,_,v,A,S,I){var N=n.quadrilateralToSquare(e,t,r,i,a,s,l,c),V=n.squareToQuadrilateral(f,d,g,_,v,A,S,I);return V.times(N)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,a=this.a13,s=this.a21,l=this.a22,c=this.a23,f=this.a31,d=this.a32,g=this.a33,_=0;_<t;_+=2){var v=e[_],A=e[_+1],S=a*v+c*A+g;e[_]=(r*v+s*A+f)/S,e[_+1]=(i*v+l*A+d)/S}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,a=this.a13,s=this.a21,l=this.a22,c=this.a23,f=this.a31,d=this.a32,g=this.a33,_=e.length,v=0;v<_;v++){var A=e[v],S=t[v],I=a*A+c*S+g;e[v]=(r*A+s*S+f)/I,t[v]=(i*A+l*S+d)/I}},n.squareToQuadrilateral=function(e,t,r,i,a,s,l,c){var f=e-r+a-l,d=t-i+s-c;if(f===0&&d===0)return new n(r-e,a-r,e,i-t,s-i,t,0,0,1);var g=r-a,_=l-a,v=i-s,A=c-s,S=g*A-_*v,I=(f*A-_*d)/S,N=(g*d-f*v)/S;return new n(r-e+I*r,l-e+N*l,e,i-t+I*i,c-t+N*c,t,I,N,1)},n.quadrilateralToSquare=function(e,t,r,i,a,s,l,c){return n.squareToQuadrilateral(e,t,r,i,a,s,l,c).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n})(),gM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),vM=(function(n){gM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,a,s,l,c,f,d,g,_,v,A,S,I,N,V,q,U){var re=RE.quadrilateralToQuadrilateral(a,s,l,c,f,d,g,_,v,A,S,I,N,V,q,U);return this.sampleGridWithTransform(t,r,i,re)},e.prototype.sampleGridWithTransform=function(t,r,i,a){if(r<=0||i<=0)throw new Ve;for(var s=new Ql(r,i),l=new Float32Array(2*r),c=0;c<i;c++){for(var f=l.length,d=c+.5,g=0;g<f;g+=2)l[g]=g/2+.5,l[g+1]=d;a.transformPoints(l),f4.checkAndNudgePoints(t,l);try{for(var g=0;g<f;g+=2)t.get(Math.floor(l[g]),Math.floor(l[g+1]))&&s.set(g/2,c)}catch{throw new Ve}}return s},e})(f4),Fy=(function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new vM,n})(),qo=(function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new Et(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n})(),mM=(function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new pM(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Ve;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,a=0;a<4;a++){var s=r[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(a,s,l){var c=(a>>t-2<<1)+(a&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(bn.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Ve},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var a=r-i,s=new Int32Array(r),l=r-1;l>=0;--l)s[l]=e&15,e>>=4;try{var c=new S2(Xo.AZTEC_PARAM);c.decode(s,a)}catch{throw new Ve}for(var f=0,l=0;l<i;l++)f=(f<<4)+s[l];return f},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(t,s,1,-1),c=this.getFirstDifferent(r,s,1,1),f=this.getFirstDifferent(i,s,-1,1),d=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var g=this.distancePoint(d,l)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(g<.75||g>1.25||!this.isWhiteOrBlackRectangle(l,c,f,d))break}t=l,r=c,i=f,a=d,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ve;this.compact=this.nbCenterLayers===5;var _=new Et(t.getX()+.5,t.getY()-.5),v=new Et(r.getX()+.5,r.getY()+.5),A=new Et(i.getX()-.5,i.getY()+.5),S=new Et(a.getX()-.5,a.getY()-.5);return this.expandSquare([_,v,A,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var a=new Rm(this.image).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new qo(s+7,l-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new qo(s+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new qo(s-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new qo(s-7,l-7),!1,-1,-1).toResultPoint()}var c=Kn.round((e.getX()+i.getX()+t.getX()+r.getX())/4),f=Kn.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var a=new Rm(this.image,15,c,f).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new qo(c+7,f-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new qo(c+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new qo(c-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new qo(c-7,f-7),!1,-1,-1).toResultPoint()}return c=Kn.round((e.getX()+i.getX()+t.getX()+r.getX())/4),f=Kn.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new qo(c,f)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,a){var s=Fy.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,f=l/2+this.nbCenterLayers;return s.sampleGrid(e,l,l,c,c,f,c,f,f,c,f,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,a=this.distanceResultPoint(e,t),s=a/r,l=e.getX(),c=e.getY(),f=s*(t.getX()-e.getX())/a,d=s*(t.getY()-e.getY())/a,g=0;g<r;g++)this.image.get(Kn.round(l+g*f),Kn.round(c+g*d))&&(i|=1<<r-g-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var a=3;e=new qo(e.getX()-a,e.getY()+a),t=new qo(t.getX()-a,t.getY()-a),r=new qo(r.getX()+a,r.getY()-a),i=new qo(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var l=this.getColor(e,t);return l!==s||(l=this.getColor(t,r),l!==s)?!1:(l=this.getColor(r,i),l===s)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,s=0,l=e.getX(),c=e.getY(),f=this.image.get(e.getX(),e.getY()),d=Math.ceil(r),g=0;g<d;g++)l+=i,c+=a,this.image.get(Kn.round(l),Kn.round(c))!==f&&s++;var _=s/r;return _>.1&&_<.9?0:_<=.1===f?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var a=e.getX()+r,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r,s+=i;for(a-=r,s-=i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r;for(a-=r;this.isValid(a,s)&&this.image.get(a,s)===t;)s+=i;return s-=i,new qo(a,s)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,f=new Et(l+i*a,c+i*s),d=new Et(l-i*a,c-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var g=new Et(l+i*a,c+i*s),_=new Et(l-i*a,c-i*s),v=[f,g,d,_];return v},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=Kn.round(e.getX()),r=Kn.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return Kn.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return Kn.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(bn.truncDivision(this.nbLayers-4,8)+1)+15},n})(),Hp=(function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new mM(e.getBlackMatrix()),a=null,s=null;try{var l=i.detectMirror(!1);a=l.getPoints(),this.reportFoundResultPoints(t,a),s=new c4().decode(l)}catch(g){r=g}if(s==null)try{var l=i.detectMirror(!0);a=l.getPoints(),this.reportFoundResultPoints(t,a),s=new c4().decode(l)}catch(g){throw r??g}var c=new lo(s.getText(),s.getRawBytes(),s.getNumBits(),a,qt.AZTEC,Or.currentTimeMillis()),f=s.getByteSegments();f!=null&&c.putMetadata(za.BYTE_SEGMENTS,f);var d=s.getECLevel();return d!=null&&c.putMetadata(za.ERROR_CORRECTION_LEVEL,d),c},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(Dr.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,a,s){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n})(),yM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){yM(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Hp,t)||this}return e})(sd);var ra=(function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(Dr.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),s=a.getResultMetadata(),l=270;s!==null&&s.get(za.ORIENTATION)===!0&&(l=l+s.get(za.ORIENTATION)%360),a.putMetadata(za.ORIENTATION,l);var c=a.getResultPoints();if(c!==null)for(var f=i.getHeight(),d=0;d<c.length;d++)c[d]=new Et(f-c[d].getY()-1,c[d].getX());return a}else throw new Ve}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),a=new Aa(r),s=t&&t.get(Dr.TRY_HARDER)===!0,l=Math.max(1,i>>(s?8:5)),c;s?c=i:c=15;for(var f=Math.trunc(i/2),d=0;d<c;d++){var g=Math.trunc((d+1)/2),_=(d&1)===0,v=f+l*(_?g:-g);if(v<0||v>=i)break;try{a=e.getBlackRow(v,a)}catch{continue}for(var A=function(V){if(V===1&&(a.reverse(),t&&t.get(Dr.NEED_RESULT_POINT_CALLBACK)===!0)){var q=new Map;t.forEach(function(ue,z){return q.set(z,ue)}),q.delete(Dr.NEED_RESULT_POINT_CALLBACK),t=q}try{var U=S.decodeRow(v,a,t);if(V===1){U.putMetadata(za.ORIENTATION,180);var re=U.getResultPoints();re!==null&&(re[0]=new Et(r-re[0].getX()-1,re[0].getY()),re[1]=new Et(r-re[1].getX()-1,re[1].getY()))}return{value:U}}catch{}},S=this,I=0;I<2;I++){var N=A(I);if(typeof N=="object")return N.value}}throw new Ve},n.recordPattern=function(e,t,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var s=e.getSize();if(t>=s)throw new Ve;for(var l=!e.get(t),c=0,f=t;f<s;){if(e.get(f)!==l)r[c]++;else{if(++c===i)break;r[c]=1,l=!l}f++}if(!(c===i||c===i-1&&f===s))throw new Ve},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new Ve;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,l=0;l<i;l++)a+=e[l],s+=t[l];if(a<s)return Number.POSITIVE_INFINITY;var c=a/s;r*=c;for(var f=0,d=0;d<i;d++){var g=e[d],_=t[d]*c,v=g>_?g-_:_-g;if(v>r)return Number.POSITIVE_INFINITY;f+=v}return f/a},n})(),_M=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),h4=(function(n){_M(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),l=i,c=!1,f=6,d=i;d<r;d++)if(t.get(d)!==c)s[a]++;else{if(a===f-1){for(var g=e.MAX_AVG_VARIANCE,_=-1,v=e.CODE_START_A;v<=e.CODE_START_C;v++){var A=ra.patternMatchVariance(s,e.CODE_PATTERNS[v],e.MAX_INDIVIDUAL_VARIANCE);A<g&&(g=A,_=v)}if(_>=0&&t.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,_]);l+=s[0]+s[1],s=s.slice(2,s.length),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,c=!c}throw new Ve},e.decodeCode=function(t,r,i){ra.recordPattern(t,i,r);for(var a=e.MAX_AVG_VARIANCE,s=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],f=this.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,s=l)}if(s>=0)return s;throw new Ve},e.prototype.decodeRow=function(t,r,i){var a=i&&i.get(Dr.ASSUME_GS1)===!0,s=e.findStartPattern(r),l=s[2],c=0,f=new Uint8Array(20);f[c++]=l;var d;switch(l){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new st}for(var g=!1,_=!1,v="",A=s[0],S=s[1],I=Int32Array.from([0,0,0,0,0,0]),N=0,V=0,q=l,U=0,re=!0,ue=!1,z=!1;!g;){var R=_;switch(_=!1,N=V,V=e.decodeCode(r,I,S),f[c++]=V,V!==e.CODE_STOP&&(re=!0),V!==e.CODE_STOP&&(U++,q+=U*V),A=S,S+=I.reduce(function(he,pe){return he+pe},0),V){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new st}switch(d){case e.CODE_CODE_A:if(V<64)z===ue?v+=String.fromCharCode(32+V):v+=String.fromCharCode(32+V+128),z=!1;else if(V<96)z===ue?v+=String.fromCharCode(V-64):v+=String.fromCharCode(V+64),z=!1;else switch(V!==e.CODE_STOP&&(re=!1),V){case e.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!ue&&z?(ue=!0,z=!1):ue&&z?(ue=!1,z=!1):z=!0;break;case e.CODE_SHIFT:_=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_B:if(V<96)z===ue?v+=String.fromCharCode(32+V):v+=String.fromCharCode(32+V+128),z=!1;else switch(V!==e.CODE_STOP&&(re=!1),V){case e.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!ue&&z?(ue=!0,z=!1):ue&&z?(ue=!1,z=!1):z=!0;break;case e.CODE_SHIFT:_=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_C:if(V<100)V<10&&(v+="0"),v+=V;else switch(V!==e.CODE_STOP&&(re=!1),V){case e.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:g=!0;break}break}R&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var P=S-A;if(S=r.getNextUnset(S),!r.isRange(S,Math.min(r.getSize(),S+(S-A)/2),!1))throw new Ve;if(q-=U*N,q%103!==N)throw new Mi;var H=v.length;if(H===0)throw new Ve;H>0&&re&&(d===e.CODE_CODE_C?v=v.substring(0,H-2):v=v.substring(0,H-1));for(var O=(s[1]+s[0])/2,k=A+P/2,j=f.length,ce=new Uint8Array(j),xe=0;xe<j;xe++)ce[xe]=f[xe];var te=[new Et(O,t),new Et(k,t)];return new lo(v,ce,0,te,qt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(ra),wM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Nv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d4=(function(n){wM(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var a,s,l,c,f=this.counters;f.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(r,f),g=r.getNextSet(d[1]),_=r.getSize(),v,A;do{e.recordPattern(r,g,f);var S=e.toNarrowWidePattern(f);if(S<0)throw new Ve;v=e.patternToChar(S),this.decodeRowResult+=v,A=g;try{for(var I=(a=void 0,Nv(f)),N=I.next();!N.done;N=I.next()){var V=N.value;g+=V}}catch(j){a={error:j}}finally{try{N&&!N.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}g=r.getNextSet(g)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var q=0;try{for(var U=Nv(f),re=U.next();!re.done;re=U.next()){var V=re.value;q+=V}}catch(j){l={error:j}}finally{try{re&&!re.done&&(c=U.return)&&c.call(U)}finally{if(l)throw l.error}}var ue=g-A-q;if(g!==_&&ue*2<q)throw new Ve;if(this.usingCheckDigit){for(var z=this.decodeRowResult.length-1,R=0,P=0;P<z;P++)R+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(z)!==e.ALPHABET_STRING.charAt(R%43))throw new Mi;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new Ve;var H;this.extendedMode?H=e.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;var O=(d[1]+d[0])/2,k=A+q/2;return new lo(H,null,0,[new Et(O,t),new Et(k,t)],qt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),a=t.getNextSet(0),s=0,l=a,c=!1,f=r.length,d=a;d<i;d++)if(t.get(d)!==c)r[s]++;else{if(s===f-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,c=!c}throw new Ve},e.toNarrowWidePattern=function(t){var r,i,a=t.length,s=0,l;do{var c=2147483647;try{for(var f=(r=void 0,Nv(t)),d=f.next();!d.done;d=f.next()){var g=d.value;g<c&&g>s&&(c=g)}}catch(S){r={error:S}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}s=c,l=0;for(var _=0,v=0,A=0;A<a;A++){var g=t[A];g>s&&(v|=1<<a-1-A,l++,_+=g)}if(l===3){for(var A=0;A<a&&l>0;A++){var g=t[A];if(g>s&&(l--,g*2>=_))return-1}return v}}while(l>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new Ve},e.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var l=t.charAt(a+1),c="\0";switch(s){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new st;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new st;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new st;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new st;break}i+=c,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(ra),xM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Iv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p4=(function(n){xM(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var a,s,l,c,f=this.findAsteriskPattern(r),d=r.getNextSet(f[1]),g=r.getSize(),_=this.counters;_.fill(0),this.decodeRowResult="";var v,A;do{e.recordPattern(r,d,_);var S=this.toPattern(_);if(S<0)throw new Ve;v=this.patternToChar(S),this.decodeRowResult+=v,A=d;try{for(var I=(a=void 0,Iv(_)),N=I.next();!N.done;N=I.next()){var V=N.value;d+=V}}catch(P){a={error:P}}finally{try{N&&!N.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}d=r.getNextSet(d)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var q=0;try{for(var U=Iv(_),re=U.next();!re.done;re=U.next()){var V=re.value;q+=V}}catch(P){l={error:P}}finally{try{re&&!re.done&&(c=U.return)&&c.call(U)}finally{if(l)throw l.error}}if(d===g||!r.get(d))throw new Ve;if(this.decodeRowResult.length<2)throw new Ve;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var ue=this.decodeExtended(this.decodeRowResult),z=(f[1]+f[0])/2,R=A+q/2;return new lo(ue,null,0,[new Et(z,t),new Et(R,t)],qt.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,l=!1,c=a.length,f=0,d=i;d<r;d++)if(t.get(d)!==l)a[f]++;else{if(f===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,d]);s+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,l=!l}throw new Ve},e.prototype.toPattern=function(t){var r,i,a=0;try{for(var s=Iv(t),l=s.next();!l.done;l=s.next()){var c=l.value;a+=c}}catch(A){r={error:A}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}for(var f=0,d=t.length,g=0;g<d;g++){var _=Math.round(t[g]*9/a);if(_<1||_>4)return-1;if((g&1)===0)for(var v=0;v<_;v++)f=f<<1|1;else f<<=_}return f},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new Ve},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s>="a"&&s<="d"){if(a>=r-1)throw new st;var l=t.charAt(a+1),c="\0";switch(s){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new st;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new st;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new st;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new st;break}i+=c,a++}else i+=s}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var a=1,s=0,l=r-1;l>=0;l--)s+=a*e.ALPHABET_STRING.indexOf(t.charAt(l)),++a>i&&(a=1);if(t.charAt(r)!==e.ALPHABET_STRING[s%47])throw new Mi},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(ra),bM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),AM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g4=(function(n){bM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var a,s,l=this.decodeStart(r),c=this.decodeEnd(r),f=new _n;e.decodeMiddle(r,l[1],c[0],f);var d=f.toString(),g=null;i!=null&&(g=i.get(Dr.ALLOWED_LENGTHS)),g==null&&(g=e.DEFAULT_ALLOWED_LENGTHS);var _=d.length,v=!1,A=0;try{for(var S=AM(g),I=S.next();!I.done;I=S.next()){var N=I.value;if(_===N){v=!0;break}N>A&&(A=N)}}catch(U){a={error:U}}finally{try{I&&!I.done&&(s=S.return)&&s.call(S)}finally{if(a)throw a.error}}if(!v&&_>A&&(v=!0),!v)throw new st;var V=[new Et(l[1],t),new Et(c[0],t)],q=new lo(d,null,0,V,qt.ITF,new Date().getTime());return q},e.decodeMiddle=function(t,r,i,a){var s=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),l.fill(0),c.fill(0);r<i;){ra.recordPattern(t,r,s);for(var f=0;f<5;f++){var d=2*f;l[f]=s[d],c[f]=s[d+1]}var g=e.decodeDigit(l);a.append(g.toString()),g=this.decodeDigit(c),a.append(g.toString()),s.forEach(function(_){r+=_})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new Ve},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new Ve;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof Ve&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var a=i.length,s=new Int32Array(a),l=t.getSize(),c=!1,f=0,d=r;s.fill(0);for(var g=r;g<l;g++)if(t.get(g)!==c)s[f]++;else{if(f===a-1){if(ra.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,g];d+=s[0]+s[1],Or.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,c=!c}throw new Ve},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var l=e.PATTERNS[s],c=ra.patternMatchVariance(t,l,e.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=s):c===r&&(i=-1)}if(i>=0)return i%10;throw new Ve},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(ra),EM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Qh=(function(n){EM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,a=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,s);var l=i[0];a=i[1];var c=l-(a-l);c>=0&&(r=t.isRange(c,l,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new st;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new st;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,a){return this.findGuardPattern(t,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,r,i,a,s){var l=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var c=0,f=r,d=a.length,g=i,_=r;_<l;_++)if(t.get(_)!==g)s[c]++;else{if(c===d-1){if(ra.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,_]);f+=s[0]+s[1];for(var v=s.slice(2,s.length),A=0;A<c-1;A++)s[A]=v[A];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,g=!g}throw new Ve},e.decodeDigit=function(t,r,i,a){this.recordPattern(t,i,r);for(var s=this.MAX_AVG_VARIANCE,l=-1,c=a.length,f=0;f<c;f++){var d=a[f],g=ra.patternMatchVariance(r,d,e.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,l=f)}if(l>=0)return l;throw new Ve},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(ra),SM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CM=(function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),l=n.parseExtensionString(s),c=[new Et((r[0]+r[1])/2,e),new Et(a,e)],f=new lo(s,null,0,c,qt.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=e.getSize(),c=t[1],f=0,d=0;d<5&&c<l;d++){var g=Qh.decodeDigit(e,s,c,Qh.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);try{for(var _=(i=void 0,SM(s)),v=_.next();!v.done;v=_.next()){var A=v.value;c+=A}}catch(I){i={error:I}}finally{try{v&&!v.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}g>=10&&(f|=1<<4-d),d!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==5)throw new Ve;var S=this.determineCheckDigit(f);if(n.extensionChecksum(r.toString())!==S)throw new Ve;return c},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new Ve},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[za.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,s=a<10?"0"+a:a.toString();return t+i+"."+s},n})(),TM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NM=(function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),l=n.parseExtensionString(s),c=[new Et((r[0]+r[1])/2,e),new Et(a,e)],f=new lo(s,null,0,c,qt.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&f.putAllMetadata(l),f},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=e.getSize(),c=t[1],f=0,d=0;d<2&&c<l;d++){var g=Qh.decodeDigit(e,s,c,Qh.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);try{for(var _=(i=void 0,TM(s)),v=_.next();!v.done;v=_.next()){var A=v.value;c+=A}}catch(S){i={error:S}}finally{try{v&&!v.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}g>=10&&(f|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==2)throw new Ve;if(parseInt(r.toString())%4!==f)throw new Ve;return c},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[za.ISSUE_NUMBER,parseInt(e)]])},n})(),IM=(function(){function n(){}return n.decodeRow=function(e,t,r){var i=Qh.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new CM;return a.decodeRow(e,t,i)}catch{var s=new NM;return s.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n})(),RM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Qi=(function(n){RM(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[r]=a}return t}return e.prototype.decodeRow=function(t,r,i){var a=e.findStartGuardPattern(r),s=i==null?null:i.get(Dr.NEED_RESULT_POINT_CALLBACK);if(s!=null){var l=new Et((a[0]+a[1])/2,t);s.foundPossibleResultPoint(l)}var c=this.decodeMiddle(r,a,this.decodeRowStringBuffer),f=c.rowOffset,d=c.resultString;if(s!=null){var g=new Et(f,t);s.foundPossibleResultPoint(g)}var _=e.decodeEnd(r,f);if(s!=null){var v=new Et((_[0]+_[1])/2,t);s.foundPossibleResultPoint(v)}var A=_[1],S=A+(A-_[0]);if(S>=r.getSize()||!r.isRange(A,S,!1))throw new Ve;var I=d.toString();if(I.length<8)throw new st;if(!e.checkChecksum(I))throw new Mi;var N=(a[1]+a[0])/2,V=(_[1]+_[0])/2,q=this.getBarcodeFormat(),U=[new Et(N,t),new Et(V,t)],re=new lo(I,null,0,U,q,new Date().getTime()),ue=0;try{var z=IM.decodeRow(t,r,_[1]);re.putMetadata(za.UPC_EAN_EXTENSION,z.getText()),re.putAllMetadata(z.getResultMetadata()),re.addResultPoints(z.getResultPoints()),ue=z.getText().length}catch{}var R=i==null?null:i.get(Dr.ALLOWED_EAN_EXTENSIONS);if(R!=null){var P=!1;for(var H in R)if(ue.toString()===H){P=!0;break}if(!P)throw new Ve}return q===qt.EAN_13||qt.UPC_A,re},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new st;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new st;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Qh),OM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),v4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Om=(function(n){OM(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=t.getSize(),g=r[1],_=0,v=0;v<6&&g<d;v++){var A=Qi.decodeDigit(t,f,g,Qi.L_AND_G_PATTERNS);i+=String.fromCharCode(48+A%10);try{for(var S=(a=void 0,v4(f)),I=S.next();!I.done;I=S.next()){var N=I.value;g+=N}}catch(re){a={error:re}}finally{try{I&&!I.done&&(s=S.return)&&s.call(S)}finally{if(a)throw a.error}}A>=10&&(_|=1<<5-v)}i=e.determineFirstDigit(i,_);var V=Qi.findGuardPattern(t,g,!0,Qi.MIDDLE_PATTERN,new Int32Array(Qi.MIDDLE_PATTERN.length).fill(0));g=V[1];for(var v=0;v<6&&g<d;v++){var A=Qi.decodeDigit(t,f,g,Qi.L_PATTERNS);i+=String.fromCharCode(48+A);try{for(var q=(l=void 0,v4(f)),U=q.next();!U.done;U=q.next()){var N=U.value;g+=N}}catch(z){l={error:z}}finally{try{U&&!U.done&&(c=q.return)&&c.call(q)}finally{if(l)throw l.error}}}return{rowOffset:g,resultString:i}},e.prototype.getBarcodeFormat=function(){return qt.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new Ve},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Qi),DM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),m4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y4=(function(n){DM(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var d=t.getSize(),g=r[1],_=0;_<4&&g<d;_++){var v=Qi.decodeDigit(t,f,g,Qi.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var A=(a=void 0,m4(f)),S=A.next();!S.done;S=A.next()){var I=S.value;g+=I}}catch(U){a={error:U}}finally{try{S&&!S.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}}var N=Qi.findGuardPattern(t,g,!0,Qi.MIDDLE_PATTERN,new Int32Array(Qi.MIDDLE_PATTERN.length).fill(0));g=N[1];for(var _=0;_<4&&g<d;_++){var v=Qi.decodeDigit(t,f,g,Qi.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var V=(l=void 0,m4(f)),q=V.next();!q.done;q=V.next()){var I=q.value;g+=I}}catch(ue){l={error:ue}}finally{try{q&&!q.done&&(c=V.return)&&c.call(V)}finally{if(l)throw l.error}}}return{rowOffset:g,resultString:i}},e.prototype.getBarcodeFormat=function(){return qt.EAN_8},e})(Qi),LM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),_4=(function(n){LM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new Om,t}return e.prototype.getBarcodeFormat=function(){return qt.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new lo(r.substring(1),null,null,t.getResultPoints(),qt.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new Ve},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Qi),PM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),MM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w4=(function(n){PM(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,l=this.decodeMiddleCounters.map(function(I){return I});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=t.getSize(),f=r[1],d=0,g=0;g<6&&f<c;g++){var _=e.decodeDigit(t,l,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var v=(a=void 0,MM(l)),A=v.next();!A.done;A=v.next()){var S=A.value;f+=S}}catch(I){a={error:I}}finally{try{A&&!A.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}_>=10&&(d|=1<<5-g)}return e.determineNumSysAndCheckDigit(new _n(i),d),f},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return Qi.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw Ve.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return qt.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new _n;i.append(t.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Qi),kM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),x4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rv=(function(n){kM(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(Dr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(qt.EAN_13)>-1&&a.push(new Om),i.indexOf(qt.UPC_A)>-1&&a.push(new _4),i.indexOf(qt.EAN_8)>-1&&a.push(new y4),i.indexOf(qt.UPC_E)>-1&&a.push(new w4)),a.length===0&&(a.push(new Om),a.push(new _4),a.push(new y4),a.push(new w4)),r.readers=a,r}return e.prototype.decodeRow=function(t,r,i){var a,s;try{for(var l=x4(this.readers),c=l.next();!c.done;c=l.next()){var f=c.value;try{var d=f.decodeRow(t,r,i),g=d.getBarcodeFormat()===qt.EAN_13&&d.getText().charAt(0)==="0",_=i==null?null:i.get(Dr.POSSIBLE_FORMATS),v=_==null||_.includes(qt.UPC_A);if(g&&v){var A=d.getRawBytes(),S=new lo(d.getText().substring(1),A,A?A.length:null,d.getResultPoints(),qt.UPC_A);return S.putAllMetadata(d.getResultMetadata()),S}return d}catch{}}}catch(I){a={error:I}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}throw new Ve},e.prototype.reset=function(){var t,r;try{for(var i=x4(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e})(ra),BM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),FM=(function(n){BM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var a=this.getValidRowData(r);if(!a)throw new Ve;var s=this.codaBarDecodeRow(a.row);if(!s)throw new Ve;return new lo(s,null,0,[new Et(a.left,t),new Et(a.right,t)],qt.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var s=[],l=r[0],c=1,f=1;f<r.length;f++)r[f]===l?c++:(l=r[f],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(c,f){return(c+f)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),s=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[s])}var l=r.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e})(ra),jM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),UM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_f=(function(n){jM(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(ra.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Ve},e.count=function(t){return Kn.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]>a&&(a=r[s],i=s);t[i]++},e.decrement=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]<a&&(a=r[s],i=s);t[i]--},e.isFinderPattern=function(t){var r,i,a=t[0]+t[1],s=a+t[2]+t[3],l=a/s;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var d=UM(t),g=d.next();!g.done;g=d.next()){var _=g.value;_>f&&(f=_),_<c&&(c=_)}}catch(v){r={error:v}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return f<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(ra),qp=(function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n})(),OE=(function(){function n(e,t,r,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Et(r,a)),this.resultPoints.push(new Et(i,a))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n})(),VM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rh=(function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,a,s=0;try{for(var l=VM(e),c=l.next();!c.done;c=l.next()){var f=c.value;s+=f}}catch(V){i={error:V}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}for(var d=0,g=0,_=e.length,v=0;v<_-1;v++){var A=void 0;for(A=1,g|=1<<v;A<e[v];A++,g&=~(1<<v)){var S=n.combins(s-A-1,_-v-2);if(r&&g===0&&s-A-(_-v-1)>=_-v-1&&(S-=n.combins(s-A-(_-v),_-v-2)),_-v-1>1){for(var I=0,N=s-A-(_-v-2);N>t;N--)I+=n.combins(s-A-N-1,_-v-3);S-=I*(_-1-v)}else s-A>t&&S--;d+=S}s-=A}return d},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var a=1,s=1,l=e;l>r;l--)a*=l,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},n})(),zM=(function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new Aa(r),a=0,s=e[0],l=s.getRightChar().getValue(),c=11;c>=0;--c)(l&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var f=e[c],d=f.getLeftChar().getValue(),g=11;g>=0;--g)(d&1<<g)!==0&&i.set(a),a++;if(f.getRightChar()!==null)for(var _=f.getRightChar().getValue(),g=11;g>=0;--g)(_&1<<g)!==0&&i.set(a),a++}return i},n})(),pf=(function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n})(),jy=(function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n})(),HM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),sl=(function(n){HM(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(jy),qM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),gf=(function(n){qM(e,n);function e(t,r,i){var a=n.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(jy),GM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),xh=(function(n){GM(e,n);function e(t,r,i){var a=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new st;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(jy),G0=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WM=(function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,a,s,l,c,f;if(!e)return null;if(e.length<2)throw new Ve;var d=e.substring(0,2);try{for(var g=G0(n.TWO_DIGIT_DATA_LENGTH),_=g.next();!_.done;_=g.next()){var v=_.value;if(v[0]===d)return v[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,v[2],e):n.processFixedAI(2,v[1],e)}}catch(ue){t={error:ue}}finally{try{_&&!_.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}if(e.length<3)throw new Ve;var A=e.substring(0,3);try{for(var S=G0(n.THREE_DIGIT_DATA_LENGTH),I=S.next();!I.done;I=S.next()){var v=I.value;if(v[0]===A)return v[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,v[2],e):n.processFixedAI(3,v[1],e)}}catch(ue){i={error:ue}}finally{try{I&&!I.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}try{for(var N=G0(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),V=N.next();!V.done;V=N.next()){var v=V.value;if(v[0]===A)return v[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,v[2],e):n.processFixedAI(4,v[1],e)}}catch(ue){s={error:ue}}finally{try{V&&!V.done&&(l=N.return)&&l.call(N)}finally{if(s)throw s.error}}if(e.length<4)throw new Ve;var q=e.substring(0,4);try{for(var U=G0(n.FOUR_DIGIT_DATA_LENGTH),re=U.next();!re.done;re=U.next()){var v=re.value;if(v[0]===q)return v[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,v[2],e):n.processFixedAI(4,v[1],e)}}catch(ue){c={error:ue}}finally{try{re&&!re.done&&(f=U.return)&&f.call(U)}finally{if(c)throw c.error}}throw new Ve},n.processFixedAI=function(e,t,r){if(r.length<e)throw new Ve;var i=r.substring(0,e);if(r.length<e+t)throw new Ve;var a=r.substring(e,e+t),s=r.substring(e+t),l="("+i+")"+a,c=n.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;var s=r.substring(e,a),l=r.substring(a),c="("+i+")"+s,f=n.parseFieldsInGeneralPurpose(l);return f==null?c:c+f},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n})(),hp=(function(){function n(e){this.buffer=new _n,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var a=this.decodeGeneralPurposeField(r,i),s=WM.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new xh(this.information.getSize(),xh.FNC1,xh.FNC1):new xh(this.information.getSize(),t-1,xh.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new xh(e+7,i,a)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,a=0;a<r;++a)e.get(t+a)&&(i|=1<<r-a-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new gf(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new gf(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new gf(this.current.getPosition(),this.buffer.toString()):t=new gf(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new pf(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new gf(this.current.getPosition(),this.buffer.toString());return new pf(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new pf(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new gf(this.current.getPosition(),this.buffer.toString());return new pf(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new pf(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new gf(this.current.getPosition(),this.buffer.toString());return new pf(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new pf(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new sl(e+5,sl.FNC1);if(t>=5&&t<15)return new sl(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new sl(e+7,""+(r+1));if(r>=90&&r<116)return new sl(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new st}return new sl(e+8,a)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new sl(e+5,sl.FNC1);if(t>=5&&t<15)return new sl(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new sl(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new k1("Decoding invalid alphanumeric value: "+r)}return new sl(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n})(),DE=(function(){function n(e){this.information=e,this.generalDecoder=new hp(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n})(),XM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),ul=(function(n){XM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,a=0;a<13;a++){var s=t.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*s:s}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e})(DE),YM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),KM=(function(n){YM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new _n;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(ul),$M=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),ZM=(function(n){$M(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new _n;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(DE),QM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),dp=(function(n){QM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,a);for(var s=this.checkWeight(a),l=1e5,c=0;c<5;++c)s/l===0&&t.append("0"),l/=10;t.append(s)},e})(ul),JM=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),LE=(function(n){JM(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+dp.GTIN_SIZE+e.WEIGHT_SIZE)throw new Ve;var t=new _n;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+dp.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(dp),ek=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),tk=(function(n){ek(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e})(LE),nk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),rk=(function(n){nk(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e})(LE),ik=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),ak=(function(n){ik(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ul.GTIN_SIZE)throw new Ve;var t=new _n;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ul.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ul.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(ul),ok=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),sk=(function(n){ok(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ul.GTIN_SIZE)throw new Ve;var t=new _n;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ul.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ul.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ul.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(ul),lk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),yc=(function(n){lk(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Ve;var t=new _n;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var l=i;l/10===0&&t.append("0"),t.append(l),s/10===0&&t.append("0"),t.append(s),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(dp);function uk(n){try{if(n.get(1))return new KM(n);if(!n.get(2))return new ZM(n);var e=hp.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new tk(n);case 5:return new rk(n)}var t=hp.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new ak(n);case 13:return new sk(n)}var r=hp.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new yc(n,"310","11");case 57:return new yc(n,"320","11");case 58:return new yc(n,"310","13");case 59:return new yc(n,"320","13");case 60:return new yc(n,"310","15");case 61:return new yc(n,"320","15");case 62:return new yc(n,"310","17");case 63:return new yc(n,"320","17")}}catch(i){throw console.log(i),new k1("unknown decoder: "+n)}}var b4=(function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n})(),ck=(function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,a){t.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}},n})(),fk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),_c=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hk=(function(n){fk(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof Ve){if(!this.pairs.length)throw new Ve;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new Ve},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,a,s=r;s<this.rows.length;s++){var l=this.rows[s];this.pairs.length=0;try{for(var c=(i=void 0,_c(t)),f=c.next();!f.done;f=c.next()){var d=f.value;this.pairs.push(d.getPairs())}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var g=new Array(t);g.push(l);try{return this.checkRows(g,s+1)}catch(_){console.log(_)}}}throw new Ve},e.isValidSequence=function(t){var r,i;try{for(var a=_c(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var l=s.value;if(!(t.length>l.length)){for(var c=!0,f=0;f<t.length;f++)if(t[f].getFinderPattern().getValue()!==l[f]){c=!1;break}if(c)return!0}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,a=!1,s=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>t){s=l.isEquivalent(this.pairs);break}a=l.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new ck(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,a,s,l,c,f;try{for(var d=_c(r),g=d.next();!g.done;g=d.next()){var _=g.value;if(_.getPairs().length!==t.length){var v=!0;try{for(var A=(s=void 0,_c(_.getPairs())),S=A.next();!S.done;S=A.next()){var I=S.value,N=!1;try{for(var V=(c=void 0,_c(t)),q=V.next();!q.done;q=V.next()){var U=q.value;if(b4.equals(I,U)){N=!0;break}}}catch(re){c={error:re}}finally{try{q&&!q.done&&(f=V.return)&&f.call(V)}finally{if(c)throw c.error}}N||(v=!1)}}catch(re){s={error:re}}finally{try{S&&!S.done&&(l=A.return)&&l.call(A)}finally{if(s)throw s.error}}}}}catch(re){i={error:re}}finally{try{g&&!g.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,a,s,l,c,f;try{for(var d=_c(r),g=d.next();!g.done;g=d.next()){var _=g.value,v=!0;try{for(var A=(s=void 0,_c(t)),S=A.next();!S.done;S=A.next()){var I=S.value,N=!1;try{for(var V=(c=void 0,_c(_.getPairs())),q=V.next();!q.done;q=V.next()){var U=q.value;if(I.equals(U)){N=!0;break}}}catch(re){c={error:re}}finally{try{q&&!q.done&&(f=V.return)&&f.call(V)}finally{if(c)throw c.error}}if(!N){v=!1;break}}}catch(re){s={error:re}}finally{try{S&&!S.done&&(l=A.return)&&l.call(A)}finally{if(s)throw s.error}}if(v)return!0}}catch(re){i={error:re}}finally{try{g&&!g.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=zM.buildBitArray(t),i=uk(r),a=i.parseInformation(),s=t[0].getFinderPattern().getResultPoints(),l=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],l[0],l[1]];return new lo(a,null,null,c,qt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);a+=c.getLeftChar().getChecksumPortion(),s++;var f=c.getRightChar();f!=null&&(a+=f.getChecksumPortion(),s++)}a%=211;var d=211*(s-4)+a;return d===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var s,l=!0,c=-1;do this.findNextPair(t,r,c),s=this.parseFoundFinderPattern(t,i,a),s===null?c=e.getNextSecondBar(t,this.startEnd[0]):l=!1;while(l);var f=this.decodeDataCharacter(t,s,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Ve;var d;try{d=this.decodeDataCharacter(t,s,a,!1)}catch(g){d=null,console.log(g)}return new b4(f,d,s,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=t.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(r))l=0;else{var c=r[r.length-1];l=c.getFinderPattern().getStartEnd()[1]}var f=r.length%2!==0;this.startFromEven&&(f=!f);for(var d=!1;l<s&&(d=!t.get(l),!!d);)l++;for(var g=0,_=l,v=l;v<s;v++)if(t.get(v)!==d)a[g]++;else{if(g===3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=_,this.startEnd[1]=v;return}f&&e.reverseCounters(a),_+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,d=!d}throw new Ve},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var a=t[i];t[i]=t[r-i-1],t[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,r,i){var a,s,l;if(i){for(var c=this.startEnd[0]-1;c>=0&&!t.get(c);)c--;c++,a=this.startEnd[0]-c,s=c,l=this.startEnd[1]}else s=this.startEnd[0],l=t.getNextUnset(this.startEnd[1]+1),a=l-this.startEnd[1];var f=this.getDecodeFinderCounters();Or.arraycopy(f,0,f,1,f.length-1),f[0]=a;var d;try{d=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch{return null}return new OE(d,[s,l],s,l,r)},e.prototype.decodeDataCharacter=function(t,r,i,a){for(var s=this.getDataCharacterCounters(),l=0;l<s.length;l++)s[l]=0;if(a)e.recordPatternInReverse(t,r.getStartEnd()[0],s);else{e.recordPattern(t,r.getStartEnd()[1],s);for(var c=0,f=s.length-1;c<f;c++,f--){var d=s[c];s[c]=s[f],s[f]=d}}var g=17,_=Kn.sum(new Int32Array(s))/g,v=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(_-v)/v>.3)throw new Ve;for(var A=this.getOddCounts(),S=this.getEvenCounts(),I=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var V=1*s[c]/_,q=V+.5;if(q<1){if(V<.3)throw new Ve;q=1}else if(q>8){if(V>8.7)throw new Ve;q=8}var U=c/2;(c&1)===0?(A[U]=q,I[U]=V-q):(S[U]=q,N[U]=V-q)}this.adjustOddEvenCounts(g);for(var re=4*r.getValue()+(i?0:2)+(a?0:1)-1,ue=0,z=0,c=A.length-1;c>=0;c--){if(e.isNotA1left(r,i,a)){var R=e.WEIGHTS[re][2*c];z+=A[c]*R}ue+=A[c]}for(var P=0,c=S.length-1;c>=0;c--)if(e.isNotA1left(r,i,a)){var R=e.WEIGHTS[re][2*c+1];P+=S[c]*R}var H=z+P;if((ue&1)!==0||ue>13||ue<4)throw new Ve;var O=(13-ue)/2,k=e.SYMBOL_WIDEST[O],j=9-k,ce=Rh.getRSSvalue(A,k,!0),xe=Rh.getRSSvalue(S,j,!1),te=e.EVEN_TOTAL_SUBSET[O],he=e.GSUM[O],pe=ce*te+xe+he;return new qp(pe,H)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=Kn.sum(new Int32Array(this.getOddCounts())),i=Kn.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);var f=r+i-t,d=(r&1)===1,g=(i&1)===0;if(f===1)if(d){if(g)throw new Ve;s=!0}else{if(!g)throw new Ve;c=!0}else if(f===-1)if(d){if(g)throw new Ve;a=!0}else{if(!g)throw new Ve;l=!0}else if(f===0){if(d){if(!g)throw new Ve;r<i?(a=!0,c=!0):(s=!0,l=!0)}else if(g)throw new Ve}else throw new Ve;if(a){if(s)throw new Ve;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Ve;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(_f),dk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),pk=(function(n){dk(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(qp),gk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Ov=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A4=(function(n){gk(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var a,s,l,c,f=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,f),r.reverse();var d=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,d),r.reverse();try{for(var g=Ov(this.possibleLeftPairs),_=g.next();!_.done;_=g.next()){var v=_.value;if(v.getCount()>1)try{for(var A=(l=void 0,Ov(this.possibleRightPairs)),S=A.next();!S.done;S=A.next()){var I=S.value;if(I.getCount()>1&&e.checkChecksum(v,I))return e.constructResult(v,I)}}catch(N){l={error:N}}finally{try{S&&!S.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}}}catch(N){a={error:N}}finally{try{_&&!_.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}throw new Ve},e.addOrTally=function(t,r){var i,a;if(r!=null){var s=!1;try{for(var l=Ov(t),c=l.next();!c.done;c=l.next()){var f=c.value;if(f.getValue()===r.getValue()){f.incrementCount(),s=!0;break}}}catch(d){i={error:d}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}s||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),a=new String(i).toString(),s=new _n,l=13-a.length;l>0;l--)s.append("0");s.append(a);for(var c=0,l=0;l<13;l++){var f=s.charAt(l).charCodeAt(0)-48;c+=(l&1)===0?3*f:f}c=10-c%10,c===10&&(c=0),s.append(c.toString());var d=t.getFinderPattern().getResultPoints(),g=r.getFinderPattern().getResultPoints();return new lo(s.toString(),null,0,[d[0],d[1],g[0],g[1]],qt.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,r,i,a){try{var s=this.findFinderPattern(t,r),l=this.parseFoundFinderPattern(t,i,r,s),c=a==null?null:a.get(Dr.NEED_RESULT_POINT_CALLBACK);if(c!=null){var f=(s[0]+s[1])/2;r&&(f=t.getSize()-1-f),c.foundPossibleResultPoint(new Et(f,i))}var d=this.decodeDataCharacter(t,l,!0),g=this.decodeDataCharacter(t,l,!1);return new pk(1597*d.getValue()+g.getValue(),d.getChecksumPortion()+4*g.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)ra.recordPatternInReverse(t,r.getStartEnd()[0],a);else{ra.recordPattern(t,r.getStartEnd()[1]+1,a);for(var l=0,c=a.length-1;l<c;l++,c--){var f=a[l];a[l]=a[c],a[c]=f}}for(var d=i?16:15,g=Kn.sum(new Int32Array(a))/d,_=this.getOddCounts(),v=this.getEvenCounts(),A=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var I=a[l]/g,N=Math.floor(I+.5);N<1?N=1:N>8&&(N=8);var V=Math.floor(l/2);(l&1)===0?(_[V]=N,A[V]=I-N):(v[V]=N,S[V]=I-N)}this.adjustOddEvenCounts(i,d);for(var q=0,U=0,l=_.length-1;l>=0;l--)U*=9,U+=_[l],q+=_[l];for(var re=0,ue=0,l=v.length-1;l>=0;l--)re*=9,re+=v[l],ue+=v[l];var z=U+3*re;if(i){if((q&1)!==0||q>12||q<4)throw new Ve;var R=(12-q)/2,P=e.OUTSIDE_ODD_WIDEST[R],H=9-P,O=Rh.getRSSvalue(_,P,!1),k=Rh.getRSSvalue(v,H,!0),j=e.OUTSIDE_EVEN_TOTAL_SUBSET[R],ce=e.OUTSIDE_GSUM[R];return new qp(O*j+k+ce,z)}else{if((ue&1)!==0||ue>10||ue<4)throw new Ve;var R=(10-ue)/2,P=e.INSIDE_ODD_WIDEST[R],H=9-P,O=Rh.getRSSvalue(_,P,!0),k=Rh.getRSSvalue(v,H,!1),xe=e.INSIDE_ODD_TOTAL_SUBSET[R],ce=e.INSIDE_GSUM[R];return new qp(k*xe+O+ce,z)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),s=!1,l=0;l<a&&(s=!t.get(l),r!==s);)l++;for(var c=0,f=l,d=l;d<a;d++)if(t.get(d)!==s)i[c]++;else{if(c===3){if(_f.isFinderPattern(i))return[f,d];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,s=!s}throw new Ve},e.prototype.parseFoundFinderPattern=function(t,r,i,a){for(var s=t.get(a[0]),l=a[0]-1;l>=0&&s!==t.get(l);)l--;l++;var c=a[0]-l,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);Or.arraycopy(f,0,d,1,f.length-1),d[0]=c;var g=this.parseFinderValue(d,e.FINDER_PATTERNS),_=l,v=a[1];return i&&(_=t.getSize()-1-_,v=t.getSize()-1-v),new OE(g,[l,a[1]],_,v,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=Kn.sum(new Int32Array(this.getOddCounts())),a=Kn.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1,c=!1,f=!1;t?(i>12?l=!0:i<4&&(s=!0),a>12?f=!0:a<4&&(c=!0)):(i>11?l=!0:i<5&&(s=!0),a>10?f=!0:a<4&&(c=!0));var d=i+a-r,g=(i&1)===(t?1:0),_=(a&1)===1;if(d===1)if(g){if(_)throw new Ve;l=!0}else{if(!_)throw new Ve;f=!0}else if(d===-1)if(g){if(_)throw new Ve;s=!0}else{if(!_)throw new Ve;c=!0}else if(d===0){if(g){if(!_)throw new Ve;i<a?(s=!0,f=!0):(l=!0,c=!0)}else if(_)throw new Ve}else throw new Ve;if(s){if(l)throw new Ve;_f.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&_f.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new Ve;_f.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&_f.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(_f),vk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Oh=(function(n){vk(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(Dr.POSSIBLE_FORMATS):null,a=t&&t.get(Dr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=t&&t.get(Dr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(qt.EAN_13)||i.includes(qt.UPC_A)||i.includes(qt.EAN_8)||i.includes(qt.UPC_E))&&r.readers.push(new Rv(t)),i.includes(qt.CODE_39)&&r.readers.push(new d4(a,s)),i.includes(qt.CODE_93)&&r.readers.push(new p4),i.includes(qt.CODE_128)&&r.readers.push(new h4),i.includes(qt.ITF)&&r.readers.push(new g4),i.includes(qt.CODABAR)&&r.readers.push(new FM),i.includes(qt.RSS_14)&&r.readers.push(new A4),i.includes(qt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new hk))),r.readers.length===0&&(r.readers.push(new Rv(t)),r.readers.push(new d4),r.readers.push(new p4),r.readers.push(new Rv(t)),r.readers.push(new h4),r.readers.push(new g4),r.readers.push(new A4)),r}return e.prototype.decodeRow=function(t,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,i)}catch{}throw new Ve},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e})(ra),mk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){mk(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new Oh(r),t,r)||this}return e})(sd);var E4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ir=(function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n})(),Jn=(function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n})(),yk=(function(){function n(e,t,r,i,a,s){var l,c;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var f=0,d=s.getECCodewords(),g=s.getECBlocks();try{for(var _=E4(g),v=_.next();!v.done;v=_.next()){var A=v.value;f+=A.getCount()*(A.getDataCodewords()+d)}}catch(S){l={error:S}}finally{try{v&&!v.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}this.totalCodewords=f}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new st;try{for(var a=E4(n.VERSIONS),s=a.next();!s.done;s=a.next()){var l=s.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===t)return l}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new st},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new ir(5,new Jn(1,3))),new n(2,12,12,10,10,new ir(7,new Jn(1,5))),new n(3,14,14,12,12,new ir(10,new Jn(1,8))),new n(4,16,16,14,14,new ir(12,new Jn(1,12))),new n(5,18,18,16,16,new ir(14,new Jn(1,18))),new n(6,20,20,18,18,new ir(18,new Jn(1,22))),new n(7,22,22,20,20,new ir(20,new Jn(1,30))),new n(8,24,24,22,22,new ir(24,new Jn(1,36))),new n(9,26,26,24,24,new ir(28,new Jn(1,44))),new n(10,32,32,14,14,new ir(36,new Jn(1,62))),new n(11,36,36,16,16,new ir(42,new Jn(1,86))),new n(12,40,40,18,18,new ir(48,new Jn(1,114))),new n(13,44,44,20,20,new ir(56,new Jn(1,144))),new n(14,48,48,22,22,new ir(68,new Jn(1,174))),new n(15,52,52,24,24,new ir(42,new Jn(2,102))),new n(16,64,64,14,14,new ir(56,new Jn(2,140))),new n(17,72,72,16,16,new ir(36,new Jn(4,92))),new n(18,80,80,18,18,new ir(48,new Jn(4,114))),new n(19,88,88,20,20,new ir(56,new Jn(4,144))),new n(20,96,96,22,22,new ir(68,new Jn(4,174))),new n(21,104,104,24,24,new ir(56,new Jn(6,136))),new n(22,120,120,18,18,new ir(68,new Jn(6,175))),new n(23,132,132,20,20,new ir(62,new Jn(8,163))),new n(24,144,144,22,22,new ir(62,new Jn(8,156),new Jn(2,155))),new n(25,8,18,6,16,new ir(7,new Jn(1,5))),new n(26,8,32,6,14,new ir(11,new Jn(1,10))),new n(27,12,26,10,24,new ir(14,new Jn(1,16))),new n(28,12,36,10,16,new ir(18,new Jn(1,22))),new n(29,16,36,14,16,new ir(24,new Jn(1,32))),new n(30,16,48,14,22,new ir(28,new Jn(1,49)))]},n.VERSIONS=n.buildVersions(),n})(),_k=(function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new st;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ql(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return yk.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),l=!1,c=!1,f=!1,d=!1;do if(r===a&&i===0&&!l)e[t++]=this.readCorner1(a,s)&255,r-=2,i+=2,l=!0;else if(r===a-2&&i===0&&(s&3)!==0&&!c)e[t++]=this.readCorner2(a,s)&255,r-=2,i+=2,c=!0;else if(r===a+4&&i===2&&(s&7)===0&&!f)e[t++]=this.readCorner3(a,s)&255,r-=2,i+=2,f=!0;else if(r===a-2&&i===0&&(s&7)===4&&!d)e[t++]=this.readCorner4(a,s)&255,r-=2,i+=2,d=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r-=2,i+=2;while(r>=0&&i<s);r+=1,i+=3;do r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<s);if(t!==this.version.getTotalCodewords())throw new st;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var a=0;return this.readModule(e-2,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t,r,i)&&(a|=1),a<<=1,this.readModule(e,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e,t,r,i)&&(a|=1),a},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Wt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=t/i|0,l=r/a|0,c=s*i,f=l*a,d=new Ql(f,c),g=0;g<s;++g)for(var _=g*i,v=0;v<l;++v)for(var A=v*a,S=0;S<i;++S)for(var I=g*(i+2)+1+S,N=_+S,V=0;V<a;++V){var q=v*(a+2)+1+V;if(e.get(q,I)){var U=A+V;d.set(U,N)}}return d},n})(),S4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wk=(function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,a,s,l=t.getECBlocks(),c=0,f=l.getECBlocks();try{for(var d=S4(f),g=d.next();!g.done;g=d.next()){var _=g.value;c+=_.getCount()}}catch(ce){r={error:ce}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}var v=new Array(c),A=0;try{for(var S=S4(f),I=S.next();!I.done;I=S.next())for(var _=I.value,N=0;N<_.getCount();N++){var V=_.getDataCodewords(),q=l.getECCodewords()+V;v[A++]=new n(V,new Uint8Array(q))}}catch(ce){a={error:ce}}finally{try{I&&!I.done&&(s=S.return)&&s.call(S)}finally{if(a)throw a.error}}for(var U=v[0].codewords.length,re=U-l.getECCodewords(),ue=re-1,z=0,N=0;N<ue;N++)for(var R=0;R<A;R++)v[R].codewords[N]=e[z++];for(var P=t.getVersionNumber()===24,H=P?8:A,R=0;R<H;R++)v[R].codewords[re-1]=e[z++];for(var O=v[0].codewords.length,N=re;N<O;N++)for(var R=0;R<A;R++){var k=P?(R+8)%A:R,j=P&&k>7?N-1:N;v[k].codewords[j]=e[z++]}if(z!==e.length)throw new Wt;return v},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n})(),PE=(function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Wt(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var s=8-r,l=e<s?e:s,c=s-l,f=255>>8-l<<c;t=(a[i]&f)>>c,e-=l,r+=l,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,f=255>>c<<c;t=t<<e|(a[i]&f)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n})(),$i;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})($i||($i={}));var xk=(function(){function n(){}return n.decode=function(e){var t=new PE(e),r=new _n,i=new _n,a=new Array,s=$i.ASCII_ENCODE;do if(s===$i.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,i);else{switch(s){case $i.C40_ENCODE:this.decodeC40Segment(t,r);break;case $i.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case $i.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case $i.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case $i.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new st}s=$i.ASCII_ENCODE}while(s!==$i.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new E2(e,r.toString(),a.length===0?null:a,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new st;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),$i.ASCII_ENCODE;if(a===129)return $i.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&t.append("0"),t.append(""+s)}else switch(a){case 230:return $i.C40_ENCODE;case 231:return $i.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return $i.ANSIX12_ENCODE;case 239:return $i.TEXT_ENCODE;case 240:return $i.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new st;break}}while(e.available()>0);return $i.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else throw new st;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new st}a=0;break;case 3:r?(t.append(String.fromCharCode(c+224)),r=!1):t.append(String.fromCharCode(c+96)),a=0;break;default:throw new st}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else throw new st;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new st}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[c];r?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):t.append(f),a=0}else throw new st;break;default:throw new st}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new st;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new st;for(var l=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new st;l[c]=this.unrandomize255State(e.readBits(8),i++)}r.push(l);try{t.append(Bs.decode(l,Fn.ISO88591))}catch(f){throw new k1("Platform does not support required encoding: "+f.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n})(),bk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ak=(function(){function n(){this.rsDecoder=new S2(Xo.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new _k(e),a=i.getVersion(),s=i.readCodewords(),l=wk.getDataBlocks(s,a),c=0;try{for(var f=bk(l),d=f.next();!d.done;d=f.next()){var g=d.value;c+=g.getNumDataCodewords()}}catch(q){t={error:q}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}for(var _=new Uint8Array(c),v=l.length,A=0;A<v;A++){var S=l[A],I=S.getCodewords(),N=S.getNumDataCodewords();this.correctErrors(I,N);for(var V=0;V<N;V++)_[V*v+A]=I[V]}return xk.decode(_)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Mi}for(var i=0;i<t;i++)e[i]=r[i]},n})(),Ek=(function(){function n(e){this.image=e,this.rectangleDetector=new Rm(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new Ve;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],a=t[2],s=t[3],l=this.transitionsBetween(r,s)+1,c=this.transitionsBetween(a,s)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var f=n.sampleGrid(this.image,r,i,a,s,l,c);return new By(f,[r,i,a,s])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new Et(e.getX()+i,e.getY()+a)},n.moveAway=function(e,t,r){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<r?a-=1:a+=1,new Et(i,a)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],a=e[2],s=this.transitionsBetween(t,r),l=this.transitionsBetween(r,i),c=this.transitionsBetween(i,a),f=this.transitionsBetween(a,t),d=s,g=[a,t,r,i];return d>l&&(d=l,g[0]=t,g[1]=r,g[2]=i,g[3]=a),d>c&&(d=c,g[0]=r,g[1]=i,g[2]=a,g[3]=t),d>f&&(g[0]=i,g[1]=a,g[2]=t,g[3]=r),g},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),l=n.shiftPoint(r,i,(s+1)*4),c=n.shiftPoint(i,r,(s+1)*4),f=this.transitionsBetween(l,t),d=this.transitionsBetween(c,a);return f<d?(e[0]=t,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),l=this.transitionsBetween(r,a),c=n.shiftPoint(t,r,(l+1)*4),f=n.shiftPoint(i,r,(s+1)*4);s=this.transitionsBetween(c,a),l=this.transitionsBetween(f,a);var d=new Et(a.getX()+(i.getX()-r.getX())/(s+1),a.getY()+(i.getY()-r.getY())/(s+1)),g=new Et(a.getX()+(t.getX()-r.getX())/(l+1),a.getY()+(t.getY()-r.getY())/(l+1));if(!this.isValid(d))return this.isValid(g)?g:null;if(!this.isValid(g))return d;var _=this.transitionsBetween(c,d)+this.transitionsBetween(f,d),v=this.transitionsBetween(c,g)+this.transitionsBetween(f,g);return _>v?d:g},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a)+1,l=this.transitionsBetween(i,a)+1,c=n.shiftPoint(t,r,l*4),f=n.shiftPoint(i,r,s*4);s=this.transitionsBetween(c,a)+1,l=this.transitionsBetween(f,a)+1,(s&1)===1&&(s+=1),(l&1)===1&&(l+=1);var d=(t.getX()+r.getX()+i.getX()+a.getX())/4,g=(t.getY()+r.getY()+i.getY()+a.getY())/4;t=n.moveAway(t,d,g),r=n.moveAway(r,d,g),i=n.moveAway(i,d,g),a=n.moveAway(a,d,g);var _,v;return c=n.shiftPoint(t,r,l*4),c=n.shiftPoint(c,a,s*4),_=n.shiftPoint(r,t,l*4),_=n.shiftPoint(_,i,s*4),f=n.shiftPoint(i,a,l*4),f=n.shiftPoint(f,r,s*4),v=n.shiftPoint(a,i,l*4),v=n.shiftPoint(v,t,s*4),[c,_,f,v]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,a,s,l){var c=Fy.getInstance();return c.sampleGrid(e,s,l,.5,.5,s-.5,.5,s-.5,l-.5,.5,l-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),l=Math.abs(s-i)>Math.abs(a-r);if(l){var c=r;r=i,i=c,c=a,a=s,s=c}for(var f=Math.abs(a-r),d=Math.abs(s-i),g=-f/2,_=i<s?1:-1,v=r<a?1:-1,A=0,S=this.image.get(l?i:r,l?r:i),I=r,N=i;I!==a;I+=v){var V=this.image.get(l?N:I,l?I:N);if(V!==S&&(A++,S=V),g+=d,g>0){if(N===s)break;N+=_,g-=f}}return A},n})(),Gp=(function(){function n(){this.decoder=new Ak}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(Dr.PURE_BARCODE)){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=n.NO_POINTS}else{var s=new Ek(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var l=r.getRawBytes(),c=new lo(r.getText(),l,8*l.length,i,qt.DATA_MATRIX,Or.currentTimeMillis()),f=r.getByteSegments();f!=null&&c.putMetadata(za.BYTE_SEGMENTS,f);var d=r.getECLevel();return d!=null&&c.putMetadata(za.ERROR_CORRECTION_LEVEL,d),c},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new Ve;var i=this.moduleSize(t,e),a=t[1],s=r[1],l=t[0],c=r[0],f=(c-l+1)/i,d=(s-a+1)/i;if(f<=0||d<=0)throw new Ve;var g=i/2;a+=g,l+=g;for(var _=new Ql(f,d),v=0;v<d;v++)for(var A=a+v*i,S=0;S<f;S++)e.get(l+S*i,A)&&_.set(S,v);return _},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],a=e[1];i<r&&t.get(i,a);)i++;if(i===r)throw new Ve;var s=i-e[0];if(s===0)throw new Ve;return s},n.NO_POINTS=[],n})(),Sk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){Sk(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Gp,t)||this}return e})(sd);var Dh;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(Dh||(Dh={}));var Ck=(function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new xi(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new Wt;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(Dh.L,"L",1),n.M=new n(Dh.M,"M",0),n.Q=new n(Dh.Q,"Q",3),n.H=new n(Dh.H,"H",2),n})(),Tk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ME=(function(){function n(e){this.errorCorrectionLevel=Ck.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return bn.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var l=Tk(n.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var f=c.value,d=f[0];if(d===e||d===t)return new n(f[1]);var g=n.numBitsDiffering(e,d);g<a&&(s=f[1],a=g),e!==t&&(g=n.numBitsDiffering(t,d),g<a&&(s=f[1],a=g))}}catch(_){r={error:_}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return a<=3?new n(s):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n})(),Nk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Re=(function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var a=Nk(i),s=a.next();!s.done;s=a.next()){var l=s.value;r+=l.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n})(),ae=(function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n})(),Ik=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cf=(function(){function n(e,t){for(var r,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var l=0,c=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var d=Ik(f),g=d.next();!g.done;g=d.next()){var _=g.value;l+=_.getCount()*(_.getDataCodewords()+c)}}catch(v){r={error:v}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}this.totalCodewords=l}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new st;try{return this.getVersionForNumber((e-17)/4)}catch{throw new st}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new Wt;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var a=n.VERSION_DECODE_INFO[i];if(a===e)return n.getVersionForNumber(i+7);var s=ME.numBitsDiffering(e,a);s<t&&(r=i+7,t=s)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Ql(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)i===0&&(s===0||s===r-1)||i===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new Re(7,new ae(1,19)),new Re(10,new ae(1,16)),new Re(13,new ae(1,13)),new Re(17,new ae(1,9))),new n(2,Int32Array.from([6,18]),new Re(10,new ae(1,34)),new Re(16,new ae(1,28)),new Re(22,new ae(1,22)),new Re(28,new ae(1,16))),new n(3,Int32Array.from([6,22]),new Re(15,new ae(1,55)),new Re(26,new ae(1,44)),new Re(18,new ae(2,17)),new Re(22,new ae(2,13))),new n(4,Int32Array.from([6,26]),new Re(20,new ae(1,80)),new Re(18,new ae(2,32)),new Re(26,new ae(2,24)),new Re(16,new ae(4,9))),new n(5,Int32Array.from([6,30]),new Re(26,new ae(1,108)),new Re(24,new ae(2,43)),new Re(18,new ae(2,15),new ae(2,16)),new Re(22,new ae(2,11),new ae(2,12))),new n(6,Int32Array.from([6,34]),new Re(18,new ae(2,68)),new Re(16,new ae(4,27)),new Re(24,new ae(4,19)),new Re(28,new ae(4,15))),new n(7,Int32Array.from([6,22,38]),new Re(20,new ae(2,78)),new Re(18,new ae(4,31)),new Re(18,new ae(2,14),new ae(4,15)),new Re(26,new ae(4,13),new ae(1,14))),new n(8,Int32Array.from([6,24,42]),new Re(24,new ae(2,97)),new Re(22,new ae(2,38),new ae(2,39)),new Re(22,new ae(4,18),new ae(2,19)),new Re(26,new ae(4,14),new ae(2,15))),new n(9,Int32Array.from([6,26,46]),new Re(30,new ae(2,116)),new Re(22,new ae(3,36),new ae(2,37)),new Re(20,new ae(4,16),new ae(4,17)),new Re(24,new ae(4,12),new ae(4,13))),new n(10,Int32Array.from([6,28,50]),new Re(18,new ae(2,68),new ae(2,69)),new Re(26,new ae(4,43),new ae(1,44)),new Re(24,new ae(6,19),new ae(2,20)),new Re(28,new ae(6,15),new ae(2,16))),new n(11,Int32Array.from([6,30,54]),new Re(20,new ae(4,81)),new Re(30,new ae(1,50),new ae(4,51)),new Re(28,new ae(4,22),new ae(4,23)),new Re(24,new ae(3,12),new ae(8,13))),new n(12,Int32Array.from([6,32,58]),new Re(24,new ae(2,92),new ae(2,93)),new Re(22,new ae(6,36),new ae(2,37)),new Re(26,new ae(4,20),new ae(6,21)),new Re(28,new ae(7,14),new ae(4,15))),new n(13,Int32Array.from([6,34,62]),new Re(26,new ae(4,107)),new Re(22,new ae(8,37),new ae(1,38)),new Re(24,new ae(8,20),new ae(4,21)),new Re(22,new ae(12,11),new ae(4,12))),new n(14,Int32Array.from([6,26,46,66]),new Re(30,new ae(3,115),new ae(1,116)),new Re(24,new ae(4,40),new ae(5,41)),new Re(20,new ae(11,16),new ae(5,17)),new Re(24,new ae(11,12),new ae(5,13))),new n(15,Int32Array.from([6,26,48,70]),new Re(22,new ae(5,87),new ae(1,88)),new Re(24,new ae(5,41),new ae(5,42)),new Re(30,new ae(5,24),new ae(7,25)),new Re(24,new ae(11,12),new ae(7,13))),new n(16,Int32Array.from([6,26,50,74]),new Re(24,new ae(5,98),new ae(1,99)),new Re(28,new ae(7,45),new ae(3,46)),new Re(24,new ae(15,19),new ae(2,20)),new Re(30,new ae(3,15),new ae(13,16))),new n(17,Int32Array.from([6,30,54,78]),new Re(28,new ae(1,107),new ae(5,108)),new Re(28,new ae(10,46),new ae(1,47)),new Re(28,new ae(1,22),new ae(15,23)),new Re(28,new ae(2,14),new ae(17,15))),new n(18,Int32Array.from([6,30,56,82]),new Re(30,new ae(5,120),new ae(1,121)),new Re(26,new ae(9,43),new ae(4,44)),new Re(28,new ae(17,22),new ae(1,23)),new Re(28,new ae(2,14),new ae(19,15))),new n(19,Int32Array.from([6,30,58,86]),new Re(28,new ae(3,113),new ae(4,114)),new Re(26,new ae(3,44),new ae(11,45)),new Re(26,new ae(17,21),new ae(4,22)),new Re(26,new ae(9,13),new ae(16,14))),new n(20,Int32Array.from([6,34,62,90]),new Re(28,new ae(3,107),new ae(5,108)),new Re(26,new ae(3,41),new ae(13,42)),new Re(30,new ae(15,24),new ae(5,25)),new Re(28,new ae(15,15),new ae(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new Re(28,new ae(4,116),new ae(4,117)),new Re(26,new ae(17,42)),new Re(28,new ae(17,22),new ae(6,23)),new Re(30,new ae(19,16),new ae(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new Re(28,new ae(2,111),new ae(7,112)),new Re(28,new ae(17,46)),new Re(30,new ae(7,24),new ae(16,25)),new Re(24,new ae(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new Re(30,new ae(4,121),new ae(5,122)),new Re(28,new ae(4,47),new ae(14,48)),new Re(30,new ae(11,24),new ae(14,25)),new Re(30,new ae(16,15),new ae(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new Re(30,new ae(6,117),new ae(4,118)),new Re(28,new ae(6,45),new ae(14,46)),new Re(30,new ae(11,24),new ae(16,25)),new Re(30,new ae(30,16),new ae(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new Re(26,new ae(8,106),new ae(4,107)),new Re(28,new ae(8,47),new ae(13,48)),new Re(30,new ae(7,24),new ae(22,25)),new Re(30,new ae(22,15),new ae(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new Re(28,new ae(10,114),new ae(2,115)),new Re(28,new ae(19,46),new ae(4,47)),new Re(28,new ae(28,22),new ae(6,23)),new Re(30,new ae(33,16),new ae(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new Re(30,new ae(8,122),new ae(4,123)),new Re(28,new ae(22,45),new ae(3,46)),new Re(30,new ae(8,23),new ae(26,24)),new Re(30,new ae(12,15),new ae(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new Re(30,new ae(3,117),new ae(10,118)),new Re(28,new ae(3,45),new ae(23,46)),new Re(30,new ae(4,24),new ae(31,25)),new Re(30,new ae(11,15),new ae(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new Re(30,new ae(7,116),new ae(7,117)),new Re(28,new ae(21,45),new ae(7,46)),new Re(30,new ae(1,23),new ae(37,24)),new Re(30,new ae(19,15),new ae(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new Re(30,new ae(5,115),new ae(10,116)),new Re(28,new ae(19,47),new ae(10,48)),new Re(30,new ae(15,24),new ae(25,25)),new Re(30,new ae(23,15),new ae(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new Re(30,new ae(13,115),new ae(3,116)),new Re(28,new ae(2,46),new ae(29,47)),new Re(30,new ae(42,24),new ae(1,25)),new Re(30,new ae(23,15),new ae(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new Re(30,new ae(17,115)),new Re(28,new ae(10,46),new ae(23,47)),new Re(30,new ae(10,24),new ae(35,25)),new Re(30,new ae(19,15),new ae(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new Re(30,new ae(17,115),new ae(1,116)),new Re(28,new ae(14,46),new ae(21,47)),new Re(30,new ae(29,24),new ae(19,25)),new Re(30,new ae(11,15),new ae(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new Re(30,new ae(13,115),new ae(6,116)),new Re(28,new ae(14,46),new ae(23,47)),new Re(30,new ae(44,24),new ae(7,25)),new Re(30,new ae(59,16),new ae(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new Re(30,new ae(12,121),new ae(7,122)),new Re(28,new ae(12,47),new ae(26,48)),new Re(30,new ae(39,24),new ae(14,25)),new Re(30,new ae(22,15),new ae(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new Re(30,new ae(6,121),new ae(14,122)),new Re(28,new ae(6,47),new ae(34,48)),new Re(30,new ae(46,24),new ae(10,25)),new Re(30,new ae(2,15),new ae(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new Re(30,new ae(17,122),new ae(4,123)),new Re(28,new ae(29,46),new ae(14,47)),new Re(30,new ae(49,24),new ae(10,25)),new Re(30,new ae(24,15),new ae(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new Re(30,new ae(4,122),new ae(18,123)),new Re(28,new ae(13,46),new ae(32,47)),new Re(30,new ae(48,24),new ae(14,25)),new Re(30,new ae(42,15),new ae(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new Re(30,new ae(20,117),new ae(4,118)),new Re(28,new ae(40,47),new ae(7,48)),new Re(30,new ae(43,24),new ae(22,25)),new Re(30,new ae(10,15),new ae(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new Re(30,new ae(19,118),new ae(6,119)),new Re(28,new ae(18,47),new ae(31,48)),new Re(30,new ae(34,24),new ae(34,25)),new Re(30,new ae(20,15),new ae(61,16)))],n})(),_a;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(_a||(_a={}));var C4=(function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[_a.DATA_MASK_000,new n(_a.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[_a.DATA_MASK_001,new n(_a.DATA_MASK_001,function(e,t){return(e&1)===0})],[_a.DATA_MASK_010,new n(_a.DATA_MASK_010,function(e,t){return t%3===0})],[_a.DATA_MASK_011,new n(_a.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[_a.DATA_MASK_100,new n(_a.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[_a.DATA_MASK_101,new n(_a.DATA_MASK_101,function(e,t){return e*t%6===0})],[_a.DATA_MASK_110,new n(_a.DATA_MASK_110,function(e,t){return e*t%6<3})],[_a.DATA_MASK_111,new n(_a.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n})(),Rk=(function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new st;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,r=i-1;r>=s;r--)a=this.copyBit(8,r,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=ME.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new st},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Cf.getVersionForNumber(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)r=this.copyBit(s,a,r);var l=Cf.decodeVersionInformation(r);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;r=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)r=this.copyBit(s,a,r);if(l=Cf.decodeVersionInformation(r),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new st},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=C4.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),s=!0,l=new Uint8Array(t.getTotalCodewords()),c=0,f=0,d=0,g=i-1;g>0;g-=2){g===6&&g--;for(var _=0;_<i;_++)for(var v=s?i-1-_:_,A=0;A<2;A++)a.get(g-A,v)||(d++,f<<=1,this.bitMatrix.get(g-A,v)&&(f|=1),d===8&&(l[c++]=f,d=0,f=0));s=!s}if(c!==t.getTotalCodewords())throw new st;return l},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=C4.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n})(),T4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ok=(function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,a,s,l;if(e.length!==t.getTotalCodewords())throw new Wt;var c=t.getECBlocksForLevel(r),f=0,d=c.getECBlocks();try{for(var g=T4(d),_=g.next();!_.done;_=g.next()){var v=_.value;f+=v.getCount()}}catch(j){i={error:j}}finally{try{_&&!_.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}var A=new Array(f),S=0;try{for(var I=T4(d),N=I.next();!N.done;N=I.next())for(var v=N.value,V=0;V<v.getCount();V++){var q=v.getDataCodewords(),U=c.getECCodewordsPerBlock()+q;A[S++]=new n(q,new Uint8Array(U))}}catch(j){s={error:j}}finally{try{N&&!N.done&&(l=I.return)&&l.call(I)}finally{if(s)throw s.error}}for(var re=A[0].codewords.length,ue=A.length-1;ue>=0;){var z=A[ue].codewords.length;if(z===re)break;ue--}ue++;for(var R=re-c.getECCodewordsPerBlock(),P=0,V=0;V<R;V++)for(var H=0;H<S;H++)A[H].codewords[V]=e[P++];for(var H=ue;H<S;H++)A[H].codewords[R]=e[P++];for(var O=A[0].codewords.length,V=R;V<O;V++)for(var H=0;H<S;H++){var k=H<ue?V:V+1;A[H].codewords[k]=e[P++]}return A},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n})(),Ps;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(Ps||(Ps={}));var Ur=(function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new Wt;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Ps.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Ps.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Ps.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Ps.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Ps.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Ps.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Ps.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Ps.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Ps.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Ps.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n})(),Dk=(function(){function n(){}return n.decode=function(e,t,r,i){var a=new PE(e),s=new _n,l=new Array,c=-1,f=-1;try{var d=null,g=!1,_=void 0;do{if(a.available()<4)_=Ur.TERMINATOR;else{var v=a.readBits(4);_=Ur.forBits(v)}switch(_){case Ur.TERMINATOR:break;case Ur.FNC1_FIRST_POSITION:case Ur.FNC1_SECOND_POSITION:g=!0;break;case Ur.STRUCTURED_APPEND:if(a.available()<16)throw new st;c=a.readBits(8),f=a.readBits(8);break;case Ur.ECI:var A=n.parseECIValue(a);if(d=Ji.getCharacterSetECIByValue(A),d===null)throw new st;break;case Ur.HANZI:var S=a.readBits(4),I=a.readBits(_.getCharacterCountBits(t));S===n.GB2312_SUBSET&&n.decodeHanziSegment(a,s,I);break;default:var N=a.readBits(_.getCharacterCountBits(t));switch(_){case Ur.NUMERIC:n.decodeNumericSegment(a,s,N);break;case Ur.ALPHANUMERIC:n.decodeAlphanumericSegment(a,s,N,g);break;case Ur.BYTE:n.decodeByteSegment(a,s,N,d,l,i);break;case Ur.KANJI:n.decodeKanjiSegment(a,s,N);break;default:throw new st}break}}while(_!==Ur.TERMINATOR)}catch{throw new st}return new E2(e,s.toString(),l.length===0?null:l,r===null?null:r.toString(),c,f)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new st;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),l=s/96<<8&4294967295|s%96;l<959?l+=41377:l+=42657,i[a]=l>>8&255,i[a+1]=l&255,a+=2,r--}try{t.append(Bs.decode(i,Fn.GB2312))}catch(c){throw new st(c)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new st;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),l=s/192<<8&4294967295|s%192;l<7936?l+=33088:l+=49472,i[a]=l>>8,i[a+1]=l,a+=2,r--}try{t.append(Bs.decode(i,Fn.SHIFT_JIS))}catch(c){throw new st(c)}},n.decodeByteSegment=function(e,t,r,i,a,s){if(8*r>e.available())throw new st;for(var l=new Uint8Array(r),c=0;c<r;c++)l[c]=e.readBits(8);var f;i===null?f=Fn.guessEncoding(l,s):f=i.getName();try{t.append(Bs.decode(l,f))}catch(d){throw new st(d)}a.push(l)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new st;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var a=t.length();r>1;){if(e.available()<11)throw new st;var s=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(s/45))),t.append(n.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new st;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=a;l<t.length();l++)t.charAt(l)==="%"&&(l<t.length()-1&&t.charAt(l+1)==="%"?t.deleteCharAt(l+1):t.setCharAt(l,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new st;var i=e.readBits(10);if(i>=1e3)throw new st;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new st;var a=e.readBits(7);if(a>=100)throw new st;t.append(n.toAlphaNumericChar(Math.floor(a/10))),t.append(n.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new st;var s=e.readBits(4);if(s>=10)throw new st;t.append(n.toAlphaNumericChar(s))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new st},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n})(),kE=(function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n})(),N4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lk=(function(){function n(){this.rsDecoder=new S2(Xo.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(Ql.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new Rk(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,t);return a.setOther(new kE(!0)),a}catch(s){throw i!==null?i:s}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,a,s,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),d=Ok.getDataBlocks(f,l,c),g=0;try{for(var _=N4(d),v=_.next();!v.done;v=_.next()){var A=v.value;g+=A.getNumDataCodewords()}}catch(ue){r={error:ue}}finally{try{v&&!v.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}var S=new Uint8Array(g),I=0;try{for(var N=N4(d),V=N.next();!V.done;V=N.next()){var A=V.value,q=A.getCodewords(),U=A.getNumDataCodewords();this.correctErrors(q,U);for(var re=0;re<U;re++)S[I++]=q[re]}}catch(ue){a={error:ue}}finally{try{V&&!V.done&&(s=N.return)&&s.call(N)}finally{if(a)throw a.error}}return Dk.decode(S,l,c,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Mi}for(var i=0;i<t;i++)e[i]=r[i]},n})(),Pk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Mk=(function(n){Pk(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=(this.getX()+r)/2,s=(this.getY()+t)/2,l=(this.estimatedModuleSize+i)/2;return new e(a,s,l)},e})(Et),kk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bk=(function(){function n(e,t,r,i,a,s,l){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,a=this.startY+t/2,s=new Int32Array(3),l=this.image,c=0;c<t;c++){var f=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var d=e;d<i&&!l.get(d,f);)d++;for(var g=0;d<i;){if(l.get(d,f))if(g===1)s[1]++;else if(g===2){if(this.foundPatternCross(s)){var _=this.handlePossibleCenter(s,f,d);if(_!==null)return _}s[0]=s[2],s[1]=1,s[2]=0,g=1}else s[++g]++;else g===1&&g++,s[g]++;d++}if(this.foundPatternCross(s)){var _=this.handlePossibleCenter(s,f,i);if(_!==null)return _}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ve},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var a=this.image,s=a.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&a.get(t,c)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&!a.get(t,c)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c)&&l[1]<=r;)l[1]++,c++;if(c===s||l[1]>r)return NaN;for(;c<s&&!a.get(t,c)&&l[2]<=r;)l[2]++,c++;if(l[2]>r)return NaN;var f=l[0]+l[1]+l[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(l)?n.centerFromEnd(l,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,a,s=e[0]+e[1]+e[2],l=n.centerFromEnd(e,r),c=this.crossCheckVertical(t,l,2*e[1],s);if(!isNaN(c)){var f=(e[0]+e[1]+e[2])/3;try{for(var d=kk(this.possibleCenters),g=d.next();!g.done;g=d.next()){var _=g.value;if(_.aboutEquals(f,c,l))return _.combineEstimate(c,l,f)}}catch(A){i={error:A}}finally{try{g&&!g.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var v=new Mk(l,c,f);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null},n})(),Fk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),jk=(function(n){Fk(e,n);function e(t,r,i,a){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=this.count+1,s=(this.count*this.getX()+r)/a,l=(this.count*this.getY()+t)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(s,l,c,a)},e})(Et),Uk=(function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n})(),Yd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vk=(function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(Dr.TRY_HARDER)!==void 0,r=e!=null&&e.get(Dr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),l=Math.floor(3*a/(4*n.MAX_MODULES));(l<n.MIN_SKIP||t)&&(l=n.MIN_SKIP);for(var c=!1,f=new Int32Array(5),d=l-1;d<a&&!c;d+=l){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var g=0,_=0;_<s;_++)if(i.get(_,d))(g&1)===1&&g++,f[g]++;else if((g&1)===0)if(g===4)if(n.foundPatternCross(f)){var v=this.handlePossibleCenter(f,d,_,r);if(v===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var A=this.findRowSkip();A>f[2]&&(d+=A-f[2]-l,_=s-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,g=3;continue}g=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,g=3;else f[++g]++;else f[g]++;if(n.foundPatternCross(f)){var v=this.handlePossibleCenter(f,d,s,r);v===!0&&(l=f[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var S=this.selectBestPatterns();return Et.orderBestPatterns(S),new Uk(S)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var a=this.getCrossCheckStateCount(),s=0,l=this.image;e>=s&&t>=s&&l.get(t-s,e-s);)a[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!l.get(t-s,e-s)&&a[1]<=r;)a[1]++,s++;if(e<s||t<s||a[1]>r)return!1;for(;e>=s&&t>=s&&l.get(t-s,e-s)&&a[0]<=r;)a[0]++,s++;if(a[0]>r)return!1;var c=l.getHeight(),f=l.getWidth();for(s=1;e+s<c&&t+s<f&&l.get(t+s,e+s);)a[2]++,s++;if(e+s>=c||t+s>=f)return!1;for(;e+s<c&&t+s<f&&!l.get(t+s,e+s)&&a[3]<r;)a[3]++,s++;if(e+s>=c||t+s>=f||a[3]>=r)return!1;for(;e+s<c&&t+s<f&&l.get(t+s,e+s)&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&n.foundPatternCross(a)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var a=this.image,s=a.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(t,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(t,c)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&a.get(t,c)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c);)l[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(t,c)&&l[3]<r;)l[3]++,c++;if(c===s||l[3]>=r)return NaN;for(;c<s&&a.get(t,c)&&l[4]<r;)l[4]++,c++;if(l[4]>=r)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=2*i?NaN:n.foundPatternCross(l)?n.centerFromEnd(l,c):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var a=this.image,s=a.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,t);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,t)&&l[1]<=r;)l[1]++,c--;if(c<0||l[1]>r)return NaN;for(;c>=0&&a.get(c,t)&&l[0]<=r;)l[0]++,c--;if(l[0]>r)return NaN;for(c=e+1;c<s&&a.get(c,t);)l[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(c,t)&&l[3]<r;)l[3]++,c++;if(c===s||l[3]>=r)return NaN;for(;c<s&&a.get(c,t)&&l[4]<r;)l[4]++,c++;if(l[4]>=r)return NaN;var f=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(f-i)>=i?NaN:n.foundPatternCross(l)?n.centerFromEnd(l,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=n.centerFromEnd(e,r),l=this.crossCheckVertical(t,Math.floor(s),e[2],a);if(!isNaN(l)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(l),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(s),e[2],a)))){for(var c=a/7,f=!1,d=this.possibleCenters,g=0,_=d.length;g<_;g++){var v=d[g];if(v.aboutEquals(c,l,s)){d[g]=v.combineEstimate(l,s,c),f=!0;break}}if(!f){var A=new jk(s,l,c);d.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=Yd(this.possibleCenters),s=a.next();!s.done;s=a.next()){var l=s.value;if(l.getCount()>=n.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,a=0,s=0,l=this.possibleCenters.length;try{for(var c=Yd(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value;d.getCount()>=n.CENTER_QUORUM&&(a++,s+=d.getEstimatedModuleSize())}}catch(S){e={error:S}}finally{try{f&&!f.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var g=s/l,_=0;try{for(var v=Yd(this.possibleCenters),A=v.next();!A.done;A=v.next()){var d=A.value;_+=Math.abs(d.getEstimatedModuleSize()-g)}}catch(S){r={error:S}}finally{try{A&&!A.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}return _<=.05*s},n.prototype.selectBestPatterns=function(){var e,t,r,i,a=this.possibleCenters.length;if(a<3)throw new Ve;var s=this.possibleCenters,l;if(a>3){var c=0,f=0;try{for(var d=Yd(this.possibleCenters),g=d.next();!g.done;g=d.next()){var _=g.value,v=_.getEstimatedModuleSize();c+=v,f+=v*v}}catch(re){e={error:re}}finally{try{g&&!g.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}l=c/a;var A=Math.sqrt(f/a-l*l);s.sort(function(re,ue){var z=Math.abs(ue.getEstimatedModuleSize()-l),R=Math.abs(re.getEstimatedModuleSize()-l);return z<R?-1:z>R?1:0});for(var S=Math.max(.2*l,A),I=0;I<s.length&&s.length>3;I++){var N=s[I];Math.abs(N.getEstimatedModuleSize()-l)>S&&(s.splice(I,1),I--)}}if(s.length>3){var c=0;try{for(var V=Yd(s),q=V.next();!q.done;q=V.next()){var U=q.value;c+=U.getEstimatedModuleSize()}}catch(ue){r={error:ue}}finally{try{q&&!q.done&&(i=V.return)&&i.call(V)}finally{if(r)throw r.error}}l=c/s.length,s.sort(function(ue,z){if(z.getCount()===ue.getCount()){var R=Math.abs(z.getEstimatedModuleSize()-l),P=Math.abs(ue.getEstimatedModuleSize()-l);return R<P?1:R>P?-1:0}else return z.getCount()-ue.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n})(),zk=(function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Dr.NEED_RESULT_POINT_CALLBACK);var t=new Vk(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,r,i);if(a<1)throw new Ve("No pattern found in proccess finder.");var s=n.computeDimension(t,r,i,a),l=Cf.getProvisionalVersionForDimension(s),c=l.getDimensionForVersion()-7,f=null;if(l.getAlignmentPatternCenters().length>0)for(var d=r.getX()-t.getX()+i.getX(),g=r.getY()-t.getY()+i.getY(),_=1-3/c,v=Math.floor(t.getX()+_*(d-t.getX())),A=Math.floor(t.getY()+_*(g-t.getY())),S=4;S<=16;S<<=1)try{f=this.findAlignmentInRegion(a,v,A,S);break}catch(q){if(!(q instanceof Ve))throw q}var I=n.createTransform(t,r,i,f,s),N=n.sampleGrid(this.image,I,s),V;return f===null?V=[i,t,r]:V=[i,t,r,f],new By(N,V)},n.createTransform=function(e,t,r,i,a){var s=a-3.5,l,c,f,d;return i!==null?(l=i.getX(),c=i.getY(),f=s-3,d=f):(l=t.getX()-e.getX()+r.getX(),c=t.getY()-e.getY()+r.getY(),f=s,d=s),RE.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,f,d,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),l,c,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=Fy.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var a=Kn.round(Et.distance(e,t)/i),s=Kn.round(Et.distance(e,r)/i),l=Math.floor((a+s)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Ve("Dimensions could be not found.")}return l},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,i),s=1,l=e-(r-e);l<0?(s=e/(e-l),l=0):l>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(t-(i-t)*s);return s=1,c<0?(s=t/(t-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(c-t),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,t,l,c),a-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var a=Math.abs(i-t)>Math.abs(r-e);if(a){var s=e;e=t,t=s,s=r,r=i,i=s}for(var l=Math.abs(r-e),c=Math.abs(i-t),f=-l/2,d=e<r?1:-1,g=t<i?1:-1,_=0,v=r+d,A=e,S=t;A!==v;A+=d){var I=a?S:A,N=a?A:S;if(_===1===this.image.get(I,N)){if(_===2)return Kn.distance(A,S,e,t);_++}if(f+=c,f>0){if(S===i)break;S+=g,f-=l}}return _===2?Kn.distance(r+d,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var a=Math.floor(i*e),s=Math.max(0,t-a),l=Math.min(this.image.getWidth()-1,t+a);if(l-s<e*3)throw new Ve("Alignment top exceeds estimated module size.");var c=Math.max(0,r-a),f=Math.min(this.image.getHeight()-1,r+a);if(f-c<e*3)throw new Ve("Alignment bottom exceeds estimated module size.");var d=new Bk(this.image,s,c,l-s,f-c,e,this.resultPointCallback);return d.find()},n})(),Wp=(function(){function n(){this.decoder=new Lk}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(Dr.PURE_BARCODE)!==void 0){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),i=n.NO_POINTS}else{var s=new zk(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(s.getBits(),t),i=s.getPoints()}r.getOther()instanceof kE&&r.getOther().applyMirroredCorrection(i);var l=new lo(r.getText(),r.getRawBytes(),void 0,i,qt.QR_CODE,void 0),c=r.getByteSegments();c!==null&&l.putMetadata(za.BYTE_SEGMENTS,c);var f=r.getECLevel();return f!==null&&l.putMetadata(za.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(l.putMetadata(za.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),l.putMetadata(za.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),l},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new Ve;var i=this.moduleSize(t,e),a=t[1],s=r[1],l=t[0],c=r[0];if(l>=c||a>=s)throw new Ve;if(s-a!==c-l&&(c=l+(s-a),c>=e.getWidth()))throw new Ve;var f=Math.round((c-l+1)/i),d=Math.round((s-a+1)/i);if(f<=0||d<=0)throw new Ve;if(d!==f)throw new Ve;var g=Math.floor(i/2);a+=g,l+=g;var _=l+Math.floor((f-1)*i)-c;if(_>0){if(_>g)throw new Ve;l-=_}var v=a+Math.floor((d-1)*i)-s;if(v>0){if(v>g)throw new Ve;a-=v}for(var A=new Ql(f,d),S=0;S<d;S++)for(var I=a+Math.floor(S*i),N=0;N<f;N++)e.get(l+Math.floor(N*i),I)&&A.set(N,S);return A},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),a=e[0],s=e[1],l=!0,c=0;a<i&&s<r;){if(l!==t.get(a,s)){if(++c===5)break;l=!l}a++,s++}if(a===i||s===r)throw new Ve;return(a-e[0])/7},n.NO_POINTS=new Array,n})(),Hk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zn=(function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return Kn.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=Hk(e),l=s.next();!l.done;l=s.next()){var c=l.value;i[a++]=c}}catch(f){t={error:f}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=ta.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n})(),qk=(function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n})(),Gk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wk=(function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),a=n.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=n.detect(r,i)),new qk(i,a)},n.detect=function(e,t){for(var r,i,a=new Array,s=0,l=0,c=!1;s<t.getHeight();){var f=n.findVertices(t,s,l);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,l=0;try{for(var d=(r=void 0,Gk(a)),g=d.next();!g.done;g=d.next()){var _=g.value;_[1]!=null&&(s=Math.trunc(Math.max(s,_[1].getY()))),_[3]!=null&&(s=Math.max(s,Math.trunc(_[3].getY())))}}catch(v){r={error:v}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}s+=n.ROW_STEP;continue}if(c=!0,a.push(f),!e)break;f[2]!=null?(l=Math.trunc(f[2].getX()),s=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY()))}return a},n.findVertices=function(e,t,r){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),s},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,a,s){for(var l=new Array(4),c=!1,f=new Int32Array(s.length);i<t;i+=n.ROW_STEP){var d=n.findGuardPattern(e,a,i,r,!1,s,f);if(d!=null){for(;i>0;){var g=n.findGuardPattern(e,a,--i,r,!1,s,f);if(g!=null)d=g;else{i++;break}}l[0]=new Et(d[0],i),l[1]=new Et(d[1],i),c=!0;break}}var _=i+1;if(c){for(var v=0,g=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);_<t;_++){var d=n.findGuardPattern(e,g[0],_,r,!1,s,f);if(d!=null&&Math.abs(g[0]-d[0])<n.MAX_PATTERN_DRIFT&&Math.abs(g[1]-d[1])<n.MAX_PATTERN_DRIFT)g=d,v=0;else{if(v>n.SKIPPED_ROW_COUNT_MAX)break;v++}}_-=v+1,l[2]=new Et(g[0],_),l[3]=new Et(g[1],_)}return _-i<n.BARCODE_MIN_HEIGHT&&ta.fill(l,null),l},n.findGuardPattern=function(e,t,r,i,a,s,l){ta.fillWithin(l,0,l.length,0);for(var c=t,f=0;e.get(c,r)&&c>0&&f++<n.MAX_PIXEL_DRIFT;)c--;for(var d=c,g=0,_=s.length,v=a;d<i;d++){var A=e.get(d,r);if(A!==v)l[g]++;else{if(g===_-1){if(n.patternMatchVariance(l,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=l[0]+l[1],Or.arraycopy(l,2,l,0,g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,v=!v}}return g===_-1&&n.patternMatchVariance(l,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,l=0;l<i;l++)a+=e[l],s+=t[l];if(a<s)return 1/0;var c=a/s;r*=c;for(var f=0,d=0;d<i;d++){var g=e[d],_=t[d]*c,v=g>_?g-_:_-g;if(v>r)return 1/0;f+=v}return f/a},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n})(),Xk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bf=(function(){function n(e,t){if(t.length===0)throw new Wt;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Or.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=Xk(this.coefficients),s=a.next();!s.done;s=a.next()){var l=s.value;i=this.field.add(i,l)}}catch(g){t={error:g}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}for(var c=this.coefficients[0],f=this.coefficients.length,d=1;d<f;d++)c=this.field.add(this.field.multiply(e,c),this.coefficients[d]);return c},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new Wt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Or.arraycopy(r,0,a,0,s);for(var l=s;l<r.length;l++)a[l]=this.field.add(t[l-s],r[l]);return new n(this.field,a)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Wt("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Wt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),l=0;l<r;l++)for(var c=t[l],f=0;f<a;f++)s[l+f]=this.field.add(s[l+f],this.field.multiply(c,i[f]));return new n(this.field,s)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Wt;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new _n,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n})(),Yk=(function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Wt;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new IE;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n})(),Kk=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),$k=(function(n){Kk(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,s=0;s<t;s++)i.expTable[s]=a,a=a*r%t;for(var s=0;s<t-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new bf(i,new Int32Array([0])),i.one=new bf(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Wt;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new bf(this,i)},e.PDF417_GF=new e(zn.NUMBER_OF_CODEWORDS,3),e})(Yk),Zk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qk=(function(){function n(){this.field=$k.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,a,s=new bf(this.field,e),l=new Int32Array(t),c=!1,f=t;f>0;f--){var d=s.evaluateAt(this.field.exp(f));l[t-f]=d,d!==0&&(c=!0)}if(!c)return 0;var g=this.field.getOne();if(r!=null)try{for(var _=Zk(r),v=_.next();!v.done;v=_.next()){var A=v.value,S=this.field.exp(e.length-1-A),I=new bf(this.field,new Int32Array([this.field.subtract(0,S),1]));g=g.multiply(I)}}catch(R){i={error:R}}finally{try{v&&!v.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}for(var N=new bf(this.field,l),V=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),N,t),q=V[0],U=V[1],re=this.findErrorLocations(q),ue=this.findErrorMagnitudes(U,q,re),f=0;f<re.length;f++){var z=e.length-1-this.field.log(re[f]);if(z<0)throw Mi.getChecksumInstance();e[z]=this.field.subtract(e[z],ue[f])}return re.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,s=t,l=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(r/2);){var f=a,d=l;if(a=s,l=c,a.isZero())throw Mi.getChecksumInstance();s=f;for(var g=this.field.getZero(),_=a.getCoefficient(a.getDegree()),v=this.field.inverse(_);s.getDegree()>=a.getDegree()&&!s.isZero();){var A=s.getDegree()-a.getDegree(),S=this.field.multiply(s.getCoefficient(s.getDegree()),v);g=g.add(this.field.buildMonomial(A,S)),s=s.subtract(a.multiplyByMonomial(A,S))}c=g.multiply(l).subtract(d).negative()}var I=c.getCoefficient(0);if(I===0)throw Mi.getChecksumInstance();var N=this.field.inverse(I),V=c.multiply(N),q=s.multiply(N);return[V,q]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==t)throw Mi.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,t.getCoefficient(s));for(var l=new bf(this.field,a),c=r.length,f=new Int32Array(c),s=0;s<c;s++){var d=this.field.inverse(r[s]),g=this.field.subtract(0,e.evaluateAt(d)),_=this.field.inverse(l.evaluateAt(d));f[s]=this.field.multiply(g,_)}return f},n})(),Dm=(function(){function n(e,t,r,i,a){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,a)}return n.prototype.constructor_1=function(e,t,r,i,a){var s=t==null||r==null,l=i==null||a==null;if(s&&l)throw new Ve;s?(t=new Et(0,i.getY()),r=new Et(0,a.getY())):l&&(i=new Et(e.getWidth()-1,t.getY()),a=new Et(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,l=this.bottomRight;if(e>0){var c=r?this.topLeft:this.topRight,f=Math.trunc(c.getY()-e);f<0&&(f=0);var d=new Et(c.getX(),f);r?i=d:s=d}if(t>0){var g=r?this.bottomLeft:this.bottomRight,_=Math.trunc(g.getY()+t);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);var v=new Et(g.getX(),_);r?a=v:l=v}return new n(this.image,i,a,s,l)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n})(),Jk=(function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n})(),Uy=(function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(s,l,c,f,d,g){if(s==="%%")return"%";if(t[++r]!==void 0){s=f?parseInt(f.substr(1)):void 0;var _=d?parseInt(d.substr(1)):void 0,v;switch(g){case"s":v=t[r];break;case"c":v=t[r][0];break;case"f":v=parseFloat(t[r]).toFixed(s);break;case"p":v=parseFloat(t[r]).toPrecision(s);break;case"e":v=parseFloat(t[r]).toExponential(s);break;case"x":v=parseInt(t[r]).toString(_||16);break;case"d":v=parseFloat(parseInt(t[r],_||10).toPrecision(s)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(_);for(var A=parseInt(c),S=c&&c[0]+""=="0"?"0":" ";v.length<A;)v=l!==void 0?v+S:S+v;return v}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n})(),eB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BE=(function(){function n(e){this.boundingBox=new Dm(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new Uy,i=0;try{for(var a=eB(this.codewords),s=a.next();!s.done;s=a.next()){var l=s.value;if(l==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n})(),tB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nB=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return a},n1=(function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,a=function(g,_){var v={getKey:function(){return g},getValue:function(){return _}};v.getValue()>r?(r=v.getValue(),i=[],i.push(v.getKey())):v.getValue()===r&&i.push(v.getKey())};try{for(var s=tB(this.values.entries()),l=s.next();!l.done;l=s.next()){var c=nB(l.value,2),f=c[0],d=c[1];a(f,d)}}catch(g){e={error:g}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return zn.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n})(),rB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Dv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I4=(function(n){rB(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=Dv(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s?.setRowNumberAsRowIndicatorColumn()}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=-1,d=1,g=0,_=l;_<c;_++)if(r[_]!=null){var v=r[_],A=v.getRowNumber()-f;if(A===0)g++;else if(A===1)d=Math.max(d,g),g=1,f=v.getRowNumber();else if(A<0||v.getRowNumber()>=t.getRowCount()||A>_)r[_]=null;else{var S=void 0;d>2?S=(d-2)*A:S=A;for(var I=S>=_,N=1;N<=S&&!I;N++)I=r[_-N]!=null;I?r[_]=null:(f=v.getRowNumber(),g=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=Dv(this.getCodewords()),l=s.next();!l.done;l=s.next()){var c=l.value;if(c!=null){var f=c.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(d){t={error:d}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),f=-1,d=s;d<l;d++)if(c[d]!=null){var g=c[d];g.setRowNumberAsRowIndicatorColumn();var _=g.getRowNumber()-f;_===0||(_===1?f=g.getRowNumber():g.getRowNumber()>=t.getRowCount()?c[d]=null:f=g.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),a=new n1,s=new n1,l=new n1,c=new n1;try{for(var f=Dv(i),d=f.next();!d.done;d=f.next()){var g=d.value;if(g!=null){g.setRowNumberAsRowIndicatorColumn();var _=g.getValue()%30,v=g.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:s.setValue(_*3+1);break;case 1:c.setValue(_/3),l.setValue(_%3);break;case 2:a.setValue(_+1);break}}}}catch(S){t={error:S}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}if(a.getValue().length===0||s.getValue().length===0||l.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+l.getValue()[0]<zn.MIN_ROWS_IN_BARCODE||s.getValue()[0]+l.getValue()[0]>zn.MAX_ROWS_IN_BARCODE)return null;var A=new Jk(a.getValue()[0],s.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,A),A},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var s=a.getValue()%30,l=a.getRowNumber();if(l>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e})(BE),iB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aB=(function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=zn.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var l=this.detectionResultColumns[s].getCodewords()[r];l!=null&&(a=n.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var l=this.detectionResultColumns[s].getCodewords()[r];l!=null&&(a=n.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=r[t],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=l[t],f[3]=c[t],t>0&&(f[0]=r[t-1],f[4]=l[t-1],f[5]=c[t-1]),t>1&&(f[8]=r[t-2],f[10]=l[t-2],f[11]=c[t-2]),t<r.length-1&&(f[1]=r[t+1],f[6]=l[t+1],f[7]=c[t+1]),t<r.length-2&&(f[9]=r[t+2],f[12]=l[t+2],f[13]=c[t+2]);try{for(var d=iB(f),g=d.next();!g.done;g=d.next()){var _=g.value;if(n.adjustRowNumber(s,_))return}}catch(v){i={error:v}}finally{try{g&&!g.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Uy,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},n})(),oB=(function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n})(),sB=(function(){function n(){}return n.initialize=function(){for(var e=0;e<zn.SYMBOL_TABLE.length;e++)for(var t=zn.SYMBOL_TABLE[e],r=t&1,i=0;i<zn.BARS_IN_MODULE;i++){for(var a=0;(t&1)===r;)a+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(zn.BARS_IN_MODULE)),n.RATIOS_TABLE[e][zn.BARS_IN_MODULE-i-1]=Math.fround(a/zn.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=Kn.sum(e),r=new Int32Array(zn.BARS_IN_MODULE),i=0,a=0,s=0;s<zn.MODULES_IN_CODEWORD;s++){var l=t/(2*zn.MODULES_IN_CODEWORD)+s*t/zn.MODULES_IN_CODEWORD;a+e[i]<=l&&(a+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return zn.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=Kn.sum(e),r=new Array(zn.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var a=Im.MAX_VALUE,s=-1;this.bSymbolTableReady||n.initialize();for(var l=0;l<n.RATIOS_TABLE.length;l++){for(var c=0,f=n.RATIOS_TABLE[l],d=0;d<zn.BARS_IN_MODULE;d++){var g=Math.fround(f[d]-r[d]);if(c+=Math.fround(g*g),c>=a)break}c<a&&(a=c,s=zn.SYMBOL_TABLE[l])}return s},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(zn.SYMBOL_TABLE.length).map(function(e){return new Array(zn.BARS_IN_MODULE)}),n})(),lB=(function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n})(),R4=(function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n})(),uB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),cB=(function(n){uB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e})($o),fB=(function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new cB;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new ky;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n})(),hB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),dB=(function(n){hB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})($o),pB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),gB=(function(n){pB(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new Wt("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new dB;i=bn.MAX_VALUE}this.buf=ta.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new ky;this.ensureCapacity(this.count+i),Or.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ta.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e})(fB),Ar;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ar||(Ar={}));function FE(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var W0;function wc(n){if(typeof W0>"u"&&(W0=FE()),W0===null)throw new Error("BigInt is not supported!");return W0(n)}function vB(){var n=[];n[0]=wc(1);var e=wc(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var mB=(function(){function n(){}return n.decode=function(e,t){var r=new _n(""),i=Ji.ISO8859_1;r.enableDecoding(i);for(var a=1,s=e[a++],l=new lB;a<e[0];){switch(s){case n.TEXT_COMPACTION_MODE_LATCH:a=n.textCompaction(e,a,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:a=n.byteCompaction(s,e,i,a,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:a=n.numericCompaction(e,a,r);break;case n.ECI_CHARSET:Ji.getCharacterSetECIByValue(e[a++]);break;case n.ECI_GENERAL_PURPOSE:a+=2;break;case n.ECI_USER_DEFINED:a++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=n.decodeMacroBlock(e,a,l);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new st;default:a--,a=n.textCompaction(e,a,r);break}if(a<e.length)s=e[a++];else throw st.getFormatInstance()}if(r.length()===0)throw st.getFormatInstance();var c=new E2(null,r.toString(),null,t);return c.setOther(l),c},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw st.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<n.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];r.setSegmentIndex(bn.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new _n;t=n.textCompaction(e,t,s),r.setFileId(s.toString());var l=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new _n;t=n.textCompaction(e,t+1,c),r.setFileName(c.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new _n;t=n.textCompaction(e,t+1,f),r.setSender(f.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new _n;t=n.textCompaction(e,t+1,d),r.setAddressee(d.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var g=new _n;t=n.numericCompaction(e,t+1,g),r.setSegmentCount(bn.parseInt(g.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var _=new _n;t=n.numericCompaction(e,t+1,_),r.setTimestamp(R4.parseLong(_.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var v=new _n;t=n.numericCompaction(e,t+1,v),r.setChecksum(bn.parseInt(v.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var A=new _n;t=n.numericCompaction(e,t+1,A),r.setFileSize(R4.parseLong(A.toString()));break;default:throw st.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw st.getFormatInstance()}if(l!==-1){var S=t-l;r.isLastSegment()&&S--,r.setOptionalData(ta.copyOfRange(e,l,l+S))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),s=0,l=!1;t<e[0]&&!l;){var c=e[t++];if(c<n.TEXT_COMPACTION_MODE_LATCH)i[s]=c/30,i[s+1]=c%30,s+=2;else switch(c){case n.TEXT_COMPACTION_MODE_LATCH:i[s++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,l=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[t++],a[s]=c,s++;break}}return n.decodeTextCompaction(i,a,s,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var a=Ar.ALPHA,s=Ar.ALPHA,l=0;l<r;){var c=e[l],f="";switch(a){case Ar.ALPHA:if(c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case n.LL:a=Ar.LOWER;break;case n.ML:a=Ar.MIXED;break;case n.PS:s=a,a=Ar.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Ar.ALPHA;break}break;case Ar.LOWER:if(c<26)f=String.fromCharCode(97+c);else switch(c){case 26:f=" ";break;case n.AS:s=a,a=Ar.ALPHA_SHIFT;break;case n.ML:a=Ar.MIXED;break;case n.PS:s=a,a=Ar.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Ar.ALPHA;break}break;case Ar.MIXED:if(c<n.PL)f=n.MIXED_CHARS[c];else switch(c){case n.PL:a=Ar.PUNCT;break;case 26:f=" ";break;case n.LL:a=Ar.LOWER;break;case n.AL:a=Ar.ALPHA;break;case n.PS:s=a,a=Ar.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Ar.ALPHA;break}break;case Ar.PUNCT:if(c<n.PAL)f=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=Ar.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Ar.ALPHA;break}break;case Ar.ALPHA_SHIFT:if(a=s,c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:a=Ar.ALPHA;break}break;case Ar.PUNCT_SHIFT:if(a=s,c<n.PAL)f=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=Ar.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Ar.ALPHA;break}break}f!==""&&i.append(f),l++}},n.byteCompaction=function(e,t,r,i,a){var s=new gB,l=0,c=0,f=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),g=t[i++];i<t[0]&&!f;)switch(d[l++]=g,c=900*c+g,g=t[i++],g){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(l%5===0&&l>0){for(var _=0;_<6;++_)s.write(Number(wc(c)>>wc(8*(5-_))));c=0,l=0}break}i===t[0]&&g<n.TEXT_COMPACTION_MODE_LATCH&&(d[l++]=g);for(var v=0;v<l;v++)s.write(d[v]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!f;){var A=t[i++];if(A<n.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+A;else switch(A){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(l%5===0&&l>0){for(var _=0;_<6;++_)s.write(Number(wc(c)>>wc(8*(5-_))));c=0,l=0}}break}return a.append(Bs.decode(s.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,a=!1,s=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var l=e[t++];if(t===e[0]&&(a=!0),l<n.TEXT_COMPACTION_MODE_LATCH)s[i]=l,i++;else switch(l){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||l===n.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(n.decodeBase900toBase10(s,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=wc(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*wc(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new st;return a.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=FE()?vB():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n})(),Kd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yB=(function(){function n(){}return n.decode=function(e,t,r,i,a,s,l){for(var c=new Dm(e,t,r,i,a),f=null,d=null,g,_=!0;;_=!1){if(t!=null&&(f=n.getRowIndicatorColumn(e,c,t,!0,s,l)),i!=null&&(d=n.getRowIndicatorColumn(e,c,i,!1,s,l)),g=n.merge(f,d),g==null)throw Ve.getNotFoundInstance();var v=g.getBoundingBox();if(_&&v!=null&&(v.getMinY()<c.getMinY()||v.getMaxY()>c.getMaxY()))c=v;else break}g.setBoundingBox(c);var A=g.getBarcodeColumnCount()+1;g.setDetectionResultColumn(0,f),g.setDetectionResultColumn(A,d);for(var S=f!=null,I=1;I<=A;I++){var N=S?I:A-I;if(g.getDetectionResultColumn(N)===void 0){var V=void 0;N===0||N===A?V=new I4(c,N===0):V=new BE(c),g.setDetectionResultColumn(N,V);for(var q=-1,U=q,re=c.getMinY();re<=c.getMaxY();re++){if(q=n.getStartColumn(g,N,re,S),q<0||q>c.getMaxX()){if(U===-1)continue;q=U}var ue=n.detectCodeword(e,c.getMinX(),c.getMaxX(),S,q,re,s,l);ue!=null&&(V.setCodeword(re,ue),U=q,s=Math.min(s,ue.getWidth()),l=Math.max(l,ue.getWidth()))}}}return n.createDecoderResult(g)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=Dm.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new aB(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=n.getMax(i),s=0;try{for(var l=Kd(i),c=l.next();!c.done;c=l.next()){var f=c.value;if(s+=a-f,f>0)break}}catch(v){t={error:v}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}for(var d=e.getCodewords(),g=0;s>0&&d[g]==null;g++)s--;for(var _=0,g=i.length-1;g>=0&&(_+=a-i[g],!(i[g]>0));g--);for(var g=d.length-1;_>0&&d[g]==null;g--)_--;return e.getBoundingBox().addMissingRows(s,_,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var a=Kd(e),s=a.next();!s.done;s=a.next()){var l=s.value;i=Math.max(i,l)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,a,s){for(var l=new I4(t,i),c=0;c<2;c++)for(var f=c===0?1:-1,d=Math.trunc(Math.trunc(r.getX())),g=Math.trunc(Math.trunc(r.getY()));g<=t.getMaxY()&&g>=t.getMinY();g+=f){var _=n.detectCodeword(e,0,e.getWidth(),i,d,g,a,s);_!=null&&(l.setCodeword(g,_),i?d=_.getStartX():d=_.getEndX())}return l},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>zn.MAX_CODEWORDS_IN_BARCODE)throw Ve.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var f=t[l][c+1].getValue(),d=l*e.getBarcodeColumnCount()+c;f.length===0?r.push(d):f.length===1?i[d]=f[0]:(s.push(d),a.push(f))}for(var g=new Array(a.length),_=0;_<g.length;_++)g[_]=a[_];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,zn.toIntArray(r),zn.toIntArray(s),g)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,a){for(var s=new Int32Array(i.length),l=100;l-- >0;){for(var c=0;c<s.length;c++)t[i[c]]=a[c][s[c]];try{return n.decodeCodewords(t,e,r)}catch(d){var f=d instanceof Mi;if(!f)throw d}if(s.length===0)throw Mi.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<a[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw Mi.getChecksumInstance()}throw Mi.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<s.length;l++)for(var c=0;c<s[l].length;c++)s[l][c]=new n1;var f=0;try{for(var d=Kd(e.getDetectionResultColumns()),g=d.next();!g.done;g=d.next()){var _=g.value;if(_!=null)try{for(var v=(i=void 0,Kd(_.getCodewords())),A=v.next();!A.done;A=v.next()){var S=A.value;if(S!=null){var I=S.getRowNumber();if(I>=0){if(I>=s.length)continue;s[I][f].setValue(S.getValue())}}}}catch(N){i={error:N}}finally{try{A&&!A.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}f++}}catch(N){t={error:N}}finally{try{g&&!g.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}return s},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var a,s,l=i?1:-1,c=null;if(n.isValidBarcodeColumn(e,t-l)&&(c=e.getDetectionResultColumn(t-l).getCodeword(r)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(t).getCodewordNearby(r),c!=null)return i?c.getStartX():c.getEndX();if(n.isValidBarcodeColumn(e,t-l)&&(c=e.getDetectionResultColumn(t-l).getCodewordNearby(r)),c!=null)return i?c.getEndX():c.getStartX();for(var f=0;n.isValidBarcodeColumn(e,t-l);){t-=l;try{for(var d=(a=void 0,Kd(e.getDetectionResultColumn(t).getCodewords())),g=d.next();!g.done;g=d.next()){var _=g.value;if(_!=null)return(i?_.getEndX():_.getStartX())+l*f*(_.getEndX()-_.getStartX())}}catch(v){a={error:v}}finally{try{g&&!g.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,a,s,l,c){a=n.adjustCodewordStartColumn(e,t,r,i,a,s);var f=n.getModuleBitCount(e,t,r,i,a,s);if(f==null)return null;var d,g=Kn.sum(f);if(i)d=a+g;else{for(var _=0;_<f.length/2;_++){var v=f[_];f[_]=f[f.length-1-_],f[f.length-1-_]=v}d=a,a=d-g}if(!n.checkCodewordSkew(g,l,c))return null;var A=sB.getDecodedValue(f),S=zn.getCodeword(A);return S===-1?null:new oB(a,d,n.getCodewordBucketNumber(A),S)},n.getModuleBitCount=function(e,t,r,i,a,s){for(var l=a,c=new Int32Array(8),f=0,d=i?1:-1,g=i;(i?l<r:l>=t)&&f<c.length;)e.get(l,s)===g?(c[f]++,l+=d):(f++,g=!g);return f===c.length||l===(i?r:t)&&f===c.length-1?c:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,a,s){for(var l=a,c=i?-1:1,f=0;f<2;f++){for(;(i?l>=t:l<r)&&i===e.get(l,s);){if(Math.abs(a-l)>n.CODEWORD_SKEW_SIZE)return a;l+=c}c=-c,i=!i}return l},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw st.getFormatInstance();var i=1<<t+1,a=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var s=mB.decode(e,""+t);return s.setErrorsCorrected(a),s.setErasures(r.length),s},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw Mi.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw st.getFormatInstance();var r=e[0];if(r>e.length)throw st.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw st.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new Uy,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new Qk,n})(),_B=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xp=(function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw Ve.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof st||r instanceof Mi?Ve.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,a,s=new Array,l=Wk.detectMultiple(e,t,r);try{for(var c=_B(l.getPoints()),f=c.next();!f.done;f=c.next()){var d=f.value,g=yB.decode(l.getBits(),d[4],d[5],d[6],d[7],n.getMinCodewordWidth(d),n.getMaxCodewordWidth(d)),_=new lo(g.getText(),g.getRawBytes(),void 0,d,qt.PDF_417);_.putMetadata(za.ERROR_CORRECTION_LEVEL,g.getECLevel());var v=g.getOther();v!=null&&_.putMetadata(za.PDF417_EXTRA_METADATA,v),s.push(_)}}catch(A){i={error:A}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return s.map(function(A){return A})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?bn.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*zn.MODULES_IN_CODEWORD/zn.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*zn.MODULES_IN_CODEWORD/zn.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*zn.MODULES_IN_CODEWORD/zn.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*zn.MODULES_IN_CODEWORD/zn.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n})(),wB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),O4=(function(n){wB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e})($o),D4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jE=(function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Dr.TRY_HARDER)!==void 0,r=e==null?null:e.get(Dr.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(s){return s===qt.UPC_A||s===qt.UPC_E||s===qt.EAN_13||s===qt.EAN_8||s===qt.CODABAR||s===qt.CODE_39||s===qt.CODE_93||s===qt.CODE_128||s===qt.ITF||s===qt.RSS_14||s===qt.RSS_EXPANDED});a&&!t&&i.push(new Oh(e)),r.includes(qt.QR_CODE)&&i.push(new Wp),r.includes(qt.DATA_MATRIX)&&i.push(new Gp),r.includes(qt.AZTEC)&&i.push(new Hp),r.includes(qt.PDF_417)&&i.push(new Xp),a&&t&&i.push(new Oh(e))}i.length===0&&(t||i.push(new Oh(e)),i.push(new Wp),i.push(new Gp),i.push(new Hp),i.push(new Xp),t&&i.push(new Oh(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=D4(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new O4("No readers where selected, nothing can be read.");try{for(var i=D4(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(l){if(l instanceof O4)continue}}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new Ve("No MultiFormat Readers were able to detect the code.")},n})(),xB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){xB(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,a=new jE;return a.setHints(t),i=n.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(sd);var bB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){bB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Xp,t)||this}return e})(sd);var AB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){AB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Wp,t)||this}return e})(sd);var Lm;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(Lm||(Lm={}));const X0=Lm;var UE=(function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Mc(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var s=r.multiply(new Mc(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(s),r=s}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new Wt("No error correction bytes");var r=e.length-t;if(r<=0)throw new Wt("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(r);Or.arraycopy(e,0,a,0,r);var s=new Mc(this.field,a);s=s.multiplyByMonomial(t,1);for(var l=s.divide(i)[1],c=l.getCoefficients(),f=t-c.length,d=0;d<f;d++)e[r+d]=0;Or.arraycopy(c,0,e,r+f,c.length)},n})(),r1=(function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var l=r[s],c=0;c<i-1;c++){var f=l[c];f===l[c+1]&&f===r[s+1][c]&&f===r[s+1][c+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var l=0;l<i;l++){var c=r[s];l+6<i&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(n.isWhiteHorizontal(c,l-4,l)||n.isWhiteHorizontal(c,l+7,l+11))&&t++,s+6<a&&r[s][l]===1&&r[s+1][l]===0&&r[s+2][l]===1&&r[s+3][l]===1&&r[s+4][l]===1&&r[s+5][l]===0&&r[s+6][l]===1&&(n.isWhiteVertical(r,l,s-4,s)||n.isWhiteVertical(r,l,s+7,s+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var l=r[s],c=0;c<i;c++)l[c]===1&&t++;var f=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(t*2-f)*10/f);return d*n.N4},n.getDataMaskBit=function(e,t,r){var i,a;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,i=(a&1)+a%3;break;case 6:a=r*t,i=(a&1)+a%3&1;break;case 7:a=r*t,i=a%3+(r+t&1)&1;break;default:throw new Wt("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),s=e.getArray(),l=0;l<i;l++){for(var c=0,f=-1,d=0;d<a;d++){var g=t?s[l][d]:s[d][l];g===f?c++:(c>=5&&(r+=n.N1+(c-5)),c=1,f=g)}c>=5&&(r+=n.N1+(c-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n})(),EB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SB=(function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=EB(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;ta.fill(s,e)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],s=t.bytes[r],l=0,c=this.width;l<c;++l)if(a[l]!==s[l])return!1;return!0},n.prototype.toString=function(){for(var e=new _n,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n})(),Pm=(function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new _n;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n})(),CB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),jr=(function(n){CB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e})($o),L4=(function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,a){n.clearMatrix(a),n.embedBasicPatterns(r,a),n.embedTypeInfo(t,i,a),n.maybeEmbedVersionInfo(r,a),n.embedDataBits(e,i,a)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new Aa;n.makeTypeInfoBits(e,t,i);for(var a=0,s=i.getSize();a<s;++a){var l=i.get(i.getSize()-1-a),c=n.TYPE_INFO_COORDINATES[a],f=c[0],d=c[1];if(r.setBoolean(f,d,l),a<8){var g=r.getWidth()-a-1,_=8;r.setBoolean(g,_,l)}else{var g=8,_=r.getHeight()-7+(a-8);r.setBoolean(g,_,l)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new Aa;n.makeVersionInfoBits(e,r);for(var i=17,a=0;a<6;++a)for(var s=0;s<3;++s){var l=r.get(i);i--,t.setBoolean(a,t.getHeight()-11+s,l),t.setBoolean(t.getHeight()-11+s,a,l)}}},n.embedDataBits=function(e,t,r){for(var i=0,a=-1,s=r.getWidth()-1,l=r.getHeight()-1;s>0;){for(s===6&&(s-=1);l>=0&&l<r.getHeight();){for(var c=0;c<2;++c){var f=s-c;if(n.isEmpty(r.get(f,l))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,t!==255&&r1.getDataMaskBit(t,f,l)&&(d=!d),r.setBoolean(f,l,d)}}l+=a}a=-a,l+=a,s-=2}if(i!==e.getSize())throw new jr("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-bn.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new Wt("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!Pm.isValidMaskPattern(t))throw new jr("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var a=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(a,10);var s=new Aa;if(s.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new jr("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new jr("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new jr;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new jr;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new jr;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var a=n.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var a=n.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,s=i.length;a!==s;a++){var l=i[a];if(l>=0)for(var c=0;c!==s;c++){var f=i[c];f>=0&&n.isEmpty(t.get(f,l))&&n.embedPositionAdjustmentPattern(f-2,l-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n})(),TB=(function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n})(),P4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return r1.applyMaskPenaltyRule1(e)+r1.applyMaskPenaltyRule2(e)+r1.applyMaskPenaltyRule3(e)+r1.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(X0.CHARACTER_SET)!==void 0;a&&(i=r.get(X0.CHARACTER_SET).toString());var s=this.chooseMode(e,i),l=new Aa;if(s===Ur.BYTE&&(a||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=Ji.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(s,l);var f=new Aa;this.appendBytes(e,s,f,i);var d;if(r!==null&&r.get(X0.QR_VERSION)!==void 0){var g=Number.parseInt(r.get(X0.QR_VERSION).toString(),10);d=Cf.getVersionForNumber(g);var _=this.calculateBitsNeeded(s,l,f,d);if(!this.willFit(_,d,t))throw new jr("Data too big for requested version")}else d=this.recommendVersion(t,s,l,f);var v=new Aa;v.appendBitArray(l);var A=s===Ur.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(A,d,s,v),v.appendBitArray(f);var S=d.getECBlocksForLevel(t),I=d.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(I,v);var N=this.interleaveWithECBytes(v,d.getTotalCodewords(),I,S.getNumBlocks()),V=new Pm;V.setECLevel(t),V.setMode(s),V.setVersion(d);var q=d.getDimensionForVersion(),U=new SB(q,q),re=this.chooseMaskPattern(N,t,d,U);return V.setMaskPattern(re),L4.buildMatrix(N,t,d,re,U),V.setMatrix(U),V},n.recommendVersion=function(e,t,r,i){var a=this.calculateBitsNeeded(t,r,i,Cf.getVersionForNumber(1)),s=this.chooseVersion(a,e),l=this.calculateBitsNeeded(t,r,i,s);return this.chooseVersion(l,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),Ji.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Ur.KANJI;for(var r=!1,i=!1,a=0,s=e.length;a<s;++a){var l=e.charAt(a);if(n.isDigit(l))r=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Ur.BYTE}return i?Ur.ALPHANUMERIC:r?Ur.NUMERIC:Ur.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=Bs.encode(e,Ji.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,l=0;l<Pm.NUM_MASK_PATTERNS;l++){L4.buildMatrix(e,t,r,l,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,s=l)}return s},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Cf.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new jr("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(r),s=a.getTotalECCodewords(),l=i-s,c=(e+7)/8;return l>=c},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new jr("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var s=e-t.getSizeInBytes(),i=0;i<s;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new jr("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,a,s){if(i>=r)throw new jr("Block ID too large");var l=e%r,c=r-l,f=Math.floor(e/r),d=f+1,g=Math.floor(t/r),_=g+1,v=f-g,A=d-_;if(v!==A)throw new jr("EC bytes mismatch");if(r!==c+l)throw new jr("RS blocks mismatch");if(e!==(g+v)*c+(_+A)*l)throw new jr("Total bytes mismatch");i<c?(a[0]=g,s[0]=v):(a[0]=_,s[0]=A)},n.interleaveWithECBytes=function(e,t,r,i){var a,s,l,c;if(e.getSizeInBytes()!==r)throw new jr("Number of bits and data bytes does not match");for(var f=0,d=0,g=0,_=new Array,v=0;v<i;++v){var A=new Int32Array(1),S=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,v,A,S);var I=A[0],N=new Uint8Array(I);e.toBytes(8*f,N,0,I);var V=n.generateECBytes(N,S[0]);_.push(new TB(N,V)),d=Math.max(d,I),g=Math.max(g,V.length),f+=A[0]}if(r!==f)throw new jr("Data bytes does not match offset");for(var q=new Aa,v=0;v<d;++v)try{for(var U=(a=void 0,P4(_)),re=U.next();!re.done;re=U.next()){var ue=re.value,N=ue.getDataBytes();v<N.length&&q.appendBits(N[v],8)}}catch(H){a={error:H}}finally{try{re&&!re.done&&(s=U.return)&&s.call(U)}finally{if(a)throw a.error}}for(var v=0;v<g;++v)try{for(var z=(l=void 0,P4(_)),R=z.next();!R.done;R=z.next()){var ue=R.value,V=ue.getErrorCorrectionBytes();v<V.length&&q.appendBits(V[v],8)}}catch(H){l={error:H}}finally{try{R&&!R.done&&(c=z.return)&&c.call(z)}finally{if(l)throw l.error}}if(t!==q.getSizeInBytes())throw new jr("Interleaving error: "+t+" and "+q.getSizeInBytes()+" differ.");return q},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),a=0;a<r;a++)i[a]=e[a]&255;new UE(Xo.QR_CODE_FIELD_256).encode(i,t);for(var s=new Uint8Array(t),a=0;a<t;a++)s[a]=i[r+a];return s},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var a=r.getCharacterCountBits(t);if(e>=1<<a)throw new jr(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},n.appendBytes=function(e,t,r,i){switch(t){case Ur.NUMERIC:n.appendNumericBytes(e,r);break;case Ur.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case Ur.BYTE:n.append8BitBytes(e,r,i);break;case Ur.KANJI:n.appendKanjiBytes(e,r);break;default:throw new jr("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getDigit(e.charAt(i));if(i+2<r){var s=n.getDigit(e.charAt(i+1)),l=n.getDigit(e.charAt(i+2));t.appendBits(a*100+s*10+l,10),i+=3}else if(i+1<r){var s=n.getDigit(e.charAt(i+1));t.appendBits(a*10+s,7),i+=2}else t.appendBits(a,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new jr;if(i+1<r){var s=n.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new jr;t.appendBits(a*45+s,11),i+=2}else t.appendBits(a,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=Bs.encode(e,r)}catch(c){throw new jr(c)}for(var a=0,s=i.length;a!==s;a++){var l=i[a];t.appendBits(l,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=Bs.encode(e,Ji.SJIS)}catch(g){throw new jr(g)}for(var i=r.length,a=0;a<i;a+=2){var s=r[a]&255,l=r[a+1]&255,c=s<<8&4294967295|l,f=-1;if(c>=33088&&c<=40956?f=c-33088:c>=57408&&c<=60351&&(f=c-49472),f===-1)throw new jr("Invalid byte sequence");var d=(f>>8)*192+(f&255);t.appendBits(d,13)}},n.appendECI=function(e,t){t.appendBits(Ur.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=Ji.UTF8.getName(),n})();var NB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){NB(e,n);function e(t,r,i,a,s,l,c,f){var d=n.call(this,l,c)||this;if(d.yuvData=t,d.dataWidth=r,d.dataHeight=i,d.left=a,d.top=s,a+l>r||s+c>i)throw new Wt("Crop rectangle does not fit within image data.");return f&&d.reverseHorizontal(l,c),d}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Wt("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Or.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Or.arraycopy(this.yuvData,s,a,0,i),a;for(var l=0;l<r;l++){var c=l*t;Or.arraycopy(this.yuvData,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),a=this.yuvData,s=this.top*this.dataWidth+this.left,l=0;l<r;l++){for(var c=l*t,f=0;f<t;f++){var d=a[s+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+f]=4278190080|d*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<r;a++,s+=this.dataWidth)for(var l=s+t/2,c=s,f=s+t-1;c<l;c++,f--){var d=i[c];i[c]=i[f],i[f]=d}},e.prototype.invert=function(){return new A2(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(M1);var IB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){IB(e,n);function e(t,r,i,a,s,l,c){var f=n.call(this,r,i)||this;if(f.dataWidth=a,f.dataHeight=s,f.left=l,f.top=c,t.BYTES_PER_ELEMENT===4){for(var d=r*i,g=new Uint8ClampedArray(d),_=0;_<d;_++){var v=t[_],A=v>>16&255,S=v>>7&510,I=v&255;g[_]=(A+S+I)/4&255}f.luminances=g}else f.luminances=t;if(a===void 0&&(f.dataWidth=r),s===void 0&&(f.dataHeight=i),l===void 0&&(f.left=0),c===void 0&&(f.top=0),f.left+r>f.dataWidth||f.top+i>f.dataHeight)throw new Wt("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Wt("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Or.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Or.arraycopy(this.luminances,s,a,0,i),a;for(var l=0;l<r;l++){var c=l*t;Or.arraycopy(this.luminances,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new A2(this)},e})(M1);var RB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),OB=(function(n){RB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e})(Ji),DB=(function(){function n(){}return n.ISO_8859_1=Ji.ISO8859_1,n})(),Mm,LB=301,PB=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=LB);return{LOG:n,ALOG:e}};Mm=PB([],[]),Mm.LOG;Mm.ALOG;var M4;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(M4||(M4={}));var k4=129,VE=230,MB=231,kB=235,BB=236,FB=237,jB=238,UB=239,VB=240,Lv=254,zB=254,B4="[)>05",F4="[)>06",j4="",dr=0,ja=1,bo=2,Zi=3,wa=4,io=5,HB=(function(){function n(){}return n.prototype.getEncodingMode=function(){return dr},n.prototype.encode=function(e){var t=cl.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=cl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case io:e.writeCodeword(MB),e.signalEncoderChange(io);return;case ja:e.writeCodeword(VE),e.signalEncoderChange(ja);return;case Zi:e.writeCodeword(jB),e.signalEncoderChange(Zi);break;case bo:e.writeCodeword(UB),e.signalEncoderChange(bo);break;case wa:e.writeCodeword(VB),e.signalEncoderChange(wa);break;default:throw new Error("Illegal mode: "+i)}else cl.isExtendedASCII(r)?(e.writeCodeword(kB),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(cl.isDigit(e)&&cl.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n})(),qB=(function(){function n(){}return n.prototype.getEncodingMode=function(){return io},n.prototype.encode=function(e){var t=new _n;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=cl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(dr);break}}var a=t.length()-1,s=1,l=e.getCodewordCount()+a+s;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||c)if(a<=249)t.setCharAt(0,Fn.getCharAt(a));else if(a<=1555)t.setCharAt(0,Fn.getCharAt(Math.floor(a/250)+249)),t.insert(1,Fn.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var f=0,r=t.length();f<r;f++)e.writeCodeword(this.randomize255State(t.charAt(f).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n})(),Vy=(function(){function n(){}return n.prototype.getEncodingMode=function(){return ja},n.prototype.encodeMaximal=function(e){for(var t=new _n,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,r=this.encodeChar(s,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var l=Math.floor(t.length()/3*2),c=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(c);var f=e.getSymbolInfo().getDataCapacity()-c,d=Math.floor(t.length()%3);(d===2&&f!==2||d===1&&(r>3||f!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(VE),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new _n;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),a=Math.floor(t.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new _n;for(t.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,t,c,i));t.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,t,c,i);break}var f=t.length();if(f%3===0){var d=cl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(dr);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var a=t.length(),s=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(s),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Lv)}else if(s===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Lv),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(s>0||e.hasMoreCharacters())&&e.writeCodeword(Lv)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(dr)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,a=new _n;return a.append(r),a.append(i),a.toString()},n})(),GB=(function(){function n(){}return n.prototype.getEncodingMode=function(){return wa},n.prototype.encode=function(e){for(var t=new _n;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var s=cl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(dr);break}}}t.append(Fn.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var s=r-1,l=this.encodeToCodewords(t.toString()),c=!e.hasMoreCharacters(),f=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(f=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}f?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(l)}finally{e.signalEncoderChange(dr)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Fn.getCharAt(e-64)):cl.illegalCharacter(Fn.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,s=t>=4?e.charAt(3).charCodeAt(0):0,l=(r<<18)+(i<<12)+(a<<6)+s,c=l>>16&255,f=l>>8&255,d=l&255,g=new _n;return g.append(c),t>=2&&g.append(f),t>=3&&g.append(d),g.toString()},n})(),WB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),XB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},er=(function(){function n(e,t,r,i,a,s,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=l,this.rsBlockError=c}return n.lookup=function(e,t,r,i,a){var s,l;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=XB(KB),f=c.next();!f.done;f=c.next()){var d=f.value;if(!(t===1&&d.rectangular)&&!(t===2&&!d.rectangular)&&!(r!=null&&(d.getSymbolWidth()<r.getWidth()||d.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(g){s={error:g}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n})(),YB=(function(n){WB(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e})(er),KB=[new er(!1,3,5,8,8,1),new er(!1,5,7,10,10,1),new er(!0,5,7,16,6,1),new er(!1,8,10,12,12,1),new er(!0,10,11,14,6,2),new er(!1,12,12,14,14,1),new er(!0,16,14,24,10,1),new er(!1,18,14,16,16,1),new er(!1,22,18,18,18,1),new er(!0,22,18,16,10,2),new er(!1,30,20,20,20,1),new er(!0,32,24,16,14,2),new er(!1,36,24,22,22,1),new er(!1,44,28,24,24,1),new er(!0,49,28,22,14,2),new er(!1,62,36,14,14,4),new er(!1,86,42,16,16,4),new er(!1,114,48,18,18,4),new er(!1,144,56,20,20,4),new er(!1,174,68,22,22,4),new er(!1,204,84,24,24,4,102,42),new er(!1,280,112,14,14,16,140,56),new er(!1,368,144,16,16,16,92,36),new er(!1,456,192,18,18,16,114,48),new er(!1,576,224,20,20,16,144,56),new er(!1,696,272,22,22,16,174,68),new er(!1,816,336,24,24,16,136,56),new er(!1,1050,408,18,18,36,175,68),new er(!1,1304,496,20,20,36,163,62),new YB],$B=(function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(l){return l.charCodeAt(0)}),r=new _n,i=0,a=t.length;i<a;i++){var s=String.fromCharCode(t[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(s)}this.msg=r.toString(),this.shape=0,this.codewords=new _n,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=er.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n})(),ZB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),QB=(function(n){ZB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Zi},e.prototype.encode=function(t){for(var r=new _n;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(t,r);var s=cl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(dr);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):cl.illegalCharacter(Fn.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=r.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(zB),t.getNewEncoding()<0&&t.signalEncoderChange(dr)},e})(Vy),JB=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),eF=(function(n){JB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return bo},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e})(Vy),cl=(function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=k4+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new Vy,l=[new HB,s,new eF,new QB,new GB,new qB],c=new $B(e);c.setSymbolShape(t),c.setSizeConstraints(r,i),e.startsWith(B4)&&e.endsWith(j4)?(c.writeCodeword(BB),c.setSkipAtEnd(2),c.pos+=B4.length):e.startsWith(F4)&&e.endsWith(j4)&&(c.writeCodeword(FB),c.setSkipAtEnd(2),c.pos+=F4.length);var f=dr;for(a&&(s.encodeMaximal(c),f=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[f].encode(c),c.getNewEncoding()>=0&&(f=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var g=c.getSymbolInfo().getDataCapacity();d<g&&f!==dr&&f!==io&&f!==wa&&c.writeCodeword("");var _=c.getCodewords();for(_.length()<g&&_.append(k4);_.length()<g;)_.append(this.randomize253State(_.length()+1));return c.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===Zi&&i===Zi){for(var a=Math.min(t+3,e.length),s=t;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return dr}else if(r===wa&&i===wa){for(var a=Math.min(t+4,e.length),s=t;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return dr}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===dr?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,s=new Uint8Array(6),l=[];;){if(t+a===e.length){ta.fill(s,0),ta.fill(l,0);var c=this.findMinimums(i,l,bn.MAX_VALUE,s),f=this.getMinimumCount(s);if(l[dr]===c)return dr;if(f===1){if(s[io]>0)return io;if(s[wa]>0)return wa;if(s[bo]>0)return bo;if(s[Zi]>0)return Zi}return ja}var d=e.charCodeAt(t+a);if(a++,this.isDigit(d)?i[dr]+=.5:this.isExtendedASCII(d)?(i[dr]=Math.ceil(i[dr]),i[dr]+=2):(i[dr]=Math.ceil(i[dr]),i[dr]++),this.isNativeC40(d)?i[ja]+=2/3:this.isExtendedASCII(d)?i[ja]+=8/3:i[ja]+=4/3,this.isNativeText(d)?i[bo]+=2/3:this.isExtendedASCII(d)?i[bo]+=8/3:i[bo]+=4/3,this.isNativeX12(d)?i[Zi]+=2/3:this.isExtendedASCII(d)?i[Zi]+=13/3:i[Zi]+=10/3,this.isNativeEDIFACT(d)?i[wa]+=3/4:this.isExtendedASCII(d)?i[wa]+=17/4:i[wa]+=13/4,this.isSpecialB256(d)?i[io]+=4:i[io]++,a>=4){if(ta.fill(s,0),ta.fill(l,0),this.findMinimums(i,l,bn.MAX_VALUE,s),l[dr]<this.min(l[io],l[ja],l[bo],l[Zi],l[wa]))return dr;if(l[io]<l[dr]||l[io]+1<this.min(l[ja],l[bo],l[Zi],l[wa]))return io;if(l[wa]+1<this.min(l[io],l[ja],l[bo],l[Zi],l[dr]))return wa;if(l[bo]+1<this.min(l[io],l[ja],l[wa],l[Zi],l[dr]))return bo;if(l[Zi]+1<this.min(l[io],l[ja],l[wa],l[bo],l[dr]))return Zi;if(l[ja]+1<this.min(l[dr],l[io],l[wa],l[bo])){if(l[ja]<l[Zi])return ja;if(l[ja]===l[Zi]){for(var g=t+a+1;g<e.length;){var _=e.charCodeAt(g);if(this.isX12TermSep(_))return Zi;if(!this.isNativeX12(_))break;g++}return ja}}}}},n.min=function(e,t,r,i,a){var s=Math.min(e,Math.min(t,Math.min(r,i)));return a===void 0?s:Math.min(s,a)},n.findMinimums=function(e,t,r,i){for(var a=0;a<6;a++){var s=t[a]=Math.ceil(e[a]);r>s&&(r=s,ta.fill(i,0)),r===s&&(i[a]=i[a]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=bn.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n})(),Pv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U4=(function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return Bs.encode(e,this.charset)!=null}catch{return!1}},n})(),tF=(function(){function n(e,t,r){var i,a,s,l,c,f;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(P){return new U4(OB.forName(P))}),this.encoders=[];var d=[];d.push(new U4(DB.ISO_8859_1));for(var g=t!=null&&t.name.startsWith("UTF"),_=0;_<e.length;_++){var v=!1;try{for(var A=(i=void 0,Pv(d)),S=A.next();!S.done;S=A.next()){var I=S.value,N=e.charAt(_),V=N.charCodeAt(0);if(V===r||I.canEncode(N)){v=!0;break}}}catch(P){i={error:P}}finally{try{S&&!S.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}if(!v)try{for(var q=(s=void 0,Pv(this.ENCODERS)),U=q.next();!U.done;U=q.next()){var I=U.value;if(I.canEncode(e.charAt(_))){d.push(I),v=!0;break}}}catch(P){s={error:P}}finally{try{U&&!U.done&&(l=q.return)&&l.call(q)}finally{if(s)throw s.error}}v||(g=!0)}if(d.length===1&&!g)this.encoders=[d[0]];else{this.encoders=[];var re=0;try{for(var ue=Pv(d),z=ue.next();!z.done;z=ue.next()){var I=z.value;this.encoders[re++]=I}}catch(P){c={error:P}}finally{try{z&&!z.done&&(f=ue.return)&&f.call(ue)}finally{if(c)throw c.error}}}var R=-1;if(t!=null){for(var _=0;_<this.encoders.length;_++)if(this.encoders[_]!=null&&t.name===this.encoders[_].name){R=_;break}}this.priorityEncoderIndex=R}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Bs.encode(Fn.getCharAt(e),this.encoders[t].name)},n})(),nF=3,rF=(function(){function n(e,t,r){this.fnc1=r;var i=new tF(e,t,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===r?1e3:s}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new _n,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,a,s){var l=e.charAt(i).charCodeAt(0),c=0,f=t.length();t.getPriorityEncoderIndex()>=0&&(l===s||t.canEncode(l,t.getPriorityEncoderIndex()))&&(c=t.getPriorityEncoderIndex(),f=c+1);for(var d=c;d<f;d++)(l===s||t.canEncode(l,d))&&this.addEdge(r,i+1,new V4(l,t,d,a,s))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,a=new V4[i+1][t.length()];this.addEdges(e,t,a,0,null,r);for(var s=1;s<=i;s++){for(var l=0;l<t.length();l++)a[s][l]!=null&&s<i&&this.addEdges(e,t,a,s,a[s][l],r);for(var l=0;l<t.length();l++)a[s-1][l]=null}for(var c=-1,f=bn.MAX_VALUE,l=0;l<t.length();l++)if(a[i][l]!=null){var d=a[i][l];d.cachedTotalSize<f&&(f=d.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var g=[],_=a[i][c];_!=null;){if(_.isFNC1())g.unshift(1e3);else for(var v=t.encode(_.c,_.encoderIndex),s=v.length-1;s>=0;s--)g.unshift(v[s]&255);var A=_.previous===null?0:_.previous.encoderIndex;A!==_.encoderIndex&&g.unshift(256+t.getECIValue(_.encoderIndex)),_=_.previous}for(var S=[],s=0;s<S.length;s++)S[s]=g[s];return S},n})(),V4=(function(){function n(e,t,r,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:t.encode(e,r).length,l=i===null?0:i.encoderIndex;l!==r&&(s+=nF),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return n.prototype.isFNC1=function(){return this.c===1e3},n})(),iF=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();var z4;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(z4||(z4={}));(function(n){iF(e,n);function e(t,r,i,a,s){var l=n.call(this,t,r,i)||this;return l.shape=a,l.macroId=s,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(rF);var aF=(function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n})(),H4=(function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n})(),oF=(function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n})(),sF=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),zy=(function(n){sF(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+bn.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e})(oF),lF=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),uF=(function(n){lF(e,n);function e(t,r,i){var a=n.call(this,t,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(zy);function cF(n,e,t){return new uF(n,e,t)}function $d(n,e,t){return new zy(n,e,t)}var fF=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],kc=0,Yp=1,ks=2,zE=3,zl=4,hF=new zy(null,0,0),Mv=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],dF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function pF(n){var e,t;try{for(var r=dF(n),i=r.next();!i.done;i=r.next()){var a=i.value;ta.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[kc][zl]=0,n[Yp][zl]=0,n[Yp][kc]=28,n[zE][zl]=0,n[ks][zl]=0,n[ks][kc]=15,n}var HE=pF(ta.createInt32Array(6,6)),gF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vF=(function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=Mv[this.mode][e];i=$d(i,a&65535,a>>16),r+=a>>16}var s=e===ks?4:5;return i=$d(i,t,s),new n(i,e,0,r+s)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===ks?4:5;return r=$d(r,HE[this.mode][e],i),r=$d(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===zl||this.mode===ks){var a=Mv[r][kc];t=$d(t,a&65535,a>>16),i+=a>>16,r=kc}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new n(t,r,this.binaryShiftByteCount+1,i+s);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=cF(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Mv[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new Aa;try{for(var l=gF(i),c=l.next();!c.done;c=l.next()){var f=c.value;f.appendTo(s,e)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return s},n.prototype.toString=function(){return Fn.format("%s bits=%d bytes=%d",fF[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(hF,kc,0,0),n})();function mF(n){var e=Fn.getCharCode(" "),t=Fn.getCharCode("."),r=Fn.getCharCode(",");n[kc][e]=1;for(var i=Fn.getCharCode("Z"),a=Fn.getCharCode("A"),s=a;s<=i;s++)n[kc][s]=s-a+2;n[Yp][e]=1;for(var l=Fn.getCharCode("z"),c=Fn.getCharCode("a"),s=c;s<=l;s++)n[Yp][s]=s-c+2;n[ks][e]=1;for(var f=Fn.getCharCode("9"),d=Fn.getCharCode("0"),s=d;s<=f;s++)n[ks][s]=s-d+2;n[ks][r]=12,n[ks][t]=13;for(var g=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],_=0;_<g.length;_++)n[zE][Fn.getCharCode(g[_])]=_;for(var v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],_=0;_<v.length;_++)Fn.getCharCode(v[_])>0&&(n[zl][Fn.getCharCode(v[_])]=_);return n}var kv=mF(ta.createInt32Array(5,256)),Y0=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yF=(function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=Fn.getCharCode(" "),t=Fn.getCharCode(`
`),r=H4.singletonList(vF.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Fn.getCharCode("\r"):a=s===t?2:0;break;case Fn.getCharCode("."):a=s===e?3:0;break;case Fn.getCharCode(","):a=s===e?4:0;break;case Fn.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(r=n.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var l=H4.min(r,function(c,f){return c.getBitCount()-f.getBitCount()});return l.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,a=[];try{for(var s=Y0(e),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForChar(c,t,a)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n.simplifyStates(a)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,a=kv[e.getMode()][i]>0,s=null,l=0;l<=zl;l++){var c=kv[l][i];if(c>0){if(s==null&&(s=e.endBinaryShift(t)),!a||l===e.getMode()||l===ks){var f=s.latchAndAppend(l,c);r.push(f)}if(!a&&HE[e.getMode()][l]>=0){var d=s.shiftAndAppend(l,c);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||kv[e.getMode()][i]===0){var g=e.addBinaryShiftChar(t);r.push(g)}},n.updateStateListForPair=function(e,t,r){var i,a,s=[];try{for(var l=Y0(e),c=l.next();!c.done;c=l.next()){var f=c.value;this.updateStateForPair(f,t,r,s)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(s)},n.updateStateForPair=function(e,t,r,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(zl,r)),e.getMode()!==zl&&i.push(a.shiftAndAppend(zl,r)),r===3||r===4){var s=a.latchAndAppend(ks,16-r).latchAndAppend(ks,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(l)}},n.simplifyStates=function(e){var t,r,i,a,s=[];try{for(var l=Y0(e),c=l.next();!c.done;c=l.next()){var f=c.value,d=!0,g=function(I){if(I.isBetterThanOrEqualTo(f))return d=!1,"break";f.isBetterThanOrEqualTo(I)&&(s=s.filter(function(N){return N!==I}))};try{for(var _=(i=void 0,Y0(s)),v=_.next();!v.done;v=_.next()){var A=v.value,S=g(A);if(S==="break")break}}catch(I){i={error:I}}finally{try{v&&!v.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}d&&s.push(f)}}catch(I){t={error:I}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return s},n})(),_F=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new yF(e).encode(),a=bn.truncDivision(i.getSize()*t,100)+11,s=i.getSize()+a,l,c,f,d,g;if(r!==n.DEFAULT_AZTEC_LAYERS){if(l=r<0,c=Math.abs(r),c>(l?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new Wt(Fn.format("Illegal value %s for layers",r));f=n.totalBitsInLayer(c,l),d=n.WORD_SIZE[c];var _=f-f%d;if(g=n.stuffBits(i,d),g.getSize()+a>_)throw new Wt("Data to large for user specified layer");if(l&&g.getSize()>d*64)throw new Wt("Data to large for user specified layer")}else{d=0,g=null;for(var v=0;;v++){if(v>n.MAX_NB_BITS)throw new Wt("Data too large for an Aztec code");if(l=v<=3,c=l?v+1:v,f=n.totalBitsInLayer(c,l),!(s>f)){(g==null||d!==n.WORD_SIZE[c])&&(d=n.WORD_SIZE[c],g=n.stuffBits(i,d));var _=f-f%d;if(!(l&&g.getSize()>d*64)&&g.getSize()+a<=_)break}}}var A=n.generateCheckWords(g,f,d),S=g.getSize()/d,I=n.generateModeMessage(l,c,S),N=(l?11:14)+c*4,V=new Int32Array(N),q;if(l){q=N;for(var v=0;v<V.length;v++)V[v]=v}else{q=N+1+2*bn.truncDivision(bn.truncDivision(N,2)-1,15);for(var U=bn.truncDivision(N,2),re=bn.truncDivision(q,2),v=0;v<U;v++){var ue=v+bn.truncDivision(v,15);V[U-v-1]=re-ue-1,V[U+v]=re+ue+1}}for(var z=new Ql(q),v=0,R=0;v<c;v++){for(var P=(c-v)*4+(l?9:12),H=0;H<P;H++)for(var O=H*2,k=0;k<2;k++)A.get(R+O+k)&&z.set(V[v*2+k],V[v*2+H]),A.get(R+P*2+O+k)&&z.set(V[v*2+H],V[N-1-v*2-k]),A.get(R+P*4+O+k)&&z.set(V[N-1-v*2-k],V[N-1-v*2-H]),A.get(R+P*6+O+k)&&z.set(V[N-1-v*2-H],V[v*2+k]);R+=P*8}if(n.drawModeMessage(z,l,q,I),l)n.drawBullsEye(z,bn.truncDivision(q,2),5);else{n.drawBullsEye(z,bn.truncDivision(q,2),7);for(var v=0,H=0;v<bn.truncDivision(N,2)-1;v+=15,H+=16)for(var k=bn.truncDivision(q,2)&1;k<q;k+=2)z.set(bn.truncDivision(q,2)-H,k),z.set(bn.truncDivision(q,2)+H,k),z.set(k,bn.truncDivision(q,2)-H),z.set(k,bn.truncDivision(q,2)+H)}var j=new aF;return j.setCompact(l),j.setSize(q),j.setLayers(c),j.setCodeWords(S),j.setMatrix(z),j},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new Aa;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var a=bn.truncDivision(r,2);if(t)for(var s=0;s<7;s++){var l=a-3+s;i.get(s)&&e.set(l,a-5),i.get(s+7)&&e.set(a+5,l),i.get(20-s)&&e.set(l,a+5),i.get(27-s)&&e.set(a-5,l)}else for(var s=0;s<10;s++){var l=a-5+s+bn.truncDivision(s,5);i.get(s)&&e.set(l,a-7),i.get(s+10)&&e.set(a+7,l),i.get(29-s)&&e.set(l,a+7),i.get(39-s)&&e.set(a-7,l)}},n.generateCheckWords=function(e,t,r){var i,a,s=e.getSize()/r,l=new UE(n.getGF(r)),c=bn.truncDivision(t,r),f=n.bitsToWords(e,r,c);l.encode(f,c-s);var d=t%r,g=new Aa;g.appendBits(0,d);try{for(var _=_F(Array.from(f)),v=_.next();!v.done;v=_.next()){var A=v.value;g.appendBits(A,r)}}catch(S){i={error:S}}finally{try{v&&!v.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}return g},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),a,s;for(a=0,s=e.getSize()/t;a<s;a++){for(var l=0,c=0;c<t;c++)l|=e.get(a*t+c)?1<<t-c-1:0;i[a]=l}return i},n.getGF=function(e){switch(e){case 4:return Xo.AZTEC_PARAM;case 6:return Xo.AZTEC_DATA_6;case 8:return Xo.AZTEC_DATA_8;case 10:return Xo.AZTEC_DATA_10;case 12:return Xo.AZTEC_DATA_12;default:throw new Wt("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new Aa,i=e.getSize(),a=(1<<t)-2,s=0;s<i;s+=t){for(var l=0,c=0;c<t;c++)(s+c>=i||e.get(s+c))&&(l|=1<<t-1-c);(l&a)===a?(r.appendBits(l&a,t),s--):(l&a)===0?(r.appendBits(l|1,t),s--):r.appendBits(l,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();var wF=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),xF=(function(n){wF(e,n);function e(t){var r=n.call(this,t.width,t.height)||this;return r.canvas=t,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(t),r}return e.makeBufferFromCanvasImageData=function(t){var r;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var i=r.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,r,i){for(var a=new Uint8ClampedArray(r*i),s=0,l=0,c=t.length;s<c;s+=4,l++){var f=void 0,d=t[s+3];if(d===0)f=255;else{var g=t[s],_=t[s+1],v=t[s+2];f=306*g+601*_+117*v+512>>10}a[l]=f}return a},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Wt("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new A2(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var i=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*s),c=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*s);r.width=l,r.height=c;var f=r.getContext("2d");if(!f)throw new Error("Could not create a Canvas Context element.");return f.translate(l/2,c/2),f.rotate(i),f.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(M1);function qE(){return typeof navigator<"u"}function bF(){return qE()&&!!navigator.mediaDevices}function AF(){return!!(bF()&&navigator.mediaDevices.enumerateDevices)}var Lh=function(){return Lh=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Lh.apply(this,arguments)},ri=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(d){try{f(r.next(d))}catch(g){s(g)}}function c(d){try{f(r.throw(d))}catch(g){s(g)}}function f(d){d.done?a(d.value):i(d.value).then(l,c)}f((r=r.apply(n,e||[])).next())})},ii=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return c([f,d])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(d){f=[6,d],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Bv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EF={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},ld=(function(){function n(e,t,r){t===void 0&&(t=new Map),r===void 0&&(r={}),this.reader=e,this.hints=t,this.options=Lh(Lh({},EF),r)}return Object.defineProperty(n.prototype,"possibleFormats",{set:function(e){this.hints.set(Dr.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),n.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},n.mediaStreamSetTorch=function(e,t){return ri(this,void 0,void 0,function(){return ii(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return r.sent(),[2]}})})},n.mediaStreamIsTorchCompatible=function(e){var t,r,i=e.getVideoTracks();try{for(var a=Bv(i),s=a.next();!s.done;s=a.next()){var l=s.value;if(n.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return!1},n.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},n.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},n.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new xi("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new xi("element with id '".concat(e,"' must be an ").concat(t," element"));return r},n.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return n.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},n.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return n.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},n.prepareVideoElement=function(e){var t=n.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.createBinaryBitmapFromCanvas=function(e){var t=new xF(e),r=new NE(t);return new TE(r)},n.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},n.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},n.createCaptureCanvas=function(e){if(!e)throw new xi("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),r=n.getMediaElementDimensions(e),i=r.width,a=r.height;return t.style.width=i+"px",t.style.height=a+"px",t.width=i,t.height=a,t},n.tryPlayVideo=function(e){return ri(this,void 0,void 0,function(){var t;return ii(this,function(r){switch(r.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(n.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return t=r.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},n.createCanvasFromMediaElement=function(e){var t=n.createCaptureCanvas(e),r=t.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return n.drawImageOnCanvas(r,e),t},n.createBinaryBitmapFromMediaElem=function(e){var t=n.createCanvasFromMediaElement(e);return n.createBinaryBitmapFromCanvas(t)},n.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},n.listVideoInputDevices=function(){return ri(this,void 0,void 0,function(){var e,t,r,i,a,s,l,c,f,d,g,_;return ii(this,function(v){switch(v.label){case 0:if(!qE())throw new Error("Can't enumerate devices, navigator is not present.");if(!AF())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=v.sent(),t=[];try{for(r=Bv(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(l=a.deviceId||a.id,c=a.label||"Video device ".concat(t.length+1),f=a.groupId,d={deviceId:l,label:c,kind:s,groupId:f},t.push(d))}catch(A){g={error:A}}finally{try{i&&!i.done&&(_=r.return)&&_.call(r)}finally{if(g)throw g.error}}return[2,t]}})})},n.findDeviceById=function(e){return ri(this,void 0,void 0,function(){var t;return ii(this,function(r){switch(r.label){case 0:return[4,n.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2]}})})},n.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},n.releaseAllStreams=function(){n.streamTracker.length!==0&&n.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),n.streamTracker=[]},n.playVideoOnLoadAsync=function(e,t){return ri(this,void 0,void 0,function(){var r;return ii(this,function(i){switch(i.label){case 0:return[4,n.tryPlayVideo(e)];case 1:return r=i.sent(),r?[2,!0]:[2,new Promise(function(a,s){var l=setTimeout(function(){n.isVideoPlaying(e)||(s(!1),e.removeEventListener("canplay",c))},t),c=function(){n.tryPlayVideo(e).then(function(f){clearTimeout(l),e.removeEventListener("canplay",c),a(f)})};e.addEventListener("canplay",c)})]}})})},n.attachStreamToVideo=function(e,t,r){return r===void 0&&(r=5e3),ri(this,void 0,void 0,function(){var i;return ii(this,function(a){switch(a.label){case 0:return i=n.prepareVideoElement(t),n.addVideoSource(i,e),[4,n.playVideoOnLoadAsync(i,r)];case 1:return a.sent(),[2,i]}})})},n._waitImageLoad=function(e){return new Promise(function(t,r){var i=1e4,a=setTimeout(function(){n.isImageLoaded(e)||(e.removeEventListener("load",s),r())},i),s=function(){clearTimeout(a),e.removeEventListener("load",s),t()};e.addEventListener("load",s)})},n.checkCallbackFnOrThrow=function(e){if(!e)throw new xi("`callbackFn` is a required parameter, you cannot capture results without it.")},n.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},n.prototype.decode=function(e){var t=n.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},n.prototype.decodeFromCanvas=function(e){var t=n.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},n.prototype.decodeFromImageElement=function(e){return ri(this,void 0,void 0,function(){var t;return ii(this,function(r){switch(r.label){case 0:if(!e)throw new xi("An image element must be provided.");return t=n.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeFromImageUrl=function(e){return ri(this,void 0,void 0,function(){var t;return ii(this,function(r){switch(r.label){case 0:if(!e)throw new xi("An URL must be provided.");t=n.prepareImageElement(),t.src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,r.sent()];case 3:return n.destroyImageElement(t),[7];case 4:return[2]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return ri(this,void 0,void 0,function(){var i,a;return ii(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,t,r)];case 3:return[2,s.sent()];case 4:throw a=s.sent(),n.disposeMediaStream(i),a;case 5:return[2]}})})},n.prototype.decodeFromStream=function(e,t,r){return ri(this,void 0,void 0,function(){var i,a,s,l,c,f,d,g,_,v=this;return ii(this,function(A){switch(A.label){case 0:return n.checkCallbackFnOrThrow(r),i=this.options.tryPlayVideoTimeout,[4,n.attachStreamToVideo(e,t,i)];case 1:return a=A.sent(),s=function(){n.disposeMediaStream(e),n.cleanVideoSource(a)},l=this.scan(a,r,s),c=e.getVideoTracks(),f=Lh(Lh({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(S,I){return ri(this,void 0,void 0,function(){var N,V,q,U,re,ue,z;return ii(this,function(R){switch(R.label){case 0:N=I?c.filter(I):c,R.label=1;case 1:R.trys.push([1,6,7,8]),V=Bv(N),q=V.next(),R.label=2;case 2:return q.done?[3,5]:(U=q.value,[4,U.applyConstraints(S)]);case 3:R.sent(),R.label=4;case 4:return q=V.next(),[3,2];case 5:return[3,8];case 6:return re=R.sent(),ue={error:re},[3,8];case 7:try{q&&!q.done&&(z=V.return)&&z.call(V)}finally{if(ue)throw ue.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(S){return c.find(S).getConstraints()},streamVideoSettingsGet:function(S){return c.find(S).getSettings()},streamVideoCapabilitiesGet:function(S){return c.find(S).getCapabilities()}}),d=n.mediaStreamIsTorchCompatible(e),d&&(g=c?.find(function(S){return n.mediaStreamIsTorchCompatibleTrack(S)}),_=function(S){return ri(v,void 0,void 0,function(){return ii(this,function(I){switch(I.label){case 0:return[4,n.mediaStreamSetTorch(g,S)];case 1:return I.sent(),[2]}})})},f.switchTorch=_,f.stop=function(){return ri(v,void 0,void 0,function(){return ii(this,function(S){switch(S.label){case 0:return l.stop(),[4,_(!1)];case 1:return S.sent(),[2]}})})}),[2,f]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return ri(this,void 0,void 0,function(){var i,a;return ii(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromVideoElement=function(e,t){return ri(this,void 0,void 0,function(){var r,i;return ii(this,function(a){switch(a.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new xi("A video element must be provided.");return r=n.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,i)];case 1:return a.sent(),[2,this.scan(r,t)]}})})},n.prototype.decodeFromVideoUrl=function(e,t){return ri(this,void 0,void 0,function(){var r,i,a,s;return ii(this,function(l){switch(l.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new xi("An URL must be provided.");return r=n.prepareVideoElement(),r.src=e,i=function(){n.cleanVideoSource(r)},a=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,a)];case 1:return l.sent(),s=this.scan(r,t,i),[2,s]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return ri(this,void 0,void 0,function(){var r;return ii(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return ri(this,void 0,void 0,function(){var r,i,a;return ii(this,function(s){switch(s.label){case 0:return r=!!t,[4,n.attachStreamToVideo(e,t)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=s.sent(),[2,a];case 4:return r||n.cleanVideoSource(i),[7];case 5:return[2]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return ri(this,void 0,void 0,function(){var r,i;return ii(this,function(a){switch(a.label){case 0:return e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromVideoElement=function(e){return ri(this,void 0,void 0,function(){var t,r;return ii(this,function(i){switch(i.label){case 0:if(!e)throw new xi("A video element must be provided.");return t=n.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(t,r)];case 1:return i.sent(),[4,this.scanOneResult(t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromVideoUrl=function(e){return ri(this,void 0,void 0,function(){var t,r;return ii(this,function(i){switch(i.label){case 0:if(!e)throw new xi("An URL must be provided.");t=n.prepareVideoElement(),t.src=e,r=this.decodeOnceFromVideoElement(t),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return n.cleanVideoSource(t),[7];case 4:return[2]}})})},n.prototype.scanOneResult=function(e,t,r,i){var a=this;return t===void 0&&(t=!0),r===void 0&&(r=!0),i===void 0&&(i=!0),new Promise(function(s,l){a.scan(e,function(c,f,d){if(c){s(c),d.stop();return}if(f){if(f instanceof Ve&&t||f instanceof Mi&&r||f instanceof st&&i)return;d.stop(),l(f)}})})},n.prototype.scan=function(e,t,r){var i=this;n.checkCallbackFnOrThrow(t);var a=n.createCaptureCanvas(e),s;try{s=a.getContext("2d",{willReadFrequently:!0})}catch{s=a.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){s=void 0,a=void 0},c=!1,f,d=function(){c=!0,clearTimeout(f),l(),r&&r()},g={stop:d},_=function(){if(!c)try{n.drawImageOnCanvas(s,e);var v=i.decodeFromCanvas(a);t(v,void 0,g),f=setTimeout(_,i.options.delayBetweenScanSuccess)}catch(N){t(void 0,N,g);var A=N instanceof Mi,S=N instanceof st,I=N instanceof Ve;if(A||S||I){f=setTimeout(_,i.options.delayBetweenScanAttempts);return}l(),r&&r(N)}};return _(),g},n.prototype._decodeOnLoadImage=function(e){return ri(this,void 0,void 0,function(){var t;return ii(this,function(r){switch(r.label){case 0:return t=n.isImageLoaded(e),t?[3,2]:[4,n._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},n.prototype.getUserMedia=function(e){return ri(this,void 0,void 0,function(){var t;return ii(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=r.sent(),n.streamTracker.push(t),[2,t]}})})},n.streamTracker=[],n})(),SF=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){SF(e,n);function e(t,r){return n.call(this,new Hp,t,r)||this}return e})(ld);var CF=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){CF(e,n);function e(t,r){return n.call(this,new Oh(t),t,r)||this}return e})(ld);var TF=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){TF(e,n);function e(t,r){return n.call(this,new Gp,t,r)||this}return e})(ld);var NF=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),IF=(function(n){NF(e,n);function e(t,r){var i=this,a=new jE;return a.setHints(t),i=n.call(this,a,t,r)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(Dr.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e})(ld),RF=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){RF(e,n);function e(t,r){return n.call(this,new Xp,t,r)||this}return e})(ld);var OF=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){OF(e,n);function e(t,r){return n.call(this,new Wp,t,r)||this}return e})(ld);const{useState:Gt,useEffect:Hh,useRef:Fv,useMemo:DF}=lS,LF={apiKey:"AIzaSyAWELn6lSPNa5WIjG_wFLv4nkzk1CaLxq8",authDomain:"tyre-tracker-ccbd1.firebaseapp.com",projectId:"tyre-tracker-ccbd1",storageBucket:"tyre-tracker-ccbd1.firebasestorage.app",messagingSenderId:"90986714992",appId:"1:90986714992:web:388e83080de978ec68e1b5",measurementId:"G-VEVZFGKE16"},GE=nb(LF),q4=JN(GE),Ir=ZR(GE),Fr="tyre-tracker-ccbd1",km=[{id:"white",label:"Default",bg:"bg-white",border:"border-slate-200",hover:"hover:bg-slate-50"},{id:"red",label:"Red",bg:"bg-red-50",border:"border-red-200",hover:"hover:bg-red-100"},{id:"orange",label:"Orange",bg:"bg-orange-50",border:"border-orange-200",hover:"hover:bg-orange-100"},{id:"amber",label:"Yellow",bg:"bg-amber-50",border:"border-amber-200",hover:"hover:bg-amber-100"},{id:"green",label:"Green",bg:"bg-green-50",border:"border-green-200",hover:"hover:bg-green-100"},{id:"blue",label:"Blue",bg:"bg-blue-50",border:"border-blue-200",hover:"hover:bg-blue-100"},{id:"purple",label:"Purple",bg:"bg-purple-50",border:"border-purple-200",hover:"hover:bg-purple-100"},{id:"slate",label:"Grey",bg:"bg-slate-100",border:"border-slate-300",hover:"hover:bg-slate-200"}],WE=n=>km.find(e=>e.id===n)||km[0],XE=`
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-enter {
    animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .glass-panel {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  .btn-press:active {
    transform: scale(0.97);
  }
  .drag-item {
    cursor: grab;
  }
  .drag-item:active {
    cursor: grabbing;
  }
  /* Custom Scrollbar */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
`,PF=()=>Math.random().toString(36).substr(2,9),G4=()=>"8"+Math.floor(1e7+Math.random()*9e7).toString(),MF=()=>{try{const n=window.AudioContext||window.webkitAudioContext;if(!n)return;const e=new n,t=(i,a,s)=>{const l=e.createOscillator(),c=e.createGain();l.type="sawtooth",l.frequency.value=i,l.connect(c),c.connect(e.destination),c.gain.setValueAtTime(.1,a),c.gain.exponentialRampToValueAtTime(.001,a+s),l.start(a),l.stop(a+s)},r=e.currentTime;t(150,r,.15),t(150,r+.2,.3)}catch(n){console.error("Audio error",n)}},Bm=n=>{if(!n||n.length!==4)return"Unknown";const e=parseInt(n.substring(0,2)),t=parseInt("20"+n.substring(2,4)),r=new Date,i=r.getFullYear(),a=Math.floor((r-new Date(i,0,1))/(10080*60*1e3));let s=(i-t)*52+(a-e);return s<0&&(s=0),s<52?`${s}w`:`${(s/52).toFixed(1)}y`},Fm=n=>n.startsWith("F")?"front":n.startsWith("D")?"drive":n.startsWith("T")?"tag":n.startsWith("R")&&(n.includes("S")||n==="RL"||n==="RR")?"rear_steer":n.startsWith("R")?"rear":"front",kF=n=>n.length===3&&(n.endsWith("I")||n.endsWith("O"))?n.substring(0,2):n,BF=n=>{switch(n){case"front":return"Steer Axle";case"drive":return"Drive Axle";case"tag":return"Tag Axle";case"rear_steer":return"Rear Steer Axle";case"rear":return"Rear Axle";default:return"Axle"}},Hl=n=>({FL:"Front Left",FR:"Front Right",RL:"Rear Left",RR:"Rear Right",RLO:"Rear Left Outer",RLI:"Rear Left Inner",RRO:"Rear Right Outer",RRI:"Rear Right Inner",DLO:"Drive Left Outer",DLI:"Drive Left Inner",DRO:"Drive Right Outer",DRI:"Drive Right Inner",RSL:"Rear Steer Left",RSR:"Rear Steer Right"})[n]||n,Kp=(n,e=null)=>{const[t,r]=Gt(e);return{items:DF(()=>{let s=[...n];return t!==null&&s.sort((l,c)=>{let f=l[t.key],d=c[t.key];if(t.key==="dot"){const g=_=>{if(!_||_.length!==4)return 0;const v=_.substring(0,2),A=_.substring(2,4);return parseInt(A+v)};f=g(f),d=g(d)}else f===void 0&&(f=""),d===void 0&&(d=""),typeof f=="string"&&(f=f.toLowerCase()),typeof d=="string"&&(d=d.toLowerCase());return f<d?t.direction==="ascending"?-1:1:f>d?t.direction==="ascending"?1:-1:0}),s},[n,t]),requestSort:s=>{let l="ascending";t&&t.key===s&&t.direction==="ascending"&&(l="descending"),r({key:s,direction:l})},sortConfig:t}},Rr=({label:n,sortKey:e,requestSort:t,sortConfig:r,className:i=""})=>{const a=r?.key===e;return D.jsx("th",{className:`p-3 cursor-pointer hover:bg-blue-50 transition select-none text-slate-500 font-semibold text-xs uppercase tracking-wider ${i}`,onClick:()=>t(e),children:D.jsxs("div",{className:"flex items-center gap-1 group",children:[n,D.jsx("span",{className:`transition-opacity duration-200 ${a?"opacity-100 text-blue-600":"opacity-0 group-hover:opacity-50"}`,children:D.jsx(p6,{className:`w-3 h-3 ${r?.direction==="ascending"?"rotate-180":""}`})})]})})},vf=({label:n,icon:e,active:t,onClick:r,badge:i})=>D.jsxs("button",{onClick:r,className:`
      relative flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all duration-200 font-medium text-sm whitespace-nowrap btn-press
      ${t?"bg-blue-600 text-white shadow-lg shadow-blue-900/20 translate-y-[-1px]":"text-slate-400 hover:text-white hover:bg-slate-800"}
    `,children:[D.jsxs("div",{className:"relative",children:[D.jsx(e,{className:`w-4 h-4 ${t?"animate-pulse":""}`}),i>0&&D.jsx("span",{className:"absolute -top-2.5 -right-2.5 bg-red-500 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full border-2 border-slate-900 animate-bounce",children:i})]}),D.jsx("span",{className:"hidden md:inline",children:n})]}),jv=({num:n,label:e,active:t})=>D.jsxs("div",{className:`flex items-center gap-3 transition-colors duration-300 ${t?"text-blue-600":"text-slate-300"}`,children:[D.jsx("div",{className:`
      w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 transition-all duration-300
      ${t?"border-blue-600 bg-blue-50 scale-110 shadow-sm":"border-slate-200"}
    `,children:n}),D.jsx("span",{className:"hidden md:inline font-medium text-sm tracking-tight",children:e})]});function YE({vehicle:n,retorques:e=[],mode:t="view",onSelect:r}){const{layout:i,wheels:a}=n,s=(f,d)=>{const g=a[f],_=e.find(A=>A.vehicleReg===n.reg&&A.positionId===f&&A.status==="Pending"),v=t==="select"||t==="view"&&g;return D.jsxs("button",{onClick:v?()=>r({type:"single",pos:f}):void 0,className:`
          relative flex flex-col items-center p-2 rounded-xl border-2 transition-all duration-300 w-24 group
          ${v?"cursor-pointer hover:scale-105 active:scale-95":""}
          ${g?"bg-white border-slate-300 shadow-sm hover:border-blue-500 hover:shadow-md":"bg-slate-50 border-dashed border-slate-200 hover:border-slate-300"}
          ${_?"ring-2 ring-amber-500 ring-offset-2 animate-pulse":""}
        `,children:[D.jsx("div",{className:`
          w-10 h-14 rounded-md mb-2 border-x-4 transition-all duration-300
          ${g?"bg-slate-800 border-slate-700 group-hover:bg-slate-700":"bg-slate-200 border-slate-300 opacity-50"}
        `}),D.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:d}),t==="view"&&_&&D.jsx("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white rounded-full p-1.5 shadow-lg animate-bounce",children:D.jsx(w6,{className:"w-3 h-3"})})]},f)},l=(f,d=[])=>D.jsxs("div",{className:"flex justify-between items-center w-full max-w-lg mx-auto my-6 relative px-6 group/axle",children:[D.jsx("div",{className:"h-3 bg-slate-200 absolute w-full top-1/2 -translate-y-1/2 -z-10 rounded-full left-0 shadow-inner group-hover/axle:bg-slate-300 transition-colors"}),t==="select"&&d.length>0&&D.jsx("button",{onClick:()=>r({type:"axle",positions:d}),className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 bg-slate-100 hover:bg-blue-600 hover:text-white p-1 rounded-full shadow border text-slate-400 transition-all scale-0 group-hover/axle:scale-100",title:"Fit entire axle",children:D.jsx(M9,{className:"w-4 h-4"})}),f]}),c=(f,d,g)=>D.jsxs("div",{className:"flex gap-2 items-center relative group/dual",children:[s(f,"Outer"),t==="select"&&D.jsx("button",{onClick:()=>r({type:"dual",positions:[d,f]}),className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 bg-white hover:bg-blue-600 hover:text-white p-1 rounded-full shadow border text-slate-400 transition-all opacity-0 group-hover/dual:opacity-100",title:"Fit both tyres",children:D.jsx(B9,{className:"w-3 h-3"})}),s(d,"Inner")]},g);return D.jsxs("div",{className:"flex flex-col items-center py-8 select-none transform scale-[0.6] sm:scale-100 origin-top -my-10 sm:my-0",children:[D.jsxs("div",{className:"mb-6 text-slate-300 flex flex-col items-center",children:[D.jsx("div",{className:"w-0 h-0 border-l-[24px] border-l-transparent border-r-[24px] border-r-transparent border-b-[36px] border-b-slate-200 drop-shadow-sm"}),D.jsx("span",{className:"text-xs font-bold mt-2 tracking-widest opacity-50",children:"FRONT"})]}),l([s("FL","Front L"),s("FR","Front R")],["FL","FR"]),D.jsx("div",{className:"h-24 border-l-4 border-slate-200 border-dashed my-2 opacity-50"}),i==="2-axle-dual"&&l([c("RLO","RLI","left"),c("RRO","RRI","right")],["RLO","RLI","RRI","RRO"]),i==="2-axle-single"&&l([s("RL","Rear L"),s("RR","Rear R")],["RL","RR"]),i==="3-axle-rigid"&&D.jsxs(D.Fragment,{children:[l([c("DLO","DLI","dl"),c("DRO","DRI","dr")],["DLO","DLI","DRI","DRO"]),D.jsx("div",{className:"h-12 border-l-4 border-slate-200 border-dashed my-2 opacity-50"}),l([s("TL","Tag L"),s("TR","Tag R")],["TL","TR"])]}),i==="3-axle-rear-steer"&&D.jsxs(D.Fragment,{children:[l([c("DLO","DLI","dl"),c("DRO","DRI","dr")],["DLO","DLI","DRI","DRO"]),l([s("RSL","R-Steer L"),s("RSR","R-Steer R")],["RSL","RSR"])]})]})}const FF=[{id:"t1",brand:"Michelin",model:"X Multi Z",size:"295/80R22.5",barcode:"88239101",status:"In Stock",dot:"1023",isUsed:!1},{id:"t2",brand:"Bridgestone",model:"R-Steer",size:"295/80R22.5",barcode:"88239103",status:"In Stock",dot:"4522",isUsed:!1},{id:"t3",brand:"Michelin",model:"X Coach",size:"295/80R22.5",barcode:"88239105",status:"In Stock",dot:"0224",isUsed:!1},{id:"t4",brand:"Continental",model:"VanContact",size:"235/65R16",barcode:"88239106",status:"In Stock",dot:"2023",isUsed:!1},{id:"t5",brand:"Goodyear",model:"Cargo Vector",size:"235/65R16",barcode:"88239107",status:"In Stock",dot:"1523",isUsed:!1}],jF=[{id:"v1",reg:"K26 CLN",type:"Luton Box Van",layout:"2-axle-dual",specs:{front:{torque:180,pressure:55},rear:{torque:180,pressure:60}},wheels:{},order:0},{id:"v2",reg:"L10 NC",type:"2-Axle Coach",layout:"2-axle-dual",specs:{front:{torque:600,pressure:120},rear:{torque:600,pressure:115}},wheels:{},order:1},{id:"v3",reg:"L1 CLN",type:"Tri-Axle Coach",layout:"3-axle-rear-steer",specs:{front:{torque:650,pressure:125},drive:{torque:600,pressure:115},rear_steer:{torque:650,pressure:125}},wheels:{},order:2}],UF=[{id:"s1",name:"295/80R22.5"},{id:"s2",name:"315/80R22.5"},{id:"s3",name:"385/65R22.5"},{id:"s4",name:"235/65R16"},{id:"s5",name:"215/75R16"},{id:"s6",name:"205/65R16"}],VF=[{id:"u1",initials:"ADM",pin:"0000",role:"Admin"},{id:"u2",initials:"MGR",pin:"1111",role:"Manager"},{id:"u3",initials:"FIT",pin:"2222",role:"Fitter"}];function zF(){const[n,e]=Gt(null),[t,r]=Gt(null),[i,a]=Gt("fit"),[s,l]=Gt(null),[c,f]=Gt([]),[d,g]=Gt([]),[_,v]=Gt([]),[A,S]=Gt([]),[I,N]=Gt([]),[V,q]=Gt([]),[U,re]=Gt([]),[ue,z]=Gt(new Set);Hh(()=>((async()=>{let Ke=3;for(;Ke>0;)try{await kT(q4);return}catch(Q){console.error("Auth Failed, retrying...",Q),Ke--,Ke===0&&l("Unable to connect to database. Please check your connection."),await new Promise(et=>setTimeout(et,1e3))}})(),zT(q4,Ke=>{e(Ke),Ke&&l(null)})),[]),Hh(()=>{if(!n)return;const ke=$e=>Ls(Ir,"artifacts",Fr,"public","data",$e),Ke=df(ke("inventory"),$e=>f($e.docs.map(ot=>({...ot.data(),id:ot.id}))),$e=>console.error("Inv error",$e)),Q=df(ke("vehicles"),$e=>{const ot=$e.docs.map(ft=>({...ft.data(),id:ft.id}));ot.sort((ft,Vt)=>(ft.order??0)-(Vt.order??0)),g(ot)},$e=>console.error("Veh error",$e)),et=df(ke("retorques"),$e=>v($e.docs.map(ot=>({...ot.data(),id:ot.id})).sort((ot,ft)=>new Date(ot.dueDate)-new Date(ft.dueDate))),$e=>console.error("Ret error",$e)),wt=df(ke("sizes"),$e=>S($e.docs.map(ot=>({...ot.data(),id:ot.id}))),$e=>console.error("Sizes error",$e)),ct=df(ke("history"),$e=>N($e.docs.map(ot=>({...ot.data(),id:ot.id})).sort((ot,ft)=>new Date(ft.fitDate)-new Date(ot.fitDate))),$e=>console.error("Hist error",$e)),Fe=df(ke("users"),$e=>re($e.docs.map(ot=>({...ot.data(),id:ot.id}))),$e=>console.error("Users error",$e)),rt=df(ke("removed_tyres"),$e=>q($e.docs.map(ot=>({...ot.data(),id:ot.id})).sort((ot,ft)=>new Date(ft.removedDate)-new Date(ot.removedDate))),$e=>console.error("Removed error",$e));return()=>{Ke(),Q(),et(),wt(),ct(),Fe(),rt()}},[n]);const R=async()=>{"Notification"in window?await Notification.requestPermission()==="granted"&&new Notification("Notifications Enabled",{body:"You will be alerted when retorques are due.",icon:"/pwa-192x192.png"}):alert("This browser does not support web notifications.")};Hh(()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const ke=()=>{const Q=new Date,et=new Set(ue);let wt=!1;_.forEach(ct=>{if(ct.status==="Pending"&&!et.has(ct.id)){const Fe=new Date(ct.dueDate);if(Q>=Fe){try{new Notification(`Retorque Due: ${ct.vehicleReg} (${ct.reason})`,{body:`${ct.type} - ${Hl(ct.positionId)} is due.
Fitter: ${ct.fitter}`,icon:"/pwa-192x192.png",requireInteraction:!0})}catch(rt){console.log("Notification trigger error:",rt)}et.add(ct.id),wt=!0}}}),wt&&z(et)},Ke=setInterval(ke,6e4);return ke(),()=>clearInterval(Ke)},[_,ue]);const P=async()=>{if(!confirm("This will populate the database with demo data. Continue?"))return;const ke=[],Ke=Q=>Ls(Ir,"artifacts",Fr,"public","data",Q);FF.forEach(Q=>ke.push(Cu(Ke("inventory"),Q))),jF.forEach(Q=>ke.push(Cu(Ke("vehicles"),Q))),UF.forEach(Q=>ke.push(Cu(Ke("sizes"),Q))),VF.forEach(Q=>ke.push(Cu(Ke("users"),Q))),await Promise.all(ke),alert("Database seeded!")},H=async(ke,Ke)=>{const Q=[],et=Ls(Ir,"artifacts",Fr,"public","data","inventory");for(let wt=0;wt<Ke;wt++)Q.push(Cu(et,{...ke,barcode:G4(),status:"In Stock"}));await Promise.all(Q)},O=async(ke,Ke)=>{const Q=G4(),et={brand:ke.brand,model:ke.model,size:ke.size,dot:ke.dot,isUsed:!0,treadDepth:Ke,barcode:Q,status:"In Stock",prevBarcode:ke.barcode};await Cu(Ls(Ir,"artifacts",Fr,"public","data","inventory"),et),await hf(ya(Ir,"artifacts",Fr,"public","data","removed_tyres",ke.id)),alert(`Tyre restocked with new barcode: ${Q}`)},k=async ke=>{window.prompt("Type 'DELETE' to confirm removing this record permanently.")==="DELETE"&&await hf(ya(Ir,"artifacts",Fr,"public","data","inventory",ke))},j=async ke=>{const Ke=d.reduce((Q,et)=>Math.max(Q,et.order||0),-1);await Cu(Ls(Ir,"artifacts",Fr,"public","data","vehicles"),{...ke,wheels:{},order:Ke+1})},ce=async ke=>{const{id:Ke,...Q}=ke;await M0(ya(Ir,"artifacts",Fr,"public","data","vehicles",Ke),Q)},xe=async ke=>{const Ke=ke.map((Q,et)=>Q.order!==et?M0(ya(Ir,"artifacts",Fr,"public","data","vehicles",Q.id),{order:et},{merge:!0}):Promise.resolve());await Promise.all(Ke)},te=async ke=>{window.prompt("Type 'DELETE' to confirm removing this vehicle permanently.")==="DELETE"&&await hf(ya(Ir,"artifacts",Fr,"public","data","vehicles",ke))},he=async ke=>{ke&&await Cu(Ls(Ir,"artifacts",Fr,"public","data","sizes"),{name:ke})},pe=async ke=>{window.confirm("Remove this size?")&&await hf(ya(Ir,"artifacts",Fr,"public","data","sizes",ke))},Ce=async ke=>{await Cu(Ls(Ir,"artifacts",Fr,"public","data","users"),ke)},We=async ke=>{window.confirm("Remove this user?")&&await hf(ya(Ir,"artifacts",Fr,"public","data","users",ke))},Z=async ke=>{const Ke=ya(Ir,"artifacts",Fr,"public","data","retorques",ke);await M0(Ke,{status:"Completed",completedDate:new Date().toISOString()},{merge:!0})},F=async()=>{if(window.confirm("DANGER: This will delete ALL Inventory, Retorque Tasks, History Logs, and Removed Tyres. Vehicles and Users will be kept. Are you sure?")){const ke=["inventory","retorques","history","removed_tyres"],Ke=async Q=>{const et=Ls(Ir,"artifacts",Fr,"public","data",Q),ct=(await jx(et)).docs.map(Fe=>hf(Fe.ref));await Promise.all(ct)};try{if(await Promise.all(ke.map(Q=>Ke(Q))),window.confirm("Do you also want to remove currently fitted tyres from ALL vehicles? (Recommended for a clean start)")){const Q=Ls(Ir,"artifacts",Fr,"public","data","vehicles"),wt=(await jx(Q)).docs.map(ct=>M0(ct.ref,{wheels:{}},{merge:!0}));await Promise.all(wt)}alert("Operational data wiped successfully.")}catch(Q){console.error("Wipe failed",Q),alert("Failed to wipe some data. Check console.")}}},$=async ke=>{try{const Ke=c9(Ir),Q={},et=[];for(const Fe of ke){const{vehicle:rt,positionId:$e,newTyre:ot,fitDateStr:ft,fitterInitials:Vt,isRefit:Qt,refitReason:Bt}=Fe,sn=ya(Ir,"artifacts",Fr,"public","data","vehicles",rt.id);Q[rt.id]||(Q[rt.id]={...rt.wheels});const Nt=Q[rt.id][$e];if(Nt&&Nt.id){const gt=ya(Ls(Ir,"artifacts",Fr,"public","data","removed_tyres"));Ke.set(gt,{...Nt,removedDate:ft,removedFrom:rt.reg,removedPosition:$e});const tr=ya(Ir,"artifacts",Fr,"public","data","inventory",Nt.id);Ke.delete(tr)}let ht=ot;if(Qt)ht={...Nt,dateFitted:ft,fitter:Vt,id:Nt?.id||PF(),barcode:Nt?.barcode||"LEGACY",brand:Nt?.brand||"Legacy",model:Nt?.model||"-",size:Nt?.size||"-",dot:Nt?.dot||""};else{ht={...ot,dateFitted:ft,fitter:Vt,vehicleId:rt.id,positionId:$e,vehicleReg:rt.reg};const gt=ya(Ir,"artifacts",Fr,"public","data","inventory",ot.id);Ke.update(gt,{status:"Fitted",vehicleId:rt.id,positionId:$e,vehicleReg:rt.reg})}Q[rt.id][$e]=ht;const Yt=ya(Ls(Ir,"artifacts",Fr,"public","data","history"));Ke.set(Yt,{fitDate:ft,barcode:ht.barcode,brand:ht.brand,model:ht.model,size:ht.size,dot:ht.dot,vehicleReg:rt.reg,position:$e,fitter:Vt,reason:Qt?`Refit: ${Bt}`:"Tyre Fitted"})}Object.keys(Q).forEach(Fe=>{const rt=ya(Ir,"artifacts",Fr,"public","data","vehicles",Fe);Ke.update(rt,{wheels:Q[Fe]})});const wt=new Set,ct=Ls(Ir,"artifacts",Fr,"public","data","retorques");for(const Fe of ke){const{vehicle:rt,positionId:$e,fitDateStr:ot,fitterInitials:ft,isRefit:Vt,refitReason:Qt}=Fe,Bt=kF($e),sn=`${rt.id}_${Bt}`;if(!wt.has(sn)){wt.add(sn);const Nt=Fm($e),ht=rt.specs[Nt]||{torque:0},Yt=new Date(ot).getTime(),gt=Vt?`Refit: ${Qt}`:"Tyre Fitted",tr=ya(ct);Ke.set(tr,{vehicleReg:rt.reg,positionId:Bt,fitmentDate:ot,dueDate:new Date(Yt+1800*1e3).toISOString(),status:"Pending",type:"30m Check",torqueSpec:ht.torque||0,fitter:ft,reason:gt});const tn=ya(ct);Ke.set(tn,{vehicleReg:rt.reg,positionId:Bt,fitmentDate:ot,dueDate:new Date(Yt+1440*60*1e3).toISOString(),status:"Pending",type:"24h Check",torqueSpec:ht.torque||0,fitter:ft,reason:gt})}}await Ke.commit(),alert("Batch fitment complete!")}catch(Ke){console.error("Batch Error",Ke),alert("Batch fitment failed: "+Ke.message)}},ie=async(ke,Ke,Q,et,wt)=>{const ct=c.find(rt=>rt.barcode===Q&&rt.status==="In Stock");if(!ct){alert("Tyre not found!");return}const Fe=d.find(rt=>rt.id===ke);await $([{vehicle:Fe,positionId:Ke,newTyre:ct,fitDateStr:et,fitterInitials:wt,isRefit:!1}])},fe=async(ke,Ke,Q,et,wt)=>{const ct=d.find(Fe=>Fe.id===ke);await $([{vehicle:ct,positionId:Ke,newTyre:null,fitDateStr:et,fitterInitials:wt,isRefit:!0,refitReason:Q}])},de=async ke=>{confirm("Permanently dispose of this tyre record?")&&await hf(ya(Ir,"artifacts",Fr,"public","data","removed_tyres",ke))},ye=_.filter(ke=>ke.status==="Pending").length;if(s)return D.jsx("div",{className:"text-center p-10 text-red-500",children:s});if(!n)return D.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-500",children:"Connecting..."});if(!t)return D.jsx(HF,{users:U,onLogin:r});const Le=["Admin","Manager"].includes(t.role),Ne=["Admin","Manager"].includes(t.role),ze=["Admin","Fitter"].includes(t.role),nt=t.role==="Admin",ut=t.role==="Admin";return D.jsxs(D.Fragment,{children:[D.jsx("style",{children:XE}),D.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900",children:[D.jsxs("div",{className:"bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50",children:[D.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[D.jsxs("h1",{className:"text-xl font-bold flex items-center gap-3",children:[D.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:D.jsx(Pp,{className:"w-6 h-6 text-white"})}),"CLion Workshop ",D.jsx("span",{className:"text-blue-400 font-light",children:"Tyre Tracker"})]}),D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsxs("div",{className:"text-right hidden md:block",children:[D.jsx("div",{className:"text-sm font-bold text-white",children:t.initials}),D.jsx("div",{className:"text-xs text-slate-400 uppercase",children:t.role})]}),D.jsx("button",{onClick:()=>r(null),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",title:"Logout",children:D.jsx(V9,{className:"w-5 h-5"})})]})]}),D.jsx("div",{className:"max-w-6xl mx-auto mt-4",children:D.jsxs("nav",{className:"flex bg-slate-800 p-1 rounded-lg overflow-x-auto",children:[D.jsx(vf,{label:"Vehicles",icon:Pp,active:i==="vehicles",onClick:()=>a("vehicles")}),ze&&D.jsx(vf,{label:"Fit Tyre",icon:w6,active:i==="fit",onClick:()=>a("fit")}),D.jsx(vf,{label:"Inventory",icon:C9,active:i==="inventory",onClick:()=>a("inventory")}),D.jsx(vf,{label:"Retorques",icon:_6,active:i==="retorque",onClick:()=>a("retorque"),badge:ye}),Ne&&D.jsx(vf,{label:"Removed",icon:Zh,active:i==="removed",onClick:()=>a("removed")}),Ne&&D.jsx(vf,{label:"Reports",icon:v6,active:i==="reports",onClick:()=>a("reports")}),nt&&D.jsx(vf,{label:"Settings",icon:Ry,active:i==="settings",onClick:()=>a("settings")})]})})]}),D.jsxs("main",{className:"max-w-6xl mx-auto p-4 md:p-6 animate-enter",children:[i==="vehicles"&&D.jsx(qF,{vehicles:d,onAdd:j,onUpdate:ce,onDelete:te,onReorder:xe,canReorder:ut,retorqueRegister:_}),i==="fit"&&ze&&D.jsx(GF,{vehicles:d,inventory:c,onFit:ie,onRefit:fe,onReorder:xe,canReorder:ut,currentUser:t,onFitBatch:$}),i==="inventory"&&D.jsx(WF,{inventory:c,onAddBatch:H,onDelete:k,availableSizes:A,canAdd:Le}),i==="retorque"&&D.jsx(XF,{tasks:_,onComplete:Z}),i==="removed"&&Ne&&D.jsx(YF,{removedTyres:V,onDispose:de,onRestock:O}),i==="reports"&&Ne&&D.jsx(KF,{history:I,retorques:_}),i==="settings"&&nt&&D.jsx($F,{sizes:A,onAddSize:he,onRemoveSize:pe,onSeed:P,users:U,onAddUser:Ce,onRemoveUser:We,onRequestNotifications:R,onWipe:F})]})]})]})}function HF({users:n,onLogin:e}){const[t,r]=Gt(""),[i,a]=Gt(""),[s,l]=Gt(""),[c,f]=Gt(0),[d,g]=Gt(!1),_=A=>{if(A.preventDefault(),n.length===0&&t==="ADM"&&i==="0000"){e({initials:"ADM",role:"Admin"});return}const S=n.find(I=>I.initials.toUpperCase()===t.toUpperCase()&&I.pin===i);S?e(S):l("Invalid Credentials")},v=()=>{MF();const A=c+1;f(A),A===10&&(g(!0),f(0))};return D.jsxs(D.Fragment,{children:[D.jsx("style",{children:XE}),D.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:[d&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 p-4 animate-enter",onClick:()=>g(!1),children:D.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-sm text-center border-4 border-red-500 transform scale-110",children:[D.jsx("div",{className:"text-6xl mb-4",children:""}),D.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-2 uppercase",children:"Message for Dick"}),D.jsx("p",{className:"text-xl font-bold text-red-600 leading-tight",children:'"Put the crayons down and ask for help!"'}),D.jsx("button",{onClick:A=>{A.stopPropagation(),g(!1)},className:"mt-6 bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors",children:"Okay, Sorry"})]})}),D.jsxs("div",{className:"glass-panel p-8 rounded-2xl shadow-2xl w-full max-w-md animate-enter",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("div",{onClick:v,className:"bg-blue-600 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/30 cursor-pointer active:scale-90 transition-transform select-none",children:D.jsx(Pp,{className:"w-8 h-8 text-white"})}),D.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"CLion Workshop"}),D.jsx("p",{className:"text-slate-500 font-medium",children:"Tyre Tracking System"})]}),D.jsxs("form",{onSubmit:_,className:"space-y-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase tracking-wide",children:"Initials"}),D.jsxs("div",{className:"relative group",children:[D.jsx(iO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),D.jsx("input",{autoFocus:!0,className:"w-full pl-10 p-3 border-2 border-slate-200 rounded-xl bg-slate-50 uppercase font-bold tracking-widest text-center focus:border-blue-500 focus:outline-none focus:bg-white transition-all",maxLength:3,value:t,onChange:A=>r(A.target.value.toUpperCase())})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase tracking-wide",children:"PIN"}),D.jsxs("div",{className:"relative group",children:[D.jsx(j9,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),D.jsx("input",{type:"password",className:"w-full pl-10 p-3 border-2 border-slate-200 rounded-xl bg-slate-50 text-center font-bold tracking-widest focus:border-blue-500 focus:outline-none focus:bg-white transition-all",maxLength:4,value:i,onChange:A=>a(A.target.value)})]})]}),s&&D.jsx("div",{className:"text-red-500 text-sm text-center font-bold bg-red-50 p-2 rounded-lg",children:s}),D.jsx("button",{className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 hover:scale-[1.02] active:scale-[0.98] transition-all",children:"LOGIN"})]})]})]})]})}function qF({vehicles:n,onAdd:e,onUpdate:t,onDelete:r,onReorder:i,canReorder:a,retorqueRegister:s}){const[l,c]=Gt(null),[f,d]=Gt(null),[g,_]=Gt(!1),[v,A]=Gt(null),[S,I]=Gt({reg:"",type:"Van",layout:"2-axle-dual",color:"white"}),[N,V]=Gt(!1),[q,U]=Gt(n),[re,ue]=Gt(null);Hh(()=>{re===null&&U(n)},[n,re]);const z=te=>{const he={torque:600,pressure:120},pe={torque:180,pressure:55};return te.includes("van")||te==="2-axle-single"?{front:pe,rear:pe}:te==="3-axle-rigid"?{front:he,drive:he,tag:he}:te==="3-axle-rear-steer"?{front:he,drive:he,rear_steer:he}:{front:he,rear:he}},R=te=>{te.preventDefault(),e({...S,specs:z(S.layout)}),_(!1),I({reg:"",type:"Van",layout:"2-axle-dual",color:"white"})},P=te=>{A({...te}),c(null)},H=()=>{t(v),A(null)},O=(te,he,pe)=>{A({...v,specs:{...v.specs,[te]:{...v.specs[te],[he]:parseInt(pe)||0}}})},k=te=>ue(te),j=te=>{if(re===null||re===te)return;const he=[...q],pe=he[re];he.splice(re,1),he.splice(te,0,pe),ue(te),U(he)},ce=()=>{ue(null),i&&i(q)},xe=l&&f?{id:f,axleGroup:Fm(f),spec:l.specs[Fm(f)],tyre:l.wheels[f]}:null;return D.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[D.jsxs("div",{className:"md:col-span-1 space-y-4",children:[D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Fleet List"}),D.jsxs("div",{className:"flex gap-2",children:[a&&D.jsx("button",{onClick:()=>V(!N),className:`p-2 rounded-lg transition ${N?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-500 hover:text-slate-700"}`,title:"Toggle Reorder Mode",children:D.jsx(p6,{className:"w-5 h-5"})}),D.jsx("button",{onClick:()=>_(!g),className:"p-2 bg-blue-100 text-blue-700 rounded-lg btn-press",children:D.jsx(m6,{className:"w-5 h-5"})})]})]}),g&&D.jsxs("form",{onSubmit:R,className:"bg-white p-4 rounded-xl shadow space-y-3 animate-enter",children:[D.jsx("input",{required:!0,placeholder:"Reg",className:"w-full p-2 border rounded",value:S.reg,onChange:te=>I({...S,reg:te.target.value})}),D.jsxs("select",{className:"w-full p-2 border rounded",value:S.layout,onChange:te=>I({...S,layout:te.target.value}),children:[D.jsx("option",{value:"2-axle-dual",children:"2 Axle (Dual Rear)"}),D.jsx("option",{value:"3-axle-rear-steer",children:"3 Axle (Rear Steer)"}),D.jsx("option",{value:"3-axle-rigid",children:"3 Axle Rigid"}),D.jsx("option",{value:"2-axle-single",children:"2 Axle (Single Rear)"})]}),D.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded",children:"Save"})]}),D.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:q.map((te,he)=>{const pe=WE(te.color||"white");return D.jsxs("div",{draggable:N,onDragStart:Ce=>k(he),onDragEnter:Ce=>j(he),onDragEnd:ce,onDragOver:Ce=>Ce.preventDefault(),onClick:()=>{N||(c(te),d(null),A(null))},className:`p-4 cursor-pointer flex justify-between items-center transition-all duration-200 border-l-4 ${l?.id===te.id?"border-blue-500 shadow-md":"border-transparent"} ${pe.bg} ${pe.hover} ${N?"drag-item":""}`,children:[D.jsxs("div",{children:[D.jsx("div",{className:"font-bold text-lg text-slate-800",children:te.reg}),D.jsx("div",{className:"text-xs text-slate-500",children:te.type})]}),D.jsx("div",{className:"flex gap-1 items-center",children:N?D.jsx("div",{className:"text-slate-400 cursor-grab active:cursor-grabbing p-2",children:D.jsx(O9,{className:"w-5 h-5"})}):D.jsxs(D.Fragment,{children:[D.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),P(te)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-100/50 rounded-full transition-all",children:D.jsx(Ry,{className:"w-5 h-5"})}),D.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),r(te.id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-100/50 rounded-full transition-all",children:D.jsx(Zh,{className:"w-5 h-5"})})]})})]},te.id)})})]}),D.jsx("div",{className:"md:col-span-2 relative",children:v?D.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col animate-enter",children:[D.jsxs("div",{className:"flex justify-between mb-4",children:[D.jsxs("h2",{className:"text-xl font-bold",children:["Configure ",v.reg]}),D.jsx("button",{onClick:()=>A(null),children:D.jsx(Mp,{className:"w-6 h-6 text-slate-400"})})]}),D.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1",children:[D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsx("input",{className:"border p-2 rounded",value:v.reg,onChange:te=>A({...v,reg:te.target.value})}),D.jsx("input",{className:"border p-2 rounded",value:v.type,onChange:te=>A({...v,type:te.target.value})})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Color Tag"}),D.jsx("div",{className:"flex gap-2 flex-wrap",children:km.map(te=>D.jsx("button",{type:"button",onClick:()=>A({...v,color:te.id}),className:`w-8 h-8 rounded-full border-2 transition-all ${te.bg} ${v.color===te.id?"border-blue-600 scale-110 shadow":"border-transparent hover:scale-105"}`,title:te.label},te.id))})]}),D.jsxs("div",{className:"space-y-4 border-t pt-4",children:[D.jsx("h4",{className:"font-bold text-slate-700",children:"Axle Specs"}),Object.keys(v.specs).map(te=>D.jsxs("div",{className:"bg-slate-50 p-4 rounded border",children:[D.jsx("h4",{className:"font-bold text-xs uppercase mb-2",children:BF(te)}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"text-xs text-slate-500",children:"Torque (Nm)"}),D.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:v.specs[te].torque,onChange:he=>O(te,"torque",he.target.value)})]}),D.jsxs("div",{children:[D.jsx("label",{className:"text-xs text-slate-500",children:"Pressure (PSI)"}),D.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:v.specs[te].pressure,onChange:he=>O(te,"pressure",he.target.value)})]})]})]},te))]})]}),D.jsx("div",{className:"mt-4 pt-4 border-t text-right",children:D.jsxs("button",{onClick:H,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2 ml-auto btn-press",children:[D.jsx(K9,{className:"w-4 h-4"})," Save Changes"]})})]}):l?D.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col animate-enter",children:[D.jsxs("div",{className:"mb-4 border-b pb-4 flex justify-between items-start",children:[D.jsxs("div",{children:[D.jsx("h2",{className:"text-2xl font-black text-slate-800",children:l.reg}),D.jsx("p",{className:"text-slate-500 font-medium",children:l.type})]}),D.jsx("div",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded",children:"View Mode"})]}),D.jsxs("div",{className:"flex-1 relative min-h-[400px]",children:[D.jsx(YE,{vehicle:l,retorques:s,mode:"view",onSelect:te=>d(te.type==="single"?te.pos:null)}),xe&&D.jsxs("div",{className:"absolute top-10 right-0 md:right-10 w-72 bg-slate-900/95 text-white p-5 rounded-xl shadow-2xl z-20 backdrop-blur-md animate-enter border border-slate-700",children:[D.jsxs("div",{className:"flex justify-between mb-4",children:[D.jsx("h3",{className:"font-bold text-lg text-blue-400",children:Hl(xe.id)}),D.jsx("button",{onClick:()=>d(null),className:"hover:text-red-400 transition-colors",children:D.jsx(Mp,{className:"w-5 h-5"})})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center grid grid-cols-2 gap-4 border border-slate-700",children:[D.jsxs("div",{children:[D.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Torque"}),D.jsx("div",{className:"font-bold text-xl font-mono",children:xe.spec?.torque})]}),D.jsxs("div",{children:[D.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Pressure"}),D.jsx("div",{className:"font-bold text-xl font-mono",children:xe.spec?.pressure})]})]}),xe.tyre?D.jsxs("div",{className:"text-sm space-y-1",children:[D.jsx("div",{className:"font-bold border-b border-slate-700 pb-2 mb-2 text-xs uppercase tracking-wider text-slate-400",children:"FITTED TYRE"}),D.jsx("div",{className:"font-bold text-lg",children:xe.tyre.brand}),D.jsx("div",{className:"text-slate-300",children:xe.tyre.model}),D.jsx("div",{className:"text-slate-400 text-xs",children:xe.tyre.size}),D.jsx("div",{className:"bg-black/30 p-2 rounded text-center font-mono text-xs mt-3 tracking-widest text-emerald-400 border border-emerald-900/50",children:xe.tyre.barcode}),D.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4 text-xs pt-2 border-t border-slate-800",children:[D.jsxs("div",{children:[D.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Age"}),D.jsx("span",{className:"text-blue-300 font-bold",children:Bm(xe.tyre.dot)})]}),D.jsxs("div",{children:[D.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Fitter"}),D.jsx("span",{className:"text-white font-bold",children:xe.tyre.fitter||"-"})]}),D.jsxs("div",{className:"col-span-2 mt-1",children:[D.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Date Fitted"}),D.jsxs("span",{className:"text-emerald-400 font-medium flex items-center gap-1",children:[D.jsx(w9,{className:"w-3 h-3"})," ",xe.tyre.dateFitted?new Date(xe.tyre.dateFitted).toLocaleString([],{dateStyle:"short",timeStyle:"short"}):"N/A"]})]})]})]}):D.jsx("div",{className:"text-center text-slate-500 py-6 border-2 border-dashed border-slate-700 rounded-lg",children:"Empty Position"})]})]})]})]}):D.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 bg-slate-100/50 rounded-xl border-2 border-dashed border-slate-200 p-10",children:[D.jsx(Pp,{className:"w-16 h-16 mb-4 opacity-50"}),D.jsx("p",{children:"Select a vehicle from the list to view details."})]})})]})}function GF({vehicles:n,inventory:e,onFitBatch:t,currentUser:r}){const[i,a]=Gt(1),[s,l]=Gt(null),[c,f]=Gt([]),[d,g]=Gt(0),[_,v]=Gt([]),[A,S]=Gt("Scan"),[I,N]=Gt(""),[V,q]=Gt("Brake Work"),[U,re]=Gt(""),[ue,z]=Gt(!1),R=Fv(null),P=Fv(null),H=Fv(null),[O,k]=Gt(r.initials),[j,ce]=Gt(new Date().toISOString().slice(0,16)),[xe,te]=Gt(""),he=n.filter(Z=>Z.reg.toUpperCase().includes(xe.toUpperCase())),pe=Z=>{f(Z),g(0),v([]),a(3)},Ce=()=>{if(!navigator.mediaDevices?.getUserMedia){alert("Camera access not available. Please type manually.");return}z(!0)};Hh(()=>{let Z=null,F=null,$=!0;if(ue)if("BarcodeDetector"in window){const fe=new window.BarcodeDetector({formats:["code_128","ean_13","code_39"]});navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(de=>{Z=de,R.current&&(R.current.srcObject=Z,R.current.play(),F=setInterval(async()=>{try{if(R.current&&R.current.readyState===4){const ye=await fe.detect(R.current);ye.length>0&&(N(ye[0].rawValue),z(!1))}}catch{}},200))}).catch(()=>z(!1))}else{const fe=new IF;P.current=fe;const de={video:{facingMode:{ideal:"environment"}},audio:!1};fe.decodeFromConstraints(de,R.current,ye=>{$&&ye&&(N(ye.getText()),z(!1))}).then(ye=>{H.current=ye}).catch(()=>z(!1))}return()=>{$=!1,Z&&Z.getTracks().forEach(ie=>ie.stop()),F&&clearInterval(F),H.current&&(H.current.stop(),H.current=null),P.current&&(P.current.reset(),P.current=null)}},[ue]);const We=()=>{const Z=c[d];let F=null;if(A==="Scan"){if(!I)return;if(F=e.find(ie=>ie.barcode===I&&ie.status==="In Stock"),!F){alert("Tyre not found in stock!");return}}else if(!(V==="Other"?U:V))return;const $=[..._,{vehicle:s,positionId:Z.pos||Z,newTyre:F,fitDateStr:j,fitterInitials:O,isRefit:A==="Refit",refitReason:A==="Refit"?V==="Other"?U:V:null}];v($),N(""),d+1<c.length?g(d+1):(t($),a(1),l(null),f([]),v([]))};return D.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[D.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[D.jsx(jv,{num:1,label:"Vehicle",active:i>=1}),D.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:D.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ease-out ${i>=2?"w-full":"w-0"}`})}),D.jsx(jv,{num:2,label:"Positions",active:i>=2}),D.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:D.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ease-out ${i>=3?"w-full":"w-0"}`})}),D.jsx(jv,{num:3,label:"Scan",active:i>=3})]}),D.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-200 min-h-[400px] animate-enter",children:[i===1&&D.jsxs("div",{children:[D.jsxs("div",{className:"relative mb-4",children:[D.jsx(y6,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),D.jsx("input",{placeholder:"Search Registration...",className:"w-full pl-10 p-3 border rounded-xl bg-slate-50 focus:border-blue-500 focus:bg-white transition-colors",value:xe,onChange:Z=>te(Z.target.value)})]}),D.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2",children:he.map(Z=>{const F=WE(Z.color||"white");return D.jsxs("button",{onClick:()=>{l(Z),a(2)},className:`w-full p-2 text-left border-2 rounded-xl transition-all duration-200 btn-press h-full flex flex-col justify-between min-h-[80px] ${F.bg} ${F.border} ${F.hover} hover:shadow-md`,children:[D.jsx("div",{className:"font-bold text-base text-slate-800 leading-tight",children:Z.reg}),D.jsx("div",{className:"text-[10px] text-slate-500 mt-1 uppercase font-semibold",children:Z.type})]},Z.id)})})]}),i===2&&D.jsxs("div",{className:"text-center animate-enter",children:[D.jsx("h3",{className:"font-bold mb-6 text-lg",children:"Select Position(s) to Fit"}),D.jsx(YE,{vehicle:s,mode:"select",onSelect:Z=>{Z.type==="single"?pe([Z.pos]):Z.type==="dual"||Z.type==="axle"?pe(Z.positions):pe([Z])}}),D.jsx("button",{onClick:()=>a(1),className:"mt-8 text-slate-400 hover:text-blue-600 underline transition-colors",children:"Back to Vehicles"})]}),i===3&&D.jsxs("div",{className:"max-w-md mx-auto space-y-6 animate-enter",children:[D.jsxs("div",{className:"text-center mb-6",children:[D.jsx("h3",{className:"text-xl font-bold",children:s.reg}),D.jsxs("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-bold mt-2 inline-flex items-center gap-2",children:[D.jsxs("span",{children:["Scanning ",d+1," of ",c.length,":"]}),D.jsx("span",{className:"uppercase",children:Hl(c[d])})]})]}),D.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[D.jsx("button",{className:`flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 ${A==="Scan"?"bg-white shadow text-blue-600 scale-100":"text-slate-500 hover:text-slate-700"}`,onClick:()=>S("Scan"),children:"Fit New Tyre"}),D.jsx("button",{className:`flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 ${A==="Refit"?"bg-white shadow text-blue-600 scale-100":"text-slate-500 hover:text-slate-700"}`,onClick:()=>S("Refit"),children:"Refit Removed Tyre"})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsx("input",{type:"datetime-local",value:j,onChange:Z=>ce(Z.target.value),className:"w-full p-3 border-2 border-slate-200 rounded-lg text-sm"}),A==="Scan"?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"flex gap-2",children:[D.jsx("input",{value:I,onChange:Z=>N(Z.target.value),className:"flex-1 p-3 border-2 border-slate-200 rounded-lg font-mono text-lg",placeholder:"Scan Barcode",autoFocus:!0}),D.jsx("button",{onClick:Ce,className:"bg-slate-200 px-4 rounded-lg hover:bg-slate-300",title:"Open Camera",children:D.jsx(b9,{className:"w-6 h-6 text-slate-700"})})]}),ue&&D.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:D.jsxs("div",{className:"relative w-full max-w-sm bg-black rounded-xl overflow-hidden shadow-2xl",children:[D.jsx("video",{ref:R,className:"w-full h-auto",autoPlay:!0,muted:!0,playsInline:!0}),D.jsx("button",{onClick:()=>z(!1),className:"absolute top-4 right-4 bg-white/20 p-2 rounded-full text-white",children:D.jsx(Mp,{className:"w-6 h-6"})})]})})]}):D.jsxs("div",{className:"space-y-3",children:[D.jsx("label",{className:"block text-sm font-bold text-slate-600",children:"Reason for Removal"}),D.jsxs("select",{className:"w-full p-3 border-2 border-slate-200 rounded-lg bg-white focus:border-blue-500 focus:outline-none",value:V,onChange:Z=>q(Z.target.value),children:[D.jsx("option",{value:"Brake Work",children:"Brake Work"}),D.jsx("option",{value:"Turn on Rim",children:"Turn on Rim"}),D.jsx("option",{value:"Other",children:"Other..."})]}),V==="Other"&&D.jsx("input",{placeholder:"Specify reason...",className:"w-full p-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none",value:U,onChange:Z=>re(Z.target.value)})]}),D.jsx("input",{value:O,readOnly:!0,className:"w-full p-3 border-2 border-slate-200 rounded text-center uppercase tracking-widest font-bold bg-slate-100 text-slate-500"})]}),D.jsx("button",{onClick:We,disabled:A==="Scan"&&!I,className:"w-full bg-green-600 text-white p-4 rounded-xl font-bold hover:bg-green-700 disabled:opacity-50 shadow-lg btn-press transition-all",children:d+1===c.length?"FINISH & SUBMIT":"NEXT TYRE"})]})]})]})}function WF({inventory:n,onAddBatch:e,onDelete:t,availableSizes:r,canAdd:i}){const[a,s]=Gt({brand:"",model:"",size:r[0]?.name||"",qty:1,dot:"",isUsed:!1,treadDepth:""}),[l,c]=Gt(""),[f,d]=Gt(null),[g,_]=Gt("All");Hh(()=>{!a.size&&r.length>0&&s(U=>({...U,size:r[0].name}))},[r]);const{items:v,requestSort:A,sortConfig:S}=Kp(n.filter(U=>{const re=(U.barcode||"").includes(l)||(U.brand||"").toLowerCase().includes(l.toLowerCase())||(U.size||"").includes(l),ue=g==="All"?!0:g==="Fitted"?U.status==="Fitted":U.status==="In Stock";return re&&ue})),I=U=>{U.preventDefault(),e({brand:a.brand,model:a.model,size:a.size||r[0]?.name,dot:a.dot,isUsed:a.isUsed,treadDepth:a.isUsed?a.treadDepth:null},parseInt(a.qty)),s({...a,qty:1,dot:"",isUsed:!1,treadDepth:""})},N=U=>{const re={0:"000110100",1:"100100001",2:"001100001",3:"101100000",4:"000110001",5:"100110000",6:"001110000",7:"000100101",8:"100100100",9:"001100100","*":"010010100"},ue=`*${U}*`;let z="",R=0;const P=80,H=2,O=5;for(let k of ue){const j=re[k];if(j){for(let ce=0;ce<9;ce++){const te=j[ce]==="1"?O:H;ce%2===0&&(z+=`<rect x="${R}" y="0" width="${te}" height="${P}" fill="black"/>`),R+=te}R+=H}}return`<svg viewBox="0 0 ${R} ${P}" preserveAspectRatio="none" style="width: 100%; height: 100%;">${z}</svg>`},V=()=>{if(!f)return;const U=window.open("","_blank","width=500,height=700");if(!U){alert("Please allow popups to print labels.");return}const re=N(f.barcode),ue=`
      <html>
        <head>
          <title>Print Label - ${f.barcode}</title>
          <style>
             /* Physical Paper Size: 60mm Width x 80mm Height */
             @page { size: 60mm 80mm; margin: 0; }
             
             body { 
               margin: 0; 
               padding: 0; 
               width: 60mm; 
               height: 80mm; 
               font-family: sans-serif; 
               overflow: hidden; 
               position: relative;
             }
             
             /* Rotate content 90deg to print Landscape on the Portrait roll. */
             .label-container {
               position: absolute;
               width: 76mm;  /* 80mm height - margins */
               height: 56mm; /* 60mm width - margins */
               left: 50%;
               top: 50%;
               transform: translate(-50%, -50%) rotate(90deg);
               
               display: flex;
               flex-direction: column;
               justify-content: center;
               align-items: center;
               text-align: center;
             }

             .brand { 
               font-size: 22px; 
               font-weight: 900; 
               text-transform: uppercase; 
               line-height: 1;
               margin-bottom: 4px;
             }
             
             .model { 
               font-size: 16px; 
               font-weight: bold; 
               margin-bottom: 8px; 
               white-space: nowrap;
             }
             
             .size { 
               font-size: 32px; 
               font-weight: 900; 
               border: 4px solid black; 
               padding: 0px 14px; 
               border-radius: 8px; 
               margin: 4px 0; 
               background: white;
               line-height: 1.2;
             }
             
             .barcode-container {
               width: 95%;
               height: 25mm;
               margin-top: 4px;
             }
             
             .meta { 
               font-size: 12px; 
               font-weight: bold; 
               margin-top: 4px;
             }
          </style>
        </head>
        <body>
          <div class="label-container">
            <div class="brand">${f.brand}</div>
            <div class="model">${f.model}</div>
            <div class="size">${f.size}</div>
            <div class="barcode-container">${re}</div>
            <div class="meta">DOT: ${f.dot||"N/A"} - ${f.barcode}</div>
          </div>
        </body>
      </html>
    `;U.document.write(ue),U.document.close(),setTimeout(()=>{U.focus(),U.print()},500)},q=()=>{const U=n.filter(H=>H.status==="In Stock");if(U.length===0){alert("No in-stock tyres to report.");return}const re=new Lt({orientation:"landscape",unit:"pt",format:"a4"}),ue=new Date,z=ue.toLocaleDateString();re.setFontSize(18),re.text("Inventory Report - In Stock (Not Fitted)",40,50),re.setFontSize(10),re.text(`Generated: ${z}`,40,68),re.text(`Total In Stock: ${U.length}`,40,84);const R=U.map(H=>[H.barcode||"-",H.brand||"-",H.model||"-",H.size||"-",H.dot||"-",Bm(H.dot),H.isUsed?"Yes":"No",H.isUsed&&H.treadDepth||"-"]);FP(re,{head:[["Barcode","Brand","Model","Size","DOT","Age","Used","Tread (mm)"]],body:R,startY:105,styles:{fontSize:9},headStyles:{fillColor:[30,64,175]},alternateRowStyles:{fillColor:[248,250,252]}});const P=ue.toISOString().slice(0,10);re.save(`inventory_in_stock_${P}.pdf`)};return D.jsxs("div",{className:"space-y-8 animate-enter",children:[i&&D.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[D.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[D.jsx(m6,{className:"w-5 h-5 text-green-600"})," Batch Add Stock"]}),D.jsxs("form",{onSubmit:I,className:"grid grid-cols-2 md:grid-cols-6 gap-4 items-end",children:[D.jsx("div",{className:"col-span-1",children:D.jsx("input",{required:!0,placeholder:"Brand",className:"p-2 border rounded w-full",value:a.brand,onChange:U=>s({...a,brand:U.target.value})})}),D.jsx("div",{className:"col-span-1",children:D.jsx("input",{required:!0,placeholder:"Model",className:"p-2 border rounded w-full",value:a.model,onChange:U=>s({...a,model:U.target.value})})}),D.jsx("div",{className:"col-span-1",children:D.jsx("select",{required:!0,className:"p-2 border rounded w-full bg-white",value:a.size,onChange:U=>s({...a,size:U.target.value}),children:r.map(U=>D.jsx("option",{value:U.name,children:U.name},U.id))})}),D.jsx("div",{className:"col-span-1",children:D.jsx("input",{required:!0,placeholder:"DOT (e.g 1024)",maxLength:"4",className:"p-2 border rounded w-full",value:a.dot,onChange:U=>s({...a,dot:U.target.value})})}),D.jsx("div",{className:"col-span-1",children:D.jsx("input",{type:"number",min:"1",max:"50",required:!0,placeholder:"Qty",className:"p-2 border rounded w-full",value:a.qty,onChange:U=>s({...a,qty:U.target.value})})}),D.jsxs("div",{className:"col-span-1 flex flex-col gap-2",children:[D.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-600 cursor-pointer select-none",children:[D.jsx("input",{type:"checkbox",checked:a.isUsed,onChange:U=>s({...a,isUsed:U.target.checked})})," Used Tyre?"]}),a.isUsed&&D.jsx("input",{type:"number",placeholder:"Depth (mm)",className:"p-1 border rounded text-xs w-full animate-enter",value:a.treadDepth,onChange:U=>s({...a,treadDepth:U.target.value}),required:!0})]}),D.jsx("button",{className:"col-span-2 md:col-span-6 bg-slate-900 text-white rounded font-medium py-2 mt-2 hover:bg-slate-800 btn-press transition-all",children:"Add"})]})]}),D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[D.jsxs("div",{className:"p-4 bg-slate-50 border-b flex flex-col md:flex-row justify-between items-center gap-4",children:[D.jsx("h3",{className:"font-bold text-slate-700",children:"Serialized Inventory"}),D.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[D.jsxs("select",{value:g,onChange:U=>_(U.target.value),className:"border p-2 rounded text-sm bg-white",children:[D.jsx("option",{value:"All",children:"All Status"}),D.jsx("option",{value:"In Stock",children:"In Stock"}),D.jsx("option",{value:"Fitted",children:"Fitted"})]}),D.jsxs("div",{className:"relative flex-1 md:flex-none",children:[D.jsx(y6,{className:"absolute left-2 top-2 w-4 h-4 text-slate-400"}),D.jsx("input",{placeholder:"Search...",className:"pl-8 p-2 border rounded text-sm w-full",value:l,onChange:U=>c(U.target.value)})]}),D.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-3 py-2 rounded text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 shadow-md transition btn-press",title:"Export PDF of all in-stock tyres",children:[D.jsx(g6,{className:"w-4 h-4"}),"All Stock Report"]})]})]}),D.jsxs("table",{className:"w-full text-sm text-left",children:[D.jsx("thead",{className:"bg-slate-50",children:D.jsxs("tr",{children:[D.jsx(Rr,{label:"Barcode",sortKey:"barcode",requestSort:A,sortConfig:S}),D.jsx(Rr,{label:"Details",sortKey:"brand",requestSort:A,sortConfig:S}),D.jsx(Rr,{label:"Age",sortKey:"dot",requestSort:A,sortConfig:S}),D.jsx(Rr,{label:"Status",sortKey:"status",requestSort:A,sortConfig:S}),D.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),D.jsx("tbody",{className:"divide-y",children:v.map(U=>D.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[D.jsx("td",{className:"p-3 font-mono font-bold",children:U.barcode}),D.jsxs("td",{className:"p-3",children:[D.jsxs("div",{className:"font-medium text-slate-900",children:[U.brand," ",U.model]}),D.jsx("div",{className:"text-xs text-slate-500",children:U.size}),U.isUsed&&D.jsxs("span",{className:"inline-block bg-amber-100 text-amber-800 text-[10px] px-1 rounded border border-amber-200 mt-1",children:["Used: ",U.treadDepth,"mm"]})]}),D.jsxs("td",{className:"p-3",children:[D.jsx("div",{className:"text-xs font-bold text-slate-600",children:Bm(U.dot)}),D.jsxs("div",{className:"text-xs text-slate-400",children:["DOT: ",U.dot]})]}),D.jsxs("td",{className:"p-3",children:[D.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${U.status==="In Stock"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:U.status}),U.status==="Fitted"&&D.jsx("div",{className:"text-xs mt-1 text-slate-500 font-medium",children:U.vehicleReg})]}),D.jsx("td",{className:"p-3 text-right",children:D.jsxs("div",{className:"flex justify-end gap-2",children:[D.jsx("button",{onClick:()=>d(U),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all",title:"Print Label",children:D.jsx(zx,{className:"w-4 h-4"})}),i&&D.jsx("button",{onClick:()=>t(U.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Delete Stock",children:D.jsx(Zh,{className:"w-4 h-4"})})]})})]},U.id))})]})]}),f&&D.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 text-center",children:[D.jsx("h3",{className:"font-bold text-xl mb-4",children:f.brand}),D.jsx("div",{className:"font-mono text-3xl font-black bg-slate-100 p-4 mb-4",children:f.barcode}),D.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Ensure printer is set to 60mm x 80mm media."}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>d(null),className:"flex-1 py-3 border rounded-lg hover:bg-slate-50 font-medium",children:"Cancel"}),D.jsxs("button",{onClick:V,className:"flex-1 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 shadow-lg btn-press flex items-center justify-center gap-2",children:[D.jsx(zx,{className:"w-5 h-5"})," Print Label"]})]})]})})]})}function XF({tasks:n,onComplete:e}){const[t,r]=Gt(null),i=n.filter(f=>f.status==="Completed"),{items:a,requestSort:s,sortConfig:l}=Kp(i,{key:"completedDate",direction:"descending"}),c=()=>{e(t.id),r(null)};return D.jsxs("div",{className:"space-y-6 animate-enter",children:[D.jsxs("div",{className:"space-y-4",children:[D.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[D.jsx(_6,{className:"w-5 h-5 text-amber-500"})," Outstanding"]}),n.filter(f=>f.status==="Pending").length===0?D.jsx("div",{className:"p-8 bg-green-50 text-green-800 text-center rounded-xl border border-green-100 font-medium",children:"All compliant"}):n.filter(f=>f.status==="Pending").map(f=>D.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border-l-4 border-amber-500 flex justify-between items-center hover:shadow-md transition-all",children:[D.jsxs("div",{children:[D.jsxs("div",{className:"flex gap-2 mb-1",children:[D.jsx("span",{className:`px-2 text-xs font-bold rounded text-white ${f.type.includes("30")?"bg-red-500":"bg-blue-500"}`,children:f.type}),D.jsxs("span",{className:"text-xs text-slate-400 font-medium bg-slate-100 px-2 rounded",children:["Fitter: ",f.fitter]})]}),D.jsx("div",{className:"font-black text-lg text-slate-800",children:f.vehicleReg}),D.jsxs("div",{className:"text-sm text-slate-500",children:[Hl(f.positionId)," ",D.jsxs("span",{className:"text-slate-400",children:["(",f.reason,")"]})]}),D.jsxs("div",{className:"text-xs font-bold text-amber-600 mt-1",children:["Due: ",new Date(f.dueDate).toLocaleString()]})]}),D.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[D.jsxs("div",{className:"text-xs text-slate-400 font-mono bg-slate-50 px-2 py-1 rounded",children:["Target: ",f.torqueSpec," Nm"]}),D.jsxs("button",{onClick:()=>r(f),className:"bg-slate-900 text-white px-4 py-2 rounded-lg text-sm hover:bg-slate-800 font-medium shadow-md flex items-center gap-2 btn-press",children:[D.jsx(E9,{className:"w-4 h-4"})," Confirm"]})]})]},f.id))]}),D.jsxs("div",{children:[D.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[D.jsx(L9,{className:"w-5 h-5"})," History"]}),D.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:D.jsxs("table",{className:"w-full text-sm text-left",children:[D.jsx("thead",{className:"bg-slate-50",children:D.jsxs("tr",{children:[D.jsx(Rr,{label:"Completed",sortKey:"completedDate",requestSort:s,sortConfig:l}),D.jsx(Rr,{label:"Type",sortKey:"type",requestSort:s,sortConfig:l}),D.jsx(Rr,{label:"Reason",sortKey:"reason",requestSort:s,sortConfig:l}),D.jsx(Rr,{label:"Vehicle",sortKey:"vehicleReg",requestSort:s,sortConfig:l}),D.jsx(Rr,{label:"Fitter",sortKey:"fitter",requestSort:s,sortConfig:l}),D.jsx("th",{className:"p-3 text-right",children:"Status"})]})}),D.jsx("tbody",{children:a.map(f=>D.jsxs("tr",{className:"hover:bg-slate-50",children:[D.jsx("td",{className:"p-3 text-slate-600",children:new Date(f.completedDate).toLocaleDateString()}),D.jsx("td",{className:"p-3",children:D.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${f.type.includes("30")?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:f.type})}),D.jsx("td",{className:"p-3 text-slate-500 text-xs",children:f.reason}),D.jsx("td",{className:"p-3 font-bold text-slate-700",children:f.vehicleReg}),D.jsx("td",{className:"p-3 font-medium",children:f.fitter}),D.jsx("td",{className:"p-3 text-right text-green-600 font-bold text-xs",children:"VERIFIED"})]},f.id))})]})})]}),t&&D.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",children:[D.jsxs("div",{className:"flex items-center gap-3 mb-4 text-amber-600",children:[D.jsx(J9,{className:"w-8 h-8"}),D.jsx("h3",{className:"font-bold text-xl text-slate-900",children:"Safety Confirmation"})]}),D.jsx("p",{className:"text-slate-600 mb-6 text-sm leading-relaxed",children:"I confirm I have performed this retorque within the specifications and no anomalies were detected during the process."}),D.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 mb-6 text-sm",children:[D.jsxs("div",{className:"flex justify-between mb-2",children:[D.jsx("span",{className:"text-slate-500",children:"Vehicle:"}),D.jsx("span",{className:"font-bold",children:t.vehicleReg})]}),D.jsxs("div",{className:"flex justify-between mb-2",children:[D.jsx("span",{className:"text-slate-500",children:"Position:"}),D.jsx("span",{className:"font-bold",children:Hl(t.positionId)})]}),D.jsxs("div",{className:"flex justify-between",children:[D.jsx("span",{className:"text-slate-500",children:"Torque Spec:"}),D.jsxs("span",{className:"font-bold font-mono",children:[t.torqueSpec," Nm"]})]})]}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("button",{onClick:()=>r(null),className:"flex-1 py-3 text-slate-500 hover:bg-slate-100 rounded-lg font-medium transition",children:"Cancel"}),D.jsx("button",{onClick:c,className:"flex-1 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 shadow-lg shadow-green-200 transition btn-press",children:"I Certify & Confirm"})]})]})})]})}function YF({removedTyres:n,onDispose:e,onRestock:t}){const[r,i]=Gt(null),[a,s]=Gt(""),l=()=>{a&&(t(r,a),i(null),s(""))};return D.jsxs("div",{className:"space-y-6 bg-white p-6 rounded shadow animate-enter",children:[D.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[D.jsx(Zh,{className:"w-5 h-5 text-red-500"})," Removed Tyres"]}),D.jsx("div",{className:"overflow-x-auto border rounded",children:D.jsxs("table",{className:"w-full text-sm text-left",children:[D.jsx("thead",{className:"bg-slate-50",children:D.jsxs("tr",{children:[D.jsx("th",{className:"p-3",children:"Removed Date"}),D.jsx("th",{className:"p-3",children:"Old Barcode"}),D.jsx("th",{className:"p-3",children:"Details"}),D.jsx("th",{className:"p-3",children:"Removed From"}),D.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),D.jsx("tbody",{className:"divide-y",children:n.map(c=>D.jsxs("tr",{className:"hover:bg-slate-50",children:[D.jsx("td",{className:"p-3",children:new Date(c.removedDate).toLocaleDateString()}),D.jsx("td",{className:"p-3 font-mono text-xs text-slate-500 line-through",children:c.barcode}),D.jsxs("td",{className:"p-3",children:[D.jsx("div",{className:"font-bold",children:c.brand}),D.jsx("div",{className:"text-xs text-slate-500",children:c.size})]}),D.jsxs("td",{className:"p-3",children:[D.jsx("div",{className:"font-bold",children:c.removedFrom}),D.jsx("div",{className:"text-xs text-slate-500",children:Hl(c.removedPosition)})]}),D.jsx("td",{className:"p-3 text-right",children:D.jsxs("div",{className:"flex justify-end gap-2",children:[D.jsxs("button",{onClick:()=>i(c),className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-xs font-bold transition",children:[D.jsx(X9,{className:"w-3 h-3"})," Restock"]}),D.jsxs("button",{onClick:()=>e(c.id),className:"flex items-center gap-1 px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 text-xs font-bold transition",children:[D.jsx(Zh,{className:"w-3 h-3"})," Dispose"]})]})})]},c.id))})]})}),r&&D.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 animate-enter",children:[D.jsx("h3",{className:"font-bold text-lg mb-4",children:"Restock Tyre"}),D.jsx("p",{className:"text-sm text-slate-600 mb-4",children:'This will generate a new barcode label and add the tyre back to stock as "Used".'}),D.jsxs("div",{className:"mb-4",children:[D.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Measured Tread Depth (mm)"}),D.jsx("input",{type:"number",autoFocus:!0,className:"w-full p-2 border rounded",value:a,onChange:c=>s(c.target.value)})]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>i(null),className:"flex-1 py-2 border rounded text-slate-500 hover:bg-slate-50",children:"Cancel"}),D.jsx("button",{onClick:l,className:"flex-1 py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700 shadow-md btn-press",children:"Confirm & Print"})]})]})})]})}function KF({history:n,retorques:e}){const[t,r]=Gt(new Date().toISOString().slice(0,10)),[i,a]=Gt(new Date().toISOString().slice(0,10)),[s,l]=Gt("fitment"),[c,f]=Gt(""),[d,g]=Gt(""),_=[...new Set([...n.map(R=>R.vehicleReg),...e.map(R=>R.vehicleReg)])].sort(),v=[...new Set([...n.map(R=>R.fitter),...e.map(R=>R.fitter)])].sort(),A=(R,P)=>{const H=R[P].split("T")[0],O=H>=t&&H<=i,k=c?R.vehicleReg===c:!0,j=d?R.fitter===d:!0;return O&&k&&j},S=n.filter(R=>A(R,"fitDate")),I=e.filter(R=>A(R,"fitmentDate")),{items:N,requestSort:V,sortConfig:q}=Kp(S,{key:"fitDate",direction:"descending"}),{items:U,requestSort:re,sortConfig:ue}=Kp(I,{key:"fitmentDate",direction:"descending"}),z=()=>{let R="";s==="fitment"?R=`Date,Barcode,Brand,Size,DOT,Vehicle,Pos,Fitter,Reason
`+N.map(H=>`${H.fitDate},${H.barcode},${H.brand},${H.size},${H.dot},${H.vehicleReg},${Hl(H.position)},${H.fitter},${H.reason||"Tyre Fitted"}`).join(`
`):R=`Fitment Date,Due Date,Type,Reason,Vehicle,Position,Status,Fitter
`+U.map(H=>`${H.fitmentDate},${H.dueDate},${H.type},${H.reason},${H.vehicleReg},${Hl(H.positionId)},${H.status},${H.fitter}`).join(`
`);const P=document.createElement("a");P.href="data:text/csv;charset=utf-8,"+encodeURI(R),P.download=`${s}_report.csv`,P.click()};return D.jsxs("div",{className:"space-y-6 bg-white p-6 rounded shadow animate-enter",children:[D.jsxs("div",{className:"flex items-center gap-4 border-b pb-4 mb-4",children:[D.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 flex-1",children:[D.jsx(v6,{className:"w-5 h-5 text-blue-600"})," Reports"]}),D.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[D.jsx("button",{onClick:()=>l("fitment"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${s==="fitment"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:"Fitment History"}),D.jsx("button",{onClick:()=>l("retorque"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${s==="retorque"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:"Retorque Logs"})]})]}),D.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 items-end mb-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"From"}),D.jsx("input",{type:"date",value:t,onChange:R=>r(R.target.value),className:"border p-2 rounded w-full"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"To"}),D.jsx("input",{type:"date",value:i,onChange:R=>a(R.target.value),className:"border p-2 rounded w-full"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"Vehicle"}),D.jsxs("select",{value:c,onChange:R=>f(R.target.value),className:"border p-2 rounded w-full bg-white",children:[D.jsx("option",{value:"",children:"All Vehicles"}),_.map(R=>D.jsx("option",{value:R,children:R},R))]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"Fitter"}),D.jsxs("select",{value:d,onChange:R=>g(R.target.value),className:"border p-2 rounded w-full bg-white",children:[D.jsx("option",{value:"",children:"All Fitters"}),v.map(R=>D.jsx("option",{value:R,children:R},R))]})]}),D.jsxs("button",{onClick:z,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center justify-center gap-2 hover:bg-green-700 shadow-md transition btn-press",children:[D.jsx(g6,{className:"w-4 h-4"})," Export CSV"]})]}),D.jsx("div",{className:"overflow-x-auto border rounded",children:s==="fitment"?D.jsxs("table",{className:"w-full text-sm text-left",children:[D.jsx("thead",{className:"bg-slate-50",children:D.jsxs("tr",{children:[D.jsx(Rr,{label:"Date",sortKey:"fitDate",requestSort:V,sortConfig:q}),D.jsx(Rr,{label:"Barcode",sortKey:"barcode",requestSort:V,sortConfig:q}),D.jsx(Rr,{label:"Brand",sortKey:"brand",requestSort:V,sortConfig:q}),D.jsx(Rr,{label:"Size",sortKey:"size",requestSort:V,sortConfig:q}),D.jsx(Rr,{label:"Reason",sortKey:"reason",requestSort:V,sortConfig:q}),D.jsx(Rr,{label:"Vehicle",sortKey:"vehicleReg",requestSort:V,sortConfig:q}),D.jsx(Rr,{label:"Pos",sortKey:"position",requestSort:V,sortConfig:q}),D.jsx(Rr,{label:"Fitter",sortKey:"fitter",requestSort:V,sortConfig:q})]})}),D.jsx("tbody",{children:N.map(R=>D.jsxs("tr",{className:"hover:bg-slate-50",children:[D.jsx("td",{className:"p-3",children:new Date(R.fitDate).toLocaleDateString()}),D.jsx("td",{className:"p-3 font-mono",children:R.barcode}),D.jsx("td",{className:"p-3",children:R.brand}),D.jsx("td",{className:"p-3",children:R.size}),D.jsx("td",{className:"p-3 text-slate-500",children:R.reason||"Tyre Fitted"}),D.jsx("td",{className:"p-3 font-bold",children:R.vehicleReg}),D.jsx("td",{className:"p-3",children:Hl(R.position)}),D.jsx("td",{className:"p-3 font-bold",children:R.fitter})]},R.id))})]}):D.jsxs("table",{className:"w-full text-sm text-left",children:[D.jsx("thead",{className:"bg-slate-50",children:D.jsxs("tr",{children:[D.jsx(Rr,{label:"Fit Date",sortKey:"fitmentDate",requestSort:re,sortConfig:ue}),D.jsx(Rr,{label:"Due Date",sortKey:"dueDate",requestSort:re,sortConfig:ue}),D.jsx(Rr,{label:"Type",sortKey:"type",requestSort:re,sortConfig:ue}),D.jsx(Rr,{label:"Reason",sortKey:"reason",requestSort:re,sortConfig:ue}),D.jsx(Rr,{label:"Vehicle",sortKey:"vehicleReg",requestSort:re,sortConfig:ue}),D.jsx(Rr,{label:"Position",sortKey:"positionId",requestSort:re,sortConfig:ue}),D.jsx(Rr,{label:"Status",sortKey:"status",requestSort:re,sortConfig:ue}),D.jsx(Rr,{label:"Completed",sortKey:"completedDate",requestSort:re,sortConfig:ue}),D.jsx(Rr,{label:"Fitter",sortKey:"fitter",requestSort:re,sortConfig:ue})]})}),D.jsx("tbody",{children:U.map(R=>D.jsxs("tr",{className:"hover:bg-slate-50",children:[D.jsx("td",{className:"p-3 text-slate-500",children:new Date(R.fitmentDate).toLocaleDateString()}),D.jsx("td",{className:"p-3 font-bold",children:new Date(R.dueDate).toLocaleString()}),D.jsx("td",{className:"p-3",children:D.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold text-white ${R.type.includes("30")?"bg-blue-500":"bg-purple-500"}`,children:R.type})}),D.jsx("td",{className:"p-3 text-slate-600 text-xs",children:R.reason}),D.jsx("td",{className:"p-3 font-bold",children:R.vehicleReg}),D.jsx("td",{className:"p-3",children:Hl(R.positionId)}),D.jsx("td",{className:"p-3",children:D.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${R.status==="Completed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:R.status})}),D.jsx("td",{className:"p-3",children:R.completedDate?new Date(R.completedDate).toLocaleString():"-"}),D.jsx("td",{className:"p-3 font-bold",children:R.fitter})]},R.id))})]})})]})}function $F({sizes:n,onAddSize:e,onRemoveSize:t,onSeed:r,users:i,onAddUser:a,onRemoveUser:s,onRequestNotifications:l,onWipe:c}){const[f,d]=Gt(""),[g,_]=Gt({initials:"",pin:"",role:"Fitter"}),v=A=>{A.preventDefault(),g.initials&&g.pin&&(a({...g,initials:g.initials.toUpperCase()}),_({initials:"",pin:"",role:"Fitter"}))};return D.jsxs("div",{className:"grid md:grid-cols-2 gap-8 animate-enter",children:[D.jsxs("div",{className:"space-y-8",children:[D.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[D.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[D.jsx(Ry,{className:"w-5 h-5"})," Tyre Configuration"]}),D.jsxs("div",{className:"mb-6",children:[D.jsx("h4",{className:"font-bold text-sm mb-2",children:"Tyre Sizes"}),D.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.map(A=>D.jsxs("span",{className:"bg-slate-100 px-3 py-1 rounded-full text-sm flex gap-2 items-center",children:[A.name,D.jsx("button",{onClick:()=>t(A.id),className:"text-red-400 hover:text-red-600",children:D.jsx(Mp,{className:"w-3 h-3"})})]},A.id))}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("input",{className:"border p-2 rounded flex-1",placeholder:"New Size",value:f,onChange:A=>d(A.target.value)}),D.jsx("button",{onClick:()=>{e(f),d("")},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add"})]})]}),D.jsxs("div",{className:"border-t pt-6",children:[D.jsx("h4",{className:"font-bold text-sm mb-2",children:"Notifications"}),D.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Enable browser alerts for upcoming retorques."}),D.jsxs("button",{onClick:l,className:"flex items-center gap-2 bg-slate-100 hover:bg-slate-200 text-slate-700 px-4 py-2 rounded text-sm font-medium transition",children:[D.jsx(y9,{className:"w-4 h-4"})," Enable Notifications"]})]})]}),D.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[D.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[D.jsx(Vx,{className:"w-5 h-5"})," System Actions"]}),D.jsx("p",{className:"text-xs text-red-600 font-bold mb-4",children:"If you are not Dale - DO NOT press this button"}),D.jsxs("div",{className:"flex flex-col gap-3",children:[D.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 bg-slate-800 text-white px-4 py-2 rounded hover:bg-slate-900 w-full",children:[D.jsx(Vx,{className:"w-4 h-4"})," Initialize Database"]}),D.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 bg-red-50 text-red-600 border border-red-200 px-4 py-2 rounded hover:bg-red-100 w-full font-bold",children:[D.jsx(H9,{className:"w-4 h-4"})," Wipe Operational Data"]})]})]})]}),D.jsxs("div",{className:"bg-white p-6 rounded shadow h-fit",children:[D.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[D.jsx(oO,{className:"w-5 h-5"})," User Management"]}),D.jsxs("form",{onSubmit:v,className:"bg-slate-50 p-4 rounded mb-6 border",children:[D.jsx("h4",{className:"font-bold text-sm mb-3",children:"Add New User"}),D.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[D.jsx("input",{className:"border p-2 rounded uppercase",placeholder:"Initials",maxLength:3,value:g.initials,onChange:A=>_({...g,initials:A.target.value}),required:!0}),D.jsx("input",{className:"border p-2 rounded",placeholder:"PIN",maxLength:4,type:"password",value:g.pin,onChange:A=>_({...g,pin:A.target.value}),required:!0})]}),D.jsxs("select",{className:"w-full border p-2 rounded mb-2",value:g.role,onChange:A=>_({...g,role:A.target.value}),children:[D.jsx("option",{value:"Admin",children:"Admin"}),D.jsx("option",{value:"Manager",children:"Manager"}),D.jsx("option",{value:"Fitter",children:"Fitter"})]}),D.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded font-bold",children:"Create User"})]}),D.jsx("div",{className:"space-y-2",children:i.map(A=>D.jsxs("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-slate-50",children:[D.jsxs("div",{children:[D.jsx("div",{className:"font-bold",children:A.initials}),D.jsx("div",{className:"text-xs text-slate-500",children:A.role})]}),D.jsx("button",{onClick:()=>s(A.id),className:"text-red-400 hover:text-red-600",children:D.jsx(Zh,{className:"w-4 h-4"})})]},A.id))})]})]})}gS.createRoot(document.getElementById("root")).render(D.jsx(Tc.StrictMode,{children:D.jsx(zF,{})}));export{pr as _,ZF as c,rS as g};
