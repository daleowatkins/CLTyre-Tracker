(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Cd={exports:{}},bl={};var N_;function C1(){if(N_)return bl;N_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=e,bl.jsx=i,bl.jsxs=i,bl}var x_;function I1(){return x_||(x_=1,Cd.exports=C1()),Cd.exports}var S=I1(),Id={exports:{}},Ie={};var D_;function N1(){if(D_)return Ie;D_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function q(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,W={};function ue(D,Y,ne){this.props=D,this.context=Y,this.refs=W,this.updater=ne||Z}ue.prototype.isReactComponent={},ue.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},ue.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Te(){}Te.prototype=ue.prototype;function me(D,Y,ne){this.props=D,this.context=Y,this.refs=W,this.updater=ne||Z}var ze=me.prototype=new Te;ze.constructor=me,ee(ze,ue.prototype),ze.isPureReactComponent=!0;var Pe=Array.isArray;function Ve(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(D,Y,ne){var re=ne.ref;return{$$typeof:r,type:D,key:Y,ref:re!==void 0?re:null,props:ne}}function M(D,Y){return C(D.type,Y,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function U(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return Y[ne]})}var R=/\/+/g;function it(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):Y.toString(36)}function xe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Ve,Ve):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function L(D,Y,ne,re,Ee){var we=typeof D;(we==="undefined"||we==="boolean")&&(D=null);var ae=!1;if(D===null)ae=!0;else switch(we){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(D.$$typeof){case r:case e:ae=!0;break;case b:return ae=D._init,L(ae(D._payload),Y,ne,re,Ee)}}if(ae)return Ee=Ee(D),ae=re===""?"."+it(D,0):re,Pe(Ee)?(ne="",ae!=null&&(ne=ae.replace(R,"$&/")+"/"),L(Ee,Y,ne,"",function(Gt){return Gt})):Ee!=null&&(x(Ee)&&(Ee=M(Ee,ne+(Ee.key==null||D&&D.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+ae)),Y.push(Ee)),1;ae=0;var Ze=re===""?".":re+":";if(Pe(D))for(var qe=0;qe<D.length;qe++)re=D[qe],we=Ze+it(re,qe),ae+=L(re,Y,ne,we,Ee);else if(qe=q(D),typeof qe=="function")for(D=qe.call(D),qe=0;!(re=D.next()).done;)re=re.value,we=Ze+it(re,qe++),ae+=L(re,Y,ne,we,Ee);else if(we==="object"){if(typeof D.then=="function")return L(xe(D),Y,ne,re,Ee);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ae}function $(D,Y,ne){if(D==null)return D;var re=[],Ee=0;return L(D,re,"","",function(we){return Y.call(ne,we,Ee++)}),re}function se(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var Se=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Xe={map:$,forEach:function(D,Y,ne){$(D,function(){Y.apply(this,arguments)},ne)},count:function(D){var Y=0;return $(D,function(){Y++}),Y},toArray:function(D){return $(D,function(Y){return Y})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ie.Activity=A,Ie.Children=Xe,Ie.Component=ue,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=me,Ie.StrictMode=a,Ie.Suspense=y,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},Ie.cache=function(D){return function(){return D.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(D,Y,ne){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=ee({},D.props),Ee=D.key;if(Y!=null)for(we in Y.key!==void 0&&(Ee=""+Y.key),Y)!w.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(re[we]=Y[we]);var we=arguments.length-2;if(we===1)re.children=ne;else if(1<we){for(var ae=Array(we),Ze=0;Ze<we;Ze++)ae[Ze]=arguments[Ze+2];re.children=ae}return C(D.type,Ee,re)},Ie.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ie.createElement=function(D,Y,ne){var re,Ee={},we=null;if(Y!=null)for(re in Y.key!==void 0&&(we=""+Y.key),Y)w.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=Y[re]);var ae=arguments.length-2;if(ae===1)Ee.children=ne;else if(1<ae){for(var Ze=Array(ae),qe=0;qe<ae;qe++)Ze[qe]=arguments[qe+2];Ee.children=Ze}if(D&&D.defaultProps)for(re in ae=D.defaultProps,ae)Ee[re]===void 0&&(Ee[re]=ae[re]);return C(D,we,Ee)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:g,render:D}},Ie.isValidElement=x,Ie.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:se}},Ie.memo=function(D,Y){return{$$typeof:_,type:D,compare:Y===void 0?null:Y}},Ie.startTransition=function(D){var Y=N.T,ne={};N.T=ne;try{var re=D(),Ee=N.S;Ee!==null&&Ee(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ve,Se)}catch(we){Se(we)}finally{Y!==null&&ne.types!==null&&(Y.types=ne.types),N.T=Y}},Ie.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ie.use=function(D){return N.H.use(D)},Ie.useActionState=function(D,Y,ne){return N.H.useActionState(D,Y,ne)},Ie.useCallback=function(D,Y){return N.H.useCallback(D,Y)},Ie.useContext=function(D){return N.H.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D,Y){return N.H.useDeferredValue(D,Y)},Ie.useEffect=function(D,Y){return N.H.useEffect(D,Y)},Ie.useEffectEvent=function(D){return N.H.useEffectEvent(D)},Ie.useId=function(){return N.H.useId()},Ie.useImperativeHandle=function(D,Y,ne){return N.H.useImperativeHandle(D,Y,ne)},Ie.useInsertionEffect=function(D,Y){return N.H.useInsertionEffect(D,Y)},Ie.useLayoutEffect=function(D,Y){return N.H.useLayoutEffect(D,Y)},Ie.useMemo=function(D,Y){return N.H.useMemo(D,Y)},Ie.useOptimistic=function(D,Y){return N.H.useOptimistic(D,Y)},Ie.useReducer=function(D,Y,ne){return N.H.useReducer(D,Y,ne)},Ie.useRef=function(D){return N.H.useRef(D)},Ie.useState=function(D){return N.H.useState(D)},Ie.useSyncExternalStore=function(D,Y,ne){return N.H.useSyncExternalStore(D,Y,ne)},Ie.useTransition=function(){return N.H.useTransition()},Ie.version="19.2.3",Ie}var O_;function vm(){return O_||(O_=1,Id.exports=N1()),Id.exports}var _e=vm(),Nd={exports:{}},Sl={},xd={exports:{}},Dd={};var M_;function x1(){return M_||(M_=1,(function(r){function e(L,$){var se=L.length;L.push($);e:for(;0<se;){var Se=se-1>>>1,Xe=L[Se];if(0<l(Xe,$))L[Se]=$,L[se]=Xe,se=Se;else break e}}function i(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var $=L[0],se=L.pop();if(se!==$){L[0]=se;e:for(var Se=0,Xe=L.length,D=Xe>>>1;Se<D;){var Y=2*(Se+1)-1,ne=L[Y],re=Y+1,Ee=L[re];if(0>l(ne,se))re<Xe&&0>l(Ee,ne)?(L[Se]=Ee,L[re]=se,Se=re):(L[Se]=ne,L[Y]=se,Se=Y);else if(re<Xe&&0>l(Ee,se))L[Se]=Ee,L[re]=se,Se=re;else break e}}return $}function l(L,$){var se=L.sortIndex-$.sortIndex;return se!==0?se:L.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],b=1,A=null,V=3,q=!1,Z=!1,ee=!1,W=!1,ue=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function ze(L){for(var $=i(_);$!==null;){if($.callback===null)a(_);else if($.startTime<=L)a(_),$.sortIndex=$.expirationTime,e(y,$);else break;$=i(_)}}function Pe(L){if(ee=!1,ze(L),!Z)if(i(y)!==null)Z=!0,Ve||(Ve=!0,U());else{var $=i(_);$!==null&&xe(Pe,$.startTime-L)}}var Ve=!1,N=-1,w=5,C=-1;function M(){return W?!0:!(r.unstable_now()-C<w)}function x(){if(W=!1,Ve){var L=r.unstable_now();C=L;var $=!0;try{e:{Z=!1,ee&&(ee=!1,Te(N),N=-1),q=!0;var se=V;try{t:{for(ze(L),A=i(y);A!==null&&!(A.expirationTime>L&&M());){var Se=A.callback;if(typeof Se=="function"){A.callback=null,V=A.priorityLevel;var Xe=Se(A.expirationTime<=L);if(L=r.unstable_now(),typeof Xe=="function"){A.callback=Xe,ze(L),$=!0;break t}A===i(y)&&a(y),ze(L)}else a(y);A=i(y)}if(A!==null)$=!0;else{var D=i(_);D!==null&&xe(Pe,D.startTime-L),$=!1}}break e}finally{A=null,V=se,q=!1}$=void 0}}finally{$?U():Ve=!1}}}var U;if(typeof me=="function")U=function(){me(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,it=R.port2;R.port1.onmessage=x,U=function(){it.postMessage(null)}}else U=function(){ue(x,0)};function xe(L,$){N=ue(function(){L(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(L){switch(V){case 1:case 2:case 3:var $=3;break;default:$=V}var se=V;V=$;try{return L()}finally{V=se}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var se=V;V=L;try{return $()}finally{V=se}},r.unstable_scheduleCallback=function(L,$,se){var Se=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Se+se:Se):se=Se,L){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=se+Xe,L={id:b++,callback:$,priorityLevel:L,startTime:se,expirationTime:Xe,sortIndex:-1},se>Se?(L.sortIndex=se,e(_,L),i(y)===null&&L===i(_)&&(ee?(Te(N),N=-1):ee=!0,xe(Pe,se-Se))):(L.sortIndex=Xe,e(y,L),Z||q||(Z=!0,Ve||(Ve=!0,U()))),L},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(L){var $=V;return function(){var se=V;V=$;try{return L.apply(this,arguments)}finally{V=se}}}})(Dd)),Dd}var V_;function D1(){return V_||(V_=1,xd.exports=x1()),xd.exports}var Od={exports:{}},on={};var k_;function O1(){if(k_)return on;k_=1;var r=vm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},on.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},on.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},on.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},on.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:q}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:V,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},on.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},on.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},on.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},on.requestFormReset=function(y){a.d.r(y)},on.unstable_batchedUpdates=function(y,_){return y(_)},on.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.3",on}var U_;function M1(){if(U_)return Od.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=O1(),Od.exports}var L_;function V1(){if(L_)return Sl;L_=1;var r=D1(),e=vm(),i=M1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),Te=Symbol.for("react.consumer"),me=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case ue:return"Profiler";case W:return"StrictMode";case Pe:return"Suspense";case Ve:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case me:return t.displayName||"Context";case Te:return(t._context.displayName||"Context")+".Consumer";case ze:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:it(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return it(t(n))}catch{}}return null}var xe=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Se=[],Xe=-1;function D(t){return{current:t}}function Y(t){0>Xe||(t.current=Se[Xe],Se[Xe]=null,Xe--)}function ne(t,n){Xe++,Se[Xe]=t.current,t.current=n}var re=D(null),Ee=D(null),we=D(null),ae=D(null);function Ze(t,n){switch(ne(we,n),ne(Ee,t),ne(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Jy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Jy(n),t=Wy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),ne(re,t)}function qe(){Y(re),Y(Ee),Y(we)}function Gt(t){t.memoizedState!==null&&ne(ae,t);var n=re.current,s=Wy(n,t.type);n!==s&&(ne(Ee,t),ne(re,s))}function An(t){Ee.current===t&&(Y(re),Y(Ee)),ae.current===t&&(Y(ae),_l._currentValue=se)}var Zn,Qi;function ie(t){if(Zn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Zn=n&&n[1]||"",Qi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zn+t+Qi}var de=!1;function ge(t,n){if(!t||de)return"";de=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(F){var B=F}Reflect.construct(t,[],K)}else{try{K.call()}catch(F){B=F}t.call(K.prototype)}}else{try{throw Error()}catch(F){B=F}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),j=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var G=`
`+I[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{de=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ie(s):""}function De(t,n){switch(t.tag){case 26:case 27:case 5:return ie(t.type);case 16:return ie("Lazy");case 13:return t.child!==n&&n!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return ge(t.type,!1);case 11:return ge(t.type.render,!1);case 1:return ge(t.type,!0);case 31:return ie("Activity");default:return""}}function lt(t){try{var n="",s=null;do n+=De(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ce=Object.prototype.hasOwnProperty,Ue=r.unstable_scheduleCallback,jt=r.unstable_cancelCallback,Re=r.unstable_shouldYield,Le=r.unstable_requestPaint,Je=r.unstable_now,Jn=r.unstable_getCurrentPriorityLevel,Es=r.unstable_ImmediatePriority,bo=r.unstable_UserBlockingPriority,Ts=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,eu=r.unstable_IdlePriority,tu=r.log,nu=r.unstable_setDisableYieldValue,Wn=null,Zt=null;function Un(t){if(typeof tu=="function"&&nu(t),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Wn,t)}catch{}}var wt=Math.clz32?Math.clz32:su,iu=Math.log,ha=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(iu(t)/ha|0)|0}var gi=256,Tr=262144,xt=4194304;function pi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=pi(o):(p&=E,p!==0?h=pi(p):s||(s=E&~t,s!==0&&(h=pi(s))))):(E=o&~f,E!==0?h=pi(E):p!==0?h=pi(p):s||(s=o&~t,s!==0&&(h=pi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ei(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function _i(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function br(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dh(t,n,s,o,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(s=p&~s;0<s;){var G=31-wt(s),K=1<<G;E[G]=0,I[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var F=B[G];F!==null&&(F.lane&=-536870913)}s&=~K}o!==0&&Sr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Sr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-wt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function So(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-wt(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function Ao(t,n){var s=n&-n;return s=(s&42)!==0?1:Ar(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:b_(t.type))}function ti(t,n){var s=$.p;try{return $.p=t,n()}finally{$.p=s}}var ni=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ni,Qt="__reactProps$"+ni,vi="__reactContainer$"+ni,fa="__reactEvents$"+ni,Oh="__reactListeners$"+ni,ou="__reactHandles$"+ni,lu="__reactResources$"+ni,Ei="__reactMarker$"+ni;function da(t){delete t[Dt],delete t[Qt],delete t[fa],delete t[Oh],delete t[ou]}function Ti(t){var n=t[Dt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[vi]||s[Dt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=a_(t);t!==null;){if(s=t[Dt])return s;t=a_(t)}return n}t=s,s=t.parentNode}return null}function Ln(t){if(t=t[Dt]||t[vi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function bi(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(t){t[Ei]=!0}var wo=new Set,Ro={};function Si(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(Ro[t]=n,t=0;t<n.length;t++)wo.add(n[t])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},No={};function uu(t){return ce.call(No,t)?!0:ce.call(Io,t)?!1:Co.test(t)?No[t]=!0:(Io[t]=!0,!1)}function ma(t,n,s){if(uu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Rn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Mt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=bs(t)?"checked":"value";t._valueTracker=xo(t,n,""+t[n])}}function wr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=bs(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function gn(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(t,n,s,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Yt(n)):t.value!==""+Yt(n)&&(t.value=""+Yt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Do(t,p,Yt(n)):s!=null?Do(t,p,Yt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Yt(E):t.removeAttribute("name")}function cu(t,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}s=s!=null?""+Yt(s):"",n=n!=null?""+Yt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),rt(t)}function Do(t,n,s){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ss(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Yt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,s){if(n!=null&&(n=""+Yt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Yt(s):""}function As(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(xe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Yt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),rt(t)}function pn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Mo(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Oo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(t,f,n[f])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var Vo=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ri=null;function Cr(t){var n=Ln(t);if(n&&(t=n.stateNode)){var s=t[Qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ga(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Qt]||null;if(!h)throw Error(a(90));ga(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&wr(o)}break e;case"textarea":hu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ss(t,!!s.multiple,n,!1)}}}var _a=!1;function Cs(t,n,s){if(_a)return t(n,s);_a=!0;try{var o=t(n);return o}finally{if(_a=!1,(Rs!==null||Ri!==null)&&(ac(),Rs&&(n=Rs,t=Ri,Ri=Rs=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function si(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Qt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(zn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Ir=!1}var Ci=null,ko=null,Nr=null;function Uo(){if(Nr)return Nr;var t,n=ko,s=n.length,o,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Nr=h.slice(t,1<o?1-o:void 0)}function xr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ri(){return!1}function Jt(t){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ri,this.isPropagationStopped=ri,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Jt(Xi),Is=A({},Xi,{view:0,detail:0}),Lo=Jt(Is),Ns,va,Ni,Ea=A({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ns=t.screenX-Ni.screenX,va=t.screenY-Ni.screenY):va=Ns=0,Ni=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Po=Jt(Ea),Dr=A({},Ea,{dataTransfer:0}),mu=Jt(Dr),gu=A({},Is,{relatedTarget:0}),Or=Jt(gu),zo=A({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Jt(zo),Ta=A({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=Jt(Ta),_u=A({},Xi,{data:0}),xi=Jt(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function xs(){return bu}var fn=A({},Is,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=Jt(fn),Au=A({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Jt(Au),u=A({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),m=Jt(u),v=A({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Jt(v),P=A({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Jt(P),te=A({},Xi,{newState:0,oldState:0}),Oe=Jt(te),Rt=[9,13,27,32],tt=zn&&"CompositionEvent"in window,Et=null;zn&&"documentMode"in document&&(Et=document.documentMode);var jn=zn&&"TextEvent"in window&&!Et,Di=zn&&(!tt||Et&&8<Et&&11>=Et),ai=" ",oi=!1;function Mr(t,n){switch(t){case"keyup":return Rt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function ZT(t,n){switch(t){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(oi=!0,ai);case"textInput":return t=n.data,t===ai&&oi?null:t;default:return null}}function JT(t,n){if(Sa)return t==="compositionend"||!tt&&Mr(t,n)?(t=Uo(),Nr=ko=Ci=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var WT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!WT[t.type]:n==="textarea"}function cg(t,n,s,o){Rs?Ri?Ri.push(o):Ri=[o]:Rs=o,n=dc(n,"onChange"),0<n.length&&(s=new Ii("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var jo=null,Bo=null;function eb(t){Qy(t,0)}function wu(t){var n=wn(t);if(wr(n))return t}function hg(t,n){if(t==="change")return n}var fg=!1;if(zn){var Mh;if(zn){var Vh="oninput"in document;if(!Vh){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Vh=typeof dg.oninput=="function"}Mh=Vh}else Mh=!1;fg=Mh&&(!document.documentMode||9<document.documentMode)}function mg(){jo&&(jo.detachEvent("onpropertychange",gg),Bo=jo=null)}function gg(t){if(t.propertyName==="value"&&wu(Bo)){var n=[];cg(n,Bo,t,Pn(t)),Cs(eb,n)}}function tb(t,n,s){t==="focusin"?(mg(),jo=n,Bo=s,jo.attachEvent("onpropertychange",gg)):t==="focusout"&&mg()}function nb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Bo)}function ib(t,n){if(t==="click")return wu(n)}function sb(t,n){if(t==="input"||t==="change")return wu(n)}function rb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Cn=typeof Object.is=="function"?Object.is:rb;function qo(t,n){if(Cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ce.call(n,h)||!Cn(t[h],n[h]))return!1}return!0}function pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,n){var s=pg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pg(s)}}function _g(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?_g(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=wi(t.document)}return n}function kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ab=zn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Uh=null,Ho=null,Lh=!1;function Eg(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||Aa==null||Aa!==wi(o)||(o=Aa,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=dc(Uh,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Aa)))}function Vr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var wa={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Ph={},Tg={};zn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function kr(t){if(Ph[t])return Ph[t];if(!wa[t])return t;var n=wa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tg)return Ph[t]=n[s];return t}var bg=kr("animationend"),Sg=kr("animationiteration"),Ag=kr("animationstart"),ob=kr("transitionrun"),lb=kr("transitionstart"),ub=kr("transitioncancel"),wg=kr("transitionend"),Rg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function li(t,n){Rg.set(t,n),Si(n,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],Ra=0,jh=0;function Cu(){for(var t=Ra,n=jh=Ra=0;n<t;){var s=Bn[n];Bn[n++]=null;var o=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Cg(s,h,f)}}function Iu(t,n,s,o){Bn[Ra++]=t,Bn[Ra++]=n,Bn[Ra++]=s,Bn[Ra++]=o,jh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Bh(t,n,s,o){return Iu(t,n,s,o),Nu(t)}function Ur(t,n){return Iu(t,null,null,n),Nu(t)}function Cg(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-wt(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Nu(t){if(50<hl)throw hl=0,Zf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function cb(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,s,o){return new cb(t,n,s,o)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var s=t.alternate;return s===null?(s=In(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ig(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xu(t,n,s,o,h,f){var p=0;if(o=t,typeof t=="function")qh(t)&&(p=1);else if(typeof t=="string")p=g1(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=In(31,s,n,h),t.elementType=C,t.lanes=f,t;case ee:return Lr(s.children,h,f,n);case W:p=8,h|=24;break;case ue:return t=In(12,s,n,h|2),t.elementType=ue,t.lanes=f,t;case Pe:return t=In(13,s,n,h),t.elementType=Pe,t.lanes=f,t;case Ve:return t=In(19,s,n,h),t.elementType=Ve,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:p=10;break e;case Te:p=9;break e;case ze:p=11;break e;case N:p=14;break e;case w:p=16,o=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=In(p,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Lr(t,n,s,o){return t=In(7,t,o,n),t.lanes=s,t}function Hh(t,n,s){return t=In(6,t,null,n),t.lanes=s,t}function Ng(t){var n=In(18,null,null,0);return n.stateNode=t,n}function Fh(t,n,s){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xg=new WeakMap;function qn(t,n){if(typeof t=="object"&&t!==null){var s=xg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:lt(n)},xg.set(t,n),n)}return{value:t,source:n,stack:lt(n)}}var Ia=[],Na=0,Du=null,Fo=0,Hn=[],Fn=0,Ds=null,Oi=1,Mi="";function Ji(t,n){Ia[Na++]=Fo,Ia[Na++]=Du,Du=t,Fo=n}function Dg(t,n,s){Hn[Fn++]=Oi,Hn[Fn++]=Mi,Hn[Fn++]=Ds,Ds=t;var o=Oi;t=Mi;var h=32-wt(o)-1;o&=~(1<<h),s+=1;var f=32-wt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Oi=1<<32-wt(n)+h|s<<h|o,Mi=f+t}else Oi=1<<f|s<<h|o,Mi=t}function Gh(t){t.return!==null&&(Ji(t,1),Dg(t,1,0))}function Qh(t){for(;t===Du;)Du=Ia[--Na],Ia[Na]=null,Fo=Ia[--Na],Ia[Na]=null;for(;t===Ds;)Ds=Hn[--Fn],Hn[Fn]=null,Mi=Hn[--Fn],Hn[Fn]=null,Oi=Hn[--Fn],Hn[Fn]=null}function Og(t,n){Hn[Fn++]=Oi,Hn[Fn++]=Mi,Hn[Fn++]=Ds,Oi=n.id,Mi=n.overflow,Ds=t}var Wt=null,pt=null,Ke=!1,Os=null,Gn=!1,Yh=Error(a(519));function Ms(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(qn(n,t)),Yh}function Mg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Dt]=t,n[Qt]=o,s){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(s=0;s<dl.length;s++)Be(dl[s],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Be("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Be("invalid",n);break;case"textarea":Be("invalid",n),As(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||$y(n.textContent,s)?(o.popover!=null&&(Be("beforetoggle",n),Be("toggle",n)),o.onScroll!=null&&Be("scroll",n),o.onScrollEnd!=null&&Be("scrollend",n),o.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||Ms(t,!0)}function Vg(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Wt=Wt.return}}function xa(t){if(t!==Wt)return!1;if(!Ke)return Vg(t),Ke=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||fd(t.type,t.memoizedProps)),s=!s),s&&pt&&Ms(t),Vg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=r_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=r_(t)}else n===27?(n=pt,Ys(t.type)?(t=yd,yd=null,pt=t):pt=n):pt=Wt?Yn(t.stateNode.nextSibling):null;return!0}function Pr(){pt=Wt=null,Ke=!1}function Kh(){var t=Os;return t!==null&&(En===null?En=t:En.push.apply(En,t),Os=null),t}function Go(t){Os===null?Os=[t]:Os.push(t)}var Xh=D(null),zr=null,Wi=null;function Vs(t,n,s){ne(Xh,n._currentValue),n._currentValue=s}function es(t){t._currentValue=Xh.current,Y(Xh)}function $h(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Zh(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$h(f.return,s,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),$h(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Da(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Cn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===ae.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&Zh(n,t,s,o),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function jr(t){zr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return kg(zr,t)}function Mu(t,n){return zr===null&&jr(t),kg(t,n)}function kg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Wi===null){if(t===null)throw Error(a(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return s}var hb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},fb=r.unstable_scheduleCallback,db=r.unstable_NormalPriority,Vt={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new hb,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&fb(db,function(){t.controller.abort()})}var Yo=null,Wh=0,Oa=0,Ma=null;function mb(t,n){if(Yo===null){var s=Yo=[];Wh=0,Oa=id(),Ma={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Wh++,n.then(Ug,Ug),n}function Ug(){if(--Wh===0&&Yo!==null){Ma!==null&&(Ma.status="fulfilled");var t=Yo;Yo=null,Oa=0,Ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function gb(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Lg=L.S;L.S=function(t,n){Ey=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&mb(t,n),Lg!==null&&Lg(t,n)};var Br=D(null);function ef(){var t=Br.current;return t!==null?t:dt.pooledCache}function Vu(t,n){n===null?ne(Br,Br.current):ne(Br,n.pool)}function Pg(){var t=ef();return t===null?null:{parent:Vt._currentValue,pool:t}}var Va=Error(a(460)),tf=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ii,ii),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qg(t),t;default:if(typeof n.status=="string")n.then(ii,ii);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qg(t),t}throw Hr=n,Va}}function qr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Hr=s,Va):s}}var Hr=null;function Bg(){if(Hr===null)throw Error(a(459));var t=Hr;return Hr=null,t}function qg(t){if(t===Va||t===ku)throw Error(a(483))}var ka=null,Ko=0;function Lu(t){var n=Ko;return Ko+=1,ka===null&&(ka=[]),jg(ka,t,n)}function Xo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Hg(t){function n(k,O){if(t){var z=k.deletions;z===null?(k.deletions=[O],k.flags|=16):z.push(O)}}function s(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Zi(k,O),k.index=0,k.sibling=null,k}function f(k,O,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<O?(k.flags|=67108866,O):z):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,z,Q){return O===null||O.tag!==6?(O=Hh(z,k.mode,Q),O.return=k,O):(O=h(O,z),O.return=k,O)}function I(k,O,z,Q){var pe=z.type;return pe===ee?G(k,O,z.props.children,Q,z.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&qr(pe)===O.type)?(O=h(O,z.props),Xo(O,z),O.return=k,O):(O=xu(z.type,z.key,z.props,null,k.mode,Q),Xo(O,z),O.return=k,O)}function j(k,O,z,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Fh(z,k.mode,Q),O.return=k,O):(O=h(O,z.children||[]),O.return=k,O)}function G(k,O,z,Q,pe){return O===null||O.tag!==7?(O=Lr(z,k.mode,Q,pe),O.return=k,O):(O=h(O,z),O.return=k,O)}function K(k,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Hh(""+O,k.mode,z),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return z=xu(O.type,O.key,O.props,null,k.mode,z),Xo(z,O),z.return=k,z;case Z:return O=Fh(O,k.mode,z),O.return=k,O;case w:return O=qr(O),K(k,O,z)}if(xe(O)||U(O))return O=Lr(O,k.mode,z,null),O.return=k,O;if(typeof O.then=="function")return K(k,Lu(O),z);if(O.$$typeof===me)return K(k,Mu(k,O),z);Pu(k,O)}return null}function B(k,O,z,Q){var pe=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:E(k,O,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return z.key===pe?I(k,O,z,Q):null;case Z:return z.key===pe?j(k,O,z,Q):null;case w:return z=qr(z),B(k,O,z,Q)}if(xe(z)||U(z))return pe!==null?null:G(k,O,z,Q,null);if(typeof z.then=="function")return B(k,O,Lu(z),Q);if(z.$$typeof===me)return B(k,O,Mu(k,z),Q);Pu(k,z)}return null}function F(k,O,z,Q,pe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(z)||null,E(O,k,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return k=k.get(Q.key===null?z:Q.key)||null,I(O,k,Q,pe);case Z:return k=k.get(Q.key===null?z:Q.key)||null,j(O,k,Q,pe);case w:return Q=qr(Q),F(k,O,z,Q,pe)}if(xe(Q)||U(Q))return k=k.get(z)||null,G(O,k,Q,pe,null);if(typeof Q.then=="function")return F(k,O,z,Lu(Q),pe);if(Q.$$typeof===me)return F(k,O,z,Mu(O,Q),pe);Pu(O,Q)}return null}function le(k,O,z,Q){for(var pe=null,We=null,he=O,ke=O=0,Fe=null;he!==null&&ke<z.length;ke++){he.index>ke?(Fe=he,he=null):Fe=he.sibling;var et=B(k,he,z[ke],Q);if(et===null){he===null&&(he=Fe);break}t&&he&&et.alternate===null&&n(k,he),O=f(et,O,ke),We===null?pe=et:We.sibling=et,We=et,he=Fe}if(ke===z.length)return s(k,he),Ke&&Ji(k,ke),pe;if(he===null){for(;ke<z.length;ke++)he=K(k,z[ke],Q),he!==null&&(O=f(he,O,ke),We===null?pe=he:We.sibling=he,We=he);return Ke&&Ji(k,ke),pe}for(he=o(he);ke<z.length;ke++)Fe=F(he,k,ke,z[ke],Q),Fe!==null&&(t&&Fe.alternate!==null&&he.delete(Fe.key===null?ke:Fe.key),O=f(Fe,O,ke),We===null?pe=Fe:We.sibling=Fe,We=Fe);return t&&he.forEach(function(Js){return n(k,Js)}),Ke&&Ji(k,ke),pe}function ve(k,O,z,Q){if(z==null)throw Error(a(151));for(var pe=null,We=null,he=O,ke=O=0,Fe=null,et=z.next();he!==null&&!et.done;ke++,et=z.next()){he.index>ke?(Fe=he,he=null):Fe=he.sibling;var Js=B(k,he,et.value,Q);if(Js===null){he===null&&(he=Fe);break}t&&he&&Js.alternate===null&&n(k,he),O=f(Js,O,ke),We===null?pe=Js:We.sibling=Js,We=Js,he=Fe}if(et.done)return s(k,he),Ke&&Ji(k,ke),pe;if(he===null){for(;!et.done;ke++,et=z.next())et=K(k,et.value,Q),et!==null&&(O=f(et,O,ke),We===null?pe=et:We.sibling=et,We=et);return Ke&&Ji(k,ke),pe}for(he=o(he);!et.done;ke++,et=z.next())et=F(he,k,ke,et.value,Q),et!==null&&(t&&et.alternate!==null&&he.delete(et.key===null?ke:et.key),O=f(et,O,ke),We===null?pe=et:We.sibling=et,We=et);return t&&he.forEach(function(R1){return n(k,R1)}),Ke&&Ji(k,ke),pe}function ft(k,O,z,Q){if(typeof z=="object"&&z!==null&&z.type===ee&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case q:e:{for(var pe=z.key;O!==null;){if(O.key===pe){if(pe=z.type,pe===ee){if(O.tag===7){s(k,O.sibling),Q=h(O,z.props.children),Q.return=k,k=Q;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&qr(pe)===O.type){s(k,O.sibling),Q=h(O,z.props),Xo(Q,z),Q.return=k,k=Q;break e}s(k,O);break}else n(k,O);O=O.sibling}z.type===ee?(Q=Lr(z.props.children,k.mode,Q,z.key),Q.return=k,k=Q):(Q=xu(z.type,z.key,z.props,null,k.mode,Q),Xo(Q,z),Q.return=k,k=Q)}return p(k);case Z:e:{for(pe=z.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){s(k,O.sibling),Q=h(O,z.children||[]),Q.return=k,k=Q;break e}else{s(k,O);break}else n(k,O);O=O.sibling}Q=Fh(z,k.mode,Q),Q.return=k,k=Q}return p(k);case w:return z=qr(z),ft(k,O,z,Q)}if(xe(z))return le(k,O,z,Q);if(U(z)){if(pe=U(z),typeof pe!="function")throw Error(a(150));return z=pe.call(z),ve(k,O,z,Q)}if(typeof z.then=="function")return ft(k,O,Lu(z),Q);if(z.$$typeof===me)return ft(k,O,Mu(k,z),Q);Pu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(s(k,O.sibling),Q=h(O,z),Q.return=k,k=Q):(s(k,O),Q=Hh(z,k.mode,Q),Q.return=k,k=Q),p(k)):s(k,O)}return function(k,O,z,Q){try{Ko=0;var pe=ft(k,O,z,Q);return ka=null,pe}catch(he){if(he===Va||he===ku)throw he;var We=In(29,he,null,k.mode);return We.lanes=Q,We.return=k,We}}}var Fr=Hg(!0),Fg=Hg(!1),ks=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(nt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(t),Cg(t,null,s),n}return Iu(t,o,n,s),Nu(t)}function $o(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,So(t,s)}}function rf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var af=!1;function Zo(){if(af){var t=Ma;if(t!==null)throw t}}function Jo(t,n,s,o){af=!1;var h=t.updateQueue;ks=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,p===null?f=j:p.next=j,p=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;p=0,G=j=I=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(He&B)===B:(o&B)===B){B!==0&&B===Oa&&(af=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,ve=E;B=n;var ft=s;switch(ve.tag){case 1:if(le=ve.payload,typeof le=="function"){K=le.call(ft,K,B);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ve.payload,B=typeof le=="function"?le.call(ft,K,B):le,B==null)break e;K=A({},K,B);break e;case 2:ks=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=F,I=K):G=G.next=F,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(I=K),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),qs|=p,t.lanes=p,t.memoizedState=K}}function Gg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Qg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Gg(s[t],n)}var Ua=D(null),zu=D(0);function Yg(t,n){t=us,ne(zu,t),ne(Ua,n),us=t|n.baseLanes}function of(){ne(zu,us),ne(Ua,Ua.current)}function lf(){us=zu.current,Y(Ua),Y(zu)}var Nn=D(null),Qn=null;function Ps(t){var n=t.alternate;ne(Ct,Ct.current&1),ne(Nn,t),Qn===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(Qn=t)}function uf(t){ne(Ct,Ct.current),ne(Nn,t),Qn===null&&(Qn=t)}function Kg(t){t.tag===22?(ne(Ct,Ct.current),ne(Nn,t),Qn===null&&(Qn=t)):zs()}function zs(){ne(Ct,Ct.current),ne(Nn,Nn.current)}function xn(t){Y(Nn),Qn===t&&(Qn=null),Y(Ct)}var Ct=D(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Me=null,ct=null,kt=null,Bu=!1,La=!1,Gr=!1,qu=0,Wo=0,Pa=null,pb=0;function St(){throw Error(a(321))}function cf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Cn(t[s],n[s]))return!1;return!0}function hf(t,n,s,o,h,f){return ts=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?Dp:Rf,Gr=!1,f=s(o,h),Gr=!1,La&&(f=$g(n,s,o,h)),Xg(t),f}function Xg(t){L.H=nl;var n=ct!==null&&ct.next!==null;if(ts=0,kt=ct=Me=null,Bu=!1,Wo=0,Pa=null,n)throw Error(a(300));t===null||Ut||(t=t.dependencies,t!==null&&Ou(t)&&(Ut=!0))}function $g(t,n,s,o){Me=t;var h=0;do{if(La&&(Pa=null),Wo=0,La=!1,25<=h)throw Error(a(301));if(h+=1,kt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=Op,f=n(s,o)}while(La);return f}function yb(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Me.flags|=1024),n}function ff(){var t=qu!==0;return qu=0,t}function df(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function mf(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}ts=0,kt=ct=Me=null,La=!1,Wo=qu=0,Pa=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Me.memoizedState=kt=t:kt=kt.next=t,kt}function It(){if(ct===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=kt===null?Me.memoizedState:kt.next;if(n!==null)kt=n,ct=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},kt===null?Me.memoizedState=kt=t:kt=kt.next=t}return kt}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=Wo;return Wo+=1,Pa===null&&(Pa=[]),t=jg(Pa,t,n),n=Me,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Dp:Rf),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===me)return en(t)}throw Error(a(438,String(t)))}function gf(t){var n=null,s=Me.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),Me.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=M;return n.index++,s}function ns(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=It();return pf(n,ct,t)}function pf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,I=null,j=n,G=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(He&K)===K:(ts&K)===K){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===Oa&&(G=!0);else if((ts&B)===B){j=j.next,B===Oa&&(G=!0);continue}else K={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=K,p=f):I=I.next=K,Me.lanes|=B,qs|=B;K=j.action,Gr&&s(f,K),f=j.hasEagerState?j.eagerState:s(f,K)}else B={lane:K,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=B,p=f):I=I.next=B,Me.lanes|=K,qs|=K;j=j.next}while(j!==null&&j!==n);if(I===null?p=f:I.next=E,!Cn(f,t.memoizedState)&&(Ut=!0,G&&(s=Ma,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function yf(t){var n=It(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Cn(f,n.memoizedState)||(Ut=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Zg(t,n,s){var o=Me,h=It(),f=Ke;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Cn((ct||h).memoizedState,s);if(p&&(h.memoizedState=s,Ut=!0),h=h.queue,Ef(ep.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},Wg.bind(null,o,h,s,n),null),dt===null)throw Error(a(349));f||(ts&127)!==0||Jg(o,n,s)}return s}function Jg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Me.updateQueue,n===null?(n=Hu(),Me.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Wg(t,n,s,o){n.value=s,n.getSnapshot=o,tp(n)&&np(t)}function ep(t,n,s){return s(function(){tp(n)&&np(t)})}function tp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Cn(t,s)}catch{return!0}}function np(t){var n=Ur(t,2);n!==null&&Tn(n,t,2)}function _f(t){var n=dn();if(typeof t=="function"){var s=t;if(t=s(),Gr){Un(!0);try{s()}finally{Un(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function ip(t,n,s,o){return t.baseState=s,pf(t,ct,typeof o=="function"?o:ns)}function _b(t,n,s,o,h){if(Ku(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};L.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,sp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sp(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=L.T,p={};L.T=p;try{var E=s(h,o),I=L.S;I!==null&&I(p,E),rp(t,n,E)}catch(j){vf(t,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),L.T=f}}else try{f=s(h,o),rp(t,n,f)}catch(j){vf(t,n,j)}}function rp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ap(t,n,o)},function(o){return vf(t,n,o)}):ap(t,n,s)}function ap(t,n,s){n.status="fulfilled",n.value=s,op(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,sp(t,s)))}function vf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,op(n),n=n.next;while(n!==o)}t.action=null}function op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lp(t,n){return n}function up(t,n){if(Ke){var s=dt.formState;if(s!==null){e:{var o=Me;if(Ke){if(pt){t:{for(var h=pt,f=Gn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=Yn(h.nextSibling),o=h.data==="F!";break e}}Ms(o)}o=!1}o&&(n=s[0])}}return s=dn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:n},s.queue=o,s=Ip.bind(null,Me,o),o.dispatch=s,o=_f(!1),f=wf.bind(null,Me,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=_b.bind(null,Me,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function cp(t){var n=It();return hp(n,ct,t)}function hp(t,n,s){if(n=pf(t,n,lp)[0],t=Gu(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(p){throw p===Va?ku:p}else o=n;n=It();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Me.flags|=2048,za(9,{destroy:void 0},vb.bind(null,h,s),null)),[o,f,t]}function vb(t,n){t.action=n}function fp(t){var n=It(),s=ct;if(s!==null)return hp(n,s,t);It(),n=n.memoizedState,s=It();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function za(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Hu(),Me.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function dp(){return It().memoizedState}function Qu(t,n,s,o){var h=dn();Me.flags|=t,h.memoizedState=za(1|n,{destroy:void 0},s,o===void 0?null:o)}function Yu(t,n,s,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;ct!==null&&o!==null&&cf(o,ct.memoizedState.deps)?h.memoizedState=za(n,f,s,o):(Me.flags|=t,h.memoizedState=za(1|n,f,s,o))}function mp(t,n){Qu(8390656,8,t,n)}function Ef(t,n){Yu(2048,8,t,n)}function Eb(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Hu(),Me.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function gp(t){var n=It().memoizedState;return Eb({ref:n,nextImpl:t}),function(){if((nt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function pp(t,n){return Yu(4,2,t,n)}function yp(t,n){return Yu(4,4,t,n)}function _p(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function vp(t,n,s){s=s!=null?s.concat([t]):null,Yu(4,4,_p.bind(null,n,t),s)}function Tf(){}function Ep(t,n){var s=It();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&cf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Tp(t,n){var s=It();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&cf(n,o[1]))return o[0];if(o=t(),Gr){Un(!0);try{t()}finally{Un(!1)}}return s.memoizedState=[o,n],o}function bf(t,n,s){return s===void 0||(ts&1073741824)!==0&&(He&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=by(),Me.lanes|=t,qs|=t,s)}function bp(t,n,s,o){return Cn(s,n)?s:Ua.current!==null?(t=bf(t,s,o),Cn(t,n)||(Ut=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(He&261930)===0?(Ut=!0,t.memoizedState=s):(t=by(),Me.lanes|=t,qs|=t,n)}function Sp(t,n,s,o,h){var f=$.p;$.p=f!==0&&8>f?f:8;var p=L.T,E={};L.T=E,wf(t,!1,n,s);try{var I=h(),j=L.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=gb(I,o);tl(t,n,G,Mn(t))}else tl(t,n,o,Mn(t))}catch(K){tl(t,n,{then:function(){},status:"rejected",reason:K},Mn())}finally{$.p=f,p!==null&&E.types!==null&&(p.types=E.types),L.T=p}}function Tb(){}function Sf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Ap(t).queue;Sp(t,h,n,se,s===null?Tb:function(){return wp(t),s(o)})}function Ap(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:se},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wp(t){var n=Ap(t);n.next===null&&(n=t.alternate.memoizedState),tl(t,n.next.queue,{},Mn())}function Af(){return en(_l)}function Rp(){return It().memoizedState}function Cp(){return It().memoizedState}function bb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Mn();t=Us(s);var o=Ls(n,t,s);o!==null&&(Tn(o,n,s),$o(o,n,s)),n={cache:Jh()},t.payload=n;return}n=n.return}}function Sb(t,n,s){var o=Mn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(t)?Np(n,s):(s=Bh(t,n,s,o),s!==null&&(Tn(s,t,o),xp(s,n,o)))}function Ip(t,n,s){var o=Mn();tl(t,n,s,o)}function tl(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))Np(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,Cn(E,p))return Iu(t,n,h,0),dt===null&&Cu(),!1}catch{}if(s=Bh(t,n,h,o),s!==null)return Tn(s,t,o),xp(s,n,o),!0}return!1}function wf(t,n,s,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(n)throw Error(a(479))}else n=Bh(t,s,o,2),n!==null&&Tn(n,t,2)}function Ku(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Np(t,n){La=Bu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function xp(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,So(t,s)}}var nl={readContext:en,use:Fu,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};nl.useEffectEvent=St;var Dp={readContext:en,use:Fu,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:en,useEffect:mp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Qu(4194308,4,_p.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var s=dn();n=n===void 0?null:n;var o=t();if(Gr){Un(!0);try{t()}finally{Un(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=dn();if(s!==void 0){var h=s(n);if(Gr){Un(!0);try{s(n)}finally{Un(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Sb.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=_f(t);var n=t.queue,s=Ip.bind(null,Me,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(t,n){var s=dn();return bf(s,t,n)},useTransition:function(){var t=_f(!1);return t=Sp.bind(null,Me,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Me,h=dn();if(Ke){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),dt===null)throw Error(a(349));(He&127)!==0||Jg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mp(ep.bind(null,o,f,t),[t]),o.flags|=2048,za(9,{destroy:void 0},Wg.bind(null,o,f,s,n),null),s},useId:function(){var t=dn(),n=dt.identifierPrefix;if(Ke){var s=Mi,o=Oi;s=(o&~(1<<32-wt(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=pb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Af,useFormState:up,useActionState:up,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,Me,!0,s),s.dispatch=n,[t,n]},useMemoCache:gf,useCacheRefresh:function(){return dn().memoizedState=bb.bind(null,Me)},useEffectEvent:function(t){var n=dn(),s={impl:t};return n.memoizedState=s,function(){if((nt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:en,use:Fu,useCallback:Ep,useContext:en,useEffect:Ef,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:Gu,useRef:dp,useState:function(){return Gu(ns)},useDebugValue:Tf,useDeferredValue:function(t,n){var s=It();return bp(s,ct.memoizedState,t,n)},useTransition:function(){var t=Gu(ns)[0],n=It().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:Zg,useId:Rp,useHostTransitionStatus:Af,useFormState:cp,useActionState:cp,useOptimistic:function(t,n){var s=It();return ip(s,ct,t,n)},useMemoCache:gf,useCacheRefresh:Cp};Rf.useEffectEvent=gp;var Op={readContext:en,use:Fu,useCallback:Ep,useContext:en,useEffect:Ef,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:yf,useRef:dp,useState:function(){return yf(ns)},useDebugValue:Tf,useDeferredValue:function(t,n){var s=It();return ct===null?bf(s,t,n):bp(s,ct.memoizedState,t,n)},useTransition:function(){var t=yf(ns)[0],n=It().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:Zg,useId:Rp,useHostTransitionStatus:Af,useFormState:fp,useActionState:fp,useOptimistic:function(t,n){var s=It();return ct!==null?ip(s,ct,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Cp};Op.useEffectEvent=gp;function Cf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var If={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Mn(),h=Us(o);h.payload=n,s!=null&&(h.callback=s),n=Ls(t,h,o),n!==null&&(Tn(n,t,o),$o(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Mn(),h=Us(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ls(t,h,o),n!==null&&(Tn(n,t,o),$o(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Mn(),o=Us(s);o.tag=2,n!=null&&(o.callback=n),n=Ls(t,o,s),n!==null&&(Tn(n,t,s),$o(n,t,s))}};function Mp(t,n,s,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!qo(s,o)||!qo(h,f):!0}function Vp(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&If.enqueueReplaceState(n,n.state,null)}function Qr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function kp(t){Ru(t)}function Up(t){console.error(t)}function Lp(t){Ru(t)}function Xu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pp(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,n,s){return s=Us(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(t,n)},s}function zp(t){return t=Us(t),t.tag=3,t}function jp(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Pp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Pp(n,s,o),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Ab(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Da(n,s,h,!0),s=Nn.current,s!==null){switch(s.tag){case 31:case 13:return Qn===null?oc():s.alternate===null&&At===0&&(At=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(t,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(t,o,h)),!1}throw Error(a(435,s.tag))}return ed(t,o,h),oc(),!1}if(Ke)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(t=Error(a(422),{cause:o}),Go(qn(t,s)))):(o!==Yh&&(n=Error(a(423),{cause:o}),Go(qn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=qn(o,s),h=Nf(t.stateNode,o,h),rf(t,h),At!==4&&(At=2)),!1;var f=Error(a(520),{cause:o});if(f=qn(f,s),cl===null?cl=[f]:cl.push(f),At!==4&&(At=2),n===null)return!0;o=qn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Nf(s.stateNode,o,t),rf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zp(h),jp(h,t,s,o),rf(s,h),!1}s=s.return}while(s!==null);return!1}var xf=Error(a(461)),Ut=!1;function tn(t,n,s,o){n.child=t===null?Fg(n,null,s,o):Fr(n,t.child,s,o)}function Bp(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return jr(n),o=hf(t,n,s,p,f,h),E=ff(),t!==null&&!Ut?(df(t,n,h),is(t,n,h)):(Ke&&E&&Gh(n),n.flags|=1,tn(t,n,o,h),n.child)}function qp(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hp(t,n,f,o,h)):(t=xu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Pf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:qo,s(p,o)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Zi(f,o),t.ref=n.ref,t.return=n,n.child=t}function Hp(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(qo(f,o)&&t.ref===n.ref)if(Ut=!1,n.pendingProps=o=f,Pf(t,h))(t.flags&131072)!==0&&(Ut=!0);else return n.lanes=t.lanes,is(t,n,h)}return Df(t,n,s,o,h)}function Fp(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Gp(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Yg(n,f):of(),Kg(n);else return o=n.lanes=536870912,Gp(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Vu(n,f.cachePool),Yg(n,f),zs(),n.memoizedState=null):(t!==null&&Vu(n,null),of(),zs());return tn(t,n,h,s),n.child}function il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gp(t,n,s,o,h){var f=ef();return f=f===null?null:{parent:Vt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Vu(n,null),of(),Kg(n),t!==null&&Da(t,n,o,!0),n.childLanes=h,null}function $u(t,n){return n=Ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Qp(t,n,s){return Fr(n,t.child,null,s),t=$u(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function wb(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(o.mode==="hidden")return t=$u(n,o),n.lanes=536870912,il(null,t);if(uf(n),(t=pt)?(t=s_(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(t),s.return=n,n.child=s,Wt=n,pt=null)):t=null,t===null)throw Ms(n);return n.lanes=536870912,null}return $u(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Qp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ut||Da(t,n,s,!1),h=(s&t.childLanes)!==0,Ut||h){if(o=dt,o!==null&&(p=Ao(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ur(t,p),Tn(o,t,p),xf;oc(),n=Qp(t,n,s)}else t=f.treeContext,pt=Yn(p.nextSibling),Wt=n,Ke=!0,Os=null,Gn=!1,t!==null&&Og(n,t),n=$u(n,o),n.flags|=4096;return n}return t=Zi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Df(t,n,s,o,h){return jr(n),s=hf(t,n,s,o,void 0,h),o=ff(),t!==null&&!Ut?(df(t,n,h),is(t,n,h)):(Ke&&o&&Gh(n),n.flags|=1,tn(t,n,s,h),n.child)}function Yp(t,n,s,o,h,f){return jr(n),n.updateQueue=null,s=$g(n,o,s,h),Xg(t),o=ff(),t!==null&&!Ut?(df(t,n,f),is(t,n,f)):(Ke&&o&&Gh(n),n.flags|=1,tn(t,n,s,f),n.child)}function Kp(t,n,s,o,h){if(jr(n),n.stateNode===null){var f=Ca,p=s.contextType;typeof p=="object"&&p!==null&&(f=en(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?en(p):Ca,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Cf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Qr(s,E);f.props=I;var j=f.context,G=s.contextType;p=Ca,typeof G=="object"&&G!==null&&(p=en(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&Vp(n,f,o,p),ks=!1;var B=n.memoizedState;f.state=B,Jo(n,o,f,h),Zo(),j=n.memoizedState,E||B!==j||ks?(typeof K=="function"&&(Cf(n,s,K,o),j=n.memoizedState),(I=ks||Mp(n,s,I,o,B,j,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(t,n),p=n.memoizedProps,G=Qr(s,p),f.props=G,K=n.pendingProps,B=f.context,j=s.contextType,I=Ca,typeof j=="object"&&j!==null&&(I=en(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||B!==I)&&Vp(n,f,o,I),ks=!1,B=n.memoizedState,f.state=B,Jo(n,o,f,h),Zo();var F=n.memoizedState;p!==K||B!==F||ks||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof E=="function"&&(Cf(n,s,E,o),F=n.memoizedState),(G=ks||Mp(n,s,G,o,B,F,I)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Fr(n,t.child,null,h),n.child=Fr(n,null,s,h)):tn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function Xp(t,n,s,o){return Pr(),n.flags|=256,tn(t,n,s,o),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:Pg()}}function Vf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=On),t}function $p(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?Ps(n):zs(),(t=pt)?(t=s_(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=Ng(t),s.return=n,n.child=s,Wt=n,pt=null)):t=null,t===null)throw Ms(n);return pd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(zs(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Lr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Mf(s),o.childLanes=Vf(t,p,s),n.memoizedState=Of,il(null,o)):(Ps(n),kf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=Uf(t,n,s)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Lr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Fr(n,t.child,null,s),o=n.child,o.memoizedState=Mf(s),o.childLanes=Vf(t,p,s),n.memoizedState=Of,n=il(null,o));else if(Ps(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(a(419)),o.stack="",o.digest=p,Go({value:o,source:null,stack:null}),n=Uf(t,n,s)}else if(Ut||Da(t,n,s,!1),p=(s&t.childLanes)!==0,Ut||p){if(p=dt,p!==null&&(o=Ao(p,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ur(t,o),Tn(p,t,o),xf;gd(E)||oc(),n=Uf(t,n,s)}else gd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,pt=Yn(E.nextSibling),Wt=n,Ke=!0,Os=null,Gn=!1,t!==null&&Og(n,t),n=kf(n,o.children),n.flags|=4096);return n}return h?(zs(),E=o.fallback,h=n.mode,I=t.child,j=I.sibling,o=Zi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?E=Zi(j,E):(E=Lr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Mf(s):(h=E.cachePool,h!==null?(I=Vt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Pg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Vf(t,p,s),n.memoizedState=Of,il(t.child,o)):(Ps(n),s=t.child,t=s.sibling,s=Zi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function kf(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=In(22,t,null,n),t.lanes=0,t}function Uf(t,n,s){return Fr(n,t.child,null,s),t=kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Zp(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),$h(t.return,n,s)}function Lf(t,n,s,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Jp(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ct.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ne(Ct,p),tn(t,n,o,s),o=Ke?Fo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zp(t,s,n);else if(t.tag===19)Zp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&ju(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Lf(n,!0,s,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),qs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Da(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Zi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Zi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function Rb(t,n,s){switch(n.tag){case 3:Ze(n,n.stateNode.containerInfo),Vs(n,Vt,t.memoizedState.cache),Pr();break;case 27:case 5:Gt(n);break;case 4:Ze(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ps(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$p(t,n,s):(Ps(n),t=is(t,n,s),t!==null?t.sibling:null);Ps(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Da(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Jp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Ct,Ct.current),o)break;return null;case 22:return n.lanes=0,Fp(t,n,s,n.pendingProps);case 24:Vs(n,Vt,t.memoizedState.cache)}return is(t,n,s)}function Wp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ut=!0;else{if(!Pf(t,s)&&(n.flags&128)===0)return Ut=!1,Rb(t,n,s);Ut=(t.flags&131072)!==0}else Ut=!1,Ke&&(n.flags&1048576)!==0&&Dg(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=qr(n.elementType),n.type=t,typeof t=="function")qh(t)?(o=Qr(t,o),n.tag=1,n=Kp(null,n,t,o,s)):(n.tag=0,n=Df(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===ze){n.tag=11,n=Bp(null,n,t,o,s);break e}else if(h===N){n.tag=14,n=qp(null,n,t,o,s);break e}}throw n=it(t)||t,Error(a(306,n,""))}}return n;case 0:return Df(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Qr(o,n.pendingProps),Kp(t,n,o,h,s);case 3:e:{if(Ze(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,sf(t,n),Jo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Vs(n,Vt,o),o!==f.cache&&Zh(n,[Vt],s,!0),Zo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xp(t,n,o,s);break e}else if(o!==h){h=qn(Error(a(424)),n),Go(h),n=Xp(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=Yn(t.firstChild),Wt=n,Ke=!0,Os=null,Gn=!0,s=Fg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Pr(),o===h){n=is(t,n,s);break e}tn(t,n,o,s)}n=n.child}return n;case 26:return Zu(t,n),t===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ke||(s=n.type,t=n.pendingProps,o=mc(we.current).createElement(s),o[Dt]=n,o[Qt]=t,nn(o,s,t),Ot(o),n.stateNode=o):n.memoizedState=c_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Gt(n),t===null&&Ke&&(o=n.stateNode=o_(n.type,n.pendingProps,we.current),Wt=n,Gn=!0,h=pt,Ys(n.type)?(yd=h,pt=Yn(o.firstChild)):pt=h),tn(t,n,n.pendingProps.children,s),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=o=pt)&&(o=n1(o,n.type,n.pendingProps,Gn),o!==null?(n.stateNode=o,Wt=n,pt=Yn(o.firstChild),Gn=!1,h=!0):h=!1),h||Ms(n)),Gt(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,fd(h,f)?o=null:p!==null&&fd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(t,n,yb,null,null,s),_l._currentValue=h),Zu(t,n),tn(t,n,o,s),n.child;case 6:return t===null&&Ke&&((t=s=pt)&&(s=i1(s,n.pendingProps,Gn),s!==null?(n.stateNode=s,Wt=n,pt=null,t=!0):t=!1),t||Ms(n)),null;case 13:return $p(t,n,s);case 4:return Ze(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Fr(n,null,o,s):tn(t,n,o,s),n.child;case 11:return Bp(t,n,n.type,n.pendingProps,s);case 7:return tn(t,n,n.pendingProps,s),n.child;case 8:return tn(t,n,n.pendingProps.children,s),n.child;case 12:return tn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Vs(n,n.type,o.value),tn(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=en(h),o=o(h),n.flags|=1,tn(t,n,o,s),n.child;case 14:return qp(t,n,n.type,n.pendingProps,s);case 15:return Hp(t,n,n.type,n.pendingProps,s);case 19:return Jp(t,n,s);case 31:return wb(t,n,s);case 22:return Fp(t,n,s,n.pendingProps);case 24:return jr(n),o=en(Vt),t===null?(h=ef(),h===null&&(h=dt,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},nf(n),Vs(n,Vt,h)):((t.lanes&s)!==0&&(sf(t,n),Jo(n,null,null,s),Zo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,Vt,o)):(o=f.cache,Vs(n,Vt,o),o!==h.cache&&Zh(n,[Vt],s,!0))),tn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ss(t){t.flags|=4}function zf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ry())t.flags|=8192;else throw Hr=Uu,tf}else t.flags&=-16777217}function ey(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!g_(n))if(Ry())t.flags|=8192;else throw Hr=Uu,tf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,Ha|=n)}function sl(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function Cb(t,n,s){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),es(Vt),qe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(xa(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(yt(n),ey(n,f)):(yt(n),zf(n,h,null,o,s))):f?f!==t.memoizedState?(ss(n),yt(n),ey(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(n),yt(n),zf(n,h,t,o,s)),null;case 27:if(An(n),s=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}t=re.current,xa(n)?Mg(n):(t=o_(h,o,s),n.stateNode=t,ss(n))}return yt(n),null;case 5:if(An(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return yt(n),null}if(f=re.current,xa(n))Mg(n);else{var p=mc(we.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Dt]=n,f[Qt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(nn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(n)}}return yt(n),zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=we.current,xa(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||$y(t.nodeValue,s)),t||Ms(n,!0)}else t=mc(t).createTextNode(o),t[Dt]=n,n.stateNode=t}return yt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=xa(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Dt]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else s=Kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Dt]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=Kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),yt(n),null);case 4:return qe(),t===null&&od(n.stateNode.containerInfo),yt(n),null;case 10:return es(n.type),yt(n),null;case 19:if(Y(Ct),o=n.memoizedState,o===null)return yt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(At!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ju(t),f!==null){for(n.flags|=128,sl(o,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Ig(s,t),s=s.sibling;return ne(Ct,Ct.current&1|2),Ke&&Ji(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Je()>sc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(t=ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ke)return yt(n),null}else 2*Je()-o.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,s=Ct.current,ne(Ct,h?s&1|2:s&1),Ke&&Ji(n,o.treeForkCount),t):(yt(n),null);case 22:case 23:return xn(n),lf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&Y(Br),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),es(Vt),yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Ib(t,n){switch(Qh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(Vt),qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return An(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ct),null;case 4:return qe(),null;case 10:return es(n.type),null;case 22:case 23:return xn(n),lf(),t!==null&&Y(Br),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(Vt),null;case 25:return null;default:return null}}function ty(t,n){switch(Qh(n),n.tag){case 3:es(Vt),qe();break;case 26:case 27:case 5:An(n);break;case 4:qe();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:Y(Ct);break;case 10:es(n.type);break;case 22:case 23:xn(n),lf(),t!==null&&Y(Br);break;case 24:es(Vt)}}function rl(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){ot(n,n.return,E)}}function js(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,j=E;try{j()}catch(G){ot(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){ot(n,n.return,G)}}function ny(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Qg(n,s)}catch(o){ot(t,t.return,o)}}}function iy(t,n,s){s.props=Qr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){ot(t,n,o)}}function al(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){ot(t,n,h)}}function Vi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ot(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ot(t,n,h)}else s.current=null}function sy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ot(t,t.return,h)}}function jf(t,n,s){try{var o=t.stateNode;$b(o,t.type,s,n),o[Qt]=n}catch(h){ot(t,t.return,h)}}function ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ii));else if(o!==4&&(o===27&&Ys(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(qf(t,n,s),t=t.sibling;t!==null;)qf(t,n,s),t=t.sibling}function ec(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ys(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ec(t,n,s),t=t.sibling;t!==null;)ec(t,n,s),t=t.sibling}function ay(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);nn(n,o,s),n[Dt]=t,n[Qt]=s}catch(f){ot(t,t.return,f)}}var rs=!1,Lt=!1,Hf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function Nb(t,n){if(t=t.containerInfo,cd=Tc,t=vg(t),kh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,I=-1,j=0,G=0,K=t,B=null;t:for(;;){for(var F;K!==s||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(I=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(F=K.firstChild)!==null;)B=K,K=F;for(;;){if(K===t)break t;if(B===s&&++j===h&&(E=p),B===f&&++G===o&&(I=p),(F=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=F}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:t,selectionRange:s},Tc=!1,Kt=n;Kt!==null;)if(n=Kt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Kt=t;else for(;Kt!==null;){switch(n=Kt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var le=Qr(s.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){ot(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)md(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Kt=t;break}Kt=n.return}}function ly(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:os(t,s),o&4&&rl(5,s);break;case 1:if(os(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){ot(s,s.return,p)}else{var h=Qr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ot(s,s.return,p)}}o&64&&ny(s),o&512&&al(s,s.return);break;case 3:if(os(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qg(t,n)}catch(p){ot(s,s.return,p)}}break;case 27:n===null&&o&4&&ay(s);case 26:case 5:os(t,s),n===null&&o&4&&sy(s),o&512&&al(s,s.return);break;case 12:os(t,s);break;case 31:os(t,s),o&4&&hy(t,s);break;case 13:os(t,s),o&4&&fy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Pb.bind(null,s),s1(t,s))));break;case 22:if(o=s.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||Lt,h=rs;var f=Lt;rs=o,(Lt=n)&&!f?ls(t,s,(s.subtreeFlags&8772)!==0):os(t,s),rs=h,Lt=f}break;case 30:break;default:os(t,s)}}function uy(t){var n=t.alternate;n!==null&&(t.alternate=null,uy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&da(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,yn=!1;function as(t,n,s){for(s=s.child;s!==null;)cy(t,n,s),s=s.sibling}function cy(t,n,s){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Wn,s)}catch{}switch(s.tag){case 26:Lt||Vi(s,n),as(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Lt||Vi(s,n);var o=Tt,h=yn;Ys(s.type)&&(Tt=s.stateNode,yn=!1),as(t,n,s),gl(s.stateNode),Tt=o,yn=h;break;case 5:Lt||Vi(s,n);case 6:if(o=Tt,h=yn,Tt=null,as(t,n,s),Tt=o,yn=h,Tt!==null)if(yn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(s.stateNode)}catch(f){ot(s,n,f)}else try{Tt.removeChild(s.stateNode)}catch(f){ot(s,n,f)}break;case 18:Tt!==null&&(yn?(t=Tt,n_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Za(t)):n_(Tt,s.stateNode));break;case 4:o=Tt,h=yn,Tt=s.stateNode.containerInfo,yn=!0,as(t,n,s),Tt=o,yn=h;break;case 0:case 11:case 14:case 15:js(2,s,n),Lt||js(4,s,n),as(t,n,s);break;case 1:Lt||(Vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&iy(s,n,o)),as(t,n,s);break;case 21:as(t,n,s);break;case 22:Lt=(o=Lt)||s.memoizedState!==null,as(t,n,s),Lt=o;break;default:as(t,n,s)}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(s){ot(n,n.return,s)}}}function fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(s){ot(n,n.return,s)}}function xb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new oy),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var s=xb(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=zb.bind(null,t,o);o.then(h,h)}})}function _n(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){Tt=E.stateNode,yn=!1;break e}break;case 5:Tt=E.stateNode,yn=!1;break e;case 3:case 4:Tt=E.stateNode.containerInfo,yn=!0;break e}E=E.return}if(Tt===null)throw Error(a(160));cy(f,p,h),Tt=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,t),n=n.sibling}var ui=null;function dy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(n,t),vn(t),o&4&&(js(3,t,t.return),rl(3,t),js(5,t,t.return));break;case 1:_n(n,t),vn(t),o&512&&(Lt||s===null||Vi(s,s.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ui;if(_n(n,t),vn(t),o&512&&(Lt||s===null||Vi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),nn(f,o,s),f[Dt]=t,Ot(f),o=f;break e;case"link":var p=d_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),nn(f,o,s),h.head.appendChild(f);break;case"meta":if(p=d_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=h.createElement(o),nn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Dt]=t,Ot(f),o=f}t.stateNode=o}else m_(h,t.type,t.stateNode);else t.stateNode=f_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?m_(h,t.type,t.stateNode):f_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&jf(t,t.memoizedProps,s.memoizedProps)}break;case 27:_n(n,t),vn(t),o&512&&(Lt||s===null||Vi(s,s.return)),s!==null&&o&4&&jf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(_n(n,t),vn(t),o&512&&(Lt||s===null||Vi(s,s.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(le){ot(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,jf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(_n(n,t),vn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(le){ot(t,t.return,le)}}break;case 3:if(yc=null,h=ui,ui=gc(n.containerInfo),_n(n,t),ui=h,vn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Za(n.containerInfo)}catch(le){ot(t,t.return,le)}Hf&&(Hf=!1,my(t));break;case 4:o=ui,ui=gc(t.stateNode.containerInfo),_n(n,t),vn(t),ui=o;break;case 12:_n(n,t),vn(t);break;case 31:_n(n,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 13:_n(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=Je()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=rs,G=Lt;if(rs=j||h,Lt=G||I,_n(n,t),Lt=G,rs=j,vn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||rs||Lt||Yr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){ot(I,I.return,le)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(le){ot(I,I.return,le)}}}else if(n.tag===18){if(s===null){I=n;try{var F=I.stateNode;h?i_(F,!0):i_(I.stateNode,!1)}catch(le){ot(I,I.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,tc(t,s))));break;case 19:_n(n,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 30:break;case 21:break;default:_n(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(ry(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(t);ec(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(pn(p,""),s.flags&=-33);var E=Bf(t);ec(t,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,j=Bf(t);qf(t,j,I);break;default:throw Error(a(161))}}catch(G){ot(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function my(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(t,n.alternate,n),n=n.sibling}function Yr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Yr(n);break;case 1:Vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),Yr(n);break;case 27:gl(n.stateNode);case 26:case 5:Vi(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}t=t.sibling}}function ls(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,s),rl(4,f);break;case 1:if(ls(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ot(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Gg(I[h],E)}catch(j){ot(o,o.return,j)}}s&&p&64&&ny(f),al(f,f.return);break;case 27:ay(f);case 26:case 5:ls(h,f,s),s&&o===null&&p&4&&sy(f),al(f,f.return);break;case 12:ls(h,f,s);break;case 31:ls(h,f,s),s&&p&4&&hy(h,f);break;case 13:ls(h,f,s),s&&p&4&&fy(h,f);break;case 22:f.memoizedState===null&&ls(h,f,s),al(f,f.return);break;case 30:break;default:ls(h,f,s)}n=n.sibling}}function Ff(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Qo(s))}function Gf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qo(t))}function ci(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(t,n,s,o),n=n.sibling}function gy(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(t,n,s,o),h&2048&&rl(9,n);break;case 1:ci(t,n,s,o);break;case 3:ci(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){ci(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ot(n,n.return,I)}}else ci(t,n,s,o);break;case 31:ci(t,n,s,o);break;case 13:ci(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ci(t,n,s,o):ol(t,n):f._visibility&2?ci(t,n,s,o):(f._visibility|=2,ja(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(p,n);break;case 24:ci(t,n,s,o),h&2048&&Gf(n.alternate,n);break;default:ci(t,n,s,o)}}function ja(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,I=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:ja(f,p,E,I,h),rl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?ja(f,p,E,I,h):ol(f,p):(G._visibility|=2,ja(f,p,E,I,h)),h&&j&2048&&Ff(p.alternate,p);break;case 24:ja(f,p,E,I,h),h&&j&2048&&Gf(p.alternate,p);break;default:ja(f,p,E,I,h)}n=n.sibling}}function ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:ol(s,o),h&2048&&Ff(o.alternate,o);break;case 24:ol(s,o),h&2048&&Gf(o.alternate,o);break;default:ol(s,o)}n=n.sibling}}var ll=8192;function Ba(t,n,s){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)py(t,n,s),t=t.sibling}function py(t,n,s){switch(t.tag){case 26:Ba(t,n,s),t.flags&ll&&t.memoizedState!==null&&p1(s,ui,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,n,s);break;case 3:case 4:var o=ui;ui=gc(t.stateNode.containerInfo),Ba(t,n,s),ui=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,Ba(t,n,s),ll=o):Ba(t,n,s));break;default:Ba(t,n,s)}}function yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Kt=o,vy(o,t)}yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_y(t),t=t.sibling}function _y(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&js(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):ul(t);break;default:ul(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Kt=o,vy(o,t)}yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:js(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function vy(t,n){for(;Kt!==null;){var s=Kt;switch(s.tag){case 0:case 11:case 15:js(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Kt=o;else e:for(s=t;Kt!==null;){o=Kt;var h=o.sibling,f=o.return;if(uy(o),o===s){Kt=null;break e}if(h!==null){h.return=f,Kt=h;break e}Kt=f}}}var Db={getCacheForType:function(t){var n=en(Vt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return en(Vt).controller.signal}},Ob=typeof WeakMap=="function"?WeakMap:Map,nt=0,dt=null,je=null,He=0,at=0,Dn=null,Bs=!1,qa=!1,Qf=!1,us=0,At=0,qs=0,Kr=0,Yf=0,On=0,Ha=0,cl=null,En=null,Kf=!1,ic=0,Ey=0,sc=1/0,rc=null,Hs=null,Bt=0,Fs=null,Fa=null,cs=0,Xf=0,$f=null,Ty=null,hl=0,Zf=null;function Mn(){return(nt&2)!==0&&He!==0?He&-He:L.T!==null?id():au()}function by(){if(On===0)if((He&536870912)===0||Ke){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),On=t}else On=536870912;return t=Nn.current,t!==null&&(t.flags|=32),On}function Tn(t,n,s){(t===dt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Gs(t,He,On,!1)),br(t,s),((nt&2)===0||t!==dt)&&(t===dt&&((nt&2)===0&&(Kr|=s),At===4&&Gs(t,He,On,!1)),ki(t))}function Sy(t,n,s){if((nt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||ei(t,n),h=o?kb(t,n):Wf(t,n,!0),f=o;do{if(h===0){qa&&!o&&Gs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!Mb(s)){h=Wf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=cl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ga(E,p).flags|=256),p=Wf(E,p,!1),p!==2){if(Qf&&!I){E.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break e}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ga(t,0),Gs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,On,!Bs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-Je(),10<h)){if(Gs(o,n,On,!Bs),yi(o,0,!0)!==0)break e;cs=n,o.timeoutHandle=e_(Ay.bind(null,o,s,En,rc,Kf,n,On,Kr,Ha,Bs,f,"Throttled",-0,0),h);break e}Ay(o,s,En,rc,Kf,n,On,Kr,Ha,Bs,f,null,-0,0)}}break}while(!0);ki(t)}function Ay(t,n,s,o,h,f,p,E,I,j,G,K,B,F){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},py(n,f,K);var le=(f&62914560)===f?ic-Je():(f&4194048)===f?Ey-Je():0;if(le=y1(K,le),le!==null){cs=f,t.cancelPendingCommit=le(Oy.bind(null,t,n,f,s,o,h,p,E,I,G,K,null,B,F)),Gs(t,f,p,!j);return}}Oy(t,n,f,s,o,h,p,E,I)}function Mb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Cn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(t,n,s,o){n&=~Yf,n&=~Kr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-wt(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&Sr(t,s,n)}function ac(){return(nt&6)===0?(fl(0),!1):!0}function Jf(){if(je!==null){if(at===0)var t=je.return;else t=je,Wi=zr=null,mf(t),ka=null,Ko=0,t=je;for(;t!==null;)ty(t.alternate,t),t=t.return;je=null}}function Ga(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Wb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),cs=0,Jf(),dt=t,je=s=Zi(t.current,null),He=n,at=0,Dn=null,Bs=!1,qa=ei(t,n),Qf=!1,Ha=On=Yf=Kr=qs=At=0,En=cl=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-wt(o),f=1<<h;n|=t[h],o&=~f}return us=n,Cu(),s}function wy(t,n){Me=null,L.H=nl,n===Va||n===ku?(n=Bg(),at=3):n===tf?(n=Bg(),at=4):at=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,je===null&&(At=1,Xu(t,qn(n,t.current)))}function Ry(){var t=Nn.current;return t===null?!0:(He&4194048)===He?Qn===null:(He&62914560)===He||(He&536870912)!==0?t===Qn:!1}function Cy(){var t=L.H;return L.H=nl,t===null?nl:t}function Iy(){var t=L.A;return L.A=Db,t}function oc(){At=4,Bs||(He&4194048)!==He&&Nn.current!==null||(qa=!0),(qs&134217727)===0&&(Kr&134217727)===0||dt===null||Gs(dt,He,On,!1)}function Wf(t,n,s){var o=nt;nt|=2;var h=Cy(),f=Iy();(dt!==t||He!==n)&&(rc=null,Ga(t,n)),n=!1;var p=At;e:do try{if(at!==0&&je!==null){var E=je,I=Dn;switch(at){case 8:Jf(),p=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var j=at;if(at=0,Dn=null,Qa(t,E,I,j),s&&qa){p=0;break e}break;default:j=at,at=0,Dn=null,Qa(t,E,I,j)}}Vb(),p=At;break}catch(G){wy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Wi=zr=null,nt=o,L.H=h,L.A=f,je===null&&(dt=null,He=0,Cu()),p}function Vb(){for(;je!==null;)Ny(je)}function kb(t,n){var s=nt;nt|=2;var o=Cy(),h=Iy();dt!==t||He!==n?(rc=null,sc=Je()+500,Ga(t,n)):qa=ei(t,n);e:do try{if(at!==0&&je!==null){n=je;var f=Dn;t:switch(at){case 1:at=0,Dn=null,Qa(t,n,f,1);break;case 2:case 9:if(zg(f)){at=0,Dn=null,xy(n);break}n=function(){at!==2&&at!==9||dt!==t||(at=7),ki(t)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:zg(f)?(at=0,Dn=null,xy(n)):(at=0,Dn=null,Qa(t,n,f,7));break;case 5:var p=null;switch(je.tag){case 26:p=je.memoizedState;case 5:case 27:var E=je;if(p?g_(p):E.stateNode.complete){at=0,Dn=null;var I=E.sibling;if(I!==null)je=I;else{var j=E.return;j!==null?(je=j,lc(j)):je=null}break t}}at=0,Dn=null,Qa(t,n,f,5);break;case 6:at=0,Dn=null,Qa(t,n,f,6);break;case 8:Jf(),At=6;break e;default:throw Error(a(462))}}Ub();break}catch(G){wy(t,G)}while(!0);return Wi=zr=null,L.H=o,L.A=h,nt=s,je!==null?0:(dt=null,He=0,Cu(),At)}function Ub(){for(;je!==null&&!Re();)Ny(je)}function Ny(t){var n=Wp(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?lc(t):je=n}function xy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Yp(s,n,n.pendingProps,n.type,void 0,He);break;case 11:n=Yp(s,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:mf(n);default:ty(s,n),n=je=Ig(n,us),n=Wp(s,n,us)}t.memoizedProps=t.pendingProps,n===null?lc(t):je=n}function Qa(t,n,s,o){Wi=zr=null,mf(n),ka=null,Ko=0;var h=n.return;try{if(Ab(t,h,n,s,He)){At=1,Xu(t,qn(s,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;At=1,Xu(t,qn(s,t.current)),je=null;return}n.flags&32768?(Ke||o===1?t=!0:qa||(He&536870912)!==0?t=!1:(Bs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Nn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(n,t)):lc(n)}function lc(t){var n=t;do{if((n.flags&32768)!==0){Dy(n,Bs);return}t=n.return;var s=Cb(n.alternate,n,us);if(s!==null){je=s;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);At===0&&(At=5)}function Dy(t,n){do{var s=Ib(t.alternate,t);if(s!==null){s.flags&=32767,je=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=s}while(t!==null);At=6,je=null}function Oy(t,n,s,o,h,f,p,E,I){t.cancelPendingCommit=null;do uc();while(Bt!==0);if((nt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Dh(t,s,f,p,E,I),t===dt&&(je=dt=null,He=0),Fa=n,Fs=t,cs=s,Xf=f,$f=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jb(Ts,function(){return Ly(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,h=$.p,$.p=2,p=nt,nt|=4;try{Nb(t,n,s)}finally{nt=p,$.p=h,L.T=o}}Bt=1,My(),Vy(),ky()}}function My(){if(Bt===1){Bt=0;var t=Fs,n=Fa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var o=$.p;$.p=2;var h=nt;nt|=4;try{dy(n,t);var f=hd,p=vg(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&_g(E.ownerDocument.documentElement,E)){if(I!==null&&kh(E)){var j=I.start,G=I.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var F=B.getSelection(),le=E.textContent.length,ve=Math.min(I.start,le),ft=I.end===void 0?ve:Math.min(I.end,le);!F.extend&&ve>ft&&(p=ft,ft=ve,ve=p);var k=yg(E,ve),O=yg(E,ft);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var z=K.createRange();z.setStart(k.node,k.offset),F.removeAllRanges(),ve>ft?(F.addRange(z),F.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),F.addRange(z))}}}}for(K=[],F=E;F=F.parentNode;)F.nodeType===1&&K.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!cd,hd=cd=null}finally{nt=h,$.p=o,L.T=s}}t.current=n,Bt=2}}function Vy(){if(Bt===2){Bt=0;var t=Fs,n=Fa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var o=$.p;$.p=2;var h=nt;nt|=4;try{ly(t,n.alternate,n)}finally{nt=h,$.p=o,L.T=s}}Bt=3}}function ky(){if(Bt===4||Bt===3){Bt=0,Le();var t=Fs,n=Fa,s=cs,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Fa=Fs=null,Uy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Hs=null),Yi(s),n=n.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Wn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,h=$.p,$.p=2,L.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{L.T=n,$.p=h}}(cs&3)!==0&&uc(),ki(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Zf?hl++:(hl=0,Zf=t):hl=0,fl(0)}}function Uy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Qo(n)))}function uc(){return My(),Vy(),ky(),Ly()}function Ly(){if(Bt!==5)return!1;var t=Fs,n=Xf;Xf=0;var s=Yi(cs),o=L.T,h=$.p;try{$.p=32>s?32:s,L.T=null,s=$f,$f=null;var f=Fs,p=cs;if(Bt=0,Fa=Fs=null,cs=0,(nt&6)!==0)throw Error(a(331));var E=nt;if(nt|=4,_y(f.current),gy(f,f.current,p,s),nt=E,fl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{$.p=h,L.T=o,Uy(t,n)}}function Py(t,n,s){n=qn(s,n),n=Nf(t.stateNode,n,2),t=Ls(t,n,2),t!==null&&(br(t,2),ki(t))}function ot(t,n,s){if(t.tag===3)Py(t,t,s);else for(;n!==null;){if(n.tag===3){Py(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hs===null||!Hs.has(o))){t=qn(s,t),s=zp(2),o=Ls(n,s,2),o!==null&&(jp(s,o,n,t),br(o,2),ki(o));break}}n=n.return}}function ed(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new Ob;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Qf=!0,h.add(s),t=Lb.bind(null,t,n,s),n.then(t,t))}function Lb(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,dt===t&&(He&s)===s&&(At===4||At===3&&(He&62914560)===He&&300>Je()-ic?(nt&2)===0&&Ga(t,0):Yf|=s,Ha===He&&(Ha=0)),ki(t)}function zy(t,n){n===0&&(n=ru()),t=Ur(t,n),t!==null&&(br(t,n),ki(t))}function Pb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(t,s)}function zb(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),zy(t,s)}function jb(t,n){return Ue(t,n)}var cc=null,Ya=null,td=!1,hc=!1,nd=!1,Qs=0;function ki(t){t!==Ya&&t.next===null&&(Ya===null?cc=Ya=t:Ya=Ya.next=t),hc=!0,td||(td=!0,qb())}function fl(t,n){if(!nd&&hc){nd=!0;do for(var s=!1,o=cc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-wt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(o,f))}else f=He,f=yi(o,o===dt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ei(o,f)||(s=!0,Hy(o,f));o=o.next}while(s);nd=!1}}function Bb(){jy()}function jy(){hc=td=!1;var t=0;Qs!==0&&Jb()&&(t=Qs);for(var n=Je(),s=null,o=cc;o!==null;){var h=o.next,f=By(o,n);f===0?(o.next=null,s===null?cc=h:s.next=h,h===null&&(Ya=s)):(s=o,(t!==0||(f&3)!==0)&&(hc=!0)),o=h}Bt!==0&&Bt!==5||fl(t),Qs!==0&&(Qs=0)}function By(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-wt(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&o)!==0)&&(h[p]=xh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=dt,s=He,s=yi(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&jt(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ei(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&jt(o),Yi(s)){case 2:case 8:s=bo;break;case 32:s=Ts;break;case 268435456:s=eu;break;default:s=Ts}return o=qy.bind(null,t),s=Ue(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&jt(o),t.callbackPriority=2,t.callbackNode=null,2}function qy(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(uc()&&t.callbackNode!==s)return null;var o=He;return o=yi(t,t===dt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Sy(t,o,n),By(t,Je()),t.callbackNode!=null&&t.callbackNode===s?qy.bind(null,t):null)}function Hy(t,n){if(uc())return null;Sy(t,n,!0)}function qb(){e1(function(){(nt&6)!==0?Ue(Es,Bb):jy()})}function id(){if(Qs===0){var t=Oa;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Qs=t}return Qs}function Fy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function Gy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Hb(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Fy((h[Qt]||null).action),p=o.submitter;p&&(n=(n=p[Qt]||null)?Fy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ii("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var I=p?Gy(h,p):new FormData(h);Sf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Gy(h,p):new FormData(h),Sf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],Fb=rd.toLowerCase(),Gb=rd[0].toUpperCase()+rd.slice(1);li(Fb,"on"+Gb)}li(bg,"onAnimationEnd"),li(Sg,"onAnimationIteration"),li(Ag,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(ob,"onTransitionRun"),li(lb,"onTransitionStart"),li(ub,"onTransitionCancel"),li(wg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Qy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=I}}}}function Be(t,n){var s=n[fa];s===void 0&&(s=n[fa]=new Set);var o=t+"__bubble";s.has(o)||(Yy(n,t,2,!1),s.add(o))}function ad(t,n,s){var o=0;n&&(o|=4),Yy(s,t,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[fc]){t[fc]=!0,wo.forEach(function(s){s!=="selectionchange"&&(Qb.has(s)||ad(s,!1,t),ad(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,ad("selectionchange",!1,n))}}function Yy(t,n,s,o){switch(b_(n)){case 2:var h=E1;break;case 8:h=T1;break;default:h=bd}s=h.bind(null,n,s,t),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function ld(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ti(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Cs(function(){var j=f,G=Pn(s),K=[];e:{var B=Rg.get(t);if(B!==void 0){var F=Ii,le=t;switch(t){case"keypress":if(xr(s)===0)break e;case"keydown":case"keyup":F=Su;break;case"focusin":le="focus",F=Or;break;case"focusout":le="blur",F=Or;break;case"beforeblur":case"afterblur":F=Or;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case bg:case Sg:case Ag:F=pu;break;case wg:F=T;break;case"scroll":case"scrollend":F=Lo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=$i;break;case"toggle":case"beforetoggle":F=Oe}var ve=(n&4)!==0,ft=!ve&&(t==="scroll"||t==="scrollend"),k=ve?B!==null?B+"Capture":null:B;ve=[];for(var O=j,z;O!==null;){var Q=O;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||k===null||(Q=si(O,k),Q!=null&&ve.push(ml(O,Q,z))),ft)break;O=O.return}0<ve.length&&(B=new F(B,le,null,s,G),K.push({event:B,listeners:ve}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&s!==Vo&&(le=s.relatedTarget||s.fromElement)&&(Ti(le)||le[vi]))break e;if((F||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,F?(le=s.relatedTarget||s.toElement,F=j,le=le?Ti(le):null,le!==null&&(ft=c(le),ve=le.tag,le!==ft||ve!==5&&ve!==27&&ve!==6)&&(le=null)):(F=null,le=j),F!==le)){if(ve=Po,Q="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=$i,Q="onPointerLeave",k="onPointerEnter",O="pointer"),ft=F==null?B:wn(F),z=le==null?B:wn(le),B=new ve(Q,O+"leave",F,s,G),B.target=ft,B.relatedTarget=z,Q=null,Ti(G)===j&&(ve=new ve(k,O+"enter",le,s,G),ve.target=z,ve.relatedTarget=ft,Q=ve),ft=Q,F&&le)t:{for(ve=Yb,k=F,O=le,z=0,Q=k;Q;Q=ve(Q))z++;Q=0;for(var pe=O;pe;pe=ve(pe))Q++;for(;0<z-Q;)k=ve(k),z--;for(;0<Q-z;)O=ve(O),Q--;for(;z--;){if(k===O||O!==null&&k===O.alternate){ve=k;break t}k=ve(k),O=ve(O)}ve=null}else ve=null;F!==null&&Ky(K,B,F,ve,!1),le!==null&&ft!==null&&Ky(K,ft,le,ve,!0)}}e:{if(B=j?wn(j):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var We=hg;else if(ug(B))if(fg)We=sb;else{We=nb;var he=tb}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&pa(j.elementType)&&(We=hg):We=ib;if(We&&(We=We(t,j))){cg(K,We,s,G);break e}he&&he(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Do(B,"number",B.value)}switch(he=j?wn(j):window,t){case"focusin":(ug(he)||he.contentEditable==="true")&&(Aa=he,Uh=j,Ho=null);break;case"focusout":Ho=Uh=Aa=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Eg(K,s,G);break;case"selectionchange":if(ab)break;case"keydown":case"keyup":Eg(K,s,G)}var ke;if(tt)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Sa?Mr(t,s)&&(Fe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Fe="onCompositionStart");Fe&&(Di&&s.locale!=="ko"&&(Sa||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Sa&&(ke=Uo()):(Ci=G,ko="value"in Ci?Ci.value:Ci.textContent,Sa=!0)),he=dc(j,Fe),0<he.length&&(Fe=new xi(Fe,t,null,s,G),K.push({event:Fe,listeners:he}),ke?Fe.data=ke:(ke=ba(s),ke!==null&&(Fe.data=ke)))),(ke=jn?ZT(t,s):JT(t,s))&&(Fe=dc(j,"onBeforeInput"),0<Fe.length&&(he=new xi("onBeforeInput","beforeinput",null,s,G),K.push({event:he,listeners:Fe}),he.data=ke)),Hb(K,t,j,s,G)}Qy(K,n)})}function ml(t,n,s){return{instance:t,listener:n,currentTarget:s}}function dc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(t,s),h!=null&&o.unshift(ml(t,h,f)),h=si(t,n),h!=null&&o.push(ml(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Yb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ky(t,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=si(s,f),j!=null&&p.unshift(ml(s,j,I))):h||(j=si(s,f),j!=null&&p.push(ml(s,j,I)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var Kb=/\r\n?/g,Xb=/\u0000|\uFFFD/g;function Xy(t){return(typeof t=="string"?t:""+t).replace(Kb,`
`).replace(Xb,"")}function $y(t,n){return n=Xy(n),Xy(t)===n}function ht(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(t,""+o);break;case"className":Rn(t,"class",o);break;case"tabIndex":Rn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(t,s,o);break;case"style":Mo(t,o,f);break;case"data":if(n!=="object"){Rn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ya(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ya(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ii);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ya(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Be("beforetoggle",t),Be("toggle",t),ma(t,"popover",o);break;case"xlinkActuate":Mt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Mt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Mt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Mt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Mt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Mt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ma(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,ma(t,s,o))}}function ud(t,n,s,o,h,f){switch(s){case"style":Mo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?pn(t,o):(typeof o=="number"||typeof o=="bigint")&&pn(t,""+o);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Qt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):ma(t,s,o)}}}function nn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,p,s,null)}}h&&ht(t,n,"srcSet",s.srcSet,s,null),o&&ht(t,n,"src",s.src,s,null);return;case"input":Be("invalid",t);var E=f=p=h=null,I=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ht(t,n,o,G,s,null)}}cu(t,f,E,I,j,p,h,!1);return;case"select":Be("invalid",t),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ht(t,n,h,E,s,null)}n=f,s=p,t.multiple=!!o,n!=null?Ss(t,!!o,n,!1):s!=null&&Ss(t,!!o,s,!0);return;case"textarea":Be("invalid",t),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(t,n,p,E,s,null)}As(t,o,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ht(t,n,I,o,s,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(o=0;o<dl.length;o++)Be(dl[o],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,j,o,s,null)}return;default:if(pa(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&ud(t,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ht(t,n,E,o,s,null))}function $b(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,j=null,G=null;for(F in s){var K=s[F];if(s.hasOwnProperty(F)&&K!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=K;default:o.hasOwnProperty(F)||ht(t,n,F,null,o,K)}}for(var B in o){var F=o[B];if(K=s[B],o.hasOwnProperty(B)&&(F!=null||K!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":G=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==K&&ht(t,n,B,F,o,K)}}ga(t,p,E,I,j,G,f,h);return;case"select":F=p=E=B=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:o.hasOwnProperty(f)||ht(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&ht(t,n,h,f,o,I)}n=E,s=p,o=F,B!=null?Ss(t,!!s,B,!1):!!o!=!!s&&(n!=null?Ss(t,!!s,n,!0):Ss(t,!!s,s?[]:"",!1));return;case"textarea":F=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,p,h,o,f)}hu(t,B,F);return;case"option":for(var le in s)if(B=s[le],s.hasOwnProperty(le)&&B!=null&&!o.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:ht(t,n,le,null,o,B)}for(I in o)if(B=o[I],F=s[I],o.hasOwnProperty(I)&&B!==F&&(B!=null||F!=null))switch(I){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ht(t,n,I,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)B=s[ve],s.hasOwnProperty(ve)&&B!=null&&!o.hasOwnProperty(ve)&&ht(t,n,ve,null,o,B);for(j in o)if(B=o[j],F=s[j],o.hasOwnProperty(j)&&B!==F&&(B!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ht(t,n,j,B,o,F)}return;default:if(pa(n)){for(var ft in s)B=s[ft],s.hasOwnProperty(ft)&&B!==void 0&&!o.hasOwnProperty(ft)&&ud(t,n,ft,void 0,o,B);for(G in o)B=o[G],F=s[G],!o.hasOwnProperty(G)||B===F||B===void 0&&F===void 0||ud(t,n,G,B,o,F);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ht(t,n,k,null,o,B);for(K in o)B=o[K],F=s[K],!o.hasOwnProperty(K)||B===F||B==null&&F==null||ht(t,n,K,B,o,F)}function Zy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Zy(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],j=I.startTime;if(j>E)break;var G=I.transferSize,K=I.initiatorType;G&&Zy(K)&&(I=I.responseEnd,p+=G*(I<E?1:(E-j)/(I-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cd=null,hd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function Jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function fd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function Jb(){var t=window.event;return t&&t.type==="popstate"?t===dd?!1:(dd=t,!0):(dd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,Wb=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(t){return t_.resolve(null).then(t).catch(t1)}:e_;function t1(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function n_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Za(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")gl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,gl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&gl(t.ownerDocument.body);s=h}while(s);Za(n)}function i_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),da(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function n1(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function i1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Yn(t.nextSibling),t===null))return null;return t}function s_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Yn(t.nextSibling),t===null))return null;return t}function gd(t){return t.data==="$?"||t.data==="$~"}function pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function s1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yd=null;function r_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Yn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function a_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function o_(t,n,s){switch(n=mc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function gl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);da(t)}var Kn=new Map,l_=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=$.d;$.d={f:r1,r:a1,D:o1,C:l1,L:u1,m:c1,X:f1,S:h1,M:d1};function r1(){var t=hs.f(),n=ac();return t||n}function a1(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?wp(n):hs.r(t)}var Ka=typeof document>"u"?null:document;function u_(t,n,s){var o=Ka;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),l_.has(h)||(l_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),nn(n,"link",t),Ot(n),o.head.appendChild(n)))}}function o1(t){hs.D(t),u_("dns-prefetch",t,null)}function l1(t,n){hs.C(t,n),u_("preconnect",t,n)}function u1(t,n,s){hs.L(t,n,s);var o=Ka;if(o&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+gn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+gn(s.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=Xa(t);break;case"script":f=$a(t)}Kn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Kn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),nn(n,"link",t),Ot(n),o.head.appendChild(n)))}}function c1(t,n){hs.m(t,n);var s=Ka;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(t)}if(!Kn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Kn.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yl(f)))return}o=s.createElement("link"),nn(o,"link",t),Ot(o),s.head.appendChild(o)}}}function h1(t,n,s){hs.S(t,n,s);var o=Ka;if(o&&t){var h=bi(o).hoistableStyles,f=Xa(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(pl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Kn.get(f))&&_d(t,s);var I=p=o.createElement("link");Ot(I),nn(I,"link",t),I._p=new Promise(function(j,G){I.onload=j,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function f1(t,n){hs.X(t,n);var s=Ka;if(s&&t){var o=bi(s).hoistableScripts,h=$a(t),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(t=A({src:t,async:!0},n),(n=Kn.get(h))&&vd(t,n),f=s.createElement("script"),Ot(f),nn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function d1(t,n){hs.M(t,n);var s=Ka;if(s&&t){var o=bi(s).hoistableScripts,h=$a(t),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Kn.get(h))&&vd(t,n),f=s.createElement("script"),Ot(f),nn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function c_(t,n,s,o){var h=(h=we.current)?gc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Xa(s.href),s=bi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Xa(s.href);var f=bi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(pl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Kn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Kn.set(t,s),f||m1(h,t,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(s),s=bi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Xa(t){return'href="'+gn(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function h_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function m1(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),nn(n,"link",s),Ot(n),t.head.appendChild(n))}function $a(t){return'[src="'+gn(t)+'"]'}function yl(t){return"script[async]"+t}function f_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+gn(s.href)+'"]');if(o)return n.instance=o,Ot(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ot(o),nn(o,"style",h),pc(o,s.precedence,t),n.instance=o;case"stylesheet":h=Xa(s.href);var f=t.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,Ot(f),f;o=h_(s),(h=Kn.get(h))&&_d(o,h),f=(t.ownerDocument||t).createElement("link"),Ot(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),nn(f,"link",o),n.state.loading|=4,pc(f,s.precedence,t),n.instance=f;case"script":return f=$a(s.src),(h=t.querySelector(yl(f)))?(n.instance=h,Ot(h),h):(o=s,(h=Kn.get(f))&&(o=A({},s),vd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),nn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,s.precedence,t));return n.instance}function pc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function _d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function d_(t,n,s){if(yc===null){var o=new Map,h=yc=new Map;h.set(s,o)}else h=yc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Ei]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function m_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function g1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function p1(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Xa(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ot(f);return}f=n.ownerDocument||n,o=h_(o),(h=Kn.get(h))&&_d(o,h),f=f.createElement("link"),Ot(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),nn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=_c.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function y1(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ed===0&&(Ed=62500*Zb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ed?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(_1,t),vc=null,_c.call(t))}function _1(t,n){if(!(n.state.loading&4)){var s=vc.get(t);if(s)var o=s.get(null);else{s=new Map,vc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _l={$$typeof:me,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function v1(t,n,s,o,h,f,p,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function p_(t,n,s,o,h,f,p,E,I,j,G,K){return t=new v1(t,n,s,p,I,j,G,K,E),n=1,f===!0&&(n|=24),f=In(3,null,null,n),t.current=f,f.stateNode=t,n=Jh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},nf(f),t}function y_(t){return t?(t=Ca,t):Ca}function __(t,n,s,o,h,f){h=y_(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ls(t,o,n),s!==null&&(Tn(s,t,n),$o(s,t,n))}function v_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Td(t,n){v_(t,n),(t=t.alternate)&&v_(t,n)}function E_(t){if(t.tag===13||t.tag===31){var n=Ur(t,67108864);n!==null&&Tn(n,t,67108864),Td(t,67108864)}}function T_(t){if(t.tag===13||t.tag===31){var n=Mn();n=Ar(n);var s=Ur(t,n);s!==null&&Tn(s,t,n),Td(t,n)}}var Tc=!0;function E1(t,n,s,o){var h=L.T;L.T=null;var f=$.p;try{$.p=2,bd(t,n,s,o)}finally{$.p=f,L.T=h}}function T1(t,n,s,o){var h=L.T;L.T=null;var f=$.p;try{$.p=8,bd(t,n,s,o)}finally{$.p=f,L.T=h}}function bd(t,n,s,o){if(Tc){var h=Sd(o);if(h===null)ld(t,n,o,bc,s),S_(t,o);else if(S1(h,t,n,s,o))o.stopPropagation();else if(S_(t,o),n&4&&-1<b1.indexOf(t)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=pi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-wt(p);E.entanglements[1]|=I,p&=~I}ki(f),(nt&6)===0&&(sc=Je()+500,fl(0))}}break;case 31:case 13:E=Ur(f,2),E!==null&&Tn(E,f,2),ac(),Td(f,2)}if(f=Sd(o),f===null&&ld(t,n,o,bc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(t,n,o,null,s)}}function Sd(t){return t=Pn(t),Ad(t)}var bc=null;function Ad(t){if(bc=null,t=Ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bc=t,null}function b_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jn()){case Es:return 2;case bo:return 8;case Ts:case Nh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var wd=!1,Ks=null,Xs=null,$s=null,vl=new Map,El=new Map,Zs=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(t,n){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&E_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function S1(t,n,s,o,h){switch(n){case"focusin":return Ks=Tl(Ks,t,n,s,o,h),!0;case"dragenter":return Xs=Tl(Xs,t,n,s,o,h),!0;case"mouseover":return $s=Tl($s,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,t,n,s,o,h)),!0}return!1}function A_(t){var n=Ti(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,ti(t.priority,function(){T_(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,ti(t.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Sd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Vo=o,s.target.dispatchEvent(o),Vo=null}else return n=Ln(s),n!==null&&E_(n),t.blockedOn=s,!1;n.shift()}return!0}function w_(t,n,s){Sc(t)&&s.delete(n)}function A1(){wd=!1,Ks!==null&&Sc(Ks)&&(Ks=null),Xs!==null&&Sc(Xs)&&(Xs=null),$s!==null&&Sc($s)&&($s=null),vl.forEach(w_),El.forEach(w_)}function Ac(t,n){t.blockedOn===n&&(t.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,A1)))}var wc=null;function R_(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ad(o||s)===null)continue;break}var f=Ln(s);f!==null&&(t.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Za(t){function n(I){return Ac(I,t)}Ks!==null&&Ac(Ks,t),Xs!==null&&Ac(Xs,t),$s!==null&&Ac($s,t),vl.forEach(n),El.forEach(n);for(var s=0;s<Zs.length;s++){var o=Zs[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zs.length&&(s=Zs[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&Zs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Qt]||null;if(typeof f=="function")p||R_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Qt]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),R_(s)}}}function C_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(t){this._internalRoot=t}Rc.prototype.render=Rd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Mn();__(s,o,t,n,null,null)},Rc.prototype.unmount=Rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;__(t.current,2,null,t,null,null),ac(),n[vi]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Zs.length&&n!==0&&n<Zs[s].priority;s++);Zs.splice(s,0,t),s===0&&A_(t)}};var I_=e.version;if(I_!=="19.2.3")throw Error(a(527,I_,"19.2.3"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var w1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Wn=Cc.inject(w1),Zt=Cc}catch{}}return Sl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=kp,f=Up,p=Lp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=p_(t,1,!1,null,null,s,o,null,h,f,p,C_),t[vi]=n.current,od(t),new Rd(n)},Sl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=kp,p=Up,E=Lp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=p_(t,1,!0,n,s??null,o,h,I,f,p,E,C_),n.context=y_(null),s=n.current,o=Mn(),o=Ar(o),h=Us(o),h.callback=null,Ls(s,h,o),s=o,n.current.lanes=s,br(n,s),ki(n),t[vi]=n.current,od(t),new Rc(n)},Sl.version="19.2.3",Sl}var P_;function k1(){if(P_)return Nd.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nd.exports=V1(),Nd.exports}var U1=k1();const L1=()=>{};var z_={};const g0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},P1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},p0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let V=(g&15)<<2|_>>6,q=_&63;y||(q=64,d||(V=64)),a.push(i[b],i[A],i[V],i[q])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(g0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):P1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new z1;const V=c<<2|g>>4;if(a.push(V),_!==64){const q=g<<4&240|_>>2;if(a.push(q),A!==64){const Z=_<<6&192|A;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j1=function(r){const e=g0(r);return p0.encodeByteArray(e,!0)},Fc=function(r){return j1(r).replace(/\./g,"")},y0=function(r){try{return p0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function B1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const q1=()=>B1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},F1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&y0(r[1]);return e&&JSON.parse(e)},hh=()=>{try{return L1()||q1()||H1()||F1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_0=r=>hh()?.emulatorHosts?.[r],G1=r=>{const e=_0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},v0=()=>hh()?.config,E0=r=>hh()?.[`_${r}`];class Q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T0(r){return(await fetch(r,{credentials:"include"})).ok}function Y1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Il={};function K1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Il))Il[e]?r.emulator.push(e):r.prod.push(e);return r}function X1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let j_=!1;function b0(r,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Il[r]===e||Il[r]||j_)return;Il[r]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=K1().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,q){V.setAttribute("width","24"),V.setAttribute("id",q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{j_=!0,d()},V}function b(V,q){V.setAttribute("id",q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=X1(a),q=i("text"),Z=document.getElementById(q)||document.createElement("span"),ee=i("learnmore"),W=document.getElementById(ee)||document.createElement("a"),ue=i("preprendIcon"),Te=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const me=V.element;g(me),b(W,ee);const ze=_();y(Te,ue),me.append(Te,Z,W,ze),document.body.appendChild(me)}c?(Z.innerText="Preview backend disconnected.",Te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function Z1(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nS(){return!Z1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const rS="FirebaseError";class vs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=rS,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?aS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new vs(l,g,a)}}function aS(r,e){return r.replace(oS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const oS=/\{\$([^}]+)}/g;function lS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(B_(c)&&B_(d)){if(!ta(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}function Fl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function uS(r,e){const i=new cS(r,e);return i.subscribe.bind(i)}class cS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");hS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function kn(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zr="[DEFAULT]";class fS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Q1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mS(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(r){return r===Zr?void 0:r}function mS(r){return r.instantiationMode==="EAGER"}class gS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new fS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ge||(Ge={}));const pS={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},yS=Ge.INFO,_S={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},vS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=_S[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=yS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const ES=(r,e)=>e.some(i=>r instanceof i);let q_,H_;function TS(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Qd=new WeakMap,A0=new WeakMap,Vd=new WeakMap,Tm=new WeakMap;function SS(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(or(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&S0.set(i,r)}).catch(()=>{}),Tm.set(e,r),e}function AS(r){if(Qd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,e)}let Yd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Qd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||A0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wS(r){Yd=r(Yd)}function RS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(kd(this),e,...i);return A0.set(a,e.sort?e.sort():[e]),or(a)}:bS().includes(r)?function(...e){return r.apply(kd(this),e),or(S0.get(this))}:function(...e){return or(r.apply(kd(this),e))}}function CS(r){return typeof r=="function"?RS(r):(r instanceof IDBTransaction&&AS(r),ES(r,TS())?new Proxy(r,Yd):r)}function or(r){if(r instanceof IDBRequest)return SS(r);if(Vd.has(r))return Vd.get(r);const e=CS(r);return e!==r&&(Vd.set(r,e),Tm.set(e,r)),e}const kd=r=>Tm.get(r);function IS(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=or(d);return a&&d.addEventListener("upgradeneeded",y=>{a(or(d.result),y.oldVersion,y.newVersion,or(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const NS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Ud=new Map;function F_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=xS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||NS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Ud.set(e,c),c}wS(r=>({...r,get:(e,i,a)=>F_(e,i)||r.get(e,i,a),has:(e,i)=>!!F_(e,i)||r.has(e,i)}));class DS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(OS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function OS(r){return r.getComponent()?.type==="VERSION"}const Kd="@firebase/app",G_="0.14.6";const ms=new Em("@firebase/app"),MS="@firebase/app-compat",VS="@firebase/analytics-compat",kS="@firebase/analytics",US="@firebase/app-check-compat",LS="@firebase/app-check",PS="@firebase/auth",zS="@firebase/auth-compat",jS="@firebase/database",BS="@firebase/data-connect",qS="@firebase/database-compat",HS="@firebase/functions",FS="@firebase/functions-compat",GS="@firebase/installations",QS="@firebase/installations-compat",YS="@firebase/messaging",KS="@firebase/messaging-compat",XS="@firebase/performance",$S="@firebase/performance-compat",ZS="@firebase/remote-config",JS="@firebase/remote-config-compat",WS="@firebase/storage",eA="@firebase/storage-compat",tA="@firebase/firestore",nA="@firebase/ai",iA="@firebase/firestore-compat",sA="firebase",rA="12.6.0";const Xd="[DEFAULT]",aA={[Kd]:"fire-core",[MS]:"fire-core-compat",[kS]:"fire-analytics",[VS]:"fire-analytics-compat",[LS]:"fire-app-check",[US]:"fire-app-check-compat",[PS]:"fire-auth",[zS]:"fire-auth-compat",[jS]:"fire-rtdb",[BS]:"fire-data-connect",[qS]:"fire-rtdb-compat",[HS]:"fire-fn",[FS]:"fire-fn-compat",[GS]:"fire-iid",[QS]:"fire-iid-compat",[YS]:"fire-fcm",[KS]:"fire-fcm-compat",[XS]:"fire-perf",[$S]:"fire-perf-compat",[ZS]:"fire-rc",[JS]:"fire-rc-compat",[WS]:"fire-gcs",[eA]:"fire-gcs-compat",[tA]:"fire-fst",[iA]:"fire-fst-compat",[nA]:"fire-vertex","fire-js":"fire-js",[sA]:"fire-js-all"};const Gc=new Map,oA=new Map,$d=new Map;function Q_(r,e){try{r.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function oo(r){const e=r.name;if($d.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,r);for(const i of Gc.values())Q_(i,r);for(const i of oA.values())Q_(i,r);return!0}function bm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function hi(r){return r==null?!1:r.settings!==void 0}const lA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Hl("app","Firebase",lA);class uA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const po=rA;function w0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Xd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(i||(i=v0()),!i)throw lr.create("no-options");const c=Gc.get(l);if(c){if(ta(i,c.options)&&ta(a,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const d=new gS(l);for(const y of $d.values())d.addComponent(y);const g=new uA(i,a,d);return Gc.set(l,g),g}function R0(r=Xd){const e=Gc.get(r);if(!e&&r===Xd&&v0())return w0();if(!e)throw lr.create("no-app",{appName:r});return e}function ur(r,e,i){let a=aA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}oo(new na(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const cA="firebase-heartbeat-database",hA=1,Vl="firebase-heartbeat-store";let Ld=null;function C0(){return Ld||(Ld=IS(cA,hA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(r=>{throw lr.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function fA(r){try{const i=(await C0()).transaction(Vl),a=await i.objectStore(Vl).get(I0(r));return await i.done,a}catch(e){if(e instanceof vs)ms.warn(e.message);else{const i=lr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function Y_(r,e){try{const a=(await C0()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(e,I0(r)),await a.done}catch(i){if(i instanceof vs)ms.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i?.message});ms.warn(a.message)}}}function I0(r){return`${r.name}!${r.options.appId}`}const dA=1024,mA=30;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>mA){const l=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K_(),{heartbeatsToSend:i,unsentEntries:a}=pA(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ms.warn(e),""}}}function K_(){return new Date().toISOString().substring(0,10)}function pA(r,e=dA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),X_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),X_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?sS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function X_(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function _A(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function vA(r){oo(new na("platform-logger",e=>new DS(e),"PRIVATE")),oo(new na("heartbeat",e=>new gA(e),"PRIVATE")),ur(Kd,G_,r),ur(Kd,G_,"esm2020"),ur("fire-js","")}vA("");var EA="firebase",TA="12.7.0";ur(EA,TA,"app");function N0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bA=N0,x0=new Hl("auth","Firebase",N0());const Qc=new Em("@firebase/auth");function SA(r,...e){Qc.logLevel<=Ge.WARN&&Qc.warn(`Auth (${po}): ${r}`,...e)}function Vc(r,...e){Qc.logLevel<=Ge.ERROR&&Qc.error(`Auth (${po}): ${r}`,...e)}function gs(r,...e){throw Sm(r,...e)}function Li(r,...e){return Sm(r,...e)}function D0(r,e,i){const a={...bA(),[e]:i};return new Hl("auth","Firebase",a).create(e,{appName:r.name})}function cr(r){return D0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return x0.create(r,...e)}function Ae(r,e,...i){if(!r)throw Sm(e,...i)}function fs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Vc(e),new Error(e)}function ps(r,e){r||fs(e)}function Zd(){return typeof self<"u"&&self.location?.href||""}function AA(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function wA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AA()||W1()||"connection"in navigator)?navigator.onLine:!0}function RA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Gl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ps(i>e,"Short delay should be less than long delay!"),this.isMobile=$1()||eS()}get(){return wA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(r,e){ps(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class O0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NA=new Gl(3e4,6e4);function fh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function yo(r,e,i,a,l={}){return M0(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Fl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return J1()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&go(r.emulatorConfig.host)&&(_.credentials="include"),O0.fetch()(await k0(r,r.config.apiHost,i,g),_)})}async function M0(r,e,i){r._canInitEmulator=!1;const a={...CA,...e};try{const l=new xA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ic(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw D0(r,b,_);gs(r,b)}}catch(l){if(l instanceof vs)throw l;gs(r,"network-request-failed",{message:String(l)})}}async function V0(r,e,i,a,l={}){const c=await yo(r,e,i,a,l);return"mfaPendingCredential"in c&&gs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function k0(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Am(r.config,l):`${r.config.apiScheme}://${l}`;return IA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Li(this.auth,"network-request-failed")),NA.get())})}}function Ic(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Li(r,e,a);return l.customData._tokenResponse=i,l}async function DA(r,e){return yo(r,"POST","/v1/accounts:delete",e)}async function Yc(r,e){return yo(r,"POST","/v1/accounts:lookup",e)}function Nl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OA(r,e=!1){const i=kn(r),a=await i.getIdToken(e),l=wm(a);Ae(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Nl(Pd(l.auth_time)),issuedAtTime:Nl(Pd(l.iat)),expirationTime:Nl(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function wm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=y0(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Z_(r){const e=wm(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function kl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof vs&&MA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function MA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class VA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const e=r.auth,i=await r.getIdToken(),a=await kl(r,Yc(e,{idToken:i}));Ae(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?U0(l.providerUserInfo):[],d=UA(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=g?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function kA(r){const e=kn(r);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UA(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function U0(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function LA(r,e){const i=await M0(r,{},async()=>{const a=Fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await k0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&go(r.emulatorConfig.host)&&(y.credentials="include"),O0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PA(r,e){return yo(r,"POST","/v2/accounts:revokeToken",fh(r,e))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=Z_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await LA(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new io;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ae(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return fs("not implemented")}}function Ws(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new VA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await kl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return OA(this,e)}reload(){return kA(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await kl(this,DA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:q,providerData:Z,stsTokenManager:ee}=i;Ae(A&&ee,e,"internal-error");const W=io.fromJSON(this.name,ee);Ae(typeof A=="string",e,"internal-error"),Ws(a,e.name),Ws(l,e.name),Ae(typeof V=="boolean",e,"internal-error"),Ae(typeof q=="boolean",e,"internal-error"),Ws(c,e.name),Ws(d,e.name),Ws(g,e.name),Ws(y,e.name),Ws(_,e.name),Ws(b,e.name);const ue=new fi({uid:A,auth:e,email:l,emailVerified:V,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:b});return Z&&Array.isArray(Z)&&(ue.providerData=Z.map(Te=>({...Te}))),y&&(ue._redirectEventId=y),ue}static async _fromIdTokenResponse(e,i,a=!1){const l=new io;l.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ae(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?U0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new io;g.updateFromIdToken(a);const y=new fi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const J_=new Map;function ds(r){ps(r instanceof Function,"Expected a class definition");let e=J_.get(r);return e?(ps(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,J_.set(r,e),e)}class L0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}L0.type="NONE";const W_=L0;function kc(r,e,i){return`firebase:${r}:${e}:${i}`}class so{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Yc(this.auth,{idToken:e}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new so(ds(W_),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ds(W_);const d=kc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const V=await Yc(e,{idToken:b}).catch(()=>{});if(!V)break;A=await fi._fromGetAccountInfoResponse(e,V,b)}else A=fi._fromJSON(e,b);_!==c&&(g=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new so(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new so(c,e,a))}}function ev(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H0(e))return"Blackberry";if(F0(e))return"Webos";if(z0(e))return"Safari";if((e.includes("chrome/")||j0(e))&&!e.includes("edge/"))return"Chrome";if(q0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function P0(r=hn()){return/firefox\//i.test(r)}function z0(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j0(r=hn()){return/crios\//i.test(r)}function B0(r=hn()){return/iemobile/i.test(r)}function q0(r=hn()){return/android/i.test(r)}function H0(r=hn()){return/blackberry/i.test(r)}function F0(r=hn()){return/webos/i.test(r)}function Rm(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zA(r=hn()){return Rm(r)&&!!window.navigator?.standalone}function jA(){return tS()&&document.documentMode===10}function G0(r=hn()){return Rm(r)||q0(r)||F0(r)||H0(r)||/windows phone/i.test(r)||B0(r)}function Q0(r,e=[]){let i;switch(r){case"Browser":i=ev(hn());break;case"Worker":i=`${ev(hn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${po}/${a}`}class BA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function qA(r,e={}){return yo(r,"GET","/v2/passwordPolicy",fh(r,e))}const HA=6;class FA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??HA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class GA{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new BA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Yc(this,{idToken:e}),a=await fi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(cr(this));const i=e?kn(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qA(this),i=new FA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await PA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ds(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function dh(r){return kn(r)}class tv{constructor(e){this.auth=e,this.observer=null,this.addObserver=uS(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QA(r){Cm=r}function YA(r){return Cm.loadJS(r)}function KA(){return Cm.gapiScript}function XA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function $A(r,e){const i=bm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ta(c,e??{}))return l;gs(l,"already-initialized")}return i.initialize({options:e})}function ZA(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ds);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function JA(r,e,i){const a=dh(r);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Y0(e),{host:d,port:g}=WA(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(ta(_,a.config.emulator)&&ta(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,go(d)?(T0(`${c}//${d}${y}`),b0("Auth",!0)):ew()}function Y0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function WA(r){const e=Y0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:nv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:nv(d)}}}function nv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ew(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class K0{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,i){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function ro(r,e){return V0(r,"POST","/v1/accounts:signInWithIdp",fh(r,e))}const tw="http://localhost";class ia extends K0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):gs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ia(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ro(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ro(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ro(e,i)}buildRequest(){const e={requestUri:tw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Fl(i)}return e}}class X0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ql extends X0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr extends Ql{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ir extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ia._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class sr extends Ql{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class rr extends Ql{constructor(){super("twitter.com")}static credential(e,i){return ia._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";async function nw(r,e){return V0(r,"POST","/v1/accounts:signUp",fh(r,e))}class mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await fi._fromIdTokenResponse(e,a,l),d=iv(a);return new mr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=iv(a);return new mr({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function iw(r){if(hi(r.app))return Promise.reject(cr(r));const e=dh(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new mr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await nw(e,{returnSecureToken:!0}),a=await mr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Xc extends vs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Xc(e,i,a,l)}}function $0(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(r,c,e,a):c})}async function sw(r,e,i=!1){const a=await kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return mr._forOperation(r,"link",a)}async function rw(r,e,i=!1){const{auth:a}=r;if(hi(a.app))return Promise.reject(cr(a));const l="reauthenticate";try{const c=await kl(r,$0(a,l,e,r),i);Ae(c.idToken,a,"internal-error");const d=wm(c.idToken);Ae(d,a,"internal-error");const{sub:g}=d;return Ae(r.uid===g,a,"user-mismatch"),mr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gs(a,"user-mismatch"),c}}async function aw(r,e,i=!1){if(hi(r.app))return Promise.reject(cr(r));const a="signIn",l=await $0(r,a,e),c=await mr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function ow(r,e,i,a){return kn(r).onIdTokenChanged(e,i,a)}function lw(r,e,i){return kn(r).beforeAuthStateChanged(e,i)}function uw(r,e,i,a){return kn(r).onAuthStateChanged(e,i,a)}const $c="__sak";class Z0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cw=1e3,hw=10;class J0 extends Z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);jA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,hw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},cw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}J0.type="LOCAL";const fw=J0;class W0 extends Z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}W0.type="SESSION";const eE=W0;function dw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new mh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await dw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];function Im(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class mw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Im("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const V=A;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function gw(r){Pi().location.href=r}function tE(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function pw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yw(){return navigator?.serviceWorker?.controller||null}function _w(){return tE()?self:null}const nE="firebaseLocalStorageDb",vw=1,Zc="firebaseLocalStorage",iE="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(r,e){return r.transaction([Zc],e?"readwrite":"readonly").objectStore(Zc)}function Ew(){const r=indexedDB.deleteDatabase(nE);return new Yl(r).toPromise()}function Wd(){const r=indexedDB.open(nE,vw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Zc,{keyPath:iE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Zc)?e(a):(a.close(),await Ew(),e(await Wd()))})})}async function sv(r,e,i){const a=gh(r,!0).put({[iE]:e,value:i});return new Yl(a).toPromise()}async function Tw(r,e){const i=gh(r,!1).get(e),a=await new Yl(i).toPromise();return a===void 0?null:a.value}function rv(r,e){const i=gh(r,!0).delete(e);return new Yl(i).toPromise()}const bw=800,Sw=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Sw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(_w()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pw(),!this.activeServiceWorker)return;this.sender=new mw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wd();return await sv(e,$c,"1"),await rv(e,$c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Tw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=gh(l,!1).getAll();return new Yl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const Aw=sE;new Gl(3e4,6e4);function ww(r,e){return e?ds(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Nm extends K0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ro(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Rw(r){return aw(r.auth,new Nm(r),r.bypassAuthState)}function Cw(r){const{auth:e,user:i}=r;return Ae(i,e,"internal-error"),rw(i,new Nm(r),r.bypassAuthState)}async function Iw(r){const{auth:e,user:i}=r;return Ae(i,e,"internal-error"),sw(i,new Nm(r),r.bypassAuthState)}class rE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rw;case"linkViaPopup":case"linkViaRedirect":return Iw;case"reauthViaPopup":case"reauthViaRedirect":return Cw;default:gs(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nw=new Gl(2e3,1e4);class no extends rE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nw.get())};e()}}no.currentPopupAction=null;const xw="pendingRedirect",Uc=new Map;class Dw extends rE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const a=await Ow(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ow(r,e){const i=kw(e),a=Vw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Mw(r,e){Uc.set(r._key(),e)}function Vw(r){return ds(r._redirectPersistence)}function kw(r){return kc(xw,r.config.apiKey,r.name)}async function Uw(r,e,i=!1){if(hi(r.app))return Promise.reject(cr(r));const a=dh(r),l=ww(a,e),d=await new Dw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Lw=600*1e3;class Pw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!aE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lw&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(e))}saveEventToCache(e){this.cachedEventUids.add(av(e)),this.lastProcessedEventTime=Date.now()}}function av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function aE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function zw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aE(r);default:return!1}}async function jw(r,e={}){return yo(r,"GET","/v1/projects",e)}const Bw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qw=/^https?/;async function Hw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await jw(r);for(const i of e)try{if(Fw(i))return}catch{}gs(r,"unauthorized-domain")}function Fw(r){const e=Zd(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!qw.test(i))return!1;if(Bw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Gw=new Gl(3e4,6e4);function ov(){const r=Pi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Qw(r){return new Promise((e,i)=>{function a(){ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(Li(r,"network-request-failed"))},timeout:Gw.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)a();else{const l=XA("iframefcb");return Pi()[l]=()=>{gapi.load?a():i(Li(r,"network-request-failed"))},YA(`${KA()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function Yw(r){return Lc=Lc||Qw(r),Lc}const Kw=new Gl(5e3,15e3),Xw="__/auth/iframe",$w="emulator/auth/iframe",Zw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ww(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Am(e,$w):`https://${r.config.authDomain}/${Xw}`,a={apiKey:e.apiKey,appName:r.name,v:po},l=Jw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Fl(a).slice(1)}`}async function e2(r){const e=await Yw(r),i=Pi().gapi;return Ae(i,r,"internal-error"),e.open({where:document.body,url:Ww(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Li(r,"network-request-failed"),g=Pi().setTimeout(()=>{c(d)},Kw.get());function y(){Pi().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const t2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n2=500,i2=600,s2="_blank",r2="http://localhost";class lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a2(r,e,i,a=n2,l=i2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...t2,width:a.toString(),height:l.toString(),top:c,left:d},_=hn().toLowerCase();i&&(g=j0(_)?s2:i),P0(_)&&(e=e||r2,y.scrollbars="yes");const b=Object.entries(y).reduce((V,[q,Z])=>`${V}${q}=${Z},`,"");if(zA(_)&&g!=="_self")return o2(e||"",g),new lv(null);const A=window.open(e||"",g,b);Ae(A,r,"popup-blocked");try{A.focus()}catch{}return new lv(A)}function o2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const l2="__/auth/handler",u2="emulator/auth/handler",c2=encodeURIComponent("fac");async function uv(r,e,i,a,l,c){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:po,eventId:l};if(e instanceof X0){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",lS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof Ql){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await r._getAppCheckToken(),_=y?`#${c2}=${encodeURIComponent(y)}`:"";return`${h2(r)}?${Fl(g).slice(1)}${_}`}function h2({config:r}){return r.emulator?Am(r,u2):`https://${r.authDomain}/${l2}`}const zd="webStorageSupport";class f2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eE,this._completeRedirectFn=Uw,this._overrideRedirectResult=Mw}async _openPopup(e,i,a,l){ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(e,i,a,Zd(),l);return a2(e,c,Im())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await uv(e,i,a,Zd(),l);return gw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ps(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await e2(e),a=new Pw(e);return i.register("authEvent",l=>(Ae(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Hw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return G0()||z0()||Rm()}}const d2=f2;var cv="@firebase/auth",hv="1.12.0";class m2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function g2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p2(r){oo(new na("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q0(r)},_=new GA(a,l,c,y);return ZA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),oo(new na("auth-internal",e=>{const i=dh(e.getProvider("auth").getImmediate());return(a=>new m2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(cv,hv,g2(r)),ur(cv,hv,"esm2020")}const y2=300,_2=E0("authIdTokenMaxAge")||y2;let fv=null;const v2=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>_2)return;const l=i?.token;fv!==l&&(fv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function E2(r=R0()){const e=bm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=$A(r,{popupRedirectResolver:d2,persistence:[Aw,fw,eE]}),a=E0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=v2(c.toString());lw(i,d,()=>d(i.currentUser)),ow(i,g=>d(g))}}const l=_0("auth");return l&&JA(i,`http://${l}`),i}function T2(){return document.getElementsByTagName("head")?.[0]??document}QA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Li("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",T2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p2("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,oE;(function(){var r;function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,x,U){for(var R=Array(arguments.length-2),it=2;it<arguments.length;it++)R[it-2]=arguments[it];return w.prototype[x].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const M=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)M[x]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(x=0;x<16;++x)M[x]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],x=N.g[2];let U=N.g[3],R;R=w+(U^C&(x^U))+M[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(x^w&(C^x))+M[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=x+(C^U&(w^C))+M[2]+606105819&4294967295,x=U+(R<<17&4294967295|R>>>15),R=C+(w^x&(U^w))+M[3]+3250441966&4294967295,C=x+(R<<22&4294967295|R>>>10),R=w+(U^C&(x^U))+M[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(x^w&(C^x))+M[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=x+(C^U&(w^C))+M[6]+2821735955&4294967295,x=U+(R<<17&4294967295|R>>>15),R=C+(w^x&(U^w))+M[7]+4249261313&4294967295,C=x+(R<<22&4294967295|R>>>10),R=w+(U^C&(x^U))+M[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(x^w&(C^x))+M[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=x+(C^U&(w^C))+M[10]+4294925233&4294967295,x=U+(R<<17&4294967295|R>>>15),R=C+(w^x&(U^w))+M[11]+2304563134&4294967295,C=x+(R<<22&4294967295|R>>>10),R=w+(U^C&(x^U))+M[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(x^w&(C^x))+M[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=x+(C^U&(w^C))+M[14]+2792965006&4294967295,x=U+(R<<17&4294967295|R>>>15),R=C+(w^x&(U^w))+M[15]+1236535329&4294967295,C=x+(R<<22&4294967295|R>>>10),R=w+(x^U&(C^x))+M[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^x&(w^C))+M[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=x+(w^C&(U^w))+M[11]+643717713&4294967295,x=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(x^U))+M[0]+3921069994&4294967295,C=x+(R<<20&4294967295|R>>>12),R=w+(x^U&(C^x))+M[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^x&(w^C))+M[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=x+(w^C&(U^w))+M[15]+3634488961&4294967295,x=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(x^U))+M[4]+3889429448&4294967295,C=x+(R<<20&4294967295|R>>>12),R=w+(x^U&(C^x))+M[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^x&(w^C))+M[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=x+(w^C&(U^w))+M[3]+4107603335&4294967295,x=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(x^U))+M[8]+1163531501&4294967295,C=x+(R<<20&4294967295|R>>>12),R=w+(x^U&(C^x))+M[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^x&(w^C))+M[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=x+(w^C&(U^w))+M[7]+1735328473&4294967295,x=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(x^U))+M[12]+2368359562&4294967295,C=x+(R<<20&4294967295|R>>>12),R=w+(C^x^U)+M[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^x)+M[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=x+(U^w^C)+M[11]+1839030562&4294967295,x=U+(R<<16&4294967295|R>>>16),R=C+(x^U^w)+M[14]+4259657740&4294967295,C=x+(R<<23&4294967295|R>>>9),R=w+(C^x^U)+M[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^x)+M[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=x+(U^w^C)+M[7]+4139469664&4294967295,x=U+(R<<16&4294967295|R>>>16),R=C+(x^U^w)+M[10]+3200236656&4294967295,C=x+(R<<23&4294967295|R>>>9),R=w+(C^x^U)+M[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^x)+M[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=x+(U^w^C)+M[3]+3572445317&4294967295,x=U+(R<<16&4294967295|R>>>16),R=C+(x^U^w)+M[6]+76029189&4294967295,C=x+(R<<23&4294967295|R>>>9),R=w+(C^x^U)+M[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^x)+M[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=x+(U^w^C)+M[15]+530742520&4294967295,x=U+(R<<16&4294967295|R>>>16),R=C+(x^U^w)+M[2]+3299628645&4294967295,C=x+(R<<23&4294967295|R>>>9),R=w+(x^(C|~U))+M[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~x))+M[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=x+(w^(U|~C))+M[14]+2878612391&4294967295,x=U+(R<<15&4294967295|R>>>17),R=C+(U^(x|~w))+M[5]+4237533241&4294967295,C=x+(R<<21&4294967295|R>>>11),R=w+(x^(C|~U))+M[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~x))+M[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=x+(w^(U|~C))+M[10]+4293915773&4294967295,x=U+(R<<15&4294967295|R>>>17),R=C+(U^(x|~w))+M[1]+2240044497&4294967295,C=x+(R<<21&4294967295|R>>>11),R=w+(x^(C|~U))+M[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~x))+M[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=x+(w^(U|~C))+M[6]+2734768916&4294967295,x=U+(R<<15&4294967295|R>>>17),R=C+(U^(x|~w))+M[13]+1309151649&4294967295,C=x+(R<<21&4294967295|R>>>11),R=w+(x^(C|~U))+M[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~x))+M[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=x+(w^(U|~C))+M[2]+718787259&4294967295,x=U+(R<<15&4294967295|R>>>17),R=C+(U^(x|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,M=this.C;let x=this.h,U=0;for(;U<w;){if(x==0)for(;U<=C;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(M[x++]=N.charCodeAt(U++),x==this.blockSize){l(this,M),x=0;break}}else for(;U<w;)if(M[x++]=N[U++],x==this.blockSize){l(this,M),x=0;break}}this.h=x,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[w++]=this.g[C]>>>M&255;return N};function c(N,w){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let M=!0;for(let x=N.length-1;x>=0;x--){const U=N[x]|0;M&&U==w||(C[x]=U,M=!1)}this.g=C}var g={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return W(_(-N));const w=[];let C=1;for(let M=0;N>=C;M++)w[M]=N/C|0,C*=4294967296;return new d(w,0)}function b(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return W(b(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let M=A;for(let U=0;U<N.length;U+=8){var x=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+x),w);x<8?(x=_(Math.pow(w,x)),M=M.j(x).add(_(R))):(M=M.j(C),M=M.add(_(R)))}return M}var A=y(0),V=y(1),q=y(16777216);r=d.prototype,r.m=function(){if(ee(this))return-W(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(ee(this))return"-"+W(this).toString(N);const w=_(Math.pow(N,6));var C=this;let M="";for(;;){const x=ze(C,w).g;C=ue(C,x.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=x,Z(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function ee(N){return N.h==-1}r.l=function(N){return N=ue(this,N),ee(N)?-1:Z(N)?0:1};function W(N){const w=N.g.length,C=[];for(let M=0;M<w;M++)C[M]=~N.g[M];return new d(C,~N.h).add(V)}r.abs=function(){return ee(this)?W(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let x=0;x<=w;x++){let U=M+(this.i(x)&65535)+(N.i(x)&65535),R=(U>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);M=R>>>16,U&=65535,R&=65535,C[x]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ue(N,w){return N.add(W(w))}r.j=function(N){if(Z(this)||Z(N))return A;if(ee(this))return ee(N)?W(this).j(W(N)):W(W(this).j(N));if(ee(N))return W(this.j(W(N)));if(this.l(q)<0&&N.l(q)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<N.g.length;x++){const U=this.i(M)>>>16,R=this.i(M)&65535,it=N.i(x)>>>16,xe=N.i(x)&65535;C[2*M+2*x]+=R*xe,Te(C,2*M+2*x),C[2*M+2*x+1]+=U*xe,Te(C,2*M+2*x+1),C[2*M+2*x+1]+=R*it,Te(C,2*M+2*x+1),C[2*M+2*x+2]+=U*it,Te(C,2*M+2*x+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function Te(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function me(N,w){this.g=N,this.h=w}function ze(N,w){if(Z(w))throw Error("division by zero");if(Z(N))return new me(A,A);if(ee(N))return w=ze(W(N),w),new me(W(w.g),W(w.h));if(ee(w))return w=ze(N,W(w)),new me(W(w.g),w.h);if(N.g.length>30){if(ee(N)||ee(w))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=w;M.l(N)<=0;)C=Pe(C),M=Pe(M);var x=Ve(C,1),U=Ve(M,1);for(M=Ve(M,2),C=Ve(C,2);!Z(M);){var R=U.add(M);R.l(N)<=0&&(x=x.add(C),U=R),M=Ve(M,1),C=Ve(C,1)}return w=ue(N,x.j(w)),new me(x,w)}for(x=A;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(C),R=U.j(w);ee(R)||R.l(N)>0;)C-=M,U=_(C),R=U.j(w);Z(U)&&(U=V),x=x.add(U),N=ue(N,R)}return new me(x,N)}r.B=function(N){return ze(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function Pe(N){const w=N.g.length+1,C=[];for(let M=0;M<w;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function Ve(N,w){const C=w>>5;w%=32;const M=N.g.length-C,x=[];for(let U=0;U<M;U++)x[U]=w>0?N.i(U+C)>>>w|N.i(U+C+1)<<32-w:N.i(U+C);return new d(x,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,oE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,hr=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lE,Al,uE,Pc,em,cE,hE,fE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break e;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,H){for(var te=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)te[Oe-2]=arguments[Oe];return m.prototype[P].apply(T,te)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const H=P.length||0;u.length=v+H;for(let te=0;te<H;te++)u[v+te]=P[te]}else u.push(P)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ue(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Te{constructor(){this.h=this.g=null}add(m,v){const T=me.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var me=new ee(()=>new ze,u=>u.reset());class ze{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,Ve=!1,N=new Te,w=()=>{const u=Promise.resolve(void 0);Pe=()=>{u.then(C)}};function C(){for(var u;u=ue();){try{u.h.call(u.g)}catch(v){W(v)}var m=me;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ve=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function it(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(it,x),it.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),L=0;function $(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++L,this.da=this.fa=!1}function se(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Se(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let H=0;H<Y.length;H++)v=Y[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const te=we(u,m,T,P);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new $(m,this.src,H,!!T,P),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(T,P,1),H&&(se(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function we(u,m,v,T){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return P}return-1}var ae="closure_lm_"+(Math.random()*1e6|0),Ze={};function qe(u,m,v,T,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)qe(u,m[H],v,T,P);return null}return v=lt(v),u&&u[xe]?u.J(m,v,g(T)?!!T.capture:!1,P):Gt(u,m,v,!1,T,P)}function Gt(u,m,v,T,P,H){if(!m)throw Error("Invalid event type");const te=g(P)?!!P.capture:!!P;let Oe=ge(u);if(Oe||(u[ae]=Oe=new re(u)),v=Oe.add(m,v,T,te,H),v.proxy)return v;if(T=An(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(P=te),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(ie(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function An(){function u(v){return m.call(u.src,u.listener,v)}const m=de;return u}function Zn(u,m,v,T,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Zn(u,m[H],v,T,P);else T=g(T)?!!T.capture:!!T,v=lt(v),u&&u[xe]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=we(m,v,T,P),v>-1&&(se(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=ge(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,v,T,P)),(v=u>-1?m[u]:null)&&Qi(v))}function Qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xe])Ee(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ie(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ge(m))?(Ee(v,u),v.h==0&&(v.src=null,m[ae]=null)):se(u)}}}function ie(u){return u in Ze?Ze[u]:Ze[u]="on"+u}function de(u,m){if(u.da)u=!0;else{m=new it(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Qi(u),u=v.call(T,m)}return u}function ge(u){return u=u[ae],u instanceof re?u:null}var De="__closure_events_fn_"+(Math.random()*1e9>>>0);function lt(u){return typeof u=="function"?u:(u[De]||(u[De]=function(m){return u.handleEvent(m)}),u[De])}function ce(){M.call(this),this.i=new re(this),this.M=this,this.G=null}A(ce,M),ce.prototype[xe]=!0,ce.prototype.removeEventListener=function(u,m,v,T){Zn(this,u,m,v,T)};function Ue(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var P=m;m=new x(T,u),ne(m,P)}P=!0;let H,te;if(v)for(te=v.length-1;te>=0;te--)H=m.g=v[te],P=jt(H,T,!0,m)&&P;if(H=m.g=u,P=jt(H,T,!0,m)&&P,P=jt(H,T,!1,m)&&P,v)for(te=0;te<v.length;te++)H=m.g=v[te],P=jt(H,T,!1,m)&&P}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)se(v[T]);delete u.g[m],u.h--}}this.G=null},ce.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ce.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function jt(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const te=m[H];if(te&&!te.da&&te.capture==v){const Oe=te.listener,Rt=te.ha||te.src;te.fa&&Ee(u.i,te),P=Oe.call(Rt,T)!==!1&&P}}return P&&!T.defaultPrevented}function Re(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Le(u){u.g=Re(()=>{u.g=null,u.i&&(u.i=!1,Le(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jn(u){M.call(this),this.h=u,this.g={}}A(Jn,M);var Es=[];function bo(u){Se(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qi(m)},u),u.g={}}Jn.prototype.N=function(){Jn.Z.N.call(this),bo(this)},Jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ts=d.JSON.stringify,Nh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function nu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){x.call(this,"d")}A(Zt,x);function Un(){x.call(this,"c")}A(Un,x);var wt={},iu=null;function ha(){return iu=iu||new ce}wt.Ia="serverreachability";function su(u){x.call(this,wt.Ia,u)}A(su,x);function gi(u){const m=ha();Ue(m,new su(m))}wt.STAT_EVENT="statevent";function Tr(u,m){x.call(this,wt.STAT_EVENT,u),this.stat=m}A(Tr,x);function xt(u){const m=ha();Ue(m,new Tr(m,u))}wt.Ja="timingevent";function pi(u,m){x.call(this,wt.Ja,u),this.size=m}A(pi,x);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function xh(u,m,v,T,P,H){u.info(function(){if(u.g)if(H){var te="",Oe=H.split("&");for(let tt=0;tt<Oe.length;tt++){var Rt=Oe[tt].split("=");if(Rt.length>1){const Et=Rt[0];Rt=Rt[1];const jn=Et.split("_");te=jn.length>=2&&jn[1]=="type"?te+(Et+"="+Rt+"&"):te+(Et+"=redacted&")}}}else te=null;else te=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+te})}function ru(u,m,v,T,P,H,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+H+" "+te})}function _i(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,v)+(T?" "+T:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}ei.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return Ts(H)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function Ar(){}A(Ar,tu),Ar.prototype.g=function(){return new XMLHttpRequest},Ao=new Ar;function Yi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Jn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Dt={},Qt={};function vi(u,m,v){u.M=1,u.A=wr(Mt(m)),u.u=v,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),Ei(u),u.B=Mt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),pa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ni,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Es[0]=P.toString()),P=Es);for(let H=0;H<P.length;H++){const te=qe(v,P[H],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&ri(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=ri(this.g),Rt=this.g.ya(),tt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Oe!=4||Rt==7||(Rt==8||tt<=0?gi(3):gi(2)),Ti(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(u=H)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,xt(12),wn(this),Ln(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=lu(this,v),Et==Qt){Oe==4&&(this.m=4,xt(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Dt){this.m=4,xt(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,Et,null),bi(this,Et);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||v.length!=0||this.h.h||(this.m=1,xt(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(te),te.P=!0,xt(11))}}else _i(this.i,this.l,v,null),bi(this,v);Oe==4&&wn(this),this.o&&!this.K&&(Oe==4?yu(this.j,this):(this.o=!1,Ei(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),wn(this),Ln(this)}}}catch{}};function Oh(u){if(!ou(u))return u.g.la();const m=Jt(u.g);if(m==="")return"";let v="";const T=m.length,P=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(P&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Qt:(v=Number(m.substring(v,T)),isNaN(v)?Dt:(T+=1,T+v>m.length?Qt:(m=m.slice(T,T+v),u.C=T+v,m)))}ti.prototype.cancel=function(){this.K=!0,wn(this)};function Ei(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(_(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(gi(),xt(17)),wn(this),this.m=2,Ln(this)):da(this,this.T-u)};function Ln(u){u.j.I==0||u.K||yu(u.j,u)}function wn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,bo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Ns(v);else break e;Or(v),xt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(_(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((u.L||v.g==u)&&Ta(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let tt=P[m];const Et=tt[0];if(!(Et<=v.K))if(v.K=Et,tt=tt[1],v.I==2)if(tt[0]=="c"){v.M=tt[1],v.ba=tt[2];const jn=tt[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Di=tt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ai=tt[5];ai!=null&&typeof ai=="number"&&ai>0&&(T=1.5*ai,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const oi=u.g;if(oi){const Mr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var H=T.h;H.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Co(H,H.h),H.h=null))}if(T.G){const ba=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(T.wa=ba,rt(T.J,T.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),te.L){Io(T.h,te);var Oe=te,Rt=T.O;Rt&&(Oe.H=Rt),Oe.D&&(Ti(Oe),Ei(Oe)),T.g=te}else gu(T);v.i.length>0&&Ni(v)}else tt[0]!="stop"&&tt[0]!="close"||xi(v,7);else v.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?xi(v,7):Lo(v):tt[0]!="noop"&&v.l&&v.l.qa(tt),v.A=0)}}gi(4)}catch{}}var Ot=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Co(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,H=null;T>=0?(P=u[v].substring(0,T),H=u[v].substring(T+1)):P=u[v],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Rn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Rn?(this.l=u.l,Yt(this,u.j),this.o=u.o,this.g=u.g,bs(this,u.u),this.h=u.h,xo(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Yt(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),bs(this,m[4]),this.h=wi(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}Rn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,ga,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,ga,!0),"@"),u.push(Yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Do:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,hu)),u.join("")},Rn.prototype.resolve=function(u){const m=Mt(this);let v=!!u.j;v?Yt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)bs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let te=0;te<P.length;){const Oe=P[te++];Oe=="."?T&&te==P.length&&H.push(""):Oe==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&te==P.length&&H.push("")):(H.push(Oe),T=!0)}T=H.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?xo(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Mt(u){return new Rn(u)}function Yt(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function bs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,v){m instanceof As?(u.i=m,ya(u.i,u.l)):(v||(m=Rr(m,Ss)),u.i=new As(m,u.l))}function rt(u,m,v){u.i.set(m,v)}function wr(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,cu=/[#\?:]/g,Do=/[#\?]/g,Ss=/[#\?@]/g,hu=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=As.prototype,r.add=function(u,m){pn(this),this.i=null,u=ws(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){pn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return pn(u),m=ws(u,m),u.g.has(m)}r.forEach=function(u,m){pn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Mo(u,m){pn(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return pn(this),this.i=null,u=ws(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function pa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(ws(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Yi(v);v=Mo(this,v);for(let H=0;H<v.length;H++){let te=P;v[H]!==""&&(te+="="+Yi(v[H])),u.push(te)}}return this.i=u.join("&")};function du(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(fu(this,T),pa(this,P,v))},u)),u.j=m}function ii(u,m){const v=new ei;if(d.Image){const T=new Image;T.onload=b(Pn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Pn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Pn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Pn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vo(u,m){const v=new ei,T=new AbortController,P=setTimeout(()=>{T.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Rs(){this.g=new eu}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ri,tu),Ri.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){ce.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Cr,ce),r=Cr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):si(this),this.readyState==3&&_a(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},r.Na=function(u){this.g&&(this.response=u,Cs(this))},r.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let m="";return Se(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=zn(v),typeof u=="string"?v!=null&&Yi(v):rt(u,m,v))}function ut(u){ce.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ut,ce);var Ci=/^https?$/i,ko=["POST","PUT"];r=ut.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Nr(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of v)this.g.setRequestHeader(H,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Nr(this,H)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Ki(u)}function Uo(u){u.A||(u.A=!0,Ue(u,"complete"),Ue(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ue(this,"complete"),Ue(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),ut.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},r.Xa=function(){xr(this)};function xr(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ue(u,"readystatechange"),ri(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let te=String(u.D).match(uu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!Ci.test(te?te.toLowerCase():"")}v=T}if(v)Ue(u,"complete"),Ue(u,"success");else{u.o=6;try{var P=ri(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Uo(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ue(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function Jt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=au(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[P]||[];m[P]=H,H.push(v)}Xe(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Is.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){xt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Ni(this)};function Lo(u){if(va(u),u.I==3){var m=u.V++,v=Mt(u.J);if(rt(v,"SID",u.M),rt(v,"RID",m),rt(v,"TYPE","terminate"),Dr(u,v),m=new ti(u,u.j,m),m.M=2,m.A=wr(Mt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}vu(u)}function Ns(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function va(u){Ns(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;Pe||w(),Ve||(Pe(),Ve=!0),N.add(m,u),u.D=0}}function Ea(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ti(this,this.j,u);let H=this.o;if(this.U&&(H?(H=D(H),ne(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=mu(this,P,m),v=Mt(this.J),rt(v,"RID",u),rt(v,"CVER",22),this.G&&rt(v,"X-HTTP-Session-Id",this.G),Dr(this,v),H&&(this.R?m="headers="+Yi(zn(H))+"&"+m:this.u&&Ir(v,this.u,H)),Co(this.h,P),this.Ra&&rt(v,"TYPE","init"),this.S?(rt(v,"$req",m),rt(v,"SID","null"),P.U=!0,vi(P,v,null)):vi(P,v,m),this.I=2}}else this.I==3&&(u?Po(this,u):this.i.length==0||Ro(this.h)||Po(this))};function Po(u,m){var v;m?v=m.l:v=u.V++;const T=Mt(u.J);rt(T,"SID",u.M),rt(T,"RID",v),rt(T,"AID",u.K),Dr(u,T),u.u&&u.o&&Ir(T,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Co(u.h,v),vi(v,T,m)}function Dr(u,m){u.H&&Se(u.H,function(v,T){rt(m,T,v)}),u.l&&Se({},function(v,T){rt(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var P=u.i;let Oe=-1;for(;;){const Rt=["count="+v];Oe==-1?v>0?(Oe=P[0].g,Rt.push("ofs="+Oe)):Oe=0:Rt.push("ofs="+Oe);let tt=!0;for(let Et=0;Et<v;Et++){var H=P[Et].g;const jn=P[Et].map;if(H-=Oe,H<0)Oe=Math.max(0,P[Et].g-100),tt=!1;else try{H="req"+H+"_"||"";try{var te=jn instanceof Map?jn:Object.entries(jn);for(const[Di,ai]of te){let oi=ai;g(ai)&&(oi=Ts(ai)),Rt.push(H+Di+"="+encodeURIComponent(oi))}}catch(Di){throw Rt.push(H+"type="+encodeURIComponent("_badmap")),Di}}catch{T&&T(jn)}}if(tt){te=Rt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Pe||w(),Ve||(Pe(),Ve=!0),N.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(_(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Ns(this),pu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Mt(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(Mt(m)),v.u=null,v.R=!0,fa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ns(this),Or(this),xt(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){Ta(u),zo(u),u.g=null;var T=2}else if(Ai(u.h,m))v=m.G,Io(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ha(),Ue(T,new pi(T,v)),Ni(u)}else gu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Ea(u,m)||T==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new Rn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Yt(T,"https"),wr(T),P?ii(T.toString(),v):Vo(T.toString(),v)}else xt(2);u.I=0,u.l&&u.l.pa(m),vu(u),va(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof Rn?Mt(v):new Rn(v);if(T.g!="")m&&(T.g=m+"."+T.g),bs(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new Rn(null);T&&Yt(H,T),m&&(H.g=m),P&&bs(H,P),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&rt(T,v,m),rt(T,"VER",u.ka),Dr(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ri({ab:v})):new ut(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xs(){}xs.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){ce.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}A(fn,ce),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Lo(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ts(u),u=v);m.i.push(new Ot(m.Ya++,u)),m.I==3&&Ni(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,fn.Z.N.call(this)};function Su(u){Zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Su,Zt);function Au(){Un.call(this),this.status=1}A(Au,Un);function $i(u){this.g=u}A($i,bu),$i.prototype.ra=function(){Ue(this.g,"a")},$i.prototype.qa=function(u){Ue(this.g,new Su(u))},$i.prototype.pa=function(u){Ue(this.g,new Au)},$i.prototype.oa=function(){Ue(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,fE=function(){return new xs},hE=function(){return ha()},cE=wt,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Pc=Sr,So.COMPLETE="complete",uE=So,nu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",ce.prototype.listen=ce.prototype.J,Al=nu,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,lE=ut}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",gv="4.9.3";let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let _o="12.7.0";const sa=new Em("@firebase/firestore");function Ja(){return sa.logLevel}function oe(r,...e){if(sa.logLevel<=Ge.DEBUG){const i=e.map(xm);sa.debug(`Firestore (${_o}): ${r}`,...i)}}function ys(r,...e){if(sa.logLevel<=Ge.ERROR){const i=e.map(xm);sa.error(`Firestore (${_o}): ${r}`,...i)}}function lo(r,...e){if(sa.logLevel<=Ge.WARN){const i=e.map(xm);sa.warn(`Firestore (${_o}): ${r}`,...i)}}function xm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function be(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,dE(r,a,i)}function dE(r,e,i){let a=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ys(a),new Error(a)}function st(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||dE(e,l,a)}function Ne(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class mE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class S2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class A2{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){st(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(st(typeof a.accessToken=="string",31837,{l:a}),new mE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class w2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new w2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){st(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(st(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new pv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Dm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=I2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Qe(r,e){return r<e?-1:r>e?1:0}function tm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return jd(l)===jd(c)?Qe(l,c):jd(l)?1:-1}return Qe(r.length,e.length)}const N2=55296,x2=57343;function jd(r){const e=r.charCodeAt(0);return e>=N2&&e<=x2}function uo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const yv="__name__";class Ui{constructor(e,i,a){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&be(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Ui.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Qe(e.length,i.length)}static compareSegments(e,i){const a=Ui.isNumericId(e),l=Ui.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):tm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class _t extends Ui{construct(e,i,a){return new _t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ui{construct(e,i,a){return new rn(e,i,a)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new rn([yv])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(i)}static emptyPath(){return new rn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(_t.fromString(e))}static fromName(e){return new ye(_t.fromString(e).popFirst(5))}static empty(){return new ye(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new _t(e.slice()))}}function gE(r,e,i){if(!i)throw new fe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function O2(r,e,i,a){if(e===!0&&a===!0)throw new fe(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function _v(r){if(!ye.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vv(r){if(ye.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function pE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function zi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(r);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function zt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Kl(r,e){if(!pE(r))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new fe(J.INVALID_ARGUMENT,i);return!0}const Ev=-62135596800,Tv=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Tv);return new vt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ev)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tv}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ev;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:zt("string",vt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new vt(0,0))}static max(){return new Ce(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function M2(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ce.fromTimestamp(a===1e9?new vt(i+1,0):new vt(i,a));return new gr(l,ye.empty(),e)}function V2(r){return new gr(r.readTime,r.key,Ul)}class gr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(Ce.min(),ye.empty(),Ul)}static max(){return new gr(Ce.max(),ye.empty(),Ul)}}function k2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(r.documentKey,e.documentKey),i!==0?i:Qe(r.largestBatchId,e.largestBatchId))}const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==U2)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{d[_]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function P2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Eo(r){return r.name==="IndexedDbTransactionError"}class ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;const Mm=-1;function yh(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function z2(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const yE="";function j2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=bv(e)),e=B2(r.get(i),e);return bv(e)}function B2(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case yE:i+="";break;default:i+=c}}return i}function bv(r){return r+yE+""}function Sv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function oa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function _E(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||sn.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??sn.RED,this.left=l??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new sn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return sn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new sn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(e){return new Av(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ft(this.comparator);return i.data=e,i}}class Av{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new di([])}unionWith(e){let i=new Ft(rn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new di(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vE("Invalid base64 string: "+c):c}})(e);return new an(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new an(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(r){if(st(!!r,39018),typeof r=="string"){let e=0;const i=q2.exec(r);if(st(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Nt(r.seconds),nanos:Nt(r.nanos)}}function Nt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yr(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}const EE="server_timestamp",TE="__type__",bE="__previous_value__",SE="__local_write_time__";function Vm(r){return(r?.mapValue?.fields||{})[TE]?.stringValue===EE}function _h(r){const e=r.mapValue.fields[bE];return Vm(e)?_h(e):e}function Ll(r){const e=pr(r.mapValue.fields[SE].timestampValue);return new vt(e.seconds,e.nanos)}class H2{constructor(e,i,a,l,c,d,g,y,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const Wc="(default)";class Pl{constructor(e,i){this.projectId=e,this.database=i||Wc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}const AE="__type__",F2="__max__",Dc={mapValue:{}},wE="__vector__",eh="value";function _r(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vm(r)?4:Q2(r)?9007199254740991:G2(r)?10:11:be(28295,{value:r})}function Fi(r,e){if(r===e)return!0;const i=_r(r);if(i!==_r(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ll(r).isEqual(Ll(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=pr(l.timestampValue),g=pr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return yr(l.bytesValue).isEqual(yr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return Nt(l.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(l.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Nt(l.integerValue)===Nt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Nt(l.doubleValue),g=Nt(c.doubleValue);return d===g?Jc(d)===Jc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return uo(r.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Sv(d)!==Sv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Fi(d[y],g[y])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function zl(r,e){return(r.values||[]).find((i=>Fi(i,e)))!==void 0}function co(r,e){if(r===e)return 0;const i=_r(r),a=_r(e);if(i!==a)return Qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Nt(c.integerValue||c.doubleValue),y=Nt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return wv(r.timestampValue,e.timestampValue);case 4:return wv(Ll(r),Ll(e));case 5:return tm(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=yr(c),y=yr(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const b=Qe(g[_],y[_]);if(b!==0)return b}return Qe(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Qe(Nt(c.latitude),Nt(d.latitude));return g!==0?g:Qe(Nt(c.longitude),Nt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Rv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[eh]?.arrayValue,b=y[eh]?.arrayValue,A=Qe(_?.values?.length||0,b?.values?.length||0);return A!==0?A:Rv(_,b)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const V=tm(y[A],b[A]);if(V!==0)return V;const q=co(g[y[A]],_[b[A]]);if(q!==0)return q}return Qe(y.length,b.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function wv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const i=pr(r),a=pr(e),l=Qe(i.seconds,a.seconds);return l!==0?l:Qe(i.nanos,a.nanos)}function Rv(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=co(i[l],a[l]);if(c)return c}return Qe(i.length,a.length)}function ho(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=pr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return yr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ye.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=nm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${nm(i.fields[d])}`;return l+"}"})(r.mapValue):be(61005,{value:r})}function zc(r){switch(_r(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(r);return e?16+zc(e):16;case 5:return 2*r.stringValue.length;case 6:return yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return oa(a.fields,((c,d)=>{l+=c.length+zc(d)})),l})(r.mapValue);default:throw be(13486,{value:r})}}function im(r){return!!r&&"integerValue"in r}function km(r){return!!r&&"arrayValue"in r}function Cv(r){return!!r&&"nullValue"in r}function Iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function G2(r){return(r?.mapValue?.fields||{})[AE]?.stringValue===wE}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return oa(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=xl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xl(r.arrayValue.values[i]);return e}return{...r}}function Q2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(i)}setAll(e){let i=rn.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=xl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){oa(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Xn(xl(this.value))}}function RE(r){const e=[];return oa(r.fields,((i,a)=>{const l=new rn([i]);if(jc(a)){const c=RE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new di(e)}class cn{constructor(e,i,a,l,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new cn(e,0,Ce.min(),Ce.min(),Ce.min(),Xn.empty(),0)}static newFoundDocument(e,i,a,l){return new cn(e,1,i,Ce.min(),a,l,0)}static newNoDocument(e,i){return new cn(e,2,i,Ce.min(),Ce.min(),Xn.empty(),0)}static newUnknownDocument(e,i){return new cn(e,3,i,Ce.min(),Ce.min(),Xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,i){this.position=e,this.inclusive=i}}function Nv(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=co(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function xv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Fi(r.position[i],e.position[i]))return!1;return!0}class nh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Y2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class CE{}class qt extends CE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new X2(e,i,a):i==="array-contains"?new J2(e,a):i==="in"?new W2(e,a):i==="not-in"?new eR(e,a):i==="array-contains-any"?new tR(e,a):new qt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new $2(e,a):new Z2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(co(i,this.value)):i!==null&&_r(this.value)===_r(i)&&this.matchesComparison(co(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends CE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return IE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IE(r){return r.op==="and"}function NE(r){return K2(r)&&IE(r)}function K2(r){for(const e of r.filters)if(e instanceof Gi)return!1;return!0}function sm(r){if(r instanceof qt)return r.field.canonicalString()+r.op.toString()+ho(r.value);if(NE(r))return r.filters.map((e=>sm(e))).join(",");{const e=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${e})`}}function xE(r,e){return r instanceof qt?(function(a,l){return l instanceof qt&&a.op===l.op&&a.field.isEqual(l.field)&&Fi(a.value,l.value)})(r,e):r instanceof Gi?(function(a,l){return l instanceof Gi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&xE(d,l.filters[g])),!0):!1})(r,e):void be(19439)}function DE(r){return r instanceof qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ho(i.value)}`})(r):r instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(DE).join(" ,")+"}"})(r):"Filter"}class X2 extends qt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class $2 extends qt{constructor(e,i){super(e,"in",i),this.keys=OE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Z2 extends qt{constructor(e,i){super(e,"not-in",i),this.keys=OE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function OE(r,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class J2 extends qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return km(i)&&zl(i.arrayValue,this.value)}}class W2 extends qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class eR extends qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class tR extends qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>zl(this.value.arrayValue,a)))}}class nR{constructor(e,i=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Dv(r,e=null,i=[],a=[],l=null,c=null,d=null){return new nR(r,e,i,a,l,c,d)}function Um(r){const e=Ne(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),yh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ho(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ho(a))).join(",")),e.Te=i}return e.Te}function Lm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Y2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!xE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!xv(r.startAt,e.startAt)&&xv(r.endAt,e.endAt)}function rm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class vh{constructor(e,i=null,a=[],l=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iR(r,e,i,a,l,c,d,g){return new vh(r,e,i,a,l,c,d,g)}function Pm(r){return new vh(r)}function Ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sR(r){return r.collectionGroup!==null}function Dl(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ft(rn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nh(c,a))})),i.has(rn.keyField().canonicalString())||e.Ie.push(new nh(rn.keyField(),a))}return e.Ie}function ji(r){const e=Ne(r);return e.Ee||(e.Ee=rR(e,Dl(r))),e.Ee}function rR(r,e){if(r.limitType==="F")return Dv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return Dv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function am(r,e,i){return new vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Eh(r,e){return Lm(ji(r),ji(e))&&r.limitType===e.limitType}function ME(r){return`${Um(ji(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>DE(l))).join(", ")}]`),yh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ho(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ho(l))).join(",")),`Target(${a})`})(ji(r))}; limitType=${r.limitType})`}function Th(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const _=Nv(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,g,y){const _=Nv(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Dl(a),l))})(r,e)}function aR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function VE(r){return(e,i)=>{let a=!1;for(const l of Dl(r)){const c=oR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function oR(r,e,i){const a=r.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?co(y,_):be(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:r.dir})}}class la{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const lR=new bt(ye.comparator);function _s(){return lR}const kE=new bt(ye.comparator);function wl(...r){let e=kE;for(const i of r)e=e.insert(i.key,i);return e}function UE(r){let e=kE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Jr(){return Ol()}function LE(){return Ol()}function Ol(){return new la((r=>r.toString()),((r,e)=>r.isEqual(e)))}const uR=new bt(ye.comparator),cR=new Ft(ye.comparator);function Ye(...r){let e=cR;for(const i of r)e=e.add(i);return e}const hR=new Ft(Qe);function fR(){return hR}function zm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function PE(r){return{integerValue:""+r}}function dR(r,e){return z2(e)?PE(e):zm(r,e)}class bh{constructor(){this._=void 0}}function mR(r,e,i){return r instanceof ih?(function(l,c){const d={fields:{[TE]:{stringValue:EE},[SE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Vm(c)&&(c=_h(c)),c&&(d.fields[bE]=c),{mapValue:d}})(i,e):r instanceof jl?jE(r,e):r instanceof Bl?BE(r,e):(function(l,c){const d=zE(l,c),g=Mv(d)+Mv(l.Ae);return im(d)&&im(l.Ae)?PE(g):zm(l.serializer,g)})(r,e)}function gR(r,e,i){return r instanceof jl?jE(r,e):r instanceof Bl?BE(r,e):i}function zE(r,e){return r instanceof sh?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ih extends bh{}class jl extends bh{constructor(e){super(),this.elements=e}}function jE(r,e){const i=qE(e);for(const a of r.elements)i.some((l=>Fi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends bh{constructor(e){super(),this.elements=e}}function BE(r,e){let i=qE(e);for(const a of r.elements)i=i.filter((l=>!Fi(l,a)));return{arrayValue:{values:i}}}class sh extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Mv(r){return Nt(r.integerValue||r.doubleValue)}function qE(r){return km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof jl&&l instanceof jl||a instanceof Bl&&l instanceof Bl?uo(a.elements,l.elements,Fi):a instanceof sh&&l instanceof sh?Fi(a.Ae,l.Ae):a instanceof ih&&l instanceof ih})(r.transform,e.transform)}class yR{constructor(e,i){this.version=e,this.transformResults=i}}class mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sh{}function HE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new jm(r.key,mi.none()):new Xl(r.key,r.data,mi.none());{const i=r.data,a=Xn.empty();let l=new Ft(rn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ua(r.key,a,new di(l.toArray()),mi.none())}}function _R(r,e,i){r instanceof Xl?(function(l,c,d){const g=l.value.clone(),y=kv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof ua?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=kv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(FE(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ml(r,e,i,a){return r instanceof Xl?(function(c,d,g,y){if(!Bc(c.precondition,d))return g;const _=c.value.clone(),b=Uv(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof ua?(function(c,d,g,y){if(!Bc(c.precondition,d))return g;const _=Uv(c.fieldTransforms,y,d),b=d.data;return b.setAll(FE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function vR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=zE(a.transform,l||null);c!=null&&(i===null&&(i=Xn.empty()),i.set(a.field,c))}return i||null}function Vv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&uo(a,l,((c,d)=>pR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Xl extends Sh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ua extends Sh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function FE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function kv(r,e,i){const a=new Map;st(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,gR(d,g,i[l]))}return a}function Uv(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,mR(c,d,e))}return a}class jm extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ER extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&_R(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ml(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ml(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=LE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=HE(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ce.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((i,a)=>Vv(i,a)))&&uo(this.baseMutations,e.baseMutations,((i,a)=>Vv(i,a)))}}class Bm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){st(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return uR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Bm(e,i,a,l)}}class bR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Pt,$e;function AR(r){switch(r){case J.OK:return be(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function GE(r){if(r===void 0)return ys("GRPC error has no .code"),J.UNKNOWN;switch(r){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return be(39323,{code:r})}}($e=Pt||(Pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function wR(){return new TextEncoder}const RR=new hr([4294967295,4294967295],0);function Lv(r){const e=wR().encode(r),i=new oE;return i.update(e),new Uint8Array(i.digest())}function Pv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new hr([i,a],0),new hr([l,c],0)]}class qm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(a<0)throw new Rl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=hr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(hr.fromNumber(a)));return l.compare(RR)===1&&(l=new hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Lv(e),[a,l]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new qm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Lv(e),[a,l]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ah(Ce.min(),l,new bt(Qe),_s(),Ye())}}class $l{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new $l(a,i,Ye(),Ye(),Ye())}}class qc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class QE{constructor(e,i){this.targetId=e,this.Ce=i}}class YE{constructor(e,i,a=an.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class zv{constructor(){this.ve=0,this.Fe=jv(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),i=Ye(),a=Ye();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:be(38017,{changeType:c})}})),new $l(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=jv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CR{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.Je=Oc(),this.He=Oc(),this.Ye=new bt(Qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(rm(c))if(a===0){const d=new ye(c.path);this.et(i,d,cn.newNoDocument(d,Ce.min()))}else st(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=yr(a).toUint8Array()}catch(y){if(y instanceof vE)return lo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new qm(d,l,c)}catch(y){return lo(y instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&rm(g.target)){const y=new ye(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,cn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ye();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ah(e,i,this.Ye,this.je,a);return this.je=_s(),this.Je=Oc(),this.He=Oc(),this.Ye=new bt(Qe),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new zv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ft(Qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ft(Qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Oc(){return new bt(ye.comparator)}function jv(){return new bt(ye.comparator)}const IR={asc:"ASCENDING",desc:"DESCENDING"},NR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xR={and:"AND",or:"OR"};class DR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function om(r,e){return r.useProto3Json||yh(e)?e:{value:e}}function rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OR(r,e){return rh(r,e.toTimestamp())}function Bi(r){return st(!!r,49232),Ce.fromTimestamp((function(i){const a=pr(i);return new vt(a.seconds,a.nanos)})(r))}function Hm(r,e){return lm(r,e).canonicalString()}function lm(r,e){const i=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function XE(r){const e=_t.fromString(r);return st(eT(e),10190,{key:e.toString()}),e}function um(r,e){return Hm(r.databaseId,e.path)}function Bd(r,e){const i=XE(e);if(i.get(1)!==r.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ye(ZE(i))}function $E(r,e){return Hm(r.databaseId,e)}function MR(r){const e=XE(r);return e.length===4?_t.emptyPath():ZE(e)}function cm(r){return new _t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZE(r){return st(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Bv(r,e,i){return{name:um(r,e),fields:i.value.mapValue.fields}}function VR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(st(b===void 0||typeof b=="string",58123),an.fromBase64String(b||"")):(st(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),an.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const b=_.code===void 0?J.UNKNOWN:GE(_.code);return new fe(b,_.message||"")})(d);i=new YE(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(r,a.document.name),c=Bi(a.document.updateTime),d=a.document.createTime?Bi(a.document.createTime):Ce.min(),g=new Xn({mapValue:{fields:a.document.fields}}),y=cn.newFoundDocument(l,c,d,g),_=a.targetIds||[],b=a.removedTargetIds||[];i=new qc(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Bd(r,a.document),c=a.readTime?Bi(a.readTime):Ce.min(),d=cn.newNoDocument(l,c),g=a.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Bd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new SR(l,c),g=a.targetId;i=new QE(g,d)}}return i}function kR(r,e){let i;if(e instanceof Xl)i={update:Bv(r,e.key,e.value)};else if(e instanceof jm)i={delete:um(r,e.key)};else if(e instanceof ua)i={update:Bv(r,e.key,e.data),updateMask:FR(e.fieldMask)};else{if(!(e instanceof ER))return be(16599,{Vt:e.type});i={verify:um(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw be(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:OR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(r,e.precondition)),i}function UR(r,e){return r&&r.length>0?(st(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Bi(l.updateTime):Bi(c);return d.isEqual(Ce.min())&&(d=Bi(c)),new yR(d,l.transformResults||[])})(i,e)))):[]}function LR(r,e){return{documents:[$E(r,e.path)]}}function PR(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=$E(r,l);const c=(function(_){if(_.length!==0)return WE(Gi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(V){return{field:eo(V.field),direction:BR(V.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=om(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function zR(r){let e=MR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){st(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const V=JE(A);return V instanceof Gi&&NE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(Z){return new nh(to(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let V;return V=typeof A=="object"?A.value:A,yh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(A){const V=!!A.before,q=A.values||[];return new th(q,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const V=!A.before,q=A.values||[];return new th(q,V)})(i.endAt)),iR(e,l,d,c,g,"F",y,_)}function jR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function JE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=to(i.unaryFilter.field);return qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=to(i.unaryFilter.field);return qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=to(i.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=to(i.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(i){return qt.create(to(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>JE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(r):be(30097,{filter:r})}function BR(r){return IR[r]}function qR(r){return NR[r]}function HR(r){return xR[r]}function eo(r){return{fieldPath:r.canonicalString()}}function to(r){return rn.fromServerFormat(r.fieldPath)}function WE(r){return r instanceof qt?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NAN"}};if(Cv(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NOT_NAN"}};if(Cv(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(i.field),op:qR(i.op),value:i.value}}})(r):r instanceof Gi?(function(i){const a=i.getFilters().map((l=>WE(l)));return a.length===1?a[0]:{compositeFilter:{op:HR(i.op),filters:a}}})(r):be(54877,{filter:r})}function FR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function eT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ar{constructor(e,i,a,l,c=Ce.min(),d=Ce.min(),g=an.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GR{constructor(e){this.yt=e}}function QR(r){const e=zR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(e,e.limit,"L"):e}class YR{constructor(){this.Cn=new KR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(gr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class KR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Ft(_t.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ft(_t.comparator)).toArray()}}const qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(tT,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const Hv="LruGarbageCollector",XR=1048576;function Fv([r,e],[i,a]){const l=Qe(r,i);return l===0?Qe(e,a):l}class $R{constructor(e){this.Ir=e,this.buffer=new Ft(Fv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Fv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Hv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Eo(i)?oe(Hv,"Ignoring IndexedDB error during garbage collection: ",i):await vo(i)}await this.Vr(3e5)}))}}class JR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(ph.ce);const a=new $R(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(qv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,g,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Ja()<=Ge.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function WR(r,e){return new JR(r,e)}class eC{constructor(){this.changes=new la((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class nC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Ml(a.mutation,l,di.empty(),vt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ye()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ye()){const l=Jr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=wl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Jr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ye())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let c=_s();const d=Ol(),g=(function(){return Ol()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof ua)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Ml(b.mutation,_,b.mutation.getFieldMask(),vt.now())):d.set(_.key,di.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>g.set(_,new tC(b,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Ol();let l=new bt(((d,g)=>d-g)),c=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||di.empty();b=g.applyToLocalView(_,b),a.set(y,b);const A=(l.get(g.batchId)||Ye()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,b=y.value,A=LE();b.forEach((V=>{if(!c.has(V)){const q=HE(i.get(V),a.get(V));q!==null&&A.set(V,q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):sR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(Jr());let g=Ul,y=c;return d.next((_=>X.forEach(_,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(e,b).next((V=>{y=y.insert(b,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Ye()))).next((b=>({batchId:g,changes:UE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let l=wl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(y=>{const _=(function(A,V){return new vh(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((b=>{b.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,cn.newInvalidDocument(b)))}));let g=wl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Ml(b.mutation,_,di.empty(),vt.now()),Th(i,_)&&(g=g.insert(y,_))})),g}))}}class iC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:QR(l.bundledQuery),readTime:Bi(l.readTime)}})(i)),X.resolve()}}class sC{constructor(){this.overlays=new bt(ye.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Jr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=Jr(),c=i.length+1,d=new ye(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new bt(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Jr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=Jr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=l)););return X.resolve(g)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ye(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class rC{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Fm{constructor(){this.Qr=new Ft(Xt.$r),this.Ur=new Ft(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Xt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Xt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new _t([])),a=new Xt(i,e),l=new Xt(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new _t([])),a=new Xt(i,e),l=new Xt(i,e+1);let c=Ye();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Xt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Xt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||Qe(e.Yr,i.Yr)}static Kr(e,i){return Qe(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class aC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Xt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Xt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Xt(i,0),l=new Xt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ft(Qe);return i.forEach((l=>{const c=new Xt(l,0),d=new Xt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new Xt(new ye(c),0);let g=new Ft(Qe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){st(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Xt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Xt(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oC{constructor(e){this.ri=e,this.docs=(function(){return new bt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(e,i){let a=_s();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():cn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=_s();const d=i.path,g=new ye(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||k2(V2(b),a)<=0||(l.has(b.key)||Th(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){be(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new lC(this)}getSize(e){return X.resolve(this.size)}}class lC extends eC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class uC{constructor(e){this.persistence=e,this.si=new la((i=>Um(i)),Lm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Fm,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new fo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class nT{constructor(e,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new rC,this.referenceDelegate=e(this),this.Pi=new uC(this),this.indexManager=new YR,this.remoteDocumentCache=(function(l){return new oC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new GR(i),this.Ii=new iC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new sC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new aC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const l=new cC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class cC extends L2{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Ri=new Fm,this.Vi=null}static mi(e){return new Gm(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=ye.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ce.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ah{constructor(e,i){this.persistence=e,this.pi=new la((a=>j2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=WR(this,i)}static mi(e,i){return new ah(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Ce.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Ye(),l=Ye();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Qm(e,i.fromCache,a,l)}}class hC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nS()?8:P2(hn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hC;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(Ja()<=Ge.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ja()<=Ge.DEBUG&&oe("QueryEngine","Query:",Wa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ja()<=Ge.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(i))):X.resolve())}ys(e,i){if(Ov(i))return X.resolve(null);let a=ji(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=am(i,null,"F"),a=ji(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ye(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,am(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,l){return Ov(i)||l.isEqual(Ce.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Ja()<=Ge.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Wa(i)),this.vs(e,d,i,M2(l,Ul)).next((g=>g)))}))}Ds(e,i){let a=new Ft(VE(e));return i.forEach(((l,c)=>{Th(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return Ja()<=Ge.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.ps.getDocumentsMatchingQuery(e,i,gr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",dC=3e8;class mC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new bt(Qe),this.xs=new la((c=>Um(c)),Lm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function gC(r,e,i,a){return new mC(r,e,i,a)}async function iT(r,e){const i=Ne(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Ye();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){g.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function pC(r,e){const i=Ne(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,b){const A=_.batch,V=A.keys();let q=X.resolve();return V.forEach((Z=>{q=q.next((()=>b.getEntry(y,Z))).next((ee=>{const W=_.docVersions.get(Z);st(W!==null,48541),ee.version.compareTo(W)<0&&(A.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),b.addEntry(ee)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Ye();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function sT(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function yC(r,e){const i=Ne(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((b,A)=>{const V=l.get(A);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let q=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(an.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,a)),l=l.insert(A,q),(function(ee,W,ue){return ee.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=dC?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(V,q,b)&&g.push(i.Pi.updateTargetData(c,q))}));let y=_s(),_=Ye();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(_C(c,d,e.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(Ce.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function _C(r,e,i){let a=Ye(),l=Ye();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=_s();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Ce.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):oe(Ym,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function vC(r,e){const i=Ne(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function EC(r,e){const i=Ne(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ar(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function hm(r,e,i){const a=Ne(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Eo(d))throw d;oe(Ym,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function Gv(r,e,i){const a=Ne(r);let l=Ce.min(),c=Ye();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Ne(y),V=A.xs.get(b);return V!==void 0?X.resolve(A.Ms.get(V)):A.Pi.getTargetData(_,b)})(a,d,ji(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Ce.min(),i?c:Ye()))).next((g=>(TC(a,aR(e),g),{documents:g,Qs:c})))))}function TC(r,e,i){let a=r.Os.get(e)||Ce.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class Qv{constructor(){this.activeTargetIds=fR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bC{constructor(){this.Mo=new Qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Qv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SC{Oo(e){}shutdown(){}}const Yv="ConnectivityMonitor";class Kv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Yv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function fm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const qd="RestConnection",AC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=fm(),g=this.zo(e,i.toUriEncodedString());oe(qd,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),b=go(_);return this.Jo(e,g,y,a,b).then((A=>(oe(qd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw lo(qd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=AC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class RC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class CC extends wC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=fm();return new Promise(((g,y)=>{const _=new lE;_.setWithCredentials(!0),_.listenOnce(uE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const A=_.getResponseJson();oe(ln,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Pc.TIMEOUT:oe(ln,`RPC '${e}' ${d} timed out`),y(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const V=_.getStatus();if(oe(ln,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const ee=(function(ue){const Te=ue.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Te)>=0?Te:J.UNKNOWN})(Z.status);y(new fe(ee,Z.message))}else y(new fe(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new fe(J.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(ln,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);oe(ln,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=fE(),g=hE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");oe(ln,`Creating RPC '${e}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let V=!1,q=!1;const Z=new RC({Yo:W=>{q?oe(ln,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(V||(oe(ln,`Opening RPC '${e}' stream ${l} transport.`),A.open(),V=!0),oe(ln,`RPC '${e}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),ee=(W,ue,Te)=>{W.listen(ue,(me=>{try{Te(me)}catch(ze){setTimeout((()=>{throw ze}),0)}}))};return ee(A,Al.EventType.OPEN,(()=>{q||(oe(ln,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),ee(A,Al.EventType.CLOSE,(()=>{q||(q=!0,oe(ln,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(A))})),ee(A,Al.EventType.ERROR,(W=>{q||(q=!0,lo(ln,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new fe(J.UNAVAILABLE,"The operation could not be completed")))})),ee(A,Al.EventType.MESSAGE,(W=>{if(!q){const ue=W.data[0];st(!!ue,16349);const Te=ue,me=Te?.error||Te[0]?.error;if(me){oe(ln,`RPC '${e}' stream ${l} received error:`,me);const ze=me.status;let Pe=(function(w){const C=Pt[w];if(C!==void 0)return GE(C)})(ze),Ve=me.message;Pe===void 0&&(Pe=J.INTERNAL,Ve="Unknown error status: "+ze+" with message "+me.message),q=!0,Z.a_(new fe(Pe,Ve)),A.close()}else oe(ln,`RPC '${e}' stream ${l} received:`,ue),Z.u_(ue)}})),ee(g,cE.STAT_EVENT,(W=>{W.stat===em.PROXY?oe(ln,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===em.NOPROXY&&oe(ln,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Hd(){return typeof document<"u"?document:null}function wh(r){return new DR(r,!0)}class rT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Xv="PersistentStream";class aT{constructor(e,i,a,l,c,d,g,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new fe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(Xv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(Xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IC extends aT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=VR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ce.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ce.min():d.readTime?Bi(d.readTime):Ce.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=rm(y)?{documents:LR(c,y)}:{query:PR(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=KE(c,d.resumeToken);const _=om(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ce.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const _=om(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=jR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=cm(this.serializer),i.removeTarget=e,this.q_(i)}}class NC extends aT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=UR(e.writeResults,e.commitTime),a=Bi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=cm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>kR(this.serializer,a)))};this.q_(i)}}class xC{}class DC extends xC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,lm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(J.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,lm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class MC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ca(this)&&(oe(ra,"Restarting streams for network reachability change."),await(async function(y){const _=Ne(y);_.Ea.add(4),await Zl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rh(_)})(this))}))})),this.Ra=new OC(a,l)}}async function Rh(r){if(ca(r))for(const e of r.da)await e(!0)}async function Zl(r){for(const e of r.da)await e(!1)}function oT(r,e){const i=Ne(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Zm(i)?$m(i):To(i).O_()&&Xm(i,e))}function Km(r,e){const i=Ne(r),a=To(i);i.Ia.delete(e),a.O_()&&lT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ca(i)&&i.Ra.set("Unknown"))}function Xm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}To(r).Y_(e)}function lT(r,e){r.Va.Ue(e),To(r).Z_(e)}function $m(r){r.Va=new CR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),To(r).start(),r.Ra.ua()}function Zm(r){return ca(r)&&!To(r).x_()&&r.Ia.size>0}function ca(r){return Ne(r).Ea.size===0}function uT(r){r.Va=void 0}async function VC(r){r.Ra.set("Online")}async function kC(r){r.Ia.forEach(((e,i)=>{Xm(r,e)}))}async function UC(r,e){uT(r),Zm(r)?(r.Ra.ha(e),$m(r)):r.Ra.set("Unknown")}async function LC(r,e,i){if(r.Ra.set("Online"),e instanceof YE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(a){oe(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oh(r,a)}else if(e instanceof qc?r.Va.Ze(e):e instanceof QE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ce.min()))try{const a=await sT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(an.EMPTY_BYTE_STRING,b.snapshotVersion)),lT(c,y);const A=new ar(b.target,y,_,b.sequenceNumber);Xm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){oe(ra,"Failed to raise snapshot:",a),await oh(r,a)}}async function oh(r,e,i){if(!Eo(e))throw e;r.Ea.add(1),await Zl(r),r.Ra.set("Offline"),i||(i=()=>sT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(ra,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rh(r)}))}function cT(r,e){return e().catch((i=>oh(r,i,e)))}async function Ch(r){const e=Ne(r),i=vr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;PC(e);)try{const l=await vC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,zC(e,l)}catch(l){await oh(e,l)}hT(e)&&fT(e)}function PC(r){return ca(r)&&r.Ta.length<10}function zC(r,e){r.Ta.push(e);const i=vr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function hT(r){return ca(r)&&!vr(r).x_()&&r.Ta.length>0}function fT(r){vr(r).start()}async function jC(r){vr(r).ra()}async function BC(r){const e=vr(r);for(const i of r.Ta)e.ea(i.mutations)}async function qC(r,e,i){const a=r.Ta.shift(),l=Bm.from(a,e,i);await cT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ch(r)}async function HC(r,e){e&&vr(r).X_&&await(async function(a,l){if((function(d){return AR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();vr(a).B_(),await cT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(a)}})(r,e),hT(r)&&fT(r)}async function $v(r,e){const i=Ne(r);i.asyncQueue.verifyOperationInProgress(),oe(ra,"RemoteStore received new credentials");const a=ca(i);i.Ea.add(3),await Zl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function FC(r,e){const i=Ne(r);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await Zl(i),i.Ra.set("Unknown"))}function To(r){return r.ma||(r.ma=(function(i,a,l){const c=Ne(i);return c.sa(),new IC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:VC.bind(null,r),t_:kC.bind(null,r),r_:UC.bind(null,r),H_:LC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Zm(r)?$m(r):r.Ra.set("Unknown")):(await r.ma.stop(),uT(r))}))),r.ma}function vr(r){return r.fa||(r.fa=(function(i,a,l){const c=Ne(i);return c.sa(),new NC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jC.bind(null,r),r_:HC.bind(null,r),ta:BC.bind(null,r),na:qC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Jm{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,g=new Jm(e,i,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(r,e){if(ys("AsyncQueue",`${e}: ${r}`),Eo(r))return new fe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=wl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ao;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Zv{constructor(){this.ga=new bt(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class mo{constructor(e,i,a,l,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new mo(e,i,ao.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class GC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class QC{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ne(i),c=l.queries;l.queries=Jv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function Jv(){return new la((r=>ME(r)),Eh)}async function dT(r,e){const i=Ne(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new GC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Wm(d,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&eg(i)}async function mT(r,e){const i=Ne(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YC(r,e){const i=Ne(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&eg(i)}function KC(r,e,i){const a=Ne(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function eg(r){r.Ca.forEach((e=>{e.next()}))}var dm,Wv;(Wv=dm||(dm={})).Ma="default",Wv.Cache="cache";class gT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new mo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dm.Cache}}class pT{constructor(e){this.key=e}}class yT{constructor(e){this.key=e}}class XC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=VE(e),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Zv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const V=l.get(b),q=Th(this.query,A)?A:null,Z=!!V&&this.mutatedKeys.has(V.key),ee=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let W=!1;V&&q?V.data.isEqual(q.data)?Z!==ee&&(a.track({type:3,doc:q}),W=!0):this.su(V,q)||(a.track({type:2,doc:q}),W=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(g=!0)):!V&&q?(a.track({type:0,doc:q}),W=!0):V&&!q&&(a.track({type:1,doc:V}),W=!0,(y||_)&&(g=!0)),W&&(q?(d=d.add(q),c=ee?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(q,Z){const ee=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:W})}};return ee(q)-ee(Z)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new mo(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new yT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new pT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ye();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tg="SyncEngine";class $C{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class ZC{constructor(e){this.key=e,this.hu=!1}}class JC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new la((g=>ME(g)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new bt(ye.comparator),this.Au=new Map,this.Ru=new Fm,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WC(r,e,i=!0){const a=ST(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await _T(a,e,i,!0),l}async function eI(r,e){const i=ST(r);await _T(i,e,!0,!1)}async function _T(r,e,i,a){const l=await EC(r.localStore,ji(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await tI(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&oT(r.remoteStore,l),g}async function tI(r,e,i,a,l){r.pu=(A,V,q)=>(async function(ee,W,ue,Te){let me=W.view.ru(ue);me.Cs&&(me=await Gv(ee.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,me))));const ze=Te&&Te.targetChanges.get(W.targetId),Pe=Te&&Te.targetMismatches.get(W.targetId)!=null,Ve=W.view.applyChanges(me,ee.isPrimaryClient,ze,Pe);return t0(ee,W.targetId,Ve.au),Ve.snapshot})(r,A,V,q);const c=await Gv(r.localStore,e,!0),d=new XC(e,c.Qs),g=d.ru(c.documents),y=$l.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);t0(r,i,_.au);const b=new $C(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function nI(r,e,i){const a=Ne(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Eh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await hm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Km(a.remoteStore,l.targetId),mm(a,l.targetId)})).catch(vo)):(mm(a,l.targetId),await hm(a.localStore,l.targetId,!0))}async function iI(r,e){const i=Ne(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function sI(r,e,i){const a=hI(r);try{const l=await(function(d,g){const y=Ne(d),_=vt.now(),b=g.reduce(((q,Z)=>q.add(Z.key)),Ye());let A,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Z=_s(),ee=Ye();return y.Ns.getEntries(q,b).next((W=>{Z=W,Z.forEach(((ue,Te)=>{Te.isValidDocument()||(ee=ee.add(ue))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,Z))).next((W=>{A=W;const ue=[];for(const Te of g){const me=vR(Te,A.get(Te.key).overlayedDocument);me!=null&&ue.push(new ua(Te.key,me,RE(me.value.mapValue),mi.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,ue,g)})).next((W=>{V=W;const ue=W.applyToLocalDocumentSet(A,ee);return y.documentOverlayCache.saveOverlays(q,W.batchId,ue)}))})).then((()=>({batchId:V.batchId,changes:UE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new bt(Qe)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Jl(a,l.changes),await Ch(a.remoteStore)}catch(l){const c=Wm(l,"Failed to persist write");i.reject(c)}}async function vT(r,e){const i=Ne(r);try{const a=await yC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(st(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?st(d.hu,14607):l.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await Jl(i,a,e)}catch(a){await vo(a)}}function e0(r,e,i){const a=Ne(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ne(d);y.onlineState=g;let _=!1;y.queries.forEach(((b,A)=>{for(const V of A.Sa)V.va(g)&&(_=!0)})),_&&eg(y)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function rI(r,e,i){const a=Ne(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new bt(ye.comparator);d=d.insert(c,cn.newNoDocument(c,Ce.min()));const g=Ye().add(c),y=new Ah(Ce.min(),new Map,new bt(Qe),d,g);await vT(a,y),a.du=a.du.remove(c),a.Au.delete(e),ng(a)}else await hm(a.localStore,e,!1).then((()=>mm(a,e,i))).catch(vo)}async function aI(r,e){const i=Ne(r),a=e.batch.batchId;try{const l=await pC(i.localStore,e);TT(i,a,null),ET(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await vo(l)}}async function oI(r,e,i){const a=Ne(r);try{const l=await(function(d,g){const y=Ne(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,g).next((A=>(st(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);TT(a,e,i),ET(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jl(a,l)}catch(l){await vo(l)}}function ET(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function TT(r,e,i){const a=Ne(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function mm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||bT(r,a)}))}function bT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Km(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),ng(r))}function t0(r,e,i){for(const a of i)a instanceof pT?(r.Ru.addReference(a.key,e),lI(r,a)):a instanceof yT?(oe(tg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||bT(r,a.key)):be(19791,{wu:a})}function lI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(oe(tg,"New document in limbo: "+i),r.Eu.add(a),ng(r))}function ng(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ye(_t.fromString(e)),a=r.fu.next();r.Au.set(a,new ZC(i)),r.du=r.du.insert(i,a),oT(r.remoteStore,new ar(ji(Pm(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function Jl(r,e,i){const a=Ne(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Qm.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=Ne(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(V=>X.forEach(V.Es,(q=>b.persistence.referenceDelegate.addReference(A,V.targetId,q))).next((()=>X.forEach(V.ds,(q=>b.persistence.referenceDelegate.removeReference(A,V.targetId,q)))))))))}catch(A){if(!Eo(A))throw A;oe(Ym,"Failed to update sequence numbers: "+A)}for(const A of _){const V=A.targetId;if(!A.fromCache){const q=b.Ms.get(V),Z=q.snapshotVersion,ee=q.withLastLimboFreeSnapshotVersion(Z);b.Ms=b.Ms.insert(V,ee)}}})(a.localStore,c))}async function uI(r,e){const i=Ne(r);if(!i.currentUser.isEqual(e)){oe(tg,"User change. New user:",e.toKey());const a=await iT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new fe(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ls)}}function cI(r,e){const i=Ne(r),a=i.Au.get(e);if(a&&a.hu)return Ye().add(a.key);{let l=Ye();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function ST(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rI.bind(null,e),e.Pu.H_=YC.bind(null,e.eventManager),e.Pu.yu=KC.bind(null,e.eventManager),e}function hI(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oI.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return gC(this.persistence,new fC,e.initialUser,this.serializer)}Cu(e){return new nT(Gm.mi,this.serializer)}Du(e){return new bC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class fI extends lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){st(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ZR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new nT((a=>ah.mi(a,i)),this.serializer)}}class gm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>e0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uI.bind(null,this.syncEngine),await FC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QC})()}createDatastore(e){const i=wh(e.databaseInfo.databaseId),a=(function(c){return new CC(c)})(e.databaseInfo);return(function(c,d,g,y){return new DC(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,g){return new MC(a,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>e0(this.syncEngine,i,0)),(function(){return Kv.v()?new Kv:new SC})())}createSyncEngine(e,i){return(function(l,c,d,g,y,_,b){const A=new JC(l,c,d,g,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);oe(ra,"RemoteStore shutting down."),a.Ea.add(5),await Zl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class AT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Er="FirestoreClient";class dI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Wm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Fd(r,e){r.asyncQueue.verifyOperationInProgress(),oe(Er,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await iT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function n0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await mI(r);oe(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>$v(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>$v(e.remoteStore,l))),r._onlineComponents=e}async function mI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(Er,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;lo("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new lh)}}else oe(Er,"Using default OfflineComponentProvider"),await Fd(r,new fI(void 0));return r._offlineComponents}async function wT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(Er,"Using user provided OnlineComponentProvider"),await n0(r,r._uninitializedComponentsProvider._online)):(oe(Er,"Using default OnlineComponentProvider"),await n0(r,new gm))),r._onlineComponents}function gI(r){return wT(r).then((e=>e.syncEngine))}async function pm(r){const e=await wT(r),i=e.eventManager;return i.onListen=WC.bind(null,e.syncEngine),i.onUnlisten=nI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=eI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=iI.bind(null,e.syncEngine),i}function pI(r,e,i={}){const a=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const b=new AT({next:V=>{b.Nu(),d.enqueueAndForget((()=>mT(c,A))),V.fromCache&&y.source==="server"?_.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),A=new gT(g,b,{includeMetadataChanges:!0,qa:!0});return dT(c,A)})(await pm(r),r.asyncQueue,e,i,a))),a.promise}function RT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const i0=new Map;const CT="firestore.googleapis.com",s0=!0;class r0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=s0}else this.host=e.host,this.ssl=e.ssl??s0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XR)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new b2;switch(a.type){case"firstParty":return new R2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=i0.get(i);a&&(oe("ComponentProvider","Removing Datastore"),i0.delete(i),a.terminate())})(this),Promise.resolve()}}function yI(r,e,i,a={}){r=zi(r,Ih);const l=go(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;l&&(T0(`https://${g}`),b0("Firestore",!0)),c.host!==CT&&c.host!==g&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:a};if(!ta(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=un.MOCK_USER;else{_=Y1(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new un(A)}r._authCredentials=new S2(new mE(_,b))}}class Wl{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Wl(this.firestore,e,this._query)}}class Ht{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Kl(i,Ht._jsonSchema))return new Ht(e,a||null,new ye(_t.fromString(i.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:zt("string",Ht._jsonSchemaVersion),referencePath:zt("string")};class dr extends Wl{constructor(e,i,a){super(e,i,Pm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new ye(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function Vn(r,e,...i){if(r=kn(r),gE("collection","path",e),r instanceof Ih){const a=_t.fromString(e,...i);return vv(a),new dr(r,null,a)}{if(!(r instanceof Ht||r instanceof dr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_t.fromString(e,...i));return vv(a),new dr(r.firestore,null,a)}}function mn(r,e,...i){if(r=kn(r),arguments.length===1&&(e=Dm.newId()),gE("doc","path",e),r instanceof Ih){const a=_t.fromString(e,...i);return _v(a),new Ht(r,null,new ye(a))}{if(!(r instanceof Ht||r instanceof dr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_t.fromString(e,...i));return _v(a),new Ht(r.firestore,r instanceof dr?r.converter:null,new ye(a))}}const a0="AsyncQueue";class o0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rT(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&oe(a0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;oe(a0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",l0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Jm.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&be(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function l0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function u0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class aa extends Ih{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new o0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o0(e),this._firestoreClient=void 0,await e}}}function _I(r,e){const i=typeof r=="object"?r:R0(),a=typeof r=="string"?r:Wc,l=bm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=G1("firestore");c&&yI(l,...c)}return l}function ig(r){if(r._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vI(r),r._firestoreClient}function vI(r){const e=r._freezeSettings(),i=(function(l,c,d,g){return new H2(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,RT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new dI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(an.fromBase64String(e))}catch(i){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new $n(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:zt("string",$n._jsonSchemaVersion),bytes:zt("string")};class sg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class IT{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:zt("string",qi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Hi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Hi(e.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:zt("string",Hi._jsonSchemaVersion),vectorValues:zt("object")};const EI=/^__.*__$/;class TI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(e,this.data,i,this.fieldTransforms)}}function NT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class rg{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NT(this.Ac)&&EI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||wh(e)}Cc(e,i,a,l=!1){return new rg({Ac:e,methodName:i,Dc:a,path:rn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xT(r){const e=r._freezeSettings(),i=wh(r._databaseId);return new bI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function DT(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);kT("Data must be an object, but it was:",d,a);const g=MT(a,d);let y,_;if(c.merge)y=new di(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const V=SI(e,A,i);if(!d.contains(V))throw new fe(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);wI(b,V)||b.push(V)}y=new di(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new TI(new Xn(g),y,_)}function OT(r,e){if(VT(r=kn(r)))return kT("Unsupported field value:",e,r),MT(r,e);if(r instanceof IT)return(function(a,l){if(!NT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let y=OT(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=kn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=vt.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof vt){const c=new vt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:KE(l.serializer,a._byteString)};if(a instanceof Ht){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Hi)return(function(d,g){return{mapValue:{fields:{[AE]:{stringValue:wE},[eh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return zm(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Om(a)}`)})(r,e)}function MT(r,e){const i={};return _E(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(r,((a,l)=>{const c=OT(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function VT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vt||r instanceof qi||r instanceof $n||r instanceof Ht||r instanceof IT||r instanceof Hi)}function kT(r,e,i){if(!VT(i)||!pE(i)){const a=Om(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function SI(r,e,i){if((e=kn(e))instanceof sg)return e._internalPath;if(typeof e=="string")return UT(r,e);throw uh("Field path arguments must be of type string or ",r,!1,void 0,i)}const AI=new RegExp("[~\\*/\\[\\]]");function UT(r,e,i){if(e.search(AI)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new sg(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uh(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new fe(J.INVALID_ARGUMENT,g+r+y)}function wI(r,e){return r.some((i=>i.isEqual(e)))}class LT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(PT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RI extends LT{data(){return super.data()}}function PT(r,e){return typeof e=="string"?UT(r,e):e instanceof sg?e._internalPath:e._delegate._internalPath}function zT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CI{convertValue(e,i="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return oa(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[eh].arrayValue?.values?.map((a=>Nt(a.doubleValue)));return new Hi(i)}convertGeoPoint(e){return new qi(Nt(e.latitude),Nt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=_h(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const i=pr(e);return new vt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=_t.fromString(e);st(eT(a),9688,{name:e});const l=new Pl(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return l.isEqual(i)||ys(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function jT(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class Cl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends LT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(PT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:zt("string",Wr._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Hc extends Wr{data(e={}){return super.data(e)}}class ea{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:II(g.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function II(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:zt("string",ea._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class ag extends CI{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,i)}}function c0(r){r=zi(r,Wl);const e=zi(r.firestore,aa),i=ig(e),a=new ag(e);return zT(r._query),pI(i,r._query).then((l=>new ea(e,a,r,l)))}function er(r,e,i){r=zi(r,Ht);const a=zi(r.firestore,aa),l=jT(r.converter,e,i);return og(a,[DT(xT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,mi.none())])}function tr(r){return og(zi(r.firestore,aa),[new jm(r._key,mi.none())])}function bn(r,e){const i=zi(r.firestore,aa),a=mn(r),l=jT(r.converter,e);return og(i,[DT(xT(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,mi.exists(!1))]).then((()=>a))}function Xr(r,...e){r=kn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||u0(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(u0(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Ht)d=zi(r.firestore,aa),g=Pm(r._key.path),c={next:y=>{e[a]&&e[a](NI(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=zi(r,Wl);d=zi(y.firestore,aa),g=y._query;const _=new ag(d);c={next:b=>{e[a]&&e[a](new ea(d,_,y,b))},error:e[a+1],complete:e[a+2]},zT(r._query)}return(function(_,b,A,V){const q=new AT(V),Z=new gT(b,q,A);return _.asyncQueue.enqueueAndForget((async()=>dT(await pm(_),Z))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>mT(await pm(_),Z)))}})(ig(d),g,l,c)}function og(r,e){return(function(a,l){const c=new fr;return a.asyncQueue.enqueueAndForget((async()=>sI(await gI(a),l,c))),c.promise})(ig(r),e)}function NI(r,e,i){const a=i.docs.get(e._key),l=new ag(r);return new Wr(r,l,e._key,a,new Cl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){_o=l})(po),oo(new na("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new aa(new A2(a.getProvider("auth-internal")),new C2(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ur(mv,gv,e),ur(mv,gv,"esm2020")})();const xI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),h0=r=>{const e=DI(r);return e.charAt(0).toUpperCase()+e.slice(1)},BT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),OI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var MI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VI=_e.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},y)=>_e.createElement("svg",{ref:y,...MI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:BT("lucide",l),...!c&&!OI(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,b])=>_e.createElement(_,b)),...Array.isArray(c)?c:[c]]));const $t=(r,e)=>{const i=_e.forwardRef(({className:a,...l},c)=>_e.createElement(VI,{ref:c,iconNode:e,className:BT(`lucide-${xI(h0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=h0(r),i};const kI=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],qT=$t("arrow-up-down",kI);const UI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LI=$t("calendar",UI);const PI=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],zI=$t("camera",PI);const jI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],BI=$t("clipboard-list",jI);const qI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],HI=$t("file-spreadsheet",qI);const FI=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],HT=$t("grip-vertical",FI);const GI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],QI=$t("lock",GI);const YI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],KI=$t("log-out",YI);const XI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$I=$t("plus",XI);const ZI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],JI=$t("save",ZI);const WI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eN=$t("search",WI);const tN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FT=$t("settings",tN);const nN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],GT=$t("trash-2",nN);const iN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],f0=$t("triangle-alert",iN);const sN=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ch=$t("truck",sN);const rN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aN=$t("user",rN);const oN=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],QT=$t("wrench",oN);const lN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ym=$t("x",lN),uN={apiKey:"AIzaSyAWELn6lSPNa5WIjG_wFLv4nkzk1CaLxq8",authDomain:"tyre-tracker-ccbd1.firebaseapp.com",projectId:"tyre-tracker-ccbd1",storageBucket:"tyre-tracker-ccbd1.firebasestorage.app",messagingSenderId:"90986714992",appId:"1:90986714992:web:388e83080de978ec68e1b5",measurementId:"G-VEVZFGKE16"},YT=w0(uN),d0=E2(YT),mt=_I(YT),gt="tyre-tracker-ccbd1",_m=[{id:"white",label:"Default",bg:"bg-white",border:"border-slate-200",hover:"hover:bg-slate-50"},{id:"red",label:"Red",bg:"bg-red-50",border:"border-red-200",hover:"hover:bg-red-100"},{id:"orange",label:"Orange",bg:"bg-orange-50",border:"border-orange-200",hover:"hover:bg-orange-100"},{id:"amber",label:"Yellow",bg:"bg-amber-50",border:"border-amber-200",hover:"hover:bg-amber-100"},{id:"green",label:"Green",bg:"bg-green-50",border:"border-green-200",hover:"hover:bg-green-100"},{id:"blue",label:"Blue",bg:"bg-blue-50",border:"border-blue-200",hover:"hover:bg-blue-100"},{id:"purple",label:"Purple",bg:"bg-purple-50",border:"border-purple-200",hover:"hover:bg-purple-100"},{id:"slate",label:"Grey",bg:"bg-slate-100",border:"border-slate-300",hover:"hover:bg-slate-200"}],KT=r=>_m.find(e=>e.id===r)||_m[0],XT=`
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-enter {
    animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .glass-panel {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  .btn-press:active {
    transform: scale(0.97);
  }
  .drag-item {
    cursor: grab;
  }
  .drag-item:active {
    cursor: grabbing;
  }
  /* Custom Scrollbar */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
`,cN=()=>Math.random().toString(36).substr(2,9),m0=()=>"8"+Math.floor(1e7+Math.random()*9e7).toString(),hN=()=>{try{const r=window.AudioContext||window.webkitAudioContext;if(!r)return;const e=new r,i=(l,c,d)=>{const g=e.createOscillator(),y=e.createGain();g.type="sawtooth",g.frequency.value=l,g.connect(y),y.connect(e.destination),y.gain.setValueAtTime(.1,c),y.gain.exponentialRampToValueAtTime(.001,c+d),g.start(c),g.stop(c+d)},a=e.currentTime;i(150,a,.15),i(150,a+.2,.3)}catch(r){console.error("Audio error",r)}},fN=r=>{if(!r||r.length!==4)return"Unknown";const e=parseInt(r.substring(0,2)),i=parseInt("20"+r.substring(2,4)),a=new Date,l=a.getFullYear(),c=Math.floor((a-new Date(l,0,1))/(10080*60*1e3));let d=(l-i)*52+(c-e);return d<0&&(d=0),d<52?`${d}w`:`${(d/52).toFixed(1)}y`},ql=r=>r.startsWith("F")?"front":r.startsWith("D")?"drive":r.startsWith("T")?"tag":r.startsWith("R")&&(r.includes("S")||r==="RL"||r==="RR")?"rear_steer":r.startsWith("R")?"rear":"front",dN=r=>{switch(r){case"front":return"Steer Axle";case"drive":return"Drive Axle";case"tag":return"Tag Axle";case"rear_steer":return"Rear Steer Axle";case"rear":return"Rear Axle";default:return"Axle"}},lg=r=>({FL:"Front Left",FR:"Front Right",RL:"Rear Left",RR:"Rear Right",RLO:"Rear Left Outer",RLI:"Rear Left Inner",RRO:"Rear Right Outer",RRI:"Rear Right Inner",DLO:"Drive Left Outer",DLI:"Drive Left Inner",DRO:"Drive Right Outer",DRI:"Drive Right Inner",RSL:"Rear Steer Left",RSR:"Rear Steer Right"})[r]||r,$r=({label:r,icon:e,active:i,onClick:a,badge:l})=>S.jsxs("button",{onClick:a,className:`
      relative flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all duration-200 font-medium text-sm whitespace-nowrap btn-press
      ${i?"bg-blue-600 text-white shadow-lg shadow-blue-900/20 translate-y-[-1px]":"text-slate-400 hover:text-white hover:bg-slate-800"}
    `,children:[S.jsxs("div",{className:"relative",children:[S.jsx(e,{className:`w-4 h-4 ${i?"animate-pulse":""}`}),l>0&&S.jsx("span",{className:"absolute -top-2.5 -right-2.5 bg-red-500 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full border-2 border-slate-900 animate-bounce",children:l})]}),S.jsx("span",{className:"hidden md:inline",children:r})]}),Gd=({num:r,label:e,active:i})=>S.jsxs("div",{className:`flex items-center gap-3 transition-colors duration-300 ${i?"text-blue-600":"text-slate-300"}`,children:[S.jsx("div",{className:`
      w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 transition-all duration-300
      ${i?"border-blue-600 bg-blue-50 scale-110 shadow-sm":"border-slate-200"}
    `,children:r}),S.jsx("span",{className:"hidden md:inline font-medium text-sm tracking-tight",children:e})]});function $T({vehicle:r,retorques:e=[],mode:i="view",onSelect:a}){const{layout:l,wheels:c}=r,d=(y,_)=>{const b=c[y],A=e.find(q=>q.vehicleReg===r.reg&&q.positionId===y&&q.status==="Pending"),V=i==="select"||i==="view"&&b;return S.jsxs("button",{onClick:V?()=>a(y):void 0,className:`
          relative flex flex-col items-center p-2 rounded-xl border-2 transition-all duration-300 w-24 group
          ${V?"cursor-pointer hover:scale-105 active:scale-95":""}
          ${b?"bg-white border-slate-300 shadow-sm hover:border-blue-500 hover:shadow-md":"bg-slate-50 border-dashed border-slate-200 hover:border-slate-300"}
          ${A?"ring-2 ring-amber-500 ring-offset-2 animate-pulse":""}
        `,children:[S.jsx("div",{className:`
          w-10 h-14 rounded-md mb-2 border-x-4 transition-all duration-300
          ${b?"bg-slate-800 border-slate-700 group-hover:bg-slate-700":"bg-slate-200 border-slate-300 opacity-50"}
        `}),S.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:_}),i==="view"&&A&&S.jsx("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white rounded-full p-1.5 shadow-lg animate-bounce",children:S.jsx(QT,{className:"w-3 h-3"})})]},y)},g=y=>S.jsxs("div",{className:"flex justify-between items-center w-full max-w-lg mx-auto my-6 relative px-6",children:[S.jsx("div",{className:"h-3 bg-slate-200 absolute w-full top-1/2 -translate-y-1/2 -z-10 rounded-full left-0 shadow-inner"}),y]});return S.jsxs("div",{className:"flex flex-col items-center py-8 select-none transform scale-[0.6] sm:scale-100 origin-top -my-10 sm:my-0",children:[S.jsxs("div",{className:"mb-6 text-slate-300 flex flex-col items-center",children:[S.jsx("div",{className:"w-0 h-0 border-l-[24px] border-l-transparent border-r-[24px] border-r-transparent border-b-[36px] border-b-slate-200 drop-shadow-sm"}),S.jsx("span",{className:"text-xs font-bold mt-2 tracking-widest opacity-50",children:"FRONT"})]}),g([d("FL","Front L"),d("FR","Front R")]),S.jsx("div",{className:"h-24 border-l-4 border-slate-200 border-dashed my-2 opacity-50"}),l==="2-axle-dual"&&g([S.jsxs("div",{className:"flex gap-2",children:[d("RLO","Outer"),d("RLI","Inner")]},"al"),S.jsxs("div",{className:"flex gap-2",children:[d("RRI","Inner"),d("RRO","Outer")]},"ar")]),l==="2-axle-single"&&g([d("RL","Rear L"),d("RR","Rear R")]),l==="3-axle-rigid"&&S.jsxs(S.Fragment,{children:[g([S.jsxs("div",{className:"flex gap-2",children:[d("DLO","Dr L-Out"),d("DLI","Dr L-In")]},"dl"),S.jsxs("div",{className:"flex gap-2",children:[d("DRI","Dr R-In"),d("DRO","Dr R-Out")]},"dr")]),S.jsx("div",{className:"h-12 border-l-4 border-slate-200 border-dashed my-2 opacity-50"}),g([d("TL","Tag L"),d("TR","Tag R")])]}),l==="3-axle-rear-steer"&&S.jsxs(S.Fragment,{children:[g([S.jsxs("div",{className:"flex gap-2",children:[d("DLO","Dr L-Out"),d("DLI","Dr L-In")]},"dl"),S.jsxs("div",{className:"flex gap-2",children:[d("DRI","Dr R-In"),d("DRO","Dr R-Out")]},"dr")]),g([d("RSL","R-Steer L"),d("RSR","R-Steer R")])]})]})}const mN=[{id:"t1",brand:"Michelin",model:"X Multi Z",size:"295/80R22.5",barcode:"88239101",status:"In Stock",dot:"1023",isUsed:!1},{id:"t2",brand:"Bridgestone",model:"R-Steer",size:"295/80R22.5",barcode:"88239103",status:"In Stock",dot:"4522",isUsed:!1},{id:"t3",brand:"Michelin",model:"X Coach",size:"295/80R22.5",barcode:"88239105",status:"In Stock",dot:"0224",isUsed:!1},{id:"t4",brand:"Continental",model:"VanContact",size:"235/65R16",barcode:"88239106",status:"In Stock",dot:"2023",isUsed:!1},{id:"t5",brand:"Goodyear",model:"Cargo Vector",size:"235/65R16",barcode:"88239107",status:"In Stock",dot:"1523",isUsed:!1}],gN=[{id:"v1",reg:"K26 CLN",type:"Luton Box Van",layout:"2-axle-dual",specs:{front:{torque:180,pressure:55},rear:{torque:180,pressure:60}},wheels:{},order:0,color:"blue"},{id:"v2",reg:"L10 NC",type:"2-Axle Coach",layout:"2-axle-dual",specs:{front:{torque:600,pressure:120},rear:{torque:600,pressure:115}},wheels:{},order:1,color:"white"},{id:"v3",reg:"L1 CLN",type:"Tri-Axle Coach",layout:"3-axle-rear-steer",specs:{front:{torque:650,pressure:125},drive:{torque:600,pressure:115},rear_steer:{torque:650,pressure:125}},wheels:{},order:2,color:"red"}],pN=[{id:"s1",name:"295/80R22.5"},{id:"s2",name:"315/80R22.5"},{id:"s3",name:"385/65R22.5"},{id:"s4",name:"235/65R16"},{id:"s5",name:"215/75R16"},{id:"s6",name:"205/65R16"}],yN=[{id:"u1",initials:"ADM",pin:"0000",role:"Admin"},{id:"u2",initials:"MGR",pin:"1111",role:"Manager"},{id:"u3",initials:"FIT",pin:"2222",role:"Fitter"}];function _N(){const[r,e]=_e.useState(null),[i,a]=_e.useState(null),[l,c]=_e.useState("fit"),[d,g]=_e.useState(null),[y,_]=_e.useState([]),[b,A]=_e.useState([]),[V,q]=_e.useState([]),[Z,ee]=_e.useState([]),[W,ue]=_e.useState([]),[Te,me]=_e.useState([]),[ze,Pe]=_e.useState([]),[Ve,N]=_e.useState(new Set);_e.useEffect(()=>((async()=>{let de=3;for(;de>0;)try{await iw(d0);return}catch(ge){console.error("Auth Failed, retrying...",ge),de--,de===0&&g("Unable to connect to database. Please check your connection."),await new Promise(De=>setTimeout(De,1e3))}})(),uw(d0,de=>{e(de),de&&g(null)})),[]),_e.useEffect(()=>{if(!r)return;const ie=Re=>Vn(mt,"artifacts",gt,"public","data",Re),de=Xr(ie("inventory"),Re=>_(Re.docs.map(Le=>({...Le.data(),id:Le.id}))),Re=>console.error("Inv error",Re)),ge=Xr(ie("vehicles"),Re=>{const Le=Re.docs.map(Je=>({...Je.data(),id:Je.id}));Le.sort((Je,Jn)=>(Je.order??0)-(Jn.order??0)),A(Le)},Re=>console.error("Veh error",Re)),De=Xr(ie("retorques"),Re=>q(Re.docs.map(Le=>({...Le.data(),id:Le.id})).sort((Le,Je)=>new Date(Le.dueDate)-new Date(Je.dueDate))),Re=>console.error("Ret error",Re)),lt=Xr(ie("sizes"),Re=>ee(Re.docs.map(Le=>({...Le.data(),id:Le.id}))),Re=>console.error("Sizes error",Re)),ce=Xr(ie("history"),Re=>ue(Re.docs.map(Le=>({...Le.data(),id:Le.id})).sort((Le,Je)=>new Date(Je.fitDate)-new Date(Le.fitDate))),Re=>console.error("Hist error",Re)),Ue=Xr(ie("users"),Re=>Pe(Re.docs.map(Le=>({...Le.data(),id:Le.id}))),Re=>console.error("Users error",Re)),jt=Xr(ie("removed_tyres"),Re=>me(Re.docs.map(Le=>({...Le.data(),id:Le.id})).sort((Le,Je)=>new Date(Je.removedDate)-new Date(Le.removedDate))),Re=>console.error("Removed error",Re));return()=>{de(),ge(),De(),lt(),ce(),Ue(),jt()}},[r]);const w=async()=>{"Notification"in window?await Notification.requestPermission()==="granted"&&new Notification("Notifications Enabled",{body:"You will be alerted when retorques are due.",icon:"/pwa-192x192.png"}):alert("This browser does not support web notifications.")};_e.useEffect(()=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const ie=()=>{const ge=new Date,De=new Set(Ve);let lt=!1;V.forEach(ce=>{if(ce.status==="Pending"&&!De.has(ce.id)){const Ue=new Date(ce.dueDate);if(ge>=Ue){try{new Notification(`Retorque Due: ${ce.vehicleReg} (${ce.reason})`,{body:`${ce.type} - ${lg(ce.positionId)} is due.
Fitter: ${ce.fitter}`,icon:"/pwa-192x192.png",requireInteraction:!0})}catch(jt){console.log("Notification trigger error:",jt)}De.add(ce.id),lt=!0}}}),lt&&N(De)},de=setInterval(ie,6e4);return ie(),()=>clearInterval(de)},[V,Ve]);const C=async()=>{if(!confirm("This will populate the database with demo data. Continue?"))return;const ie=[],de=ge=>Vn(mt,"artifacts",gt,"public","data",ge);mN.forEach(ge=>ie.push(bn(de("inventory"),ge))),gN.forEach(ge=>ie.push(bn(de("vehicles"),ge))),pN.forEach(ge=>ie.push(bn(de("sizes"),ge))),yN.forEach(ge=>ie.push(bn(de("users"),ge))),await Promise.all(ie),alert("Database seeded!")},M=async(ie,de)=>{const ge=[],De=Vn(mt,"artifacts",gt,"public","data","inventory");for(let lt=0;lt<de;lt++)ge.push(bn(De,{...ie,barcode:m0(),status:"In Stock"}));await Promise.all(ge)},x=async(ie,de)=>{const ge=m0(),De={brand:ie.brand,model:ie.model,size:ie.size,dot:ie.dot,isUsed:!0,treadDepth:de,barcode:ge,status:"In Stock",prevBarcode:ie.barcode};await bn(Vn(mt,"artifacts",gt,"public","data","inventory"),De),await tr(mn(mt,"artifacts",gt,"public","data","removed_tyres",ie.id)),alert(`Tyre restocked with new barcode: ${ge}`)},U=async ie=>{window.prompt("Type 'DELETE' to confirm removing this record permanently.")==="DELETE"&&await tr(mn(mt,"artifacts",gt,"public","data","inventory",ie))},R=async ie=>{const de=b.reduce((ge,De)=>Math.max(ge,De.order||0),-1);await bn(Vn(mt,"artifacts",gt,"public","data","vehicles"),{...ie,wheels:{},order:de+1})},it=async ie=>{const{id:de,...ge}=ie;await er(mn(mt,"artifacts",gt,"public","data","vehicles",de),ge)},xe=async ie=>{const de=ie.map((ge,De)=>ge.order!==De?er(mn(mt,"artifacts",gt,"public","data","vehicles",ge.id),{order:De},{merge:!0}):Promise.resolve());await Promise.all(de)},L=async ie=>{window.prompt("Type 'DELETE' to confirm removing this vehicle permanently.")==="DELETE"&&await tr(mn(mt,"artifacts",gt,"public","data","vehicles",ie))},$=async ie=>{ie&&await bn(Vn(mt,"artifacts",gt,"public","data","sizes"),{name:ie})},se=async ie=>{window.confirm("Remove this size?")&&await tr(mn(mt,"artifacts",gt,"public","data","sizes",ie))},Se=async ie=>{await bn(Vn(mt,"artifacts",gt,"public","data","users"),ie)},Xe=async ie=>{window.confirm("Remove this user?")&&await tr(mn(mt,"artifacts",gt,"public","data","users",ie))},D=async ie=>{const de=mn(mt,"artifacts",gt,"public","data","retorques",ie);await er(de,{status:"Completed",completedDate:new Date().toISOString()},{merge:!0})},Y=async()=>{if(window.confirm("DANGER: This will delete ALL Inventory, Retorque Tasks, History Logs, and Removed Tyres. Vehicles and Users will be kept. Are you sure?")){const ie=["inventory","retorques","history","removed_tyres"],de=async ge=>{const De=Vn(mt,"artifacts",gt,"public","data",ge),ce=(await c0(De)).docs.map(Ue=>tr(Ue.ref));await Promise.all(ce)};try{if(await Promise.all(ie.map(ge=>de(ge))),window.confirm("Do you also want to remove currently fitted tyres from ALL vehicles? (Recommended for a clean start)")){const ge=Vn(mt,"artifacts",gt,"public","data","vehicles"),lt=(await c0(ge)).docs.map(ce=>er(ce.ref,{wheels:{}},{merge:!0}));await Promise.all(lt)}alert("Operational data wiped successfully.")}catch(ge){console.error("Wipe failed",ge),alert("Failed to wipe some data. Check console.")}}},ne=async(ie,de,ge,De,lt,ce)=>{try{const Ue=new Date(ge).getTime(),jt=Vn(mt,"artifacts",gt,"public","data","retorques");if(!ie.reg||!de||!ge||!ce)throw new Error("Missing required data for logging retorques.");await bn(jt,{vehicleReg:ie.reg,positionId:de,fitmentDate:ge,dueDate:new Date(Ue+1800*1e3).toISOString(),status:"Pending",type:"30m Check",torqueSpec:lt.torque||0,fitter:ce,reason:De||"Unknown"}),await bn(jt,{vehicleReg:ie.reg,positionId:de,fitmentDate:ge,dueDate:new Date(Ue+1440*60*1e3).toISOString(),status:"Pending",type:"24h Check",torqueSpec:lt.torque||0,fitter:ce,reason:De||"Unknown"})}catch(Ue){console.error("Error creating logs:",Ue),alert(`Error generating retorque tasks: ${Ue.message}`)}},re=async(ie,de,ge)=>{const De=ie.wheels[de];if(De&&De.id){try{await tr(mn(mt,"artifacts",gt,"public","data","inventory",De.id))}catch{}await bn(Vn(mt,"artifacts",gt,"public","data","removed_tyres"),{...De,removedDate:ge,removedFrom:ie.reg,removedPosition:de})}},Ee=async(ie,de,ge,De,lt)=>{try{const ce=y.find(Je=>Je.barcode===ge&&Je.status==="In Stock");if(!ce){alert("Tyre not found or not in stock!");return}const Ue=b.find(Je=>Je.id===ie),jt=ql(de),Re=Ue.specs[jt]||{torque:0,pressure:0};await re(Ue,de,De);const Le={...Ue.wheels,[de]:{...ce,dateFitted:De,fitter:lt}};await er(mn(mt,"artifacts",gt,"public","data","vehicles",ie),{wheels:Le},{merge:!0}),await er(mn(mt,"artifacts",gt,"public","data","inventory",ce.id),{status:"Fitted",vehicleId:ie,positionId:de,vehicleReg:Ue.reg},{merge:!0}),await bn(Vn(mt,"artifacts",gt,"public","data","history"),{fitDate:De,barcode:ce.barcode,brand:ce.brand,model:ce.model,size:ce.size,dot:ce.dot,vehicleReg:Ue.reg,position:de,fitter:lt,reason:"Tyre Fitted"}),await ne(Ue,de,De,"Tyre Fitted",Re,lt),alert("Tyre fitted successfully!"),c("retorque")}catch(ce){console.error("Fit Error",ce),alert("Failed to process fitment. Check console for details.")}},we=async(ie,de,ge,De,lt)=>{try{const ce=b.find(Es=>Es.id===ie),Ue=ql(de),jt=ce.specs[Ue]||{torque:0,pressure:0},Re=ce.wheels[de]||{},Le={...Re,id:Re.id||cN(),barcode:Re.barcode||"LEGACY",brand:Re.brand||"Unknown (Legacy)",model:Re.model||"-",size:Re.size||"-",dot:Re.dot||"",dateFitted:De,fitter:lt},Je={...ce.wheels,[de]:Le};await er(mn(mt,"artifacts",gt,"public","data","vehicles",ie),{wheels:Je},{merge:!0});const Jn={fitDate:De,barcode:Le.barcode,brand:Le.brand,model:Le.model,size:Le.size,dot:Le.dot,vehicleReg:ce.reg,position:de,fitter:lt,reason:`Refit: ${ge}`};if(await bn(Vn(mt,"artifacts",gt,"public","data","history"),Jn),Re.id)try{await er(mn(mt,"artifacts",gt,"public","data","inventory",Re.id),{status:"Fitted",vehicleId:ie,positionId:de,vehicleReg:ce.reg},{merge:!0})}catch{}await ne(ce,de,De,`Refit: ${ge}`,jt,lt),alert("Refit recorded! Retorque tasks generated."),c("retorque")}catch(ce){console.error("Refit Error",ce),alert(`Failed to process refit: ${ce.message}`)}},ae=async ie=>{confirm("Permanently dispose of this tyre record?")&&await tr(mn(mt,"artifacts",gt,"public","data","removed_tyres",ie))},Ze=V.filter(ie=>ie.status==="Pending").length;if(d)return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center",children:[S.jsx(f0,{className:"w-12 h-12 text-red-500 mb-4"}),S.jsx("h2",{className:"text-xl font-bold mb-2",children:"Connection Failed"}),S.jsx("p",{className:"text-slate-600 mb-4",children:d}),S.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-bold",children:"Retry"})]});if(!r)return S.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-500",children:"Connecting..."});if(!i)return S.jsx(vN,{users:ze,onLogin:a});const qe=["Admin","Manager"].includes(i.role),Gt=["Admin","Manager"].includes(i.role),An=["Admin","Fitter"].includes(i.role),Zn=i.role==="Admin",Qi=i.role==="Admin";return S.jsxs(S.Fragment,{children:[S.jsx("style",{children:XT}),S.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900",children:[S.jsxs("div",{className:"bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50",children:[S.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[S.jsxs("h1",{className:"text-xl font-bold flex items-center gap-3",children:[S.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:S.jsx(ch,{className:"w-6 h-6 text-white"})}),"CLion Workshop ",S.jsx("span",{className:"text-blue-400 font-light",children:"Tyre Tracker"})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:"text-right hidden md:block",children:[S.jsx("div",{className:"text-sm font-bold text-white",children:i.initials}),S.jsx("div",{className:"text-xs text-slate-400 uppercase",children:i.role})]}),S.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",title:"Logout",children:S.jsx(KI,{className:"w-5 h-5"})})]})]}),S.jsx("div",{className:"max-w-6xl mx-auto mt-4",children:S.jsxs("nav",{className:"flex bg-slate-800 p-1 rounded-lg overflow-x-auto",children:[S.jsx($r,{label:"Vehicles",icon:ch,active:l==="vehicles",onClick:()=>c("vehicles")}),An&&S.jsx($r,{label:"Fit Tyre",icon:QT,active:l==="fit",onClick:()=>c("fit")}),S.jsx($r,{label:"Inventory",icon:BI,active:l==="inventory",onClick:()=>c("inventory")}),S.jsx($r,{label:"Retorques",icon:f0,active:l==="retorque",onClick:()=>c("retorque"),badge:Ze}),Gt&&S.jsx($r,{label:"Removed",icon:GT,active:l==="removed",onClick:()=>c("removed")}),Gt&&S.jsx($r,{label:"Reports",icon:HI,active:l==="reports",onClick:()=>c("reports")}),Zn&&S.jsx($r,{label:"Settings",icon:FT,active:l==="settings",onClick:()=>c("settings")})]})})]}),S.jsxs("main",{className:"max-w-6xl mx-auto p-4 md:p-6 animate-enter",children:[l==="vehicles"&&S.jsx(EN,{vehicles:b,onAdd:R,onUpdate:it,onDelete:L,onReorder:xe,canReorder:Qi,retorqueRegister:V}),l==="fit"&&An&&S.jsx(TN,{vehicles:b,inventory:y,onFit:Ee,onRefit:we,onReorder:xe,canReorder:Qi,currentUser:i}),l==="inventory"&&S.jsx(InventoryManager,{inventory:y,onAddBatch:M,onDelete:U,availableSizes:Z,canAdd:qe}),l==="retorque"&&S.jsx(RetorqueManager,{tasks:V,onComplete:D}),l==="removed"&&Gt&&S.jsx(RemovedTyresManager,{removedTyres:Te,onDispose:ae,onRestock:x}),l==="reports"&&Gt&&S.jsx(ReportsManager,{history:W,retorques:V}),l==="settings"&&Zn&&S.jsx(SettingsManager,{sizes:Z,onAddSize:$,onRemoveSize:se,onSeed:C,users:ze,onAddUser:Se,onRemoveUser:Xe,onRequestNotifications:w,onWipe:Y})]})]})]})}function vN({users:r,onLogin:e}){const[i,a]=_e.useState(""),[l,c]=_e.useState(""),[d,g]=_e.useState(""),[y,_]=_e.useState(0),[b,A]=_e.useState(!1),V=Z=>{if(Z.preventDefault(),r.length===0&&i==="ADM"&&l==="0000"){e({initials:"ADM",role:"Admin"});return}const ee=r.find(W=>W.initials.toUpperCase()===i.toUpperCase()&&W.pin===l);ee?e(ee):g("Invalid Credentials")},q=()=>{hN();const Z=y+1;_(Z),Z===10&&(A(!0),_(0))};return S.jsxs(S.Fragment,{children:[S.jsx("style",{children:XT}),S.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:[b&&S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 p-4 animate-enter",onClick:()=>A(!1),children:S.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-sm text-center border-4 border-red-500 transform scale-110",children:[S.jsx("div",{className:"text-6xl mb-4",children:""}),S.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-2 uppercase",children:"Message for Dick"}),S.jsx("p",{className:"text-xl font-bold text-red-600 leading-tight",children:'"Put the crayons down and ask for help!"'}),S.jsx("button",{onClick:Z=>{Z.stopPropagation(),A(!1)},className:"mt-6 bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors",children:"Okay, Sorry"})]})}),S.jsxs("div",{className:"glass-panel p-8 rounded-2xl shadow-2xl w-full max-w-md animate-enter",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("div",{onClick:q,className:"bg-blue-600 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/30 cursor-pointer active:scale-90 transition-transform select-none",children:S.jsx(ch,{className:"w-8 h-8 text-white"})}),S.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"CLion Workshop"}),S.jsx("p",{className:"text-slate-500 font-medium",children:"Tyre Tracking System"})]}),S.jsxs("form",{onSubmit:V,className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase tracking-wide",children:"Initials"}),S.jsxs("div",{className:"relative group",children:[S.jsx(aN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),S.jsx("input",{autoFocus:!0,className:"w-full pl-10 p-3 border-2 border-slate-200 rounded-xl bg-slate-50 uppercase font-bold tracking-widest text-center focus:border-blue-500 focus:outline-none focus:bg-white transition-all",maxLength:3,value:i,onChange:Z=>a(Z.target.value.toUpperCase())})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase tracking-wide",children:"PIN"}),S.jsxs("div",{className:"relative group",children:[S.jsx(QI,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),S.jsx("input",{type:"password",className:"w-full pl-10 p-3 border-2 border-slate-200 rounded-xl bg-slate-50 text-center font-bold tracking-widest focus:border-blue-500 focus:outline-none focus:bg-white transition-all",maxLength:4,value:l,onChange:Z=>c(Z.target.value)})]})]}),d&&S.jsx("div",{className:"text-red-500 text-sm text-center font-bold bg-red-50 p-2 rounded-lg",children:d}),S.jsx("button",{className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:bg-blue-700 hover:scale-[1.02] active:scale-[0.98] transition-all",children:"LOGIN"})]})]})]})]})}function EN({vehicles:r,onAdd:e,onUpdate:i,onDelete:a,onReorder:l,canReorder:c,retorqueRegister:d}){const[g,y]=_e.useState(null),[_,b]=_e.useState(null),[A,V]=_e.useState(!1),[q,Z]=_e.useState(null),[ee,W]=_e.useState({reg:"",type:"Van",layout:"2-axle-dual",color:"white"}),[ue,Te]=_e.useState(!1),[me,ze]=_e.useState(r),[Pe,Ve]=_e.useState(null);_e.useEffect(()=>{Pe===null&&ze(r)},[r,Pe]);const N=L=>{const $={torque:600,pressure:120},se={torque:180,pressure:55};return L.includes("van")||L==="2-axle-single"?{front:se,rear:se}:L==="3-axle-rigid"?{front:$,drive:$,tag:$}:L==="3-axle-rear-steer"?{front:$,drive:$,rear_steer:$}:{front:$,rear:$}},w=L=>{L.preventDefault(),e({...ee,specs:N(ee.layout)}),V(!1),W({reg:"",type:"Van",layout:"2-axle-dual",color:"white"})},C=L=>{Z({...L}),y(null)},M=()=>{i(q),Z(null)},x=(L,$,se)=>{Z({...q,specs:{...q.specs,[L]:{...q.specs[L],[$]:parseInt(se)||0}}})},U=L=>{Ve(L)},R=L=>{if(Pe===null||Pe===L)return;const $=[...me],se=$[Pe];$.splice(Pe,1),$.splice(L,0,se),Ve(L),ze($)},it=()=>{Ve(null),l&&l(me)},xe=g&&_?{id:_,axleGroup:ql(_),spec:g.specs[ql(_)],tyre:g.wheels[_]}:null;return S.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"md:col-span-1 space-y-4",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Fleet List"}),S.jsxs("div",{className:"flex gap-2",children:[c&&S.jsx("button",{onClick:()=>Te(!ue),className:`p-2 rounded-lg transition ${ue?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-500 hover:text-slate-700"}`,title:"Toggle Reorder Mode",children:S.jsx(qT,{className:"w-5 h-5"})}),S.jsx("button",{onClick:()=>V(!A),className:"p-2 bg-blue-100 text-blue-700 rounded-lg btn-press",children:S.jsx($I,{className:"w-5 h-5"})})]})]}),A&&S.jsxs("form",{onSubmit:w,className:"bg-white p-4 rounded-xl shadow space-y-3 animate-enter",children:[S.jsx("input",{required:!0,placeholder:"Reg",className:"w-full p-2 border rounded",value:ee.reg,onChange:L=>W({...ee,reg:L.target.value})}),S.jsxs("select",{className:"w-full p-2 border rounded",value:ee.layout,onChange:L=>W({...ee,layout:L.target.value}),children:[S.jsx("option",{value:"2-axle-dual",children:"2 Axle (Dual Rear)"}),S.jsx("option",{value:"3-axle-rear-steer",children:"3 Axle (Rear Steer)"}),S.jsx("option",{value:"3-axle-rigid",children:"3 Axle Rigid"}),S.jsx("option",{value:"2-axle-single",children:"2 Axle (Single Rear)"})]}),S.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded",children:"Save"})]}),S.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:me.map((L,$)=>{const se=KT(L.color||"white");return S.jsxs("div",{draggable:ue,onDragStart:Se=>U($),onDragEnter:Se=>R($),onDragEnd:it,onDragOver:Se=>Se.preventDefault(),onClick:()=>{ue||(y(L),b(null),Z(null))},className:`p-4 cursor-pointer flex justify-between items-center transition-all duration-200 border-l-4 ${g?.id===L.id?"border-blue-500 shadow-md":"border-transparent"} ${se.bg} ${se.hover} ${ue?"drag-item":""}`,children:[S.jsxs("div",{children:[S.jsx("div",{className:"font-bold text-lg text-slate-800",children:L.reg}),S.jsx("div",{className:"text-xs text-slate-500",children:L.type})]}),S.jsx("div",{className:"flex gap-1 items-center",children:ue?S.jsx("div",{className:"text-slate-400 cursor-grab active:cursor-grabbing p-2",children:S.jsx(HT,{className:"w-5 h-5"})}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:Se=>{Se.stopPropagation(),C(L)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-100/50 rounded-full transition-all",children:S.jsx(FT,{className:"w-5 h-5"})}),S.jsx("button",{onClick:Se=>{Se.stopPropagation(),a(L.id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-100/50 rounded-full transition-all",children:S.jsx(GT,{className:"w-5 h-5"})})]})})]},L.id)})})]}),S.jsx("div",{className:"md:col-span-2 relative",children:q?S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col animate-enter",children:[S.jsxs("div",{className:"flex justify-between mb-4",children:[S.jsxs("h2",{className:"text-xl font-bold",children:["Configure ",q.reg]}),S.jsx("button",{onClick:()=>Z(null),children:S.jsx(ym,{className:"w-6 h-6 text-slate-400"})})]}),S.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsx("input",{className:"border p-2 rounded",value:q.reg,onChange:L=>Z({...q,reg:L.target.value})}),S.jsx("input",{className:"border p-2 rounded",value:q.type,onChange:L=>Z({...q,type:L.target.value})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Color Tag"}),S.jsx("div",{className:"flex gap-2 flex-wrap",children:_m.map(L=>S.jsx("button",{type:"button",onClick:()=>Z({...q,color:L.id}),className:`w-8 h-8 rounded-full border-2 transition-all ${L.bg} ${q.color===L.id?"border-blue-600 scale-110 shadow":"border-transparent hover:scale-105"}`,title:L.label},L.id))})]}),S.jsxs("div",{className:"space-y-4 border-t pt-4",children:[S.jsx("h4",{className:"font-bold text-slate-700",children:"Axle Specs"}),Object.keys(q.specs).map(L=>S.jsxs("div",{className:"bg-slate-50 p-4 rounded border",children:[S.jsx("h4",{className:"font-bold text-xs uppercase mb-2",children:dN(L)}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs text-slate-500",children:"Torque (Nm)"}),S.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:q.specs[L].torque,onChange:$=>x(L,"torque",$.target.value)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-xs text-slate-500",children:"Pressure (PSI)"}),S.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:q.specs[L].pressure,onChange:$=>x(L,"pressure",$.target.value)})]})]})]},L))]})]}),S.jsx("div",{className:"mt-4 pt-4 border-t text-right",children:S.jsxs("button",{onClick:M,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2 ml-auto btn-press",children:[S.jsx(JI,{className:"w-4 h-4"})," Save Changes"]})})]}):g?S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col animate-enter",children:[S.jsxs("div",{className:"mb-4 border-b pb-4 flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-black text-slate-800",children:g.reg}),S.jsx("p",{className:"text-slate-500 font-medium",children:g.type})]}),S.jsx("div",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded",children:"View Mode"})]}),S.jsxs("div",{className:"flex-1 relative min-h-[400px]",children:[S.jsx($T,{vehicle:g,retorques:d,mode:"view",onSelect:b}),xe&&S.jsxs("div",{className:"absolute top-10 right-0 md:right-10 w-72 bg-slate-900/95 text-white p-5 rounded-xl shadow-2xl z-20 backdrop-blur-md animate-enter border border-slate-700",children:[S.jsxs("div",{className:"flex justify-between mb-4",children:[S.jsx("h3",{className:"font-bold text-lg text-blue-400",children:lg(xe.id)}),S.jsx("button",{onClick:()=>b(null),className:"hover:text-red-400 transition-colors",children:S.jsx(ym,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg text-center grid grid-cols-2 gap-4 border border-slate-700",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Torque"}),S.jsx("div",{className:"font-bold text-xl font-mono",children:xe.spec?.torque})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Pressure"}),S.jsx("div",{className:"font-bold text-xl font-mono",children:xe.spec?.pressure})]})]}),xe.tyre?S.jsxs("div",{className:"text-sm space-y-1",children:[S.jsx("div",{className:"font-bold border-b border-slate-700 pb-2 mb-2 text-xs uppercase tracking-wider text-slate-400",children:"FITTED TYRE"}),S.jsx("div",{className:"font-bold text-lg",children:xe.tyre.brand}),S.jsx("div",{className:"text-slate-300",children:xe.tyre.model}),S.jsx("div",{className:"text-slate-400 text-xs",children:xe.tyre.size}),S.jsx("div",{className:"bg-black/30 p-2 rounded text-center font-mono text-xs mt-3 tracking-widest text-emerald-400 border border-emerald-900/50",children:xe.tyre.barcode}),S.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4 text-xs pt-2 border-t border-slate-800",children:[S.jsxs("div",{children:[S.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Age"}),S.jsx("span",{className:"text-blue-300 font-bold",children:fN(xe.tyre.dot)})]}),S.jsxs("div",{children:[S.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Fitter"}),S.jsx("span",{className:"text-white font-bold",children:xe.tyre.fitter||"-"})]}),S.jsxs("div",{className:"col-span-2 mt-1",children:[S.jsx("span",{className:"block text-slate-500 mb-0.5",children:"Date Fitted"}),S.jsxs("span",{className:"text-emerald-400 font-medium flex items-center gap-1",children:[S.jsx(LI,{className:"w-3 h-3"}),new Date(xe.tyre.dateFitted).toLocaleString([],{dateStyle:"short",timeStyle:"short"})]})]})]})]}):S.jsx("div",{className:"text-center text-slate-500 py-6 border-2 border-dashed border-slate-700 rounded-lg",children:"Empty Position"})]})]})]})]}):S.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 bg-slate-100/50 rounded-xl border-2 border-dashed border-slate-200 p-10",children:[S.jsx(ch,{className:"w-16 h-16 mb-4 opacity-50"}),S.jsx("p",{children:"Select a vehicle"})]})})]})}function TN({vehicles:r,inventory:e,onFit:i,onRefit:a,onReorder:l,canReorder:c,currentUser:d}){const[g,y]=_e.useState(1),[_,b]=_e.useState(null),[A,V]=_e.useState(null),[q,Z]=_e.useState("Scan"),[ee,W]=_e.useState(""),[ue,Te]=_e.useState("Brake Work"),[me,ze]=_e.useState(""),[Pe,Ve]=_e.useState(d.initials),[N,w]=_e.useState(new Date().toISOString().slice(0,16)),[C,M]=_e.useState(!1),[x,U]=_e.useState(!1),[R,it]=_e.useState(""),xe=_e.useRef(null),[L,$]=_e.useState(r),[se,Se]=_e.useState(null);_e.useEffect(()=>{se===null&&$(r)},[r,se]);const Xe=L.filter(ae=>ae.reg.toUpperCase().includes(R.toUpperCase())),D=_&&A?_.specs[ql(A)]:null,Y=()=>{if(!("BarcodeDetector"in window)){alert("Barcode Detector API not supported by this browser. Please type manually.");return}M(!0)};_e.useEffect(()=>{let ae=null,Ze=null;if(C){const qe=new window.BarcodeDetector({formats:["code_128","ean_13","code_39"]});navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(Gt=>{ae=Gt,xe.current&&(xe.current.srcObject=ae,xe.current.play(),Ze=setInterval(async()=>{try{if(xe.current&&xe.current.readyState===4){const An=await qe.detect(xe.current);if(An.length>0){const Zn=An[0].rawValue;W(Zn),M(!1)}}}catch{}},200))}).catch(Gt=>{alert("Camera access denied or error: "+Gt),M(!1)})}return()=>{ae&&ae.getTracks().forEach(qe=>qe.stop()),Ze&&clearInterval(Ze)}},[C]);const ne=()=>{if(q==="Scan"){if(!ee)return;i(_.id,A,ee,N,Pe)}else{const ae=ue==="Other"?me:ue;if(!ae)return;a(_.id,A,ae,N,Pe)}y(1),b(null),V(null),W(""),Te("Brake Work"),ze("")},re=ae=>{Se(ae)},Ee=ae=>{if(se===null||se===ae)return;const Ze=[...Xe],qe=Ze[se];Ze.splice(se,1),Ze.splice(ae,0,qe),Se(ae),$(Ze)},we=()=>{Se(null),l&&l(L)};return S.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[S.jsx(Gd,{num:1,label:"Vehicle",active:g>=1}),S.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:S.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ease-out ${g>=2?"w-full":"w-0"}`})}),S.jsx(Gd,{num:2,label:"Wheel",active:g>=2}),S.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:S.jsx("div",{className:`h-full bg-blue-600 transition-all duration-500 ease-out ${g>=3?"w-full":"w-0"}`})}),S.jsx(Gd,{num:3,label:"Details",active:g>=3})]}),S.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-200 min-h-[400px] animate-enter",children:[g===1&&S.jsxs("div",{children:[S.jsxs("div",{className:"flex gap-4 mb-4",children:[S.jsxs("div",{className:"relative flex-1",children:[S.jsx(eN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),S.jsx("input",{placeholder:"Search Registration...",className:"w-full pl-10 p-3 border rounded-xl bg-slate-50 focus:border-blue-500 focus:bg-white transition-colors",value:R,onChange:ae=>it(ae.target.value)})]}),c&&!R&&S.jsx("button",{onClick:()=>U(!x),className:`p-3 rounded-xl transition-all ${x?"bg-amber-100 text-amber-700 shadow-inner":"bg-slate-100 text-slate-500 hover:text-slate-700"}`,title:"Toggle Reorder Mode",children:S.jsx(qT,{className:"w-5 h-5"})})]}),S.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2",children:Xe.map((ae,Ze)=>{const qe=KT(ae.color||"white");return S.jsxs("div",{draggable:x,onDragStart:()=>re(Ze),onDragEnter:()=>Ee(Ze),onDragEnd:we,onDragOver:Gt=>Gt.preventDefault(),className:`relative group ${x?"drag-item":""}`,children:[S.jsxs("button",{onClick:()=>{x||(b(ae),y(2))},className:`w-full p-2 text-left border-2 rounded-xl transition-all duration-200 btn-press h-full flex flex-col justify-between min-h-[80px] ${qe.bg} ${qe.border} ${qe.hover}`,children:[S.jsx("div",{className:"font-bold text-base text-slate-800 leading-tight",children:ae.reg}),S.jsx("div",{className:"text-[10px] text-slate-500 mt-1 uppercase font-semibold",children:ae.type})]}),x&&S.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center pointer-events-none rounded-xl border-2 border-dashed border-slate-400",children:S.jsx(HT,{className:"w-6 h-6 text-slate-500"})})]},ae.id)})})]}),g===2&&S.jsxs("div",{className:"text-center animate-enter",children:[S.jsx("h3",{className:"font-bold mb-6 text-lg",children:"Select Wheel Position"}),S.jsx($T,{vehicle:_,mode:"select",onSelect:ae=>{V(ae),y(3)}}),S.jsx("button",{onClick:()=>y(1),className:"mt-8 text-slate-400 hover:text-blue-600 underline transition-colors",children:"Back to Vehicles"})]}),g===3&&S.jsxs("div",{className:"max-w-md mx-auto space-y-6 animate-enter",children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("h3",{className:"text-2xl font-black text-slate-800",children:_.reg}),S.jsx("div",{className:"inline-block bg-blue-100 text-blue-800 px-4 py-1.5 rounded-full text-sm font-bold mt-2 shadow-sm",children:lg(A)})]}),S.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 p-4 rounded-xl text-center grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-3xl font-black text-slate-900",children:D?.torque}),S.jsx("div",{className:"text-xs font-bold text-amber-700 tracking-wider",children:"TORQUE (Nm)"})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-3xl font-black text-slate-900",children:D?.pressure}),S.jsx("div",{className:"text-xs font-bold text-amber-700 tracking-wider",children:"PRESSURE (PSI)"})]})]}),S.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[S.jsx("button",{className:`flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 ${q==="Scan"?"bg-white shadow text-blue-600 scale-100":"text-slate-500 hover:text-slate-700"}`,onClick:()=>Z("Scan"),children:"Fit New Tyre"}),S.jsx("button",{className:`flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 ${q==="Refit"?"bg-white shadow text-blue-600 scale-100":"text-slate-500 hover:text-slate-700"}`,onClick:()=>Z("Refit"),children:"Refit Removed Tyre"})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("input",{type:"datetime-local",value:N,onChange:ae=>w(ae.target.value),className:"w-full p-3 border-2 border-slate-200 rounded-lg text-sm focus:border-blue-500 focus:outline-none"}),q==="Scan"?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{value:ee,onChange:ae=>W(ae.target.value),className:"flex-1 p-3 border-2 border-slate-200 rounded-lg font-mono text-lg focus:border-blue-500 focus:outline-none",placeholder:"Scan Barcode",autoFocus:!0}),S.jsx("button",{onClick:Y,className:"bg-slate-200 px-4 rounded-lg hover:bg-slate-300 transition-colors",title:"Open Camera",children:S.jsx(zI,{className:"w-6 h-6 text-slate-700"})})]}),C&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4 animate-enter",children:S.jsxs("div",{className:"relative w-full max-w-sm bg-black rounded-xl overflow-hidden shadow-2xl",children:[S.jsx("video",{ref:xe,className:"w-full h-auto"}),S.jsx("button",{onClick:()=>M(!1),className:"absolute top-4 right-4 bg-white/20 p-2 rounded-full text-white hover:bg-white/30 transition",children:S.jsx(ym,{className:"w-6 h-6"})}),S.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center text-white text-sm font-medium",children:"Point camera at barcode"})]})})]}):S.jsxs("div",{className:"space-y-3",children:[S.jsx("label",{className:"block text-sm font-bold text-slate-600",children:"Reason for Removal"}),S.jsxs("select",{className:"w-full p-3 border-2 border-slate-200 rounded-lg bg-white focus:border-blue-500 focus:outline-none",value:ue,onChange:ae=>Te(ae.target.value),children:[S.jsx("option",{value:"Brake Work",children:"Brake Work"}),S.jsx("option",{value:"Turn on Rim",children:"Turn on Rim"}),S.jsx("option",{value:"Other",children:"Other..."})]}),ue==="Other"&&S.jsx("input",{placeholder:"Specify reason...",className:"w-full p-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:outline-none",value:me,onChange:ae=>ze(ae.target.value)})]}),S.jsx("input",{value:Pe,readOnly:!0,className:"w-full p-3 border-2 border-slate-200 rounded text-center uppercase tracking-widest font-bold bg-slate-100 text-slate-500",placeholder:"Fitter Initials"})]}),S.jsxs("button",{onClick:ne,disabled:q==="Scan"&&!ee,className:"w-full bg-green-600 text-white p-4 rounded-xl font-bold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-green-200 btn-press transition-all",children:["CONFIRM ",q==="Scan"?"FITMENT":"REFIT"]})]})]})]})}U1.createRoot(document.getElementById("root")).render(S.jsx(_e.StrictMode,{children:S.jsx(_N,{})}));
