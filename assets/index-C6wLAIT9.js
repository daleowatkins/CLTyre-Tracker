(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var xd={exports:{}},vo={};var R_;function _b(){if(R_)return vo;R_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return vo.Fragment=e,vo.jsx=i,vo.jsxs=i,vo}var C_;function vb(){return C_||(C_=1,xd.exports=_b()),xd.exports}var E=vb(),Id={exports:{}},Ae={};var x_;function Eb(){if(x_)return Ae;x_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function L(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,J={};function pe(D,Q,W){this.props=D,this.context=Q,this.refs=J,this.updater=W||ee}pe.prototype.isReactComponent={},pe.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},pe.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function he(){}he.prototype=pe.prototype;function ce(D,Q,W){this.props=D,this.context=Q,this.refs=J,this.updater=W||ee}var ue=ce.prototype=new he;ue.constructor=ce,se(ue,pe.prototype),ue.isPureReactComponent=!0;var Se=Array.isArray;function Ne(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(D,Q,W){var ie=W.ref;return{$$typeof:r,type:D,key:Q,ref:ie!==void 0?ie:null,props:W}}function V(D,Q){return x(D.type,Q,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function U(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(W){return Q[W]})}var R=/\/+/g;function tt(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):Q.toString(36)}function ut(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Ne,Ne):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,Q,W,ie,re){var le=typeof D;(le==="undefined"||le==="boolean")&&(D=null);var Re=!1;if(D===null)Re=!0;else switch(le){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(D.$$typeof){case r:case e:Re=!0;break;case S:return Re=D._init,F(Re(D._payload),Q,W,ie,re)}}if(Re)return re=re(D),Re=ie===""?"."+tt(D,0):ie,Se(re)?(W="",Re!=null&&(W=Re.replace(R,"$&/")+"/"),F(re,Q,W,"",function(ni){return ni})):re!=null&&(M(re)&&(re=V(re,W+(re.key==null||D&&D.key===re.key?"":(""+re.key).replace(R,"$&/")+"/")+Re)),Q.push(re)),1;Re=0;var ft=ie===""?".":ie+":";if(Se(D))for(var We=0;We<D.length;We++)ie=D[We],le=ft+tt(ie,We),Re+=F(ie,Q,W,le,re);else if(We=L(D),typeof We=="function")for(D=We.call(D),We=0;!(ie=D.next()).done;)ie=ie.value,le=ft+tt(ie,We++),Re+=F(ie,Q,W,le,re);else if(le==="object"){if(typeof D.then=="function")return F(ut(D),Q,W,ie,re);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ne(D,Q,W){if(D==null)return D;var ie=[],re=0;return F(D,ie,"","",function(le){return Q.call(W,le,re++)}),ie}function Z(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(W){(D._status===0||D._status===-1)&&(D._status=1,D._result=W)},function(W){(D._status===0||D._status===-1)&&(D._status=2,D._result=W)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ee={map:ne,forEach:function(D,Q,W){ne(D,function(){Q.apply(this,arguments)},W)},count:function(D){var Q=0;return ne(D,function(){Q++}),Q},toArray:function(D){return ne(D,function(Q){return Q})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ae.Activity=A,Ae.Children=Ee,Ae.Component=pe,Ae.Fragment=i,Ae.Profiler=o,Ae.PureComponent=ce,Ae.StrictMode=a,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},Ae.cache=function(D){return function(){return D.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(D,Q,W){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=se({},D.props),re=D.key;if(Q!=null)for(le in Q.key!==void 0&&(re=""+Q.key),Q)!w.call(Q,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Q.ref===void 0||(ie[le]=Q[le]);var le=arguments.length-2;if(le===1)ie.children=W;else if(1<le){for(var Re=Array(le),ft=0;ft<le;ft++)Re[ft]=arguments[ft+2];ie.children=Re}return x(D.type,re,ie)},Ae.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ae.createElement=function(D,Q,W){var ie,re={},le=null;if(Q!=null)for(ie in Q.key!==void 0&&(le=""+Q.key),Q)w.call(Q,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(re[ie]=Q[ie]);var Re=arguments.length-2;if(Re===1)re.children=W;else if(1<Re){for(var ft=Array(Re),We=0;We<Re;We++)ft[We]=arguments[We+2];re.children=ft}if(D&&D.defaultProps)for(ie in Re=D.defaultProps,Re)re[ie]===void 0&&(re[ie]=Re[ie]);return x(D,le,re)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:g,render:D}},Ae.isValidElement=M,Ae.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:Z}},Ae.memo=function(D,Q){return{$$typeof:y,type:D,compare:Q===void 0?null:Q}},Ae.startTransition=function(D){var Q=I.T,W={};I.T=W;try{var ie=D(),re=I.S;re!==null&&re(W,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ne,me)}catch(le){me(le)}finally{Q!==null&&W.types!==null&&(Q.types=W.types),I.T=Q}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(D){return I.H.use(D)},Ae.useActionState=function(D,Q,W){return I.H.useActionState(D,Q,W)},Ae.useCallback=function(D,Q){return I.H.useCallback(D,Q)},Ae.useContext=function(D){return I.H.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D,Q){return I.H.useDeferredValue(D,Q)},Ae.useEffect=function(D,Q){return I.H.useEffect(D,Q)},Ae.useEffectEvent=function(D){return I.H.useEffectEvent(D)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(D,Q,W){return I.H.useImperativeHandle(D,Q,W)},Ae.useInsertionEffect=function(D,Q){return I.H.useInsertionEffect(D,Q)},Ae.useLayoutEffect=function(D,Q){return I.H.useLayoutEffect(D,Q)},Ae.useMemo=function(D,Q){return I.H.useMemo(D,Q)},Ae.useOptimistic=function(D,Q){return I.H.useOptimistic(D,Q)},Ae.useReducer=function(D,Q,W){return I.H.useReducer(D,Q,W)},Ae.useRef=function(D){return I.H.useRef(D)},Ae.useState=function(D){return I.H.useState(D)},Ae.useSyncExternalStore=function(D,Q,W){return I.H.useSyncExternalStore(D,Q,W)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.3",Ae}var I_;function _m(){return I_||(I_=1,Id.exports=Eb()),Id.exports}var De=_m(),Nd={exports:{}},Eo={},Dd={exports:{}},Od={};var N_;function Tb(){return N_||(N_=1,(function(r){function e(F,ne){var Z=F.length;F.push(ne);e:for(;0<Z;){var me=Z-1>>>1,Ee=F[me];if(0<o(Ee,ne))F[me]=ne,F[Z]=Ee,Z=me;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ne=F[0],Z=F.pop();if(Z!==ne){F[0]=Z;e:for(var me=0,Ee=F.length,D=Ee>>>1;me<D;){var Q=2*(me+1)-1,W=F[Q],ie=Q+1,re=F[ie];if(0>o(W,Z))ie<Ee&&0>o(re,W)?(F[me]=re,F[ie]=Z,me=ie):(F[me]=W,F[Q]=Z,me=Q);else if(ie<Ee&&0>o(re,Z))F[me]=re,F[ie]=Z,me=ie;else break e}}return ne}function o(F,ne){var Z=F.sortIndex-ne.sortIndex;return Z!==0?Z:F.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],S=1,A=null,N=3,L=!1,ee=!1,se=!1,J=!1,pe=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function ue(F){for(var ne=i(y);ne!==null;){if(ne.callback===null)a(y);else if(ne.startTime<=F)a(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function Se(F){if(se=!1,ue(F),!ee)if(i(_)!==null)ee=!0,Ne||(Ne=!0,U());else{var ne=i(y);ne!==null&&ut(Se,ne.startTime-F)}}var Ne=!1,I=-1,w=5,x=-1;function V(){return J?!0:!(r.unstable_now()-x<w)}function M(){if(J=!1,Ne){var F=r.unstable_now();x=F;var ne=!0;try{e:{ee=!1,se&&(se=!1,he(I),I=-1),L=!0;var Z=N;try{t:{for(ue(F),A=i(_);A!==null&&!(A.expirationTime>F&&V());){var me=A.callback;if(typeof me=="function"){A.callback=null,N=A.priorityLevel;var Ee=me(A.expirationTime<=F);if(F=r.unstable_now(),typeof Ee=="function"){A.callback=Ee,ue(F),ne=!0;break t}A===i(_)&&a(_),ue(F)}else a(_);A=i(_)}if(A!==null)ne=!0;else{var D=i(y);D!==null&&ut(Se,D.startTime-F),ne=!1}}break e}finally{A=null,N=Z,L=!1}ne=void 0}}finally{ne?U():Ne=!1}}}var U;if(typeof ce=="function")U=function(){ce(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,tt=R.port2;R.port1.onmessage=M,U=function(){tt.postMessage(null)}}else U=function(){pe(M,0)};function ut(F,ne){I=pe(function(){F(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(F){switch(N){case 1:case 2:case 3:var ne=3;break;default:ne=N}var Z=N;N=ne;try{return F()}finally{N=Z}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=N;N=F;try{return ne()}finally{N=Z}},r.unstable_scheduleCallback=function(F,ne,Z){var me=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?me+Z:me):Z=me,F){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=Z+Ee,F={id:S++,callback:ne,priorityLevel:F,startTime:Z,expirationTime:Ee,sortIndex:-1},Z>me?(F.sortIndex=Z,e(y,F),i(_)===null&&F===i(y)&&(se?(he(I),I=-1):se=!0,ut(Se,Z-me))):(F.sortIndex=Ee,e(_,F),ee||L||(ee=!0,Ne||(Ne=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var ne=N;return function(){var Z=N;N=ne;try{return F.apply(this,arguments)}finally{N=Z}}}})(Od)),Od}var D_;function bb(){return D_||(D_=1,Dd.exports=Tb()),Dd.exports}var Md={exports:{}},Yt={};var O_;function Sb(){if(O_)return Yt;O_=1;var r=_m();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:_,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,S)},Yt.flushSync=function(_){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=S,a.d.f()}},Yt.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Yt.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Yt.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,A=g(S,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:L}):S==="script"&&a.d.X(_,{crossOrigin:A,integrity:N,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Yt.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,A=g(S,y.crossOrigin);a.d.L(_,S,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Yt.requestFormReset=function(_){a.d.r(_)},Yt.unstable_batchedUpdates=function(_,y){return _(y)},Yt.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var M_;function Ab(){if(M_)return Md.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Md.exports=Sb(),Md.exports}var V_;function wb(){if(V_)return Eo;V_=1;var r=bb(),e=_m(),i=Ab();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===s){p=!0,s=h,l=f;break}if(T===l){p=!0,l=h,s=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===s){p=!0,s=f,l=h;break}if(T===l){p=!0,l=f,s=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case pe:return"Profiler";case J:return"StrictMode";case Se:return"Suspense";case Ne:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case ce:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case ue:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var ut=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},me=[],Ee=-1;function D(t){return{current:t}}function Q(t){0>Ee||(t.current=me[Ee],me[Ee]=null,Ee--)}function W(t,n){Ee++,me[Ee]=t.current,t.current=n}var ie=D(null),re=D(null),le=D(null),Re=D(null);function ft(t,n){switch(W(le,n),W(re,t),W(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Xy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Xy(n),t=$y(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ie),W(ie,t)}function We(){Q(ie),Q(re),Q(le)}function ni(t){t.memoizedState!==null&&W(Re,t);var n=ie.current,s=$y(n,t.type);n!==s&&(W(re,t),W(ie,s))}function dn(t){re.current===t&&(Q(ie),Q(re)),Re.current===t&&(Q(Re),po._currentValue=Z)}var Jr,Wr;function ii(t){if(Jr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",Wr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+t+Wr}var ml=!1;function or(t,n){if(!t||ml)return"";ml=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){B=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{ml=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ii(s):""}function pl(t,n){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return or(t.type,!1);case 11:return or(t.type.render,!1);case 1:return or(t.type,!0);case 31:return ii("Activity");default:return""}}function gl(t){try{var n="",s=null;do n+=pl(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,Xo=r.unstable_requestPaint,tn=r.unstable_now,ur=r.unstable_getCurrentPriorityLevel,yl=r.unstable_ImmediatePriority,_l=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,$o=r.unstable_IdlePriority,Zo=r.log,Jo=r.unstable_setDisableYieldValue,Pn=null,Pt=null;function An(t){if(typeof Zo=="function"&&Jo(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Pn,t)}catch{}}var dt=Math.clz32?Math.clz32:eu,Wo=Math.log,ea=Math.LN2;function eu(t){return t>>>=0,t===0?32:31-(Wo(t)/ea|0)|0}var si=256,cr=262144,vt=4194304;function ri(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ri(l):(p&=T,p!==0?h=ri(p):s||(s=T&~t,s!==0&&(h=ri(s))))):(T=l&~f,T!==0?h=ri(T):p!==0?h=ri(p):s||(s=l&~t,s!==0&&(h=ri(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Dh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function li(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function hr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oh(t,n,s,l,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(s=p&~s;0<s;){var G=31-dt(s),Y=1<<G;T[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}s&=~Y}l!==0&&fr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function fr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-dt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function vl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-dt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function El(t,n){var s=n&-n;return s=(s&42)!==0?1:dr(s),(s&(t.suspendedLanes|n))!==0?0:s}function dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:v_(t.type))}function Bn(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var qn=Math.random().toString(36).slice(2),Et="__reactFiber$"+qn,kt="__reactProps$"+qn,oi="__reactContainer$"+qn,ta="__reactEvents$"+qn,Mh="__reactListeners$"+qn,iu="__reactHandles$"+qn,su="__reactResources$"+qn,ui="__reactMarker$"+qn;function na(t){delete t[Et],delete t[kt],delete t[ta],delete t[Mh],delete t[iu]}function ci(t){var n=t[Et];if(n)return n;for(var s=t.parentNode;s;){if(n=s[oi]||s[Et]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=i_(t);t!==null;){if(s=t[Et])return s;t=i_(t)}return n}t=s,s=t.parentNode}return null}function wn(t){if(t=t[Et]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function hi(t){var n=t[su];return n||(n=t[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[ui]=!0}var Tl=new Set,bl={};function fi(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(bl[t]=n,t=0;t<n.length;t++)Tl.add(n[t])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},wl={};function ru(t){return _t.call(wl,t)?!0:_t.call(Al,t)?!1:Sl.test(t)?wl[t]=!0:(Al[t]=!0,!1)}function ia(t,n,s){if(ru(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function pn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function bt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=cs(t)?"checked":"value";t._valueTracker=Rl(t,n,""+t[n])}}function mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=cs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pr=/[\n"\\]/g;function rn(t){return t.replace(pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(t,n,s,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Cl(t,p,Ut(n)):s!=null?Cl(t,p,Ut(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ut(T):t.removeAttribute("name")}function au(t,n,s,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}s=s!=null?""+Ut(s):"",n=n!=null?""+Ut(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Qe(t)}function Cl(t,n,s){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function hs(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ut(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function lu(t,n,s){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Ut(s):""}function fs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ut(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ut(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Qe(t)}function an(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||ou.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Il(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&xl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&xl(t,f,n[f])}function ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(t){return ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Nl=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ms=null,pi=null;function gr(t){var n=wn(t);if(n&&(t=n.stateNode)){var s=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(sa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(a(90));sa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&mr(l)}break e;case"textarea":lu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&hs(t,!!s.multiple,n,!1)}}}var la=!1;function ps(t,n,s){if(la)return t(n,s);la=!0;try{var l=t(n);return l}finally{if(la=!1,(ms!==null||pi!==null)&&(nc(),ms&&(n=ms,t=pi,pi=ms=null,gr(n),t)))for(n=0;n<t.length;n++)gr(t[n])}}function Fn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[kt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Cn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{yr=!1}var gi=null,Dl=null,_r=null;function Ol(){if(_r)return _r;var t,n=Dl,s=n.length,l,h="value"in gi?gi.value:gi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return _r=h.slice(t,1<l?1-l:void 0)}function vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function Gn(){return!1}function zt(t){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=zt(Ui),gs=A({},Ui,{view:0,detail:0}),Ml=zt(gs),ys,oa,_i,ua=A({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(ys=t.screenX-_i.screenX,oa=t.screenY-_i.screenY):oa=ys=0,_i=t),ys)},movementY:function(t){return"movementY"in t?t.movementY:oa}}),Vl=zt(ua),Er=A({},ua,{dataTransfer:0}),cu=zt(Er),hu=A({},gs,{relatedTarget:0}),Tr=zt(hu),kl=A({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=zt(kl),ca=A({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),du=zt(ca),mu=A({},Ui,{data:0}),vi=zt(mu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yu[t])?!!n[t]:!1}function _s(){return _u}var nn=A({},gs,{key:function(t){if(t.key){var n=pu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vu=zt(nn),Eu=A({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=zt(Eu),u=A({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=zt(u),v=A({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=zt(v),j=A({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=zt(j),te=A({},Ui,{newState:0,oldState:0}),Ce=zt(te),mt=[9,13,27,32],He=Cn&&"CompositionEvent"in window,at=null;Cn&&"documentMode"in document&&(at=document.documentMode);var xn=Cn&&"TextEvent"in window&&!at,Ei=Cn&&(!He||at&&8<at&&11>=at),Qn=" ",Kn=!1;function br(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function qT(t,n){switch(t){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Kn?null:t;default:return null}}function HT(t,n){if(fa)return t==="compositionend"||!He&&br(t,n)?(t=Ol(),_r=Dl=gi=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!FT[t.type]:n==="textarea"}function lp(t,n,s,l){ms?pi?pi.push(l):pi=[l]:ms=l,n=uc(n,"onChange"),0<n.length&&(s=new yi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ul=null,Ll=null;function GT(t){Hy(t,0)}function Tu(t){var n=mn(t);if(mr(n))return t}function op(t,n){if(t==="change")return n}var up=!1;if(Cn){var Vh;if(Cn){var kh="oninput"in document;if(!kh){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),kh=typeof cp.oninput=="function"}Vh=kh}else Vh=!1;up=Vh&&(!document.documentMode||9<document.documentMode)}function hp(){Ul&&(Ul.detachEvent("onpropertychange",fp),Ll=Ul=null)}function fp(t){if(t.propertyName==="value"&&Tu(Ll)){var n=[];lp(n,Ll,t,Rn(t)),ps(GT,n)}}function QT(t,n,s){t==="focusin"?(hp(),Ul=n,Ll=s,Ul.attachEvent("onpropertychange",fp)):t==="focusout"&&hp()}function KT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Ll)}function YT(t,n){if(t==="click")return Tu(n)}function XT(t,n){if(t==="input"||t==="change")return Tu(n)}function $T(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:$T;function jl(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!_t.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mp(t,n){var s=dp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=dp(s)}}function pp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?pp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function gp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=mi(t.document)}return n}function Uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ZT=Cn&&"documentMode"in document&&11>=document.documentMode,da=null,Lh=null,Pl=null,jh=!1;function yp(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||da==null||da!==mi(l)||(l=da,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&jl(Pl,l)||(Pl=l,l=uc(Lh,"onSelect"),0<l.length&&(n=new yi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=da)))}function Sr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ma={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Ph={},_p={};Cn&&(_p=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Ar(t){if(Ph[t])return Ph[t];if(!ma[t])return t;var n=ma[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in _p)return Ph[t]=n[s];return t}var vp=Ar("animationend"),Ep=Ar("animationiteration"),Tp=Ar("animationstart"),JT=Ar("transitionrun"),WT=Ar("transitionstart"),e1=Ar("transitioncancel"),bp=Ar("transitionend"),Sp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Yn(t,n){Sp.set(t,n),fi(n,[t])}var bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],pa=0,Bh=0;function Su(){for(var t=pa,n=Bh=pa=0;n<t;){var s=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Ap(s,h,f)}}function Au(t,n,s,l){In[pa++]=t,In[pa++]=n,In[pa++]=s,In[pa++]=l,Bh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qh(t,n,s,l){return Au(t,n,s,l),wu(t)}function wr(t,n){return Au(t,null,null,n),wu(t)}function Ap(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-dt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function wu(t){if(50<lo)throw lo=0,Jf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ga={};function t1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,s,l){return new t1(t,n,s,l)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,n){var s=t.alternate;return s===null?(s=yn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function wp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ru(t,n,s,l,h,f){var p=0;if(l=t,typeof t=="function")Hh(t)&&(p=1);else if(typeof t=="string")p=ab(t,s,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=yn(31,s,n,h),t.elementType=x,t.lanes=f,t;case se:return Rr(s.children,h,f,n);case J:p=8,h|=24;break;case pe:return t=yn(12,s,n,h|2),t.elementType=pe,t.lanes=f,t;case Se:return t=yn(13,s,n,h),t.elementType=Se,t.lanes=f,t;case Ne:return t=yn(19,s,n,h),t.elementType=Ne,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:p=10;break e;case he:p=9;break e;case ue:p=11;break e;case I:p=14;break e;case w:p=16,l=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=yn(p,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Rr(t,n,s,l){return t=yn(7,t,l,n),t.lanes=s,t}function Fh(t,n,s){return t=yn(6,t,null,n),t.lanes=s,t}function Rp(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function Gh(t,n,s){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Cp=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var s=Cp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:gl(n)},Cp.set(t,n),n)}return{value:t,source:n,stack:gl(n)}}var ya=[],_a=0,Cu=null,zl=0,Dn=[],On=0,vs=null,Ti=1,bi="";function Pi(t,n){ya[_a++]=zl,ya[_a++]=Cu,Cu=t,zl=n}function xp(t,n,s){Dn[On++]=Ti,Dn[On++]=bi,Dn[On++]=vs,vs=t;var l=Ti;t=bi;var h=32-dt(l)-1;l&=~(1<<h),s+=1;var f=32-dt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ti=1<<32-dt(n)+h|s<<h|l,bi=f+t}else Ti=1<<f|s<<h|l,bi=t}function Qh(t){t.return!==null&&(Pi(t,1),xp(t,1,0))}function Kh(t){for(;t===Cu;)Cu=ya[--_a],ya[_a]=null,zl=ya[--_a],ya[_a]=null;for(;t===vs;)vs=Dn[--On],Dn[On]=null,bi=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null}function Ip(t,n){Dn[On++]=Ti,Dn[On++]=bi,Dn[On++]=vs,Ti=n.id,bi=n.overflow,vs=t}var Bt=null,nt=null,Pe=!1,Es=null,Mn=!1,Yh=Error(a(519));function Ts(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Nn(n,t)),Yh}function Np(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Et]=t,n[kt]=l,s){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<uo.length;s++)Me(uo[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),au(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),fs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Ky(n.textContent,s)?(l.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),l.onScroll!=null&&Me("scroll",n),l.onScrollEnd!=null&&Me("scrollend",n),l.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||Ts(t,!0)}function Dp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function va(t){if(t!==Bt)return!1;if(!Pe)return Dp(t),Pe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||dd(t.type,t.memoizedProps)),s=!s),s&&nt&&Ts(t),Dp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));nt=n_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));nt=n_(t)}else n===27?(n=nt,ks(t.type)?(t=_d,_d=null,nt=t):nt=n):nt=Bt?kn(t.stateNode.nextSibling):null;return!0}function Cr(){nt=Bt=null,Pe=!1}function Xh(){var t=Es;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Es=null),t}function Bl(t){Es===null?Es=[t]:Es.push(t)}var $h=D(null),xr=null,zi=null;function bs(t,n,s){W($h,n._currentValue),n._currentValue=s}function Bi(t){t._currentValue=$h.current,Q($h)}function Zh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Jh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Zh(f.return,s,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Zh(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ea(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;gn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===Re.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(po):t=[po])}h=h.return}t!==null&&Jh(n,t,s,l),n.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ir(t){xr=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Op(xr,t)}function Iu(t,n){return xr===null&&Ir(t),Op(t,n)}function Op(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zi===null){if(t===null)throw Error(a(308));zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zi=zi.next=n;return s}var n1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},i1=r.unstable_scheduleCallback,s1=r.unstable_NormalPriority,St={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new n1,data:new Map,refCount:0}}function ql(t){t.refCount--,t.refCount===0&&i1(s1,function(){t.controller.abort()})}var Hl=null,ef=0,Ta=0,ba=null;function r1(t,n){if(Hl===null){var s=Hl=[];ef=0,Ta=sd(),ba={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ef++,n.then(Mp,Mp),n}function Mp(){if(--ef===0&&Hl!==null){ba!==null&&(ba.status="fulfilled");var t=Hl;Hl=null,Ta=0,ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function a1(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Vp=F.S;F.S=function(t,n){yy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&r1(t,n),Vp!==null&&Vp(t,n)};var Nr=D(null);function tf(){var t=Nr.current;return t!==null?t:et.pooledCache}function Nu(t,n){n===null?W(Nr,Nr.current):W(Nr,n.pool)}function kp(){var t=tf();return t===null?null:{parent:St._currentValue,pool:t}}var Sa=Error(a(460)),nf=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function Up(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Pp(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Pp(t),t}throw Or=n,Sa}}function Dr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Or=s,Sa):s}}var Or=null;function jp(){if(Or===null)throw Error(a(459));var t=Or;return Or=null,t}function Pp(t){if(t===Sa||t===Du)throw Error(a(483))}var Aa=null,Fl=0;function Mu(t){var n=Fl;return Fl+=1,Aa===null&&(Aa=[]),Lp(Aa,t,n)}function Gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zp(t){function n(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function s(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ji(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,P,K){return O===null||O.tag!==6?(O=Fh(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,K){var ge=P.type;return ge===se?G(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Dr(ge)===O.type)?(O=h(O,P.props),Gl(O,P),O.return=k,O):(O=Ru(P.type,P.key,P.props,null,k.mode,K),Gl(O,P),O.return=k,O)}function z(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Gh(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function G(k,O,P,K,ge){return O===null||O.tag!==7?(O=Rr(P,k.mode,K,ge),O.return=k,O):(O=h(O,P),O.return=k,O)}function Y(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Fh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return P=Ru(O.type,O.key,O.props,null,k.mode,P),Gl(P,O),P.return=k,P;case ee:return O=Gh(O,k.mode,P),O.return=k,O;case w:return O=Dr(O),Y(k,O,P)}if(ut(O)||U(O))return O=Rr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return Y(k,Mu(O),P);if(O.$$typeof===ce)return Y(k,Iu(k,O),P);Vu(k,O)}return null}function B(k,O,P,K){var ge=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:T(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case L:return P.key===ge?C(k,O,P,K):null;case ee:return P.key===ge?z(k,O,P,K):null;case w:return P=Dr(P),B(k,O,P,K)}if(ut(P)||U(P))return ge!==null?null:G(k,O,P,K,null);if(typeof P.then=="function")return B(k,O,Mu(P),K);if(P.$$typeof===ce)return B(k,O,Iu(k,P),K);Vu(k,P)}return null}function H(k,O,P,K,ge){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(O,k,""+K,ge);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case L:return k=k.get(K.key===null?P:K.key)||null,C(O,k,K,ge);case ee:return k=k.get(K.key===null?P:K.key)||null,z(O,k,K,ge);case w:return K=Dr(K),H(k,O,P,K,ge)}if(ut(K)||U(K))return k=k.get(P)||null,G(O,k,K,ge,null);if(typeof K.then=="function")return H(k,O,P,Mu(K),ge);if(K.$$typeof===ce)return H(k,O,P,Iu(O,K),ge);Vu(O,K)}return null}function oe(k,O,P,K){for(var ge=null,Be=null,fe=O,Ie=O=0,ke=null;fe!==null&&Ie<P.length;Ie++){fe.index>Ie?(ke=fe,fe=null):ke=fe.sibling;var qe=B(k,fe,P[Ie],K);if(qe===null){fe===null&&(fe=ke);break}t&&fe&&qe.alternate===null&&n(k,fe),O=f(qe,O,Ie),Be===null?ge=qe:Be.sibling=qe,Be=qe,fe=ke}if(Ie===P.length)return s(k,fe),Pe&&Pi(k,Ie),ge;if(fe===null){for(;Ie<P.length;Ie++)fe=Y(k,P[Ie],K),fe!==null&&(O=f(fe,O,Ie),Be===null?ge=fe:Be.sibling=fe,Be=fe);return Pe&&Pi(k,Ie),ge}for(fe=l(fe);Ie<P.length;Ie++)ke=H(fe,k,Ie,P[Ie],K),ke!==null&&(t&&ke.alternate!==null&&fe.delete(ke.key===null?Ie:ke.key),O=f(ke,O,Ie),Be===null?ge=ke:Be.sibling=ke,Be=ke);return t&&fe.forEach(function(zs){return n(k,zs)}),Pe&&Pi(k,Ie),ge}function _e(k,O,P,K){if(P==null)throw Error(a(151));for(var ge=null,Be=null,fe=O,Ie=O=0,ke=null,qe=P.next();fe!==null&&!qe.done;Ie++,qe=P.next()){fe.index>Ie?(ke=fe,fe=null):ke=fe.sibling;var zs=B(k,fe,qe.value,K);if(zs===null){fe===null&&(fe=ke);break}t&&fe&&zs.alternate===null&&n(k,fe),O=f(zs,O,Ie),Be===null?ge=zs:Be.sibling=zs,Be=zs,fe=ke}if(qe.done)return s(k,fe),Pe&&Pi(k,Ie),ge;if(fe===null){for(;!qe.done;Ie++,qe=P.next())qe=Y(k,qe.value,K),qe!==null&&(O=f(qe,O,Ie),Be===null?ge=qe:Be.sibling=qe,Be=qe);return Pe&&Pi(k,Ie),ge}for(fe=l(fe);!qe.done;Ie++,qe=P.next())qe=H(fe,k,Ie,qe.value,K),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Ie:qe.key),O=f(qe,O,Ie),Be===null?ge=qe:Be.sibling=qe,Be=qe);return t&&fe.forEach(function(yb){return n(k,yb)}),Pe&&Pi(k,Ie),ge}function Je(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case L:e:{for(var ge=P.key;O!==null;){if(O.key===ge){if(ge=P.type,ge===se){if(O.tag===7){s(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Dr(ge)===O.type){s(k,O.sibling),K=h(O,P.props),Gl(K,P),K.return=k,k=K;break e}s(k,O);break}else n(k,O);O=O.sibling}P.type===se?(K=Rr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Ru(P.type,P.key,P.props,null,k.mode,K),Gl(K,P),K.return=k,k=K)}return p(k);case ee:e:{for(ge=P.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break e}else{s(k,O);break}else n(k,O);O=O.sibling}K=Gh(P,k.mode,K),K.return=k,k=K}return p(k);case w:return P=Dr(P),Je(k,O,P,K)}if(ut(P))return oe(k,O,P,K);if(U(P)){if(ge=U(P),typeof ge!="function")throw Error(a(150));return P=ge.call(P),_e(k,O,P,K)}if(typeof P.then=="function")return Je(k,O,Mu(P),K);if(P.$$typeof===ce)return Je(k,O,Iu(k,P),K);Vu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(k,O.sibling),K=h(O,P),K.return=k,k=K):(s(k,O),K=Fh(P,k.mode,K),K.return=k,k=K),p(k)):s(k,O)}return function(k,O,P,K){try{Fl=0;var ge=Je(k,O,P,K);return Aa=null,ge}catch(fe){if(fe===Sa||fe===Du)throw fe;var Be=yn(29,fe,null,k.mode);return Be.lanes=K,Be.return=k,Be}}}var Mr=zp(!0),Bp=zp(!1),Ss=!1;function sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function As(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ws(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=wu(t),Ap(t,null,s),n}return Au(t,l,n,s),wu(t)}function Ql(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,vl(t,s)}}function af(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var lf=!1;function Kl(){if(lf){var t=ba;if(t!==null)throw t}}function Yl(t,n,s,l){lf=!1;var h=t.updateQueue;Ss=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,p===null?f=z:p.next=z,p=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;p=0,G=z=C=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ve&B)===B:(l&B)===B){B!==0&&B===Ta&&(lf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var oe=t,_e=T;B=n;var Je=s;switch(_e.tag){case 1:if(oe=_e.payload,typeof oe=="function"){Y=oe.call(Je,Y,B);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=_e.payload,B=typeof oe=="function"?oe.call(Je,Y,B):oe,B==null)break e;Y=A({},Y,B);break e;case 2:Ss=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,C=Y):G=G.next=H,p|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ns|=p,t.lanes=p,t.memoizedState=Y}}function qp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Hp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)qp(s[t],n)}var wa=D(null),ku=D(0);function Fp(t,n){t=$i,W(ku,t),W(wa,n),$i=t|n.baseLanes}function of(){W(ku,$i),W(wa,wa.current)}function uf(){$i=ku.current,Q(wa),Q(ku)}var _n=D(null),Vn=null;function Rs(t){var n=t.alternate;W(pt,pt.current&1),W(_n,t),Vn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Vn=t)}function cf(t){W(pt,pt.current),W(_n,t),Vn===null&&(Vn=t)}function Gp(t){t.tag===22?(W(pt,pt.current),W(_n,t),Vn===null&&(Vn=t)):Cs()}function Cs(){W(pt,pt.current),W(_n,_n.current)}function vn(t){Q(_n),Vn===t&&(Vn=null),Q(pt)}var pt=D(0);function Uu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,xe=null,$e=null,At=null,Lu=!1,Ra=!1,Vr=!1,ju=0,Xl=0,Ca=null,l1=0;function ct(){throw Error(a(321))}function hf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!gn(t[s],n[s]))return!1;return!0}function ff(t,n,s,l,h,f){return qi=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?xg:Cf,Vr=!1,f=s(l,h),Vr=!1,Ra&&(f=Kp(n,s,l,h)),Qp(t),f}function Qp(t){F.H=Jl;var n=$e!==null&&$e.next!==null;if(qi=0,At=$e=xe=null,Lu=!1,Xl=0,Ca=null,n)throw Error(a(300));t===null||wt||(t=t.dependencies,t!==null&&xu(t)&&(wt=!0))}function Kp(t,n,s,l){xe=t;var h=0;do{if(Ra&&(Ca=null),Xl=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,At=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Ig,f=n(s,l)}while(Ra);return f}function o1(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?$l(n):n,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(xe.flags|=1024),n}function df(){var t=ju!==0;return ju=0,t}function mf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function pf(t){if(Lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lu=!1}qi=0,At=$e=xe=null,Ra=!1,Xl=ju=0,Ca=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?xe.memoizedState=At=t:At=At.next=t,At}function gt(){if($e===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var n=At===null?xe.memoizedState:At.next;if(n!==null)At=n,$e=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?xe.memoizedState=At=t:At=At.next=t}return At}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(t){var n=Xl;return Xl+=1,Ca===null&&(Ca=[]),t=Lp(Ca,t,n),n=xe,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?xg:Cf),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $l(t);if(t.$$typeof===ce)return qt(t)}throw Error(a(438,String(t)))}function gf(t){var n=null,s=xe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pu(),xe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function Hi(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=gt();return yf(n,$e,t)}function yf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,C=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Ve&Y)===Y:(qi&Y)===Y){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ta&&(G=!0);else if((qi&B)===B){z=z.next,B===Ta&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=Y,p=f):C=C.next=Y,xe.lanes|=B,Ns|=B;Y=z.action,Vr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else B={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=B,p=f):C=C.next=B,xe.lanes|=Y,Ns|=Y;z=z.next}while(z!==null&&z!==n);if(C===null?p=f:C.next=T,!gn(f,t.memoizedState)&&(wt=!0,G&&(s=ba,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _f(t){var n=gt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Yp(t,n,s){var l=xe,h=gt(),f=Pe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!gn(($e||h).memoizedState,s);if(p&&(h.memoizedState=s,wt=!0),h=h.queue,Tf(Zp.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,xa(9,{destroy:void 0},$p.bind(null,l,h,s,n),null),et===null)throw Error(a(349));f||(qi&127)!==0||Xp(l,n,s)}return s}function Xp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=xe.updateQueue,n===null?(n=Pu(),xe.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function $p(t,n,s,l){n.value=s,n.getSnapshot=l,Jp(n)&&Wp(t)}function Zp(t,n,s){return s(function(){Jp(n)&&Wp(t)})}function Jp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!gn(t,s)}catch{return!0}}function Wp(t){var n=wr(t,2);n!==null&&hn(n,t,2)}function vf(t){var n=sn();if(typeof t=="function"){var s=t;if(t=s(),Vr){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},n}function eg(t,n,s,l){return t.baseState=s,yf(t,$e,typeof l=="function"?l:Hi)}function u1(t,n,s,l,h){if(Fu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,tg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function tg(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=s(h,l),C=F.S;C!==null&&C(p,T),ng(t,n,T)}catch(z){Ef(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=s(h,l),ng(t,n,f)}catch(z){Ef(t,n,z)}}function ng(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ig(t,n,l)},function(l){return Ef(t,n,l)}):ig(t,n,s)}function ig(t,n,s){n.status="fulfilled",n.value=s,sg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,tg(t,s)))}function Ef(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,sg(n),n=n.next;while(n!==l)}t.action=null}function sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function rg(t,n){return n}function ag(t,n){if(Pe){var s=et.formState;if(s!==null){e:{var l=xe;if(Pe){if(nt){t:{for(var h=nt,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=kn(h.nextSibling),l=h.data==="F!";break e}}Ts(l)}l=!1}l&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:n},s.queue=l,s=wg.bind(null,xe,l),l.dispatch=s,l=vf(!1),f=Rf.bind(null,xe,!1,l.queue),l=sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=u1.bind(null,xe,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function lg(t){var n=gt();return og(n,$e,t)}function og(t,n,s){if(n=yf(t,n,rg)[0],t=Bu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$l(n)}catch(p){throw p===Sa?Du:p}else l=n;n=gt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(xe.flags|=2048,xa(9,{destroy:void 0},c1.bind(null,h,s),null)),[l,f,t]}function c1(t,n){t.action=n}function ug(t){var n=gt(),s=$e;if(s!==null)return og(n,s,t);gt(),n=n.memoizedState,s=gt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function xa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=xe.updateQueue,n===null&&(n=Pu(),xe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function cg(){return gt().memoizedState}function qu(t,n,s,l){var h=sn();xe.flags|=t,h.memoizedState=xa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Hu(t,n,s,l){var h=gt();l=l===void 0?null:l;var f=h.memoizedState.inst;$e!==null&&l!==null&&hf(l,$e.memoizedState.deps)?h.memoizedState=xa(n,f,s,l):(xe.flags|=t,h.memoizedState=xa(1|n,f,s,l))}function hg(t,n){qu(8390656,8,t,n)}function Tf(t,n){Hu(2048,8,t,n)}function h1(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=Pu(),xe.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function fg(t){var n=gt().memoizedState;return h1({ref:n,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function dg(t,n){return Hu(4,2,t,n)}function mg(t,n){return Hu(4,4,t,n)}function pg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function gg(t,n,s){s=s!=null?s.concat([t]):null,Hu(4,4,pg.bind(null,n,t),s)}function bf(){}function yg(t,n){var s=gt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&hf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function _g(t,n){var s=gt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&hf(n,l[1]))return l[0];if(l=t(),Vr){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,n],l}function Sf(t,n,s){return s===void 0||(qi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=vy(),xe.lanes|=t,Ns|=t,s)}function vg(t,n,s,l){return gn(s,n)?s:wa.current!==null?(t=Sf(t,s,l),gn(t,n)||(wt=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(Ve&261930)===0?(wt=!0,t.memoizedState=s):(t=vy(),xe.lanes|=t,Ns|=t,n)}function Eg(t,n,s,l,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,Rf(t,!1,n,s);try{var C=h(),z=F.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=a1(C,l);Zl(t,n,G,bn(t))}else Zl(t,n,l,bn(t))}catch(Y){Zl(t,n,{then:function(){},status:"rejected",reason:Y},bn())}finally{ne.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function f1(){}function Af(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Tg(t).queue;Eg(t,h,n,Z,s===null?f1:function(){return bg(t),s(l)})}function Tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:Z},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bg(t){var n=Tg(t);n.next===null&&(n=t.alternate.memoizedState),Zl(t,n.next.queue,{},bn())}function wf(){return qt(po)}function Sg(){return gt().memoizedState}function Ag(){return gt().memoizedState}function d1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();t=As(s);var l=ws(n,t,s);l!==null&&(hn(l,n,s),Ql(l,n,s)),n={cache:Wh()},t.payload=n;return}n=n.return}}function m1(t,n,s){var l=bn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(t)?Rg(n,s):(s=qh(t,n,s,l),s!==null&&(hn(s,t,l),Cg(s,n,l)))}function wg(t,n,s){var l=bn();Zl(t,n,s,l)}function Zl(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))Rg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,s);if(h.hasEagerState=!0,h.eagerState=T,gn(T,p))return Au(t,n,h,0),et===null&&Su(),!1}catch{}if(s=qh(t,n,h,l),s!==null)return hn(s,t,l),Cg(s,n,l),!0}return!1}function Rf(t,n,s,l){if(l={lane:2,revertLane:sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(n)throw Error(a(479))}else n=qh(t,s,l,2),n!==null&&hn(n,t,2)}function Fu(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function Rg(t,n){Ra=Lu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Cg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,vl(t,s)}}var Jl={readContext:qt,use:zu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Jl.useEffectEvent=ct;var xg={readContext:qt,use:zu,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:hg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,qu(4194308,4,pg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return qu(4194308,4,t,n)},useInsertionEffect:function(t,n){qu(4,2,t,n)},useMemo:function(t,n){var s=sn();n=n===void 0?null:n;var l=t();if(Vr){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=sn();if(s!==void 0){var h=s(n);if(Vr){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=m1.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=vf(t);var n=t.queue,s=wg.bind(null,xe,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(t,n){var s=sn();return Sf(s,t,n)},useTransition:function(){var t=vf(!1);return t=Eg.bind(null,xe,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=xe,h=sn();if(Pe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),et===null)throw Error(a(349));(Ve&127)!==0||Xp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,hg(Zp.bind(null,l,f,t),[t]),l.flags|=2048,xa(9,{destroy:void 0},$p.bind(null,l,f,s,n),null),s},useId:function(){var t=sn(),n=et.identifierPrefix;if(Pe){var s=bi,l=Ti;s=(l&~(1<<32-dt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ju++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=l1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wf,useFormState:ag,useActionState:ag,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,xe,!0,s),s.dispatch=n,[t,n]},useMemoCache:gf,useCacheRefresh:function(){return sn().memoizedState=d1.bind(null,xe)},useEffectEvent:function(t){var n=sn(),s={impl:t};return n.memoizedState=s,function(){if((Fe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:qt,use:zu,useCallback:yg,useContext:qt,useEffect:Tf,useImperativeHandle:gg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:Bu,useRef:cg,useState:function(){return Bu(Hi)},useDebugValue:bf,useDeferredValue:function(t,n){var s=gt();return vg(s,$e.memoizedState,t,n)},useTransition:function(){var t=Bu(Hi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:$l(t),n]},useSyncExternalStore:Yp,useId:Sg,useHostTransitionStatus:wf,useFormState:lg,useActionState:lg,useOptimistic:function(t,n){var s=gt();return eg(s,$e,t,n)},useMemoCache:gf,useCacheRefresh:Ag};Cf.useEffectEvent=fg;var Ig={readContext:qt,use:zu,useCallback:yg,useContext:qt,useEffect:Tf,useImperativeHandle:gg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:_f,useRef:cg,useState:function(){return _f(Hi)},useDebugValue:bf,useDeferredValue:function(t,n){var s=gt();return $e===null?Sf(s,t,n):vg(s,$e.memoizedState,t,n)},useTransition:function(){var t=_f(Hi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:$l(t),n]},useSyncExternalStore:Yp,useId:Sg,useHostTransitionStatus:wf,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var s=gt();return $e!==null?eg(s,$e,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Ag};Ig.useEffectEvent=fg;function xf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var If={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=bn(),h=As(l);h.payload=n,s!=null&&(h.callback=s),n=ws(t,h,l),n!==null&&(hn(n,t,l),Ql(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=bn(),h=As(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ws(t,h,l),n!==null&&(hn(n,t,l),Ql(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=bn(),l=As(s);l.tag=2,n!=null&&(l.callback=n),n=ws(t,l,s),n!==null&&(hn(n,t,s),Ql(n,t,s))}};function Ng(t,n,s,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!jl(s,l)||!jl(h,f):!0}function Dg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&If.enqueueReplaceState(n,n.state,null)}function kr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Og(t){bu(t)}function Mg(t){console.error(t)}function Vg(t){bu(t)}function Gu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function kg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,n,s){return s=As(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(t,n)},s}function Ug(t){return t=As(t),t.tag=3,t}function Lg(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){kg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){kg(n,s,l),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function p1(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Ea(n,s,h,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?ic():s.alternate===null&&ht===0&&(ht=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),td(t,l,h)),!1;case 22:return s.flags|=65536,l===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),td(t,l,h)),!1}throw Error(a(435,s.tag))}return td(t,l,h),ic(),!1}if(Pe)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(t=Error(a(422),{cause:l}),Bl(Nn(t,s)))):(l!==Yh&&(n=Error(a(423),{cause:l}),Bl(Nn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,s),h=Nf(t.stateNode,l,h),af(t,h),ht!==4&&(ht=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,s),ao===null?ao=[f]:ao.push(f),ht!==4&&(ht=2),n===null)return!0;l=Nn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Nf(s.stateNode,l,t),af(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ug(h),Lg(h,t,s,l),af(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),wt=!1;function Ht(t,n,s,l){n.child=t===null?Bp(n,null,s,l):Mr(n,t.child,s,l)}function jg(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Ir(n),l=ff(t,n,s,p,f,h),T=df(),t!==null&&!wt?(mf(t,n,h),Fi(t,n,h)):(Pe&&T&&Qh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Pg(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,zg(t,n,f,l,h)):(t=Ru(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Pf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:jl,s(p,l)&&t.ref===n.ref)return Fi(t,n,h)}return n.flags|=1,t=ji(f,l),t.ref=n.ref,t.return=n,n.child=t}function zg(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(jl(f,l)&&t.ref===n.ref)if(wt=!1,n.pendingProps=l=f,Pf(t,h))(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,Fi(t,n,h)}return Of(t,n,s,l,h)}function Bg(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return qg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Fp(n,f):of(),Gp(n);else return l=n.lanes=536870912,qg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Nu(n,f.cachePool),Fp(n,f),Cs(),n.memoizedState=null):(t!==null&&Nu(n,null),of(),Cs());return Ht(t,n,h,s),n.child}function Wl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qg(t,n,s,l,h){var f=tf();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Nu(n,null),of(),Gp(n),t!==null&&Ea(t,n,l,!0),n.childLanes=h,null}function Qu(t,n){return n=Yu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Hg(t,n,s){return Mr(n,t.child,null,s),t=Qu(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function g1(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Qu(n,l),n.lanes=536870912,Wl(null,t);if(cf(n),(t=nt)?(t=t_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Rp(t),s.return=n,n.child=s,Bt=n,nt=null)):t=null,t===null)throw Ts(n);return n.lanes=536870912,null}return Qu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Hg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(wt||Ea(t,n,s,!1),h=(s&t.childLanes)!==0,wt||h){if(l=et,l!==null&&(p=El(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,wr(t,p),hn(l,t,p),Df;ic(),n=Hg(t,n,s)}else t=f.treeContext,nt=kn(p.nextSibling),Bt=n,Pe=!0,Es=null,Mn=!1,t!==null&&Ip(n,t),n=Qu(n,l),n.flags|=4096;return n}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ku(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Of(t,n,s,l,h){return Ir(n),s=ff(t,n,s,l,void 0,h),l=df(),t!==null&&!wt?(mf(t,n,h),Fi(t,n,h)):(Pe&&l&&Qh(n),n.flags|=1,Ht(t,n,s,h),n.child)}function Fg(t,n,s,l,h,f){return Ir(n),n.updateQueue=null,s=Kp(n,l,s,h),Qp(t),l=df(),t!==null&&!wt?(mf(t,n,f),Fi(t,n,f)):(Pe&&l&&Qh(n),n.flags|=1,Ht(t,n,s,f),n.child)}function Gg(t,n,s,l,h){if(Ir(n),n.stateNode===null){var f=ga,p=s.contextType;typeof p=="object"&&p!==null&&(f=qt(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},sf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qt(p):ga,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(xf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),Yl(n,l,f,h),Kl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=kr(s,T);f.props=C;var z=f.context,G=s.contextType;p=ga,typeof G=="object"&&G!==null&&(p=qt(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Dg(n,f,l,p),Ss=!1;var B=n.memoizedState;f.state=B,Yl(n,l,f,h),Kl(),z=n.memoizedState,T||B!==z||Ss?(typeof Y=="function"&&(xf(n,s,Y,l),z=n.memoizedState),(C=Ss||Ng(n,s,C,l,B,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rf(t,n),p=n.memoizedProps,G=kr(s,p),f.props=G,Y=n.pendingProps,B=f.context,z=s.contextType,C=ga,typeof z=="object"&&z!==null&&(C=qt(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==C)&&Dg(n,f,l,C),Ss=!1,B=n.memoizedState,f.state=B,Yl(n,l,f,h),Kl();var H=n.memoizedState;p!==Y||B!==H||Ss||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof T=="function"&&(xf(n,s,T,l),H=n.memoizedState),(G=Ss||Ng(n,s,G,l,B,H,C)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Mr(n,t.child,null,h),n.child=Mr(n,null,s,h)):Ht(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Fi(t,n,h),t}function Qg(t,n,s,l){return Cr(),n.flags|=256,Ht(t,n,s,l),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:kp()}}function kf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Tn),t}function Kg(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?Rs(n):Cs(),(t=nt)?(t=t_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Rp(t),s.return=n,n.child=s,Bt=n,nt=null)):t=null,t===null)throw Ts(n);return yd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Cs(),h=n.mode,T=Yu({mode:"hidden",children:T},h),l=Rr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Vf(s),l.childLanes=kf(t,p,s),n.memoizedState=Mf,Wl(null,l)):(Rs(n),Uf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=Lf(t,n,s)):n.memoizedState!==null?(Cs(),n.child=t.child,n.flags|=128,n=null):(Cs(),T=l.fallback,h=n.mode,l=Yu({mode:"visible",children:l.children},h),T=Rr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Mr(n,t.child,null,s),l=n.child,l.memoizedState=Vf(s),l.childLanes=kf(t,p,s),n.memoizedState=Mf,n=Wl(null,l));else if(Rs(n),yd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Bl({value:l,source:null,stack:null}),n=Lf(t,n,s)}else if(wt||Ea(t,n,s,!1),p=(s&t.childLanes)!==0,wt||p){if(p=et,p!==null&&(l=El(p,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,wr(t,l),hn(p,t,l),Df;gd(T)||ic(),n=Lf(t,n,s)}else gd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,nt=kn(T.nextSibling),Bt=n,Pe=!0,Es=null,Mn=!1,t!==null&&Ip(n,t),n=Uf(n,l.children),n.flags|=4096);return n}return h?(Cs(),T=l.fallback,h=n.mode,C=t.child,z=C.sibling,l=ji(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=ji(z,T):(T=Rr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Wl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Vf(s):(h=T.cachePool,h!==null?(C=St._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=kp(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=kf(t,p,s),n.memoizedState=Mf,Wl(t.child,l)):(Rs(n),s=t.child,t=s.sibling,s=ji(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Uf(t,n){return n=Yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yu(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function Lf(t,n,s){return Mr(n,t.child,null,s),t=Uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Yg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Zh(t.return,n,s)}function jf(t,n,s,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Xg(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=pt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,W(pt,p),Ht(t,n,l,s),l=Pe?zl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yg(t,s,n);else if(t.tag===19)Yg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Uu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Uu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}jf(n,!0,s,null,f,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Fi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ns|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Ea(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ji(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ji(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function y1(t,n,s){switch(n.tag){case 3:ft(n,n.stateNode.containerInfo),bs(n,St,t.memoizedState.cache),Cr();break;case 27:case 5:ni(n);break;case 4:ft(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Kg(t,n,s):(Rs(n),t=Fi(t,n,s),t!==null?t.sibling:null);Rs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Ea(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Xg(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(pt,pt.current),l)break;return null;case 22:return n.lanes=0,Bg(t,n,s,n.pendingProps);case 24:bs(n,St,t.memoizedState.cache)}return Fi(t,n,s)}function $g(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!Pf(t,s)&&(n.flags&128)===0)return wt=!1,y1(t,n,s);wt=(t.flags&131072)!==0}else wt=!1,Pe&&(n.flags&1048576)!==0&&xp(n,zl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Dr(n.elementType),n.type=t,typeof t=="function")Hh(t)?(l=kr(t,l),n.tag=1,n=Gg(null,n,t,l,s)):(n.tag=0,n=Of(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===ue){n.tag=11,n=jg(null,n,t,l,s);break e}else if(h===I){n.tag=14,n=Pg(null,n,t,l,s);break e}}throw n=tt(t)||t,Error(a(306,n,""))}}return n;case 0:return Of(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=kr(l,n.pendingProps),Gg(t,n,l,h,s);case 3:e:{if(ft(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,rf(t,n),Yl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,bs(n,St,l),l!==f.cache&&Jh(n,[St],s,!0),Kl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qg(t,n,l,s);break e}else if(l!==h){h=Nn(Error(a(424)),n),Bl(h),n=Qg(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=kn(t.firstChild),Bt=n,Pe=!0,Es=null,Mn=!0,s=Bp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Cr(),l===h){n=Fi(t,n,s);break e}Ht(t,n,l,s)}n=n.child}return n;case 26:return Ku(t,n),t===null?(s=l_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pe||(s=n.type,t=n.pendingProps,l=cc(le.current).createElement(s),l[Et]=n,l[kt]=t,Ft(l,s,t),Tt(l),n.stateNode=l):n.memoizedState=l_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ni(n),t===null&&Pe&&(l=n.stateNode=s_(n.type,n.pendingProps,le.current),Bt=n,Mn=!0,h=nt,ks(n.type)?(_d=h,nt=kn(l.firstChild)):nt=h),Ht(t,n,n.pendingProps.children,s),Ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=l=nt)&&(l=K1(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,Bt=n,nt=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||Ts(n)),ni(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,dd(h,f)?l=null:p!==null&&dd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(t,n,o1,null,null,s),po._currentValue=h),Ku(t,n),Ht(t,n,l,s),n.child;case 6:return t===null&&Pe&&((t=s=nt)&&(s=Y1(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,Bt=n,nt=null,t=!0):t=!1),t||Ts(n)),null;case 13:return Kg(t,n,s);case 4:return ft(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Mr(n,null,l,s):Ht(t,n,l,s),n.child;case 11:return jg(t,n,n.type,n.pendingProps,s);case 7:return Ht(t,n,n.pendingProps,s),n.child;case 8:return Ht(t,n,n.pendingProps.children,s),n.child;case 12:return Ht(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,bs(n,n.type,l.value),Ht(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,s),n.child;case 14:return Pg(t,n,n.type,n.pendingProps,s);case 15:return zg(t,n,n.type,n.pendingProps,s);case 19:return Xg(t,n,s);case 31:return g1(t,n,s);case 22:return Bg(t,n,s,n.pendingProps);case 24:return Ir(n),l=qt(St),t===null?(h=tf(),h===null&&(h=et,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},sf(n),bs(n,St,h)):((t.lanes&s)!==0&&(rf(t,n),Yl(n,null,null,s),Kl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,St,l)):(l=f.cache,bs(n,St,l),l!==h.cache&&Jh(n,[St],s,!0))),Ht(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(t){t.flags|=4}function zf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Sy())t.flags|=8192;else throw Or=Ou,nf}else t.flags&=-16777217}function Zg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!f_(n))if(Sy())t.flags|=8192;else throw Or=Ou,nf}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?tu():536870912,t.lanes|=n,Oa|=n)}function eo(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function _1(t,n,s){var l=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Bi(St),We(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(va(n)?Gi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Gi(n),f!==null?(it(n),Zg(n,f)):(it(n),zf(n,h,null,l,s))):f?f!==t.memoizedState?(Gi(n),it(n),Zg(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Gi(n),it(n),zf(n,h,t,l,s)),null;case 27:if(dn(n),s=le.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}t=ie.current,va(n)?Np(n):(t=s_(h,l,s),n.stateNode=t,Gi(n))}return it(n),null;case 5:if(dn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}if(f=ie.current,va(n))Np(n);else{var p=cc(le.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Et]=n,f[kt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Gi(n)}}return it(n),zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=le.current,va(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ky(t.nodeValue,s)),t||Ts(n,!0)}else t=cc(t).createTextNode(l),t[Et]=n,n.stateNode=t}return it(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=va(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Et]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else s=Xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=va(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Et]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=Xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),it(n),null);case 4:return We(),t===null&&od(n.stateNode.containerInfo),it(n),null;case 10:return Bi(n.type),it(n),null;case 19:if(Q(pt),l=n.memoizedState,l===null)return it(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)eo(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Uu(t),f!==null){for(n.flags|=128,eo(l,!1),t=f.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)wp(s,t),s=s.sibling;return W(pt,pt.current&1|2),Pe&&Pi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>ec&&(n.flags|=128,h=!0,eo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Uu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),eo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return it(n),null}else 2*tn()-l.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,eo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,s=pt.current,W(pt,h?s&1|2:s&1),Pe&&Pi(n,l.treeForkCount),t):(it(n),null);case 22:case 23:return vn(n),uf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Q(Nr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bi(St),it(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function v1(t,n){switch(Kh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Bi(St),We(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return dn(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));Cr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Cr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(pt),null;case 4:return We(),null;case 10:return Bi(n.type),null;case 22:case 23:return vn(n),uf(),t!==null&&Q(Nr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Bi(St),null;case 25:return null;default:return null}}function Jg(t,n){switch(Kh(n),n.tag){case 3:Bi(St),We();break;case 26:case 27:case 5:dn(n);break;case 4:We();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:Q(pt);break;case 10:Bi(n.type);break;case 22:case 23:vn(n),uf(),t!==null&&Q(Nr);break;case 24:Bi(St)}}function to(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(T){Ye(n,n.return,T)}}function xs(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=s,z=T;try{z()}catch(G){Ye(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){Ye(n,n.return,G)}}function Wg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Hp(n,s)}catch(l){Ye(t,t.return,l)}}}function ey(t,n,s){s.props=kr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ye(t,n,l)}}function no(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ye(t,n,h)}}function Si(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ye(t,n,h)}else s.current=null}function ty(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ye(t,t.return,h)}}function Bf(t,n,s){try{var l=t.stateNode;B1(l,t.type,s,n),l[kt]=n}catch(h){Ye(t,t.return,h)}}function ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ks(t.type)||t.tag===4}function qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(l!==4&&(l===27&&ks(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Hf(t,n,s),t=t.sibling;t!==null;)Hf(t,n,s),t=t.sibling}function $u(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ks(t.type)&&(s=t.stateNode),t=t.child,t!==null))for($u(t,n,s),t=t.sibling;t!==null;)$u(t,n,s),t=t.sibling}function iy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,s),n[Et]=t,n[kt]=s}catch(f){Ye(t,t.return,f)}}var Qi=!1,Rt=!1,Ff=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function E1(t,n){if(t=t.containerInfo,hd=yc,t=gp(t),Uh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,T=-1,C=-1,z=0,G=0,Y=t,B=null;t:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(T=p+h),Y!==f||l!==0&&Y.nodeType!==3||(C=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===t)break t;if(B===s&&++z===h&&(T=p),B===f&&++G===l&&(C=p),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:t,selectionRange:s},yc=!1,Lt=n;Lt!==null;)if(n=Lt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Lt=t;else for(;Lt!==null;){switch(n=Lt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var oe=kr(s.type,h);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ye(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)pd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Lt=t;break}Lt=n.return}}function ry(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Yi(t,s),l&4&&to(5,s);break;case 1:if(Yi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){Ye(s,s.return,p)}else{var h=kr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Ye(s,s.return,p)}}l&64&&Wg(s),l&512&&no(s,s.return);break;case 3:if(Yi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Hp(t,n)}catch(p){Ye(s,s.return,p)}}break;case 27:n===null&&l&4&&iy(s);case 26:case 5:Yi(t,s),n===null&&l&4&&ty(s),l&512&&no(s,s.return);break;case 12:Yi(t,s);break;case 31:Yi(t,s),l&4&&oy(t,s);break;case 13:Yi(t,s),l&4&&uy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=I1.bind(null,s),X1(t,s))));break;case 22:if(l=s.memoizedState!==null||Qi,!l){n=n!==null&&n.memoizedState!==null||Rt,h=Qi;var f=Rt;Qi=l,(Rt=n)&&!f?Xi(t,s,(s.subtreeFlags&8772)!==0):Yi(t,s),Qi=h,Rt=f}break;case 30:break;default:Yi(t,s)}}function ay(t){var n=t.alternate;n!==null&&(t.alternate=null,ay(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&na(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function Ki(t,n,s){for(s=s.child;s!==null;)ly(t,n,s),s=s.sibling}function ly(t,n,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:Rt||Si(s,n),Ki(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Rt||Si(s,n);var l=lt,h=ln;ks(s.type)&&(lt=s.stateNode,ln=!1),Ki(t,n,s),ho(s.stateNode),lt=l,ln=h;break;case 5:Rt||Si(s,n);case 6:if(l=lt,h=ln,lt=null,Ki(t,n,s),lt=l,ln=h,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(f){Ye(s,n,f)}else try{lt.removeChild(s.stateNode)}catch(f){Ye(s,n,f)}break;case 18:lt!==null&&(ln?(t=lt,Wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),za(t)):Wy(lt,s.stateNode));break;case 4:l=lt,h=ln,lt=s.stateNode.containerInfo,ln=!0,Ki(t,n,s),lt=l,ln=h;break;case 0:case 11:case 14:case 15:xs(2,s,n),Rt||xs(4,s,n),Ki(t,n,s);break;case 1:Rt||(Si(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ey(s,n,l)),Ki(t,n,s);break;case 21:Ki(t,n,s);break;case 22:Rt=(l=Rt)||s.memoizedState!==null,Ki(t,n,s),Rt=l;break;default:Ki(t,n,s)}}function oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{za(t)}catch(s){Ye(n,n.return,s)}}}function uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{za(t)}catch(s){Ye(n,n.return,s)}}function T1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new sy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new sy),n;default:throw Error(a(435,t.tag))}}function Zu(t,n){var s=T1(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=N1.bind(null,t,l);l.then(h,h)}})}function on(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(ks(T.type)){lt=T.stateNode,ln=!1;break e}break;case 5:lt=T.stateNode,ln=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(lt===null)throw Error(a(160));ly(f,p,h),lt=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cy(n,t),n=n.sibling}var Xn=null;function cy(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(xs(3,t,t.return),to(3,t),xs(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(Rt||s===null||Si(s,s.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Xn;if(on(n,t),un(t),l&512&&(Rt||s===null||Si(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,s),f[Et]=t,Tt(f),l=f;break e;case"link":var p=c_("link","href",h).get(l+(s.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),Ft(f,l,s),h.head.appendChild(f);break;case"meta":if(p=c_("meta","content",h).get(l+(s.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(T,1);break t}}f=h.createElement(l),Ft(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Et]=t,Tt(f),l=f}t.stateNode=l}else h_(h,t.type,t.stateNode);else t.stateNode=u_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?h_(h,t.type,t.stateNode):u_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,s.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(Rt||s===null||Si(s,s.return)),s!==null&&l&4&&Bf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(Rt||s===null||Si(s,s.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(oe){Ye(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Bf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Ff=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(oe){Ye(t,t.return,oe)}}break;case 3:if(dc=null,h=Xn,Xn=hc(n.containerInfo),on(n,t),Xn=h,un(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(oe){Ye(t,t.return,oe)}Ff&&(Ff=!1,hy(t));break;case 4:l=Xn,Xn=hc(t.stateNode.containerInfo),on(n,t),un(t),Xn=l;break;case 12:on(n,t),un(t);break;case 31:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Qi,G=Rt;if(Qi=z||h,Rt=G||C,on(n,t),Rt=G,Qi=z,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Qi||Rt||Ur(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){Ye(C,C.return,oe)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){Ye(C,C.return,oe)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?e_(H,!0):e_(C.stateNode,!1)}catch(oe){Ye(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Zu(t,s))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(ny(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(t);$u(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(an(p,""),s.flags&=-33);var T=qf(t);$u(t,T,p);break;case 3:case 4:var C=s.stateNode.containerInfo,z=qf(t);Hf(t,z,C);break;default:throw Error(a(161))}}catch(G){Ye(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ry(t,n.alternate,n),n=n.sibling}function Ur(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),Ur(n);break;case 1:Si(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ey(n,n.return,s),Ur(n);break;case 27:ho(n.stateNode);case 26:case 5:Si(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}t=t.sibling}}function Xi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,s),to(4,f);break;case 1:if(Xi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ye(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)qp(C[h],T)}catch(z){Ye(l,l.return,z)}}s&&p&64&&Wg(f),no(f,f.return);break;case 27:iy(f);case 26:case 5:Xi(h,f,s),s&&l===null&&p&4&&ty(f),no(f,f.return);break;case 12:Xi(h,f,s);break;case 31:Xi(h,f,s),s&&p&4&&oy(h,f);break;case 13:Xi(h,f,s),s&&p&4&&uy(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,s),no(f,f.return);break;case 30:break;default:Xi(h,f,s)}n=n.sibling}}function Gf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ql(s))}function Qf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ql(t))}function $n(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fy(t,n,s,l),n=n.sibling}function fy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,s,l),h&2048&&to(9,n);break;case 1:$n(t,n,s,l);break;case 3:$n(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ql(t)));break;case 12:if(h&2048){$n(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(n,n.return,C)}}else $n(t,n,s,l);break;case 31:$n(t,n,s,l);break;case 13:$n(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,s,l):io(t,n):f._visibility&2?$n(t,n,s,l):(f._visibility|=2,Ia(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(p,n);break;case 24:$n(t,n,s,l),h&2048&&Qf(n.alternate,n);break;default:$n(t,n,s,l)}}function Ia(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=s,C=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ia(f,p,T,C,h),to(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ia(f,p,T,C,h):io(f,p):(G._visibility|=2,Ia(f,p,T,C,h)),h&&z&2048&&Gf(p.alternate,p);break;case 24:Ia(f,p,T,C,h),h&&z&2048&&Qf(p.alternate,p);break;default:Ia(f,p,T,C,h)}n=n.sibling}}function io(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:io(s,l),h&2048&&Gf(l.alternate,l);break;case 24:io(s,l),h&2048&&Qf(l.alternate,l);break;default:io(s,l)}n=n.sibling}}var so=8192;function Na(t,n,s){if(t.subtreeFlags&so)for(t=t.child;t!==null;)dy(t,n,s),t=t.sibling}function dy(t,n,s){switch(t.tag){case 26:Na(t,n,s),t.flags&so&&t.memoizedState!==null&&lb(s,Xn,t.memoizedState,t.memoizedProps);break;case 5:Na(t,n,s);break;case 3:case 4:var l=Xn;Xn=hc(t.stateNode.containerInfo),Na(t,n,s),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=so,so=16777216,Na(t,n,s),so=l):Na(t,n,s));break;default:Na(t,n,s)}}function my(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ro(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Lt=l,gy(l,t)}my(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 0:case 11:case 15:ro(t),t.flags&2048&&xs(9,t,t.return);break;case 3:ro(t);break;case 12:ro(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ju(t)):ro(t);break;default:ro(t)}}function Ju(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Lt=l,gy(l,t)}my(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:xs(8,n,n.return),Ju(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ju(n));break;default:Ju(n)}t=t.sibling}}function gy(t,n){for(;Lt!==null;){var s=Lt;switch(s.tag){case 0:case 11:case 15:xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ql(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Lt=l;else e:for(s=t;Lt!==null;){l=Lt;var h=l.sibling,f=l.return;if(ay(l),l===s){Lt=null;break e}if(h!==null){h.return=f,Lt=h;break e}Lt=f}}}var b1={getCacheForType:function(t){var n=qt(St),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return qt(St).controller.signal}},S1=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Oe=null,Ve=0,Ke=0,En=null,Is=!1,Da=!1,Kf=!1,$i=0,ht=0,Ns=0,Lr=0,Yf=0,Tn=0,Oa=0,ao=null,cn=null,Xf=!1,Wu=0,yy=0,ec=1/0,tc=null,Ds=null,Dt=0,Os=null,Ma=null,Zi=0,$f=0,Zf=null,_y=null,lo=0,Jf=null;function bn(){return(Fe&2)!==0&&Ve!==0?Ve&-Ve:F.T!==null?sd():nu()}function vy(){if(Tn===0)if((Ve&536870912)===0||Pe){var t=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,n,s){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Ms(t,Ve,Tn,!1)),hr(t,s),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Lr|=s),ht===4&&Ms(t,Ve,Tn,!1)),Ai(t))}function Ey(t,n,s){if((Fe&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),h=l?R1(t,n):ed(t,n,!0),f=l;do{if(h===0){Da&&!l&&Ms(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!A1(s)){h=ed(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=ao;var C=T.current.memoizedState.isDehydrated;if(C&&(Va(T,p).flags|=256),p=ed(T,p,!1),p!==2){if(Kf&&!C){T.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Va(t,0),Ms(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ms(l,n,Tn,!Is);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-tn(),10<h)){if(Ms(l,n,Tn,!Is),ai(l,0,!0)!==0)break e;Zi=n,l.timeoutHandle=Zy(Ty.bind(null,l,s,cn,tc,Xf,n,Tn,Lr,Oa,Is,f,"Throttled",-0,0),h);break e}Ty(l,s,cn,tc,Xf,n,Tn,Lr,Oa,Is,f,null,-0,0)}}break}while(!0);Ai(t)}function Ty(t,n,s,l,h,f,p,T,C,z,G,Y,B,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},dy(n,f,Y);var oe=(f&62914560)===f?Wu-tn():(f&4194048)===f?yy-tn():0;if(oe=ob(Y,oe),oe!==null){Zi=f,t.cancelPendingCommit=oe(Iy.bind(null,t,n,f,s,l,h,p,T,C,G,Y,null,B,H)),Ms(t,f,p,!z);return}}Iy(t,n,f,s,l,h,p,T,C)}function A1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,s,l){n&=~Yf,n&=~Lr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&fr(t,s,n)}function nc(){return(Fe&6)===0?(oo(0),!1):!0}function Wf(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,zi=xr=null,pf(t),Aa=null,Fl=0,t=Oe;for(;t!==null;)Jg(t.alternate,t),t=t.return;Oe=null}}function Va(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,F1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Zi=0,Wf(),et=t,Oe=s=ji(t.current,null),Ve=n,Ke=0,En=null,Is=!1,Da=zn(t,n),Kf=!1,Oa=Tn=Yf=Lr=Ns=ht=0,cn=ao=null,Xf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-dt(l),f=1<<h;n|=t[h],l&=~f}return $i=n,Su(),s}function by(t,n){xe=null,F.H=Jl,n===Sa||n===Du?(n=jp(),Ke=3):n===nf?(n=jp(),Ke=4):Ke=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Oe===null&&(ht=1,Gu(t,Nn(n,t.current)))}function Sy(){var t=_n.current;return t===null?!0:(Ve&4194048)===Ve?Vn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Vn:!1}function Ay(){var t=F.H;return F.H=Jl,t===null?Jl:t}function wy(){var t=F.A;return F.A=b1,t}function ic(){ht=4,Is||(Ve&4194048)!==Ve&&_n.current!==null||(Da=!0),(Ns&134217727)===0&&(Lr&134217727)===0||et===null||Ms(et,Ve,Tn,!1)}function ed(t,n,s){var l=Fe;Fe|=2;var h=Ay(),f=wy();(et!==t||Ve!==n)&&(tc=null,Va(t,n)),n=!1;var p=ht;e:do try{if(Ke!==0&&Oe!==null){var T=Oe,C=En;switch(Ke){case 8:Wf(),p=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Ke;if(Ke=0,En=null,ka(t,T,C,z),s&&Da){p=0;break e}break;default:z=Ke,Ke=0,En=null,ka(t,T,C,z)}}w1(),p=ht;break}catch(G){by(t,G)}while(!0);return n&&t.shellSuspendCounter++,zi=xr=null,Fe=l,F.H=h,F.A=f,Oe===null&&(et=null,Ve=0,Su()),p}function w1(){for(;Oe!==null;)Ry(Oe)}function R1(t,n){var s=Fe;Fe|=2;var l=Ay(),h=wy();et!==t||Ve!==n?(tc=null,ec=tn()+500,Va(t,n)):Da=zn(t,n);e:do try{if(Ke!==0&&Oe!==null){n=Oe;var f=En;t:switch(Ke){case 1:Ke=0,En=null,ka(t,n,f,1);break;case 2:case 9:if(Up(f)){Ke=0,En=null,Cy(n);break}n=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),Ai(t)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Up(f)?(Ke=0,En=null,Cy(n)):(Ke=0,En=null,ka(t,n,f,7));break;case 5:var p=null;switch(Oe.tag){case 26:p=Oe.memoizedState;case 5:case 27:var T=Oe;if(p?f_(p):T.stateNode.complete){Ke=0,En=null;var C=T.sibling;if(C!==null)Oe=C;else{var z=T.return;z!==null?(Oe=z,sc(z)):Oe=null}break t}}Ke=0,En=null,ka(t,n,f,5);break;case 6:Ke=0,En=null,ka(t,n,f,6);break;case 8:Wf(),ht=6;break e;default:throw Error(a(462))}}C1();break}catch(G){by(t,G)}while(!0);return zi=xr=null,F.H=l,F.A=h,Fe=s,Oe!==null?0:(et=null,Ve=0,Su(),ht)}function C1(){for(;Oe!==null&&!Ih();)Ry(Oe)}function Ry(t){var n=$g(t.alternate,t,$i);t.memoizedProps=t.pendingProps,n===null?sc(t):Oe=n}function Cy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Fg(s,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=Fg(s,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:pf(n);default:Jg(s,n),n=Oe=wp(n,$i),n=$g(s,n,$i)}t.memoizedProps=t.pendingProps,n===null?sc(t):Oe=n}function ka(t,n,s,l){zi=xr=null,pf(n),Aa=null,Fl=0;var h=n.return;try{if(p1(t,h,n,s,Ve)){ht=1,Gu(t,Nn(s,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;ht=1,Gu(t,Nn(s,t.current)),Oe=null;return}n.flags&32768?(Pe||l===1?t=!0:Da||(Ve&536870912)!==0?t=!1:(Is=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),xy(n,t)):sc(n)}function sc(t){var n=t;do{if((n.flags&32768)!==0){xy(n,Is);return}t=n.return;var s=_1(n.alternate,n,$i);if(s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);ht===0&&(ht=5)}function xy(t,n){do{var s=v1(t.alternate,t);if(s!==null){s.flags&=32767,Oe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=s}while(t!==null);ht=6,Oe=null}function Iy(t,n,s,l,h,f,p,T,C){t.cancelPendingCommit=null;do rc();while(Dt!==0);if((Fe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(t,s,f,p,T,C),t===et&&(Oe=et=null,Ve=0),Ma=n,Os=t,Zi=s,$f=f,Zf=h,_y=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,D1(us,function(){return Vy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ne.p,ne.p=2,p=Fe,Fe|=4;try{E1(t,n,s)}finally{Fe=p,ne.p=h,F.T=l}}Dt=1,Ny(),Dy(),Oy()}}function Ny(){if(Dt===1){Dt=0;var t=Os,n=Ma,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=ne.p;ne.p=2;var h=Fe;Fe|=4;try{cy(n,t);var f=fd,p=gp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&pp(T.ownerDocument.documentElement,T)){if(C!==null&&Uh(T)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),oe=T.textContent.length,_e=Math.min(C.start,oe),Je=C.end===void 0?_e:Math.min(C.end,oe);!H.extend&&_e>Je&&(p=Je,Je=_e,_e=p);var k=mp(T,_e),O=mp(T,Je);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),_e>Je?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}yc=!!hd,fd=hd=null}finally{Fe=h,ne.p=l,F.T=s}}t.current=n,Dt=2}}function Dy(){if(Dt===2){Dt=0;var t=Os,n=Ma,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=ne.p;ne.p=2;var h=Fe;Fe|=4;try{ry(t,n.alternate,n)}finally{Fe=h,ne.p=l,F.T=s}}Dt=3}}function Oy(){if(Dt===4||Dt===3){Dt=0,Xo();var t=Os,n=Ma,s=Zi,l=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Ma=Os=null,My(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ds=null),Vi(s),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=ne.p,ne.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,ne.p=h}}(Zi&3)!==0&&rc(),Ai(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Jf?lo++:(lo=0,Jf=t):lo=0,oo(0)}}function My(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ql(n)))}function rc(){return Ny(),Dy(),Oy(),Vy()}function Vy(){if(Dt!==5)return!1;var t=Os,n=$f;$f=0;var s=Vi(Zi),l=F.T,h=ne.p;try{ne.p=32>s?32:s,F.T=null,s=Zf,Zf=null;var f=Os,p=Zi;if(Dt=0,Ma=Os=null,Zi=0,(Fe&6)!==0)throw Error(a(331));var T=Fe;if(Fe|=4,py(f.current),fy(f,f.current,p,s),Fe=T,oo(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{ne.p=h,F.T=l,My(t,n)}}function ky(t,n,s){n=Nn(s,n),n=Nf(t.stateNode,n,2),t=ws(t,n,2),t!==null&&(hr(t,2),Ai(t))}function Ye(t,n,s){if(t.tag===3)ky(t,t,s);else for(;n!==null;){if(n.tag===3){ky(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ds===null||!Ds.has(l))){t=Nn(s,t),s=Ug(2),l=ws(n,s,2),l!==null&&(Lg(s,l,n,t),hr(l,2),Ai(l));break}}n=n.return}}function td(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new S1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Kf=!0,h.add(s),t=x1.bind(null,t,n,s),n.then(t,t))}function x1(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,et===t&&(Ve&s)===s&&(ht===4||ht===3&&(Ve&62914560)===Ve&&300>tn()-Wu?(Fe&2)===0&&Va(t,0):Yf|=s,Oa===Ve&&(Oa=0)),Ai(t)}function Uy(t,n){n===0&&(n=tu()),t=wr(t,n),t!==null&&(hr(t,n),Ai(t))}function I1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Uy(t,s)}function N1(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Uy(t,s)}function D1(t,n){return Nt(t,n)}var ac=null,Ua=null,nd=!1,lc=!1,id=!1,Vs=0;function Ai(t){t!==Ua&&t.next===null&&(Ua===null?ac=Ua=t:Ua=Ua.next=t),lc=!0,nd||(nd=!0,M1())}function oo(t,n){if(!id&&lc){id=!0;do for(var s=!1,l=ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,zy(l,f))}else f=Ve,f=ai(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(s=!0,zy(l,f));l=l.next}while(s);id=!1}}function O1(){Ly()}function Ly(){lc=nd=!1;var t=0;Vs!==0&&H1()&&(t=Vs);for(var n=tn(),s=null,l=ac;l!==null;){var h=l.next,f=jy(l,n);f===0?(l.next=null,s===null?ac=h:s.next=h,h===null&&(Ua=s)):(s=l,(t!==0||(f&3)!==0)&&(lc=!0)),l=h}Dt!==0&&Dt!==5||oo(t),Vs!==0&&(Vs=0)}function jy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-dt(f),T=1<<p,C=h[p];C===-1?((T&s)===0||(T&l)!==0)&&(h[p]=Dh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=et,s=Ve,s=ai(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&os(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||zn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&os(l),Vi(s)){case 2:case 8:s=_l;break;case 32:s=us;break;case 268435456:s=$o;break;default:s=us}return l=Py.bind(null,t),s=Nt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&os(l),t.callbackPriority=2,t.callbackNode=null,2}function Py(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(rc()&&t.callbackNode!==s)return null;var l=Ve;return l=ai(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ey(t,l,n),jy(t,tn()),t.callbackNode!=null&&t.callbackNode===s?Py.bind(null,t):null)}function zy(t,n){if(rc())return null;Ey(t,n,!0)}function M1(){G1(function(){(Fe&6)!==0?Nt(yl,O1):Ly()})}function sd(){if(Vs===0){var t=Ta;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Vs=t}return Vs}function By(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:aa(""+t)}function qy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function V1(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=By((h[kt]||null).action),p=l.submitter;p&&(n=(n=p[kt]||null)?By(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new yi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var C=p?qy(h,p):new FormData(h);Af(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?qy(h,p):new FormData(h),Af(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var rd=0;rd<zh.length;rd++){var ad=zh[rd],k1=ad.toLowerCase(),U1=ad[0].toUpperCase()+ad.slice(1);Yn(k1,"on"+U1)}Yn(vp,"onAnimationEnd"),Yn(Ep,"onAnimationIteration"),Yn(Tp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(JT,"onTransitionRun"),Yn(WT,"onTransitionStart"),Yn(e1,"onTransitionCancel"),Yn(bp,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function Hy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(T=l[p],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=C}}}}function Me(t,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var l=t+"__bubble";s.has(l)||(Fy(n,t,2,!1),s.add(l))}function ld(t,n,s){var l=0;n&&(l|=4),Fy(s,t,l,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[oc]){t[oc]=!0,Tl.forEach(function(s){s!=="selectionchange"&&(L1.has(s)||ld(s,!1,t),ld(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[oc]||(n[oc]=!0,ld("selectionchange",!1,n))}}function Fy(t,n,s,l){switch(v_(n)){case 2:var h=hb;break;case 8:h=fb;break;default:h=Sd}s=h.bind(null,n,s,t),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function ud(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=ci(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue e}T=T.parentNode}}l=l.return}ps(function(){var z=f,G=Rn(s),Y=[];e:{var B=Sp.get(t);if(B!==void 0){var H=yi,oe=t;switch(t){case"keypress":if(vr(s)===0)break e;case"keydown":case"keyup":H=vu;break;case"focusin":oe="focus",H=Tr;break;case"focusout":oe="blur",H=Tr;break;case"beforeblur":case"afterblur":H=Tr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case vp:case Ep:case Tp:H=fu;break;case bp:H=b;break;case"scroll":case"scrollend":H=Ml;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Li;break;case"toggle":case"beforetoggle":H=Ce}var _e=(n&4)!==0,Je=!_e&&(t==="scroll"||t==="scrollend"),k=_e?B!==null?B+"Capture":null:B;_e=[];for(var O=z,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Fn(O,k),K!=null&&_e.push(co(O,K,P))),Je)break;O=O.return}0<_e.length&&(B=new H(B,oe,null,s,G),Y.push({event:B,listeners:_e}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&s!==Nl&&(oe=s.relatedTarget||s.fromElement)&&(ci(oe)||oe[oi]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(oe=s.relatedTarget||s.toElement,H=z,oe=oe?ci(oe):null,oe!==null&&(Je=c(oe),_e=oe.tag,oe!==Je||_e!==5&&_e!==27&&_e!==6)&&(oe=null)):(H=null,oe=z),H!==oe)){if(_e=Vl,K="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Li,K="onPointerLeave",k="onPointerEnter",O="pointer"),Je=H==null?B:mn(H),P=oe==null?B:mn(oe),B=new _e(K,O+"leave",H,s,G),B.target=Je,B.relatedTarget=P,K=null,ci(G)===z&&(_e=new _e(k,O+"enter",oe,s,G),_e.target=P,_e.relatedTarget=Je,K=_e),Je=K,H&&oe)t:{for(_e=j1,k=H,O=oe,P=0,K=k;K;K=_e(K))P++;K=0;for(var ge=O;ge;ge=_e(ge))K++;for(;0<P-K;)k=_e(k),P--;for(;0<K-P;)O=_e(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){_e=k;break t}k=_e(k),O=_e(O)}_e=null}else _e=null;H!==null&&Gy(Y,B,H,_e,!1),oe!==null&&Je!==null&&Gy(Y,Je,oe,_e,!0)}}e:{if(B=z?mn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Be=op;else if(ap(B))if(up)Be=XT;else{Be=KT;var fe=QT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ra(z.elementType)&&(Be=op):Be=YT;if(Be&&(Be=Be(t,z))){lp(Y,Be,s,G);break e}fe&&fe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Cl(B,"number",B.value)}switch(fe=z?mn(z):window,t){case"focusin":(ap(fe)||fe.contentEditable==="true")&&(da=fe,Lh=z,Pl=null);break;case"focusout":Pl=Lh=da=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,yp(Y,s,G);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":yp(Y,s,G)}var Ie;if(He)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else fa?br(t,s)&&(ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(Ei&&s.locale!=="ko"&&(fa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&fa&&(Ie=Ol()):(gi=G,Dl="value"in gi?gi.value:gi.textContent,fa=!0)),fe=uc(z,ke),0<fe.length&&(ke=new vi(ke,t,null,s,G),Y.push({event:ke,listeners:fe}),Ie?ke.data=Ie:(Ie=ha(s),Ie!==null&&(ke.data=Ie)))),(Ie=xn?qT(t,s):HT(t,s))&&(ke=uc(z,"onBeforeInput"),0<ke.length&&(fe=new vi("onBeforeInput","beforeinput",null,s,G),Y.push({event:fe,listeners:ke}),fe.data=Ie)),V1(Y,t,z,s,G)}Hy(Y,n)})}function co(t,n,s){return{instance:t,listener:n,currentTarget:s}}function uc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(t,s),h!=null&&l.unshift(co(t,h,f)),h=Fn(t,n),h!=null&&l.push(co(t,h,f))),t.tag===3)return l;t=t.return}return[]}function j1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gy(t,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var T=s,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=Fn(s,f),z!=null&&p.unshift(co(s,z,C))):h||(z=Fn(s,f),z!=null&&p.push(co(s,z,C)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var P1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(P1,`
`).replace(z1,"")}function Ky(t,n){return n=Qy(n),Qy(t)===n}function Ze(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,s,l);break;case"style":Il(t,l,f);break;case"data":if(n!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=aa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ze(t,n,"name",h.name,h,null),Ze(t,n,"formEncType",h.formEncType,h,null),Ze(t,n,"formMethod",h.formMethod,h,null),Ze(t,n,"formTarget",h.formTarget,h,null)):(Ze(t,n,"encType",h.encType,h,null),Ze(t,n,"method",h.method,h,null),Ze(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=aa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ia(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,ia(t,s,l))}}function cd(t,n,s,l,h,f){switch(s){case"style":Il(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[kt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ia(t,s,l)}}}function Ft(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ze(t,n,f,p,s,null)}}h&&Ze(t,n,"srcSet",s.srcSet,s,null),l&&Ze(t,n,"src",s.src,s,null);return;case"input":Me("invalid",t);var T=f=p=h=null,C=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ze(t,n,l,G,s,null)}}au(t,f,T,C,z,p,h,!1);return;case"select":Me("invalid",t),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:Ze(t,n,h,T,s,null)}n=f,s=p,t.multiple=!!l,n!=null?hs(t,!!l,n,!1):s!=null&&hs(t,!!l,s,!0);return;case"textarea":Me("invalid",t),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(T=s[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ze(t,n,p,T,s,null)}fs(t,l,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,n,C,l,s,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<uo.length;l++)Me(uo[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ze(t,n,z,l,s,null)}return;default:if(ra(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&cd(t,n,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Ze(t,n,T,l,s,null))}function B1(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,z=null,G=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||Ze(t,n,H,null,l,Y)}}for(var B in l){var H=l[B];if(Y=s[B],l.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&Ze(t,n,B,H,l,Y)}}sa(t,p,T,C,z,G,f,h);return;case"select":H=p=T=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||Ze(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&Ze(t,n,h,f,l,C)}n=T,s=p,l=H,B!=null?hs(t,!!s,B,!1):!!l!=!!s&&(n!=null?hs(t,!!s,n,!0):hs(t,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Ze(t,n,p,h,l,f)}lu(t,B,H);return;case"option":for(var oe in s)if(B=s[oe],s.hasOwnProperty(oe)&&B!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:Ze(t,n,oe,null,l,B)}for(C in l)if(B=l[C],H=s[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ze(t,n,C,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)B=s[_e],s.hasOwnProperty(_e)&&B!=null&&!l.hasOwnProperty(_e)&&Ze(t,n,_e,null,l,B);for(z in l)if(B=l[z],H=s[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ze(t,n,z,B,l,H)}return;default:if(ra(n)){for(var Je in s)B=s[Je],s.hasOwnProperty(Je)&&B!==void 0&&!l.hasOwnProperty(Je)&&cd(t,n,Je,void 0,l,B);for(G in l)B=l[G],H=s[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||cd(t,n,G,B,l,H);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&Ze(t,n,k,null,l,B);for(Y in l)B=l[Y],H=s[Y],!l.hasOwnProperty(Y)||B===H||B==null&&H==null||Ze(t,n,Y,B,l,H)}function Yy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&Yy(p)){for(p=0,T=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],z=C.startTime;if(z>T)break;var G=C.transferSize,Y=C.initiatorType;G&&Yy(Y)&&(C=C.responseEnd,p+=G*(C<T?1:(T-z)/(C-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hd=null,fd=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function Xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function dd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function H1(){var t=window.event;return t&&t.type==="popstate"?t===md?!1:(md=t,!0):(md=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(Q1)}:Zy;function Q1(t){setTimeout(function(){throw t})}function ks(t){return t==="head"}function Wy(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),za(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ho(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ho(s);for(var f=s.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&ho(t.ownerDocument.body);s=h}while(s);za(n)}function e_(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function K1(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function Y1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=kn(t.nextSibling),t===null))return null;return t}function t_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=kn(t.nextSibling),t===null))return null;return t}function gd(t){return t.data==="$?"||t.data==="$~"}function yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function X1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var _d=null;function n_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return kn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function i_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function s_(t,n,s){switch(n=cc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ho(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);na(t)}var Un=new Map,r_=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=ne.d;ne.d={f:$1,r:Z1,D:J1,C:W1,L:eb,m:tb,X:ib,S:nb,M:sb};function $1(){var t=Ji.f(),n=nc();return t||n}function Z1(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?bg(n):Ji.r(t)}var La=typeof document>"u"?null:document;function a_(t,n,s){var l=La;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),r_.has(h)||(r_.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),Tt(n),l.head.appendChild(n)))}}function J1(t){Ji.D(t),a_("dns-prefetch",t,null)}function W1(t,n){Ji.C(t,n),a_("preconnect",t,n)}function eb(t,n,s){Ji.L(t,n,s);var l=La;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=ja(t);break;case"script":f=Pa(t)}Un.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Un.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(fo(f))||n==="script"&&l.querySelector(mo(f))||(n=l.createElement("link"),Ft(n,"link",t),Tt(n),l.head.appendChild(n)))}}function tb(t,n){Ji.m(t,n);var s=La;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(t)}if(!Un.has(f)&&(t=A({rel:"modulepreload",href:t},n),Un.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(mo(f)))return}l=s.createElement("link"),Ft(l,"link",t),Tt(l),s.head.appendChild(l)}}}function nb(t,n,s){Ji.S(t,n,s);var l=La;if(l&&t){var h=hi(l).hoistableStyles,f=ja(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(fo(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Un.get(f))&&vd(t,s);var C=p=l.createElement("link");Tt(C),Ft(C,"link",t),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function ib(t,n){Ji.X(t,n);var s=La;if(s&&t){var l=hi(s).hoistableScripts,h=Pa(t),f=l.get(h);f||(f=s.querySelector(mo(h)),f||(t=A({src:t,async:!0},n),(n=Un.get(h))&&Ed(t,n),f=s.createElement("script"),Tt(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function sb(t,n){Ji.M(t,n);var s=La;if(s&&t){var l=hi(s).hoistableScripts,h=Pa(t),f=l.get(h);f||(f=s.querySelector(mo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Un.get(h))&&Ed(t,n),f=s.createElement("script"),Tt(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function l_(t,n,s,l){var h=(h=le.current)?hc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ja(s.href),s=hi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ja(s.href);var f=hi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(fo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Un.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(t,s),f||rb(h,t,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=hi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ja(t){return'href="'+rn(t)+'"'}function fo(t){return'link[rel="stylesheet"]['+t+"]"}function o_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function rb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",s),Tt(n),t.head.appendChild(n))}function Pa(t){return'[src="'+rn(t)+'"]'}function mo(t){return"script[async]"+t}function u_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(s.href)+'"]');if(l)return n.instance=l,Tt(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Ft(l,"style",h),fc(l,s.precedence,t),n.instance=l;case"stylesheet":h=ja(s.href);var f=t.querySelector(fo(h));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;l=o_(s),(h=Un.get(h))&&vd(l,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),Ft(f,"link",l),n.state.loading|=4,fc(f,s.precedence,t),n.instance=f;case"script":return f=Pa(s.src),(h=t.querySelector(mo(f)))?(n.instance=h,Tt(h),h):(l=s,(h=Un.get(f))&&(l=A({},s),Ed(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fc(l,s.precedence,t));return n.instance}function fc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var dc=null;function c_(t,n,s){if(dc===null){var l=new Map,h=dc=new Map;h.set(s,l)}else h=dc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[ui]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function h_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function ab(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function f_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lb(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ja(l.href),f=n.querySelector(fo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=mc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Tt(f);return}f=n.ownerDocument||n,l=o_(l),(h=Un.get(h))&&vd(l,h),f=f.createElement("link"),Tt(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),Ft(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=mc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function ob(t,n){return t.stylesheets&&t.count===0&&gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&gc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Td===0&&(Td=62500*q1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&gc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Td?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pc=null;function gc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pc=new Map,n.forEach(ub,t),pc=null,mc.call(t))}function ub(t,n){if(!(n.state.loading&4)){var s=pc.get(t);if(s)var l=s.get(null);else{s=new Map,pc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var po={$$typeof:ce,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function cb(t,n,s,l,h,f,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function d_(t,n,s,l,h,f,p,T,C,z,G,Y){return t=new cb(t,n,s,p,C,z,G,Y,T),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=Wh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},sf(f),t}function m_(t){return t?(t=ga,t):ga}function p_(t,n,s,l,h,f){h=m_(h),l.context===null?l.context=h:l.pendingContext=h,l=As(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ws(t,l,n),s!==null&&(hn(s,t,n),Ql(s,t,n))}function g_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function bd(t,n){g_(t,n),(t=t.alternate)&&g_(t,n)}function y_(t){if(t.tag===13||t.tag===31){var n=wr(t,67108864);n!==null&&hn(n,t,67108864),bd(t,67108864)}}function __(t){if(t.tag===13||t.tag===31){var n=bn();n=dr(n);var s=wr(t,n);s!==null&&hn(s,t,n),bd(t,n)}}var yc=!0;function hb(t,n,s,l){var h=F.T;F.T=null;var f=ne.p;try{ne.p=2,Sd(t,n,s,l)}finally{ne.p=f,F.T=h}}function fb(t,n,s,l){var h=F.T;F.T=null;var f=ne.p;try{ne.p=8,Sd(t,n,s,l)}finally{ne.p=f,F.T=h}}function Sd(t,n,s,l){if(yc){var h=Ad(l);if(h===null)ud(t,n,l,_c,s),E_(t,l);else if(mb(h,t,n,s,l))l.stopPropagation();else if(E_(t,l),n&4&&-1<db.indexOf(t)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ri(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-dt(p);T.entanglements[1]|=C,p&=~C}Ai(f),(Fe&6)===0&&(ec=tn()+500,oo(0))}}break;case 31:case 13:T=wr(f,2),T!==null&&hn(T,f,2),nc(),bd(f,2)}if(f=Ad(l),f===null&&ud(t,n,l,_c,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else ud(t,n,l,null,s)}}function Ad(t){return t=Rn(t),wd(t)}var _c=null;function wd(t){if(_c=null,t=ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _c=t,null}function v_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case yl:return 2;case _l:return 8;case us:case Nh:return 32;case $o:return 268435456;default:return 32}default:return 32}}var Rd=!1,Us=null,Ls=null,js=null,go=new Map,yo=new Map,Ps=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(t,n){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":go.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(n.pointerId)}}function _o(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&y_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function mb(t,n,s,l,h){switch(n){case"focusin":return Us=_o(Us,t,n,s,l,h),!0;case"dragenter":return Ls=_o(Ls,t,n,s,l,h),!0;case"mouseover":return js=_o(js,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return go.set(f,_o(go.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,yo.set(f,_o(yo.get(f)||null,t,n,s,l,h)),!0}return!1}function T_(t){var n=ci(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Bn(t.priority,function(){__(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,Bn(t.priority,function(){__(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Ad(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Nl=l,s.target.dispatchEvent(l),Nl=null}else return n=wn(s),n!==null&&y_(n),t.blockedOn=s,!1;n.shift()}return!0}function b_(t,n,s){vc(t)&&s.delete(n)}function pb(){Rd=!1,Us!==null&&vc(Us)&&(Us=null),Ls!==null&&vc(Ls)&&(Ls=null),js!==null&&vc(js)&&(js=null),go.forEach(b_),yo.forEach(b_)}function Ec(t,n){t.blockedOn===n&&(t.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pb)))}var Tc=null;function S_(t){Tc!==t&&(Tc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===t&&(Tc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(wd(l||s)===null)continue;break}var f=wn(s);f!==null&&(t.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function za(t){function n(C){return Ec(C,t)}Us!==null&&Ec(Us,t),Ls!==null&&Ec(Ls,t),js!==null&&Ec(js,t),go.forEach(n),yo.forEach(n);for(var s=0;s<Ps.length;s++){var l=Ps[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ps.length&&(s=Ps[0],s.blockedOn===null);)T_(s),s.blockedOn===null&&Ps.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[kt]||null;if(typeof f=="function")p||S_(s);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[kt]||null)T=p.formAction;else if(wd(h)!==null)continue}else T=p.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),S_(s)}}}function A_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(t){this._internalRoot=t}bc.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=bn();p_(s,l,t,n,null,null)},bc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;p_(t.current,2,null,t,null,null),nc(),n[oi]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var n=nu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ps.length&&n!==0&&n<Ps[s].priority;s++);Ps.splice(s,0,t),s===0&&T_(t)}};var w_=e.version;if(w_!=="19.2.3")throw Error(a(527,w_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var gb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Pn=Sc.inject(gb),Pt=Sc}catch{}}return Eo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Og,f=Mg,p=Vg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=d_(t,1,!1,null,null,s,l,null,h,f,p,A_),t[oi]=n.current,od(t),new Cd(n)},Eo.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Og,p=Mg,T=Vg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=d_(t,1,!0,n,s??null,l,h,C,f,p,T,A_),n.context=m_(null),s=n.current,l=bn(),l=dr(l),h=As(l),h.callback=null,ws(s,h,l),s=l,n.current.lanes=s,hr(n,s),Ai(n),t[oi]=n.current,od(t),new bc(n)},Eo.version="19.2.3",Eo}var k_;function Rb(){if(k_)return Nd.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nd.exports=wb(),Nd.exports}var Cb=Rb();const xb=()=>{};var U_={};const h0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Ib=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,S=c>>2,A=(c&3)<<4|g>>4;let N=(g&15)<<2|y>>6,L=y&63;_||(L=64,d||(N=64)),a.push(i[S],i[A],i[N],i[L])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(h0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ib(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||A==null)throw new Nb;const N=c<<2|g>>4;if(a.push(N),y!==64){const L=g<<4&240|y>>2;if(a.push(L),A!==64){const ee=y<<6&192|A;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Db=function(r){const e=h0(r);return f0.encodeByteArray(e,!0)},qc=function(r){return Db(r).replace(/\./g,"")},d0=function(r){try{return f0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Mb=()=>Ob().__FIREBASE_DEFAULTS__,Vb=()=>{if(typeof process>"u"||typeof U_>"u")return;const r=U_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&d0(r[1]);return e&&JSON.parse(e)},ch=()=>{try{return xb()||Mb()||Vb()||kb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},m0=r=>ch()?.emulatorHosts?.[r],Ub=r=>{const e=m0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},p0=()=>ch()?.config,g0=r=>ch()?.[`_${r}`];class Lb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function ll(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y0(r){return(await fetch(r,{credentials:"include"})).ok}function jb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const wo={};function Pb(){const r={prod:[],emulator:[]};for(const e of Object.keys(wo))wo[e]?r.emulator.push(e):r.prod.push(e);return r}function zb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let L_=!1;function _0(r,e){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||wo[r]===e||wo[r]||L_)return;wo[r]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=Pb().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,L){N.setAttribute("width","24"),N.setAttribute("id",L),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{L_=!0,d()},N}function S(N,L){N.setAttribute("id",L),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=zb(a),L=i("text"),ee=document.getElementById(L)||document.createElement("span"),se=i("learnmore"),J=document.getElementById(se)||document.createElement("a"),pe=i("preprendIcon"),he=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ce=N.element;g(ce),S(J,se);const ue=y();_(he,pe),ce.append(he,ee,J,ue),document.body.appendChild(ce)}c?(ee.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function qb(){const r=ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qb(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Kb(){return!qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yb(){try{return typeof indexedDB=="object"}catch{return!1}}function Xb(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const $b="FirebaseError";class ls extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=$b,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?Zb(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ls(o,g,a)}}function Zb(r,e){return r.replace(Jb,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Jb=/\{\$([^}]+)}/g;function Wb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Hr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(j_(c)&&j_(d)){if(!Hr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}function zo(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function eS(r,e){const i=new tS(r,e);return i.subscribe.bind(i)}class tS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");nS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Vd),o.error===void 0&&(o.error=Vd),o.complete===void 0&&(o.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Vd(){}function Sn(r){return r&&r._delegate?r._delegate:r}class Fr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jr="[DEFAULT]";class iS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Lb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rS(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:sS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(r){return r===jr?void 0:r}function rS(r){return r.instantiationMode==="EAGER"}class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new iS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const lS={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},oS=Ue.INFO,uS={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},cS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=uS[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=oS,this._logHandler=cS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const hS=(r,e)=>e.some(i=>r instanceof i);let P_,z_;function fS(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,Kd=new WeakMap,E0=new WeakMap,kd=new WeakMap,Em=new WeakMap;function mS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ys(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&v0.set(i,r)}).catch(()=>{}),Em.set(e,r),e}function pS(r){if(Kd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,e)}let Yd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Kd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||E0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function gS(r){Yd=r(Yd)}function yS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Ud(this),e,...i);return E0.set(a,e.sort?e.sort():[e]),Ys(a)}:dS().includes(r)?function(...e){return r.apply(Ud(this),e),Ys(v0.get(this))}:function(...e){return Ys(r.apply(Ud(this),e))}}function _S(r){return typeof r=="function"?yS(r):(r instanceof IDBTransaction&&pS(r),hS(r,fS())?new Proxy(r,Yd):r)}function Ys(r){if(r instanceof IDBRequest)return mS(r);if(kd.has(r))return kd.get(r);const e=_S(r);return e!==r&&(kd.set(r,e),Em.set(e,r)),e}const Ud=r=>Em.get(r);function vS(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=Ys(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ys(d.result),_.oldVersion,_.newVersion,Ys(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const ES=["get","getKey","getAll","getAllKeys","count"],TS=["put","add","delete","clear"],Ld=new Map;function B_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=TS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||ES.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Ld.set(e,c),c}gS(r=>({...r,get:(e,i,a)=>B_(e,i)||r.get(e,i,a),has:(e,i)=>!!B_(e,i)||r.has(e,i)}));class bS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(SS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function SS(r){return r.getComponent()?.type==="VERSION"}const Xd="@firebase/app",q_="0.14.6";const ns=new vm("@firebase/app"),AS="@firebase/app-compat",wS="@firebase/analytics-compat",RS="@firebase/analytics",CS="@firebase/app-check-compat",xS="@firebase/app-check",IS="@firebase/auth",NS="@firebase/auth-compat",DS="@firebase/database",OS="@firebase/data-connect",MS="@firebase/database-compat",VS="@firebase/functions",kS="@firebase/functions-compat",US="@firebase/installations",LS="@firebase/installations-compat",jS="@firebase/messaging",PS="@firebase/messaging-compat",zS="@firebase/performance",BS="@firebase/performance-compat",qS="@firebase/remote-config",HS="@firebase/remote-config-compat",FS="@firebase/storage",GS="@firebase/storage-compat",QS="@firebase/firestore",KS="@firebase/ai",YS="@firebase/firestore-compat",XS="firebase",$S="12.6.0";const $d="[DEFAULT]",ZS={[Xd]:"fire-core",[AS]:"fire-core-compat",[RS]:"fire-analytics",[wS]:"fire-analytics-compat",[xS]:"fire-app-check",[CS]:"fire-app-check-compat",[IS]:"fire-auth",[NS]:"fire-auth-compat",[DS]:"fire-rtdb",[OS]:"fire-data-connect",[MS]:"fire-rtdb-compat",[VS]:"fire-fn",[kS]:"fire-fn-compat",[US]:"fire-iid",[LS]:"fire-iid-compat",[jS]:"fire-fcm",[PS]:"fire-fcm-compat",[zS]:"fire-perf",[BS]:"fire-perf-compat",[qS]:"fire-rc",[HS]:"fire-rc-compat",[FS]:"fire-gcs",[GS]:"fire-gcs-compat",[QS]:"fire-fst",[YS]:"fire-fst-compat",[KS]:"fire-vertex","fire-js":"fire-js",[XS]:"fire-js-all"};const Hc=new Map,JS=new Map,Zd=new Map;function H_(r,e){try{r.container.addComponent(e)}catch(i){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const e=r.name;if(Zd.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,r);for(const i of Hc.values())H_(i,r);for(const i of JS.values())H_(i,r);return!0}function Tm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Jn(r){return r==null?!1:r.settings!==void 0}const WS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Po("app","Firebase",WS);class eA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const ol=$S;function T0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:$d,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(i||(i=p0()),!i)throw Xs.create("no-options");const c=Hc.get(o);if(c){if(Hr(i,c.options)&&Hr(a,c.config))return c;throw Xs.create("duplicate-app",{appName:o})}const d=new aS(o);for(const _ of Zd.values())d.addComponent(_);const g=new eA(i,a,d);return Hc.set(o,g),g}function b0(r=$d){const e=Hc.get(r);if(!e&&r===$d&&p0())return T0();if(!e)throw Xs.create("no-app",{appName:r});return e}function $s(r,e,i){let a=ZS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}Wa(new Fr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const tA="firebase-heartbeat-database",nA=1,Do="firebase-heartbeat-store";let jd=null;function S0(){return jd||(jd=vS(tA,nA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Do)}catch(i){console.warn(i)}}}}).catch(r=>{throw Xs.create("idb-open",{originalErrorMessage:r.message})})),jd}async function iA(r){try{const i=(await S0()).transaction(Do),a=await i.objectStore(Do).get(A0(r));return await i.done,a}catch(e){if(e instanceof ls)ns.warn(e.message);else{const i=Xs.create("idb-get",{originalErrorMessage:e?.message});ns.warn(i.message)}}}async function F_(r,e){try{const a=(await S0()).transaction(Do,"readwrite");await a.objectStore(Do).put(e,A0(r)),await a.done}catch(i){if(i instanceof ls)ns.warn(i.message);else{const a=Xs.create("idb-set",{originalErrorMessage:i?.message});ns.warn(a.message)}}}function A0(r){return`${r.name}!${r.options.appId}`}const sA=1024,rA=30;class aA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new oA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>rA){const o=uA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G_(),{heartbeatsToSend:i,unsentEntries:a}=lA(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ns.warn(e),""}}}function G_(){return new Date().toISOString().substring(0,10)}function lA(r,e=sA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Q_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Q_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class oA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yb()?Xb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await iA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Q_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function uA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function cA(r){Wa(new Fr("platform-logger",e=>new bS(e),"PRIVATE")),Wa(new Fr("heartbeat",e=>new aA(e),"PRIVATE")),$s(Xd,q_,r),$s(Xd,q_,"esm2020"),$s("fire-js","")}cA("");var hA="firebase",fA="12.7.0";$s(hA,fA,"app");function w0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dA=w0,R0=new Po("auth","Firebase",w0());const Fc=new vm("@firebase/auth");function mA(r,...e){Fc.logLevel<=Ue.WARN&&Fc.warn(`Auth (${ol}): ${r}`,...e)}function Oc(r,...e){Fc.logLevel<=Ue.ERROR&&Fc.error(`Auth (${ol}): ${r}`,...e)}function is(r,...e){throw bm(r,...e)}function Ri(r,...e){return bm(r,...e)}function C0(r,e,i){const a={...dA(),[e]:i};return new Po("auth","Firebase",a).create(e,{appName:r.name})}function Zs(r){return C0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return R0.create(r,...e)}function Te(r,e,...i){if(!r)throw bm(e,...i)}function es(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function ss(r,e){r||es(e)}function Jd(){return typeof self<"u"&&self.location?.href||""}function pA(){return K_()==="http:"||K_()==="https:"}function K_(){return typeof self<"u"&&self.location?.protocol||null}function gA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pA()||Fb()||"connection"in navigator)?navigator.onLine:!0}function yA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Bo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ss(i>e,"Short delay should be less than long delay!"),this.isMobile=Bb()||Gb()}get(){return gA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sm(r,e){ss(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class x0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EA=new Bo(3e4,6e4);function hh(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ul(r,e,i,a,o={}){return I0(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=zo({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...c};return Hb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ll(r.emulatorConfig.host)&&(y.credentials="include"),x0.fetch()(await D0(r,r.config.apiHost,i,g),y)})}async function I0(r,e,i){r._canInitEmulator=!1;const a={..._A,...e};try{const o=new TA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ac(r,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw C0(r,S,y);is(r,S)}}catch(o){if(o instanceof ls)throw o;is(r,"network-request-failed",{message:String(o)})}}async function N0(r,e,i,a,o={}){const c=await ul(r,e,i,a,o);return"mfaPendingCredential"in c&&is(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function D0(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?Sm(r.config,o):`${r.config.apiScheme}://${o}`;return vA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class TA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ri(this.auth,"network-request-failed")),EA.get())})}}function Ac(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ri(r,e,a);return o.customData._tokenResponse=i,o}async function bA(r,e){return ul(r,"POST","/v1/accounts:delete",e)}async function Gc(r,e){return ul(r,"POST","/v1/accounts:lookup",e)}function Ro(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SA(r,e=!1){const i=Sn(r),a=await i.getIdToken(e),o=Am(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ro(Pd(o.auth_time)),issuedAtTime:Ro(Pd(o.iat)),expirationTime:Ro(Pd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function Am(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=d0(i);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Y_(r){const e=Am(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Oo(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ls&&AA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function AA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class wA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const e=r.auth,i=await r.getIdToken(),a=await Oo(r,Gc(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?O0(o.providerUserInfo):[],d=CA(r.providerData,c),g=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,y=g?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function RA(r){const e=Sn(r);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function O0(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function xA(r,e){const i=await I0(r,{},async()=>{const a=zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await D0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&ll(r.emulatorConfig.host)&&(_.credentials="include"),x0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function IA(r,e){return ul(r,"POST","/v2/accounts:revokeToken",hh(r,e))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=Y_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await xA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ya;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return es("not implemented")}}function Bs(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new wA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return SA(this,e)}reload(){return RA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await Oo(this,bA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:L,providerData:ee,stsTokenManager:se}=i;Te(A&&se,e,"internal-error");const J=Ya.fromJSON(this.name,se);Te(typeof A=="string",e,"internal-error"),Bs(a,e.name),Bs(o,e.name),Te(typeof N=="boolean",e,"internal-error"),Te(typeof L=="boolean",e,"internal-error"),Bs(c,e.name),Bs(d,e.name),Bs(g,e.name),Bs(_,e.name),Bs(y,e.name),Bs(S,e.name);const pe=new Wn({uid:A,auth:e,email:o,emailVerified:N,displayName:a,isAnonymous:L,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:y,lastLoginAt:S});return ee&&Array.isArray(ee)&&(pe.providerData=ee.map(he=>({...he}))),_&&(pe._redirectEventId=_),pe}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ya;o.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?O0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Ya;g.updateFromIdToken(a);const _=new Wn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const X_=new Map;function ts(r){ss(r instanceof Function,"Expected a class definition");let e=X_.get(r);return e?(ss(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,X_.set(r,e),e)}class M0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}M0.type="NONE";const $_=M0;function Mc(r,e,i){return`firebase:${r}:${e}:${i}`}class Xa{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Mc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Gc(this.auth,{idToken:e}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Xa(ts($_),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ts($_);const d=Mc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let A;if(typeof S=="string"){const N=await Gc(e,{idToken:S}).catch(()=>{});if(!N)break;A=await Wn._fromGetAccountInfoResponse(e,N,S)}else A=Wn._fromJSON(e,S);y!==c&&(g=A),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Xa(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,e,a))}}function Z_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P0(e))return"Blackberry";if(z0(e))return"Webos";if(k0(e))return"Safari";if((e.includes("chrome/")||U0(e))&&!e.includes("edge/"))return"Chrome";if(j0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function V0(r=en()){return/firefox\//i.test(r)}function k0(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U0(r=en()){return/crios\//i.test(r)}function L0(r=en()){return/iemobile/i.test(r)}function j0(r=en()){return/android/i.test(r)}function P0(r=en()){return/blackberry/i.test(r)}function z0(r=en()){return/webos/i.test(r)}function wm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function NA(r=en()){return wm(r)&&!!window.navigator?.standalone}function DA(){return Qb()&&document.documentMode===10}function B0(r=en()){return wm(r)||j0(r)||z0(r)||P0(r)||/windows phone/i.test(r)||L0(r)}function q0(r,e=[]){let i;switch(r){case"Browser":i=Z_(en());break;case"Worker":i=`${Z_(en())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ol}/${a}`}class OA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function MA(r,e={}){return ul(r,"GET","/v2/passwordPolicy",hh(r,e))}const VA=6;class kA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??VA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class UA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new OA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Gc(this,{idToken:e}),a=await Wn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Zs(this));const i=e?Sn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MA(this),i=new kA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await IA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ts(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fh(r){return Sn(r)}class J_{constructor(e){this.auth=e,this.observer=null,this.addObserver=eS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LA(r){Rm=r}function jA(r){return Rm.loadJS(r)}function PA(){return Rm.gapiScript}function zA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function BA(r,e){const i=Tm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Hr(c,e??{}))return o;is(o,"already-initialized")}return i.initialize({options:e})}function qA(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ts);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function HA(r,e,i){const a=fh(r);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=H0(e),{host:d,port:g}=FA(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(Hr(y,a.config.emulator)&&Hr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,ll(d)?(y0(`${c}//${d}${_}`),_0("Auth",!0)):GA()}function H0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function FA(r){const e=H0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:W_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:W_(d)}}}function W_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function GA(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class F0{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,i){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function $a(r,e){return N0(r,"POST","/v1/accounts:signInWithIdp",hh(r,e))}const QA="http://localhost";class Gr extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Gr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return $a(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,$a(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,$a(e,i)}buildRequest(){const e={requestUri:QA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=zo(i)}return e}}class G0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qo extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hs extends qo{constructor(){super("facebook.com")}static credential(e){return Gr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class Fs extends qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Gr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Gs extends qo{constructor(){super("github.com")}static credential(e){return Gr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Qs extends qo{constructor(){super("twitter.com")}static credential(e,i){return Gr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";async function KA(r,e){return N0(r,"POST","/v1/accounts:signUp",hh(r,e))}class tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Wn._fromIdTokenResponse(e,a,o),d=ev(a);return new tr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=ev(a);return new tr({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function YA(r){if(Jn(r.app))return Promise.reject(Zs(r));const e=fh(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new tr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await KA(e,{returnSecureToken:!0}),a=await tr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Kc extends ls{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Kc(e,i,a,o)}}function Q0(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,e,a):c})}async function XA(r,e,i=!1){const a=await Oo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return tr._forOperation(r,"link",a)}async function $A(r,e,i=!1){const{auth:a}=r;if(Jn(a.app))return Promise.reject(Zs(a));const o="reauthenticate";try{const c=await Oo(r,Q0(a,o,e,r),i);Te(c.idToken,a,"internal-error");const d=Am(c.idToken);Te(d,a,"internal-error");const{sub:g}=d;return Te(r.uid===g,a,"user-mismatch"),tr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&is(a,"user-mismatch"),c}}async function ZA(r,e,i=!1){if(Jn(r.app))return Promise.reject(Zs(r));const a="signIn",o=await Q0(r,a,e),c=await tr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function JA(r,e,i,a){return Sn(r).onIdTokenChanged(e,i,a)}function WA(r,e,i){return Sn(r).beforeAuthStateChanged(e,i)}function e2(r,e,i,a){return Sn(r).onAuthStateChanged(e,i,a)}const Yc="__sak";class K0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const t2=1e3,n2=10;class Y0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);DA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,n2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},t2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y0.type="LOCAL";const i2=Y0;class X0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}X0.type="SESSION";const $0=X0;function s2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await s2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Cm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class r2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Cm("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const N=A;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function a2(r){Ci().location.href=r}function Z0(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function l2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o2(){return navigator?.serviceWorker?.controller||null}function u2(){return Z0()?self:null}const J0="firebaseLocalStorageDb",c2=1,Xc="firebaseLocalStorage",W0="fbase_key";class Ho{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(r,e){return r.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function h2(){const r=indexedDB.deleteDatabase(J0);return new Ho(r).toPromise()}function em(){const r=indexedDB.open(J0,c2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:W0})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?e(a):(a.close(),await h2(),e(await em()))})})}async function tv(r,e,i){const a=mh(r,!0).put({[W0]:e,value:i});return new Ho(a).toPromise()}async function f2(r,e){const i=mh(r,!1).get(e),a=await new Ho(i).toPromise();return a===void 0?null:a.value}function nv(r,e){const i=mh(r,!0).delete(e);return new Ho(i).toPromise()}const d2=800,m2=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>m2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(u2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await l2(),!this.activeServiceWorker)return;this.sender=new r2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await em();return await tv(e,Yc,"1"),await nv(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>tv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>f2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>nv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=mh(o,!1).getAll();return new Ho(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const p2=eE;new Bo(3e4,6e4);function g2(r,e){return e?ts(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class xm extends F0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,i){return $a(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function y2(r){return ZA(r.auth,new xm(r),r.bypassAuthState)}function _2(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),$A(i,new xm(r),r.bypassAuthState)}async function v2(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),XA(i,new xm(r),r.bypassAuthState)}class tE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y2;case"linkViaPopup":case"linkViaRedirect":return v2;case"reauthViaPopup":case"reauthViaRedirect":return _2;default:is(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const E2=new Bo(2e3,1e4);class Ka extends tE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E2.get())};e()}}Ka.currentPopupAction=null;const T2="pendingRedirect",Vc=new Map;class b2 extends tE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const a=await S2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S2(r,e){const i=R2(e),a=w2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function A2(r,e){Vc.set(r._key(),e)}function w2(r){return ts(r._redirectPersistence)}function R2(r){return Mc(T2,r.config.apiKey,r.name)}async function C2(r,e,i=!1){if(Jn(r.app))return Promise.reject(Zs(r));const a=fh(r),o=g2(a,e),d=await new b2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const x2=600*1e3;class I2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!nE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x2&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(e))}saveEventToCache(e){this.cachedEventUids.add(iv(e)),this.lastProcessedEventTime=Date.now()}}function iv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function nE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function N2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(r);default:return!1}}async function D2(r,e={}){return ul(r,"GET","/v1/projects",e)}const O2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M2=/^https?/;async function V2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await D2(r);for(const i of e)try{if(k2(i))return}catch{}is(r,"unauthorized-domain")}function k2(r){const e=Jd(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!M2.test(i))return!1;if(O2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const U2=new Bo(3e4,6e4);function sv(){const r=Ci().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function L2(r){return new Promise((e,i)=>{function a(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),i(Ri(r,"network-request-failed"))},timeout:U2.get()})}if(Ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ci().gapi?.load)a();else{const o=zA("iframefcb");return Ci()[o]=()=>{gapi.load?a():i(Ri(r,"network-request-failed"))},jA(`${PA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw kc=null,e})}let kc=null;function j2(r){return kc=kc||L2(r),kc}const P2=new Bo(5e3,15e3),z2="__/auth/iframe",B2="emulator/auth/iframe",q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Sm(e,B2):`https://${r.config.authDomain}/${z2}`,a={apiKey:e.apiKey,appName:r.name,v:ol},o=H2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zo(a).slice(1)}`}async function G2(r){const e=await j2(r),i=Ci().gapi;return Te(i,r,"internal-error"),e.open({where:document.body,url:F2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),g=Ci().setTimeout(()=>{c(d)},P2.get());function _(){Ci().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const Q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K2=500,Y2=600,X2="_blank",$2="http://localhost";class rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z2(r,e,i,a=K2,o=Y2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...Q2,width:a.toString(),height:o.toString(),top:c,left:d},y=en().toLowerCase();i&&(g=U0(y)?X2:i),V0(y)&&(e=e||$2,_.scrollbars="yes");const S=Object.entries(_).reduce((N,[L,ee])=>`${N}${L}=${ee},`,"");if(NA(y)&&g!=="_self")return J2(e||"",g),new rv(null);const A=window.open(e||"",g,S);Te(A,r,"popup-blocked");try{A.focus()}catch{}return new rv(A)}function J2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const W2="__/auth/handler",ew="emulator/auth/handler",tw=encodeURIComponent("fac");async function av(r,e,i,a,o,c){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ol,eventId:o};if(e instanceof G0){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",Wb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof qo){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await r._getAppCheckToken(),y=_?`#${tw}=${encodeURIComponent(_)}`:"";return`${nw(r)}?${zo(g).slice(1)}${y}`}function nw({config:r}){return r.emulator?Sm(r,ew):`https://${r.authDomain}/${W2}`}const zd="webStorageSupport";class iw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=C2,this._overrideRedirectResult=A2}async _openPopup(e,i,a,o){ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await av(e,i,a,Jd(),o);return Z2(e,c,Cm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await av(e,i,a,Jd(),o);return a2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await G2(e),a=new I2(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(zd,{type:zd},o=>{const c=o?.[0]?.[zd];c!==void 0&&i(!!c),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=V2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return B0()||k0()||wm()}}const sw=iw;var lv="@firebase/auth",ov="1.12.0";class rw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lw(r){Wa(new Fr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q0(r)},y=new UA(a,o,c,_);return qA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Wa(new Fr("auth-internal",e=>{const i=fh(e.getProvider("auth").getImmediate());return(a=>new rw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(lv,ov,aw(r)),$s(lv,ov,"esm2020")}const ow=300,uw=g0("authIdTokenMaxAge")||ow;let uv=null;const cw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>uw)return;const o=i?.token;uv!==o&&(uv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hw(r=b0()){const e=Tm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=BA(r,{popupRedirectResolver:sw,persistence:[p2,i2,$0]}),a=g0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=cw(c.toString());WA(i,d,()=>d(i.currentUser)),JA(i,g=>d(g))}}const o=m0("auth");return o&&HA(i,`http://${o}`),i}function fw(){return document.getElementsByTagName("head")?.[0]??document}LA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=Ri("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",fw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lw("Browser");var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,iE;(function(){var r;function e(I,w){function x(){}x.prototype=w.prototype,I.F=w.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,M,U){for(var R=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)R[tt-2]=arguments[tt];return w.prototype[M].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,x){x||(x=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(M=0;M<16;++M)V[M]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=I.g[0],x=I.g[1],M=I.g[2];let U=I.g[3],R;R=w+(U^x&(M^U))+V[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(M^w&(x^M))+V[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=M+(x^U&(w^x))+V[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=x+(w^M&(U^w))+V[3]+3250441966&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(U^x&(M^U))+V[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(M^w&(x^M))+V[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=M+(x^U&(w^x))+V[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=x+(w^M&(U^w))+V[7]+4249261313&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(U^x&(M^U))+V[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(M^w&(x^M))+V[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=M+(x^U&(w^x))+V[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=x+(w^M&(U^w))+V[11]+2304563134&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(U^x&(M^U))+V[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(M^w&(x^M))+V[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=M+(x^U&(w^x))+V[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=x+(w^M&(U^w))+V[15]+1236535329&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(M^U&(x^M))+V[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^M&(w^x))+V[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(U^w))+V[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(M^U))+V[0]+3921069994&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(M^U&(x^M))+V[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^M&(w^x))+V[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(U^w))+V[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(M^U))+V[4]+3889429448&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(M^U&(x^M))+V[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^M&(w^x))+V[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(U^w))+V[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(M^U))+V[8]+1163531501&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(M^U&(x^M))+V[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^M&(w^x))+V[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(U^w))+V[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(M^U))+V[12]+2368359562&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(x^M^U)+V[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^M)+V[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=M+(U^w^x)+V[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=x+(M^U^w)+V[14]+4259657740&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(x^M^U)+V[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^M)+V[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=M+(U^w^x)+V[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=x+(M^U^w)+V[10]+3200236656&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(x^M^U)+V[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^M)+V[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=M+(U^w^x)+V[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=x+(M^U^w)+V[6]+76029189&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(x^M^U)+V[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^M)+V[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=M+(U^w^x)+V[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=x+(M^U^w)+V[2]+3299628645&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(M^(x|~U))+V[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~M))+V[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=M+(w^(U|~x))+V[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=x+(U^(M|~w))+V[5]+4237533241&4294967295,x=M+(R<<21&4294967295|R>>>11),R=w+(M^(x|~U))+V[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~M))+V[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=M+(w^(U|~x))+V[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=x+(U^(M|~w))+V[1]+2240044497&4294967295,x=M+(R<<21&4294967295|R>>>11),R=w+(M^(x|~U))+V[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~M))+V[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=M+(w^(U|~x))+V[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=x+(U^(M|~w))+V[13]+1309151649&4294967295,x=M+(R<<21&4294967295|R>>>11),R=w+(M^(x|~U))+V[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~M))+V[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=M+(w^(U|~x))+V[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=x+(U^(M|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const x=w-this.blockSize,V=this.C;let M=this.h,U=0;for(;U<w;){if(M==0)for(;U<=x;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<w;)if(V[M++]=I.charCodeAt(U++),M==this.blockSize){o(this,V),M=0;break}}else for(;U<w;)if(V[M++]=I[U++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[w++]=this.g[x]>>>V&255;return I};function c(I,w){var x=g;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=w(I)}function d(I,w){this.h=w;const x=[];let V=!0;for(let M=I.length-1;M>=0;M--){const U=I[M]|0;V&&U==w||(x[M]=U,V=!1)}this.g=x}var g={};function _(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return J(y(-I));const w=[];let x=1;for(let V=0;I>=x;V++)w[V]=I/x|0,x*=4294967296;return new d(w,0)}function S(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return J(S(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(w,8));let V=A;for(let U=0;U<I.length;U+=8){var M=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+M),w);M<8?(M=y(Math.pow(w,M)),V=V.j(M).add(y(R))):(V=V.j(x),V=V.add(y(R)))}return V}var A=_(0),N=_(1),L=_(16777216);r=d.prototype,r.m=function(){if(se(this))return-J(this).m();let I=0,w=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(se(this))return"-"+J(this).toString(I);const w=y(Math.pow(I,6));var x=this;let V="";for(;;){const M=ue(x,w).g;x=pe(x,M.j(w));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=M,ee(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function se(I){return I.h==-1}r.l=function(I){return I=pe(this,I),se(I)?-1:ee(I)?0:1};function J(I){const w=I.g.length,x=[];for(let V=0;V<w;V++)x[V]=~I.g[V];return new d(x,~I.h).add(N)}r.abs=function(){return se(this)?J(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let M=0;M<=w;M++){let U=V+(this.i(M)&65535)+(I.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);V=R>>>16,U&=65535,R&=65535,x[M]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function pe(I,w){return I.add(J(w))}r.j=function(I){if(ee(this)||ee(I))return A;if(se(this))return se(I)?J(this).j(J(I)):J(J(this).j(I));if(se(I))return J(this.j(J(I)));if(this.l(L)<0&&I.l(L)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,x=[];for(var V=0;V<2*w;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<I.g.length;M++){const U=this.i(V)>>>16,R=this.i(V)&65535,tt=I.i(M)>>>16,ut=I.i(M)&65535;x[2*V+2*M]+=R*ut,he(x,2*V+2*M),x[2*V+2*M+1]+=U*ut,he(x,2*V+2*M+1),x[2*V+2*M+1]+=R*tt,he(x,2*V+2*M+1),x[2*V+2*M+2]+=U*tt,he(x,2*V+2*M+2)}for(I=0;I<w;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=w;I<2*w;I++)x[I]=0;return new d(x,0)};function he(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ce(I,w){this.g=I,this.h=w}function ue(I,w){if(ee(w))throw Error("division by zero");if(ee(I))return new ce(A,A);if(se(I))return w=ue(J(I),w),new ce(J(w.g),J(w.h));if(se(w))return w=ue(I,J(w)),new ce(J(w.g),w.h);if(I.g.length>30){if(se(I)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var x=N,V=w;V.l(I)<=0;)x=Se(x),V=Se(V);var M=Ne(x,1),U=Ne(V,1);for(V=Ne(V,2),x=Ne(x,2);!ee(V);){var R=U.add(V);R.l(I)<=0&&(M=M.add(x),U=R),V=Ne(V,1),x=Ne(x,1)}return w=pe(I,M.j(w)),new ce(M,w)}for(M=A;I.l(w)>=0;){for(x=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(x),R=U.j(w);se(R)||R.l(I)>0;)x-=V,U=y(x),R=U.j(w);ee(U)&&(U=N),M=M.add(U),I=pe(I,R)}return new ce(M,I)}r.B=function(I){return ue(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)&I.i(V);return new d(x,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)|I.i(V);return new d(x,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)^I.i(V);return new d(x,this.h^I.h)};function Se(I){const w=I.g.length+1,x=[];for(let V=0;V<w;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(x,I.h)}function Ne(I,w){const x=w>>5;w%=32;const V=I.g.length-x,M=[];for(let U=0;U<V;U++)M[U]=w>0?I.i(U+x)>>>w|I.i(U+x+1)<<32-w:I.i(U+x);return new d(M,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,iE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Js=d}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sE,To,rE,Uc,tm,aE,lE,oE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in v))break e;v=v[j]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,j,q){for(var te=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)te[Ce-2]=arguments[Ce];return m.prototype[j].apply(b,te)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function ee(u,m){for(let b=1;b<arguments.length;b++){const j=arguments[b];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const q=j.length||0;u.length=v+q;for(let te=0;te<q;te++)u[v+te]=j[te]}else u.push(j)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class he{constructor(){this.h=this.g=null}add(m,v){const b=ce.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ce=new se(()=>new ue,u=>u.reset());class ue{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Ne=!1,I=new he,w=()=>{const u=Promise.resolve(void 0);Se=()=>{u.then(x)}};function x(){for(var u;u=pe();){try{u.h.call(u.g)}catch(v){J(v)}var m=ce;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ne=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function tt(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(tt,M),tt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),F=0;function ne(u,m,v,b,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=j,this.key=++F,this.da=this.fa=!1}function Z(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function me(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ee(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)u[v]=b[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,m,v,b,j){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=le(u,m,b,j);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,q,!!b,j),m.fa=v,u.push(m)),m};function re(u,m){const v=m.type;if(v in u.g){var b=u.g[v],j=Array.prototype.indexOf.call(b,m,void 0),q;(q=j>=0)&&Array.prototype.splice.call(b,j,1),q&&(Z(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function le(u,m,v,b){for(let j=0;j<u.length;++j){const q=u[j];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return j}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),ft={};function We(u,m,v,b,j){if(Array.isArray(m)){for(let q=0;q<m.length;q++)We(u,m[q],v,b,j);return null}return v=gl(v),u&&u[ut]?u.J(m,v,g(b)?!!b.capture:!1,j):ni(u,m,v,!1,b,j)}function ni(u,m,v,b,j,q){if(!m)throw Error("Invalid event type");const te=g(j)?!!j.capture:!!j;let Ce=or(u);if(Ce||(u[Re]=Ce=new ie(u)),v=Ce.add(m,v,b,te,q),v.proxy)return v;if(b=dn(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(j=te),j===void 0&&(j=!1),u.addEventListener(m.toString(),b,j);else if(u.attachEvent)u.attachEvent(ii(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dn(){function u(v){return m.call(u.src,u.listener,v)}const m=ml;return u}function Jr(u,m,v,b,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)Jr(u,m[q],v,b,j);else b=g(b)?!!b.capture:!!b,v=gl(v),u&&u[ut]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=le(m,v,b,j),v>-1&&(Z(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=or(u))&&(m=u.g[m.toString()],u=-1,m&&(u=le(m,v,b,j)),(v=u>-1?m[u]:null)&&Wr(v))}function Wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ut])re(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ii(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=or(m))?(re(v,u),v.h==0&&(v.src=null,m[Re]=null)):Z(u)}}}function ii(u){return u in ft?ft[u]:ft[u]="on"+u}function ml(u,m){if(u.da)u=!0;else{m=new tt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Wr(u),u=v.call(b,m)}return u}function or(u){return u=u[Re],u instanceof ie?u:null}var pl="__closure_events_fn_"+(Math.random()*1e9>>>0);function gl(u){return typeof u=="function"?u:(u[pl]||(u[pl]=function(m){return u.handleEvent(m)}),u[pl])}function _t(){V.call(this),this.i=new ie(this),this.M=this,this.G=null}A(_t,V),_t.prototype[ut]=!0,_t.prototype.removeEventListener=function(u,m,v,b){Jr(this,u,m,v,b)};function Nt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var j=m;m=new M(b,u),W(m,j)}j=!0;let q,te;if(v)for(te=v.length-1;te>=0;te--)q=m.g=v[te],j=os(q,b,!0,m)&&j;if(q=m.g=u,j=os(q,b,!0,m)&&j,j=os(q,b,!1,m)&&j,v)for(te=0;te<v.length;te++)q=m.g=v[te],j=os(q,b,!1,m)&&j}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)Z(v[b]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},_t.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function os(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==v){const Ce=te.listener,mt=te.ha||te.src;te.fa&&re(u.i,te),j=Ce.call(mt,b)!==!1&&j}}return j&&!b.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xo(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Xo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){V.call(this),this.h=u,this.g={}}A(ur,V);var yl=[];function _l(u){me(u.g,function(m,v){this.g.hasOwnProperty(v)&&Wr(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),_l(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=d.JSON.stringify,Nh=d.JSON.parse,$o=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zo(){}function Jo(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){M.call(this,"d")}A(Pt,M);function An(){M.call(this,"c")}A(An,M);var dt={},Wo=null;function ea(){return Wo=Wo||new _t}dt.Ia="serverreachability";function eu(u){M.call(this,dt.Ia,u)}A(eu,M);function si(u){const m=ea();Nt(m,new eu(m))}dt.STAT_EVENT="statevent";function cr(u,m){M.call(this,dt.STAT_EVENT,u),this.stat=m}A(cr,M);function vt(u){const m=ea();Nt(m,new cr(m,u))}dt.Ja="timingevent";function ri(u,m){M.call(this,dt.Ja,u),this.size=m}A(ri,M);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,b,j,q){u.info(function(){if(u.g)if(q){var te="",Ce=q.split("&");for(let He=0;He<Ce.length;He++){var mt=Ce[He].split("=");if(mt.length>1){const at=mt[0];mt=mt[1];const xn=at.split("_");te=xn.length>=2&&xn[1]=="type"?te+(at+"="+mt+"&"):te+(at+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+m+`
`+v+`
`+te})}function tu(u,m,v,b,j,q,te){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+m+`
`+v+`
`+q+" "+te})}function li(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(b?" "+b:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let te=1;te<b.length;te++)b[te]=""}}}}return us(q)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function dr(){}A(dr,Zo),dr.prototype.g=function(){return new XMLHttpRequest},El=new dr;function Vi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function oi(u,m,v){u.M=1,u.A=mr(bt(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),ui(u),u.B=bt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ra(v.i,"t",b),u.C=0,v=u.j.L,u.h=new qn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(yl[0]=j.toString()),j=yl);for(let q=0;q<j.length;q++){const te=We(v,j[q],b||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=Gn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Ce!=4||mt==7||(mt==8||He<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var q=b;break t}}q=null}if(u=q)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,vt(12),mn(this),wn(this);break e}}if(this.R){u=!0;let at;for(;!this.K&&this.C<v.length;)if(at=su(this,v),at==kt){Ce==4&&(this.m=4,vt(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),li(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,at,null),hi(this,at);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),kl(te),te.P=!0,vt(11))}}else li(this.i,this.l,v,null),hi(this,v);Ce==4&&mn(this),this.o&&!this.K&&(Ce==4?du(this.j,this):(this.o=!1,ui(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),wn(this)}}}catch{}};function Mh(u){if(!iu(u))return u.g.la();const m=zt(u.g);if(m==="")return"";let v="";const b=m.length,j=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(j&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?kt:(v=Number(m.substring(v,b)),isNaN(v)?Et:(b+=1,b+v>m.length?kt:(m=m.slice(b,b+v),u.C=b+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function ui(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(si(),vt(17)),mn(this),this.m=2,wn(this)):na(this,this.T-u)};function wn(u){u.j.I==0||u.K||du(u.j,u)}function mn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_l(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),ys(v);else break e;Tr(v),vt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&ca(v),!R(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let He=j[m];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const xn=He[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const Ei=He[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Qn=He[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(b=1.5*Qn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Kn=u.g;if(Kn){const br=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var q=b.h;q.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Sl(q,q.h),q.h=null))}if(b.G){const ha=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(b.wa=ha,Qe(b.J,b.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var te=u;if(b.na=gu(b,b.L?b.ba:null,b.W),te.L){Al(b.h,te);var Ce=te,mt=b.O;mt&&(Ce.H=mt),Ce.D&&(ci(Ce),ui(Ce)),b.g=te}else hu(b);v.i.length>0&&_i(v)}else He[0]!="stop"&&He[0]!="close"||vi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?vi(v,7):Ml(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}si(4)}catch{}}var Tt=class{constructor(u,m){this.g=u,this.map=m}};function Tl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sl(u,m){u.g?u.g.add(m):u.h=m}function Al(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Tl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return L(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let j,q=null;b>=0?(j=u[v].substring(0,b),q=u[v].substring(b+1)):j=u[v],m(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Ut(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,Rl(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),cs(this,m[4]),this.h=mi(m[5]||"",!0),Rl(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(pr(m,sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pr(m,sa,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(pr(v,v.charAt(0)=="/"?Cl:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",pr(v,lu)),u.join("")},pn.prototype.resolve=function(u){const m=bt(this);let v=!!u.j;v?Ut(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)cs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=m.h.lastIndexOf("/");j!=-1&&(b=m.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let te=0;te<j.length;){const Ce=j[te++];Ce=="."?b&&te==j.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&te==j.length&&q.push("")):(q.push(Ce),b=!0)}b=q.join("/")}else b=j}return v?m.h=b:v=u.i.toString()!=="",v?Rl(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function bt(u){return new pn(u)}function Ut(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Rl(u,m,v){m instanceof fs?(u.i=m,aa(u.i,u.l)):(v||(m=pr(m,hs)),u.i=new fs(m,u.l))}function Qe(u,m,v){u.i.set(m,v)}function mr(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,au=/[#\?:]/g,Cl=/[#\?]/g,hs=/[#\?@]/g,lu=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fs.prototype,r.add=function(u,m){an(this),this.i=null,u=ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ou(u,m){an(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xl(u,m){return an(u),m=ds(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,b){v.forEach(function(j){u.call(m,j,b,this)},this)},this)};function Il(u,m){an(u);let v=[];if(typeof m=="string")xl(u,m)&&(v=v.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=ds(this,u),xl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Il(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){ou(u,m),v.length>0&&(u.i=null,u.g.set(ds(u,m),L(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const j=Vi(v);v=Il(this,v);for(let q=0;q<v.length;q++){let te=j;v[q]!==""&&(te+="="+Vi(v[q])),u.push(te)}}return this.i=u.join("&")};function uu(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,b){const j=b.toLowerCase();b!=j&&(ou(this,b),ra(this,j,v))},u)),u.j=m}function Hn(u,m){const v=new zn;if(d.Image){const b=new Image;b.onload=S(Rn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Rn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(Rn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Rn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Nl(u,m){const v=new zn,b=new AbortController,j=setTimeout(()=>{b.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(j),q.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function ms(){this.g=new $o}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(pi,Zo),pi.prototype.g=function(){return new gr(this.i,this.h)};function gr(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(gr,_t),r=gr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):Fn(this),this.readyState==3&&la(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},r.Na=function(u){this.g&&(this.response=u,ps(this))},r.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return me(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Cn(v),typeof u=="string"?v!=null&&Vi(v):Qe(u,m,v))}function Xe(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,_t);var gi=/^https?$/i,Dl=["POST","PUT"];r=Xe.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){_r(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Dl,m,void 0)>=0)||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of v)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){_r(this,q)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ol(u),ki(u)}function Ol(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Nt(this,"complete"),Nt(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Nt(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let te=String(u.D).match(ru)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),b=!gi.test(te?te.toLowerCase():"")}v=b}if(v)Nt(u,"complete"),Nt(u,"success");else{u.o=6;try{var j=Gn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Ol(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Nt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=nu(u[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[j]||[];m[j]=q,q.push(v)}Ee(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){vt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=gu(this,null,this.W),_i(this)};function Ml(u){if(oa(u),u.I==3){var m=u.V++,v=bt(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),Er(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=mr(bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}pu(u)}function ys(u){u.g&&(kl(u),u.g.cancel(),u.g=null)}function oa(u){ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!bl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Se||w(),Ne||(Se(),Ne=!0),I.add(m,u),u.D=0}}function ua(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Bn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=D(q),W(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=cu(this,j,m),v=bt(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Er(this,v),q&&(this.R?m="headers="+Vi(Cn(q))+"&"+m:this.u&&yr(v,this.u,q)),Sl(this.h,j),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),j.U=!0,oi(j,v,null)):oi(j,v,m),this.I=2}}else this.I==3&&(u?Vl(this,u):this.i.length==0||bl(this.h)||Vl(this))};function Vl(u,m){var v;m?v=m.l:v=u.V++;const b=bt(u.J);Qe(b,"SID",u.M),Qe(b,"RID",v),Qe(b,"AID",u.K),Er(u,b),u.u&&u.o&&yr(b,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Sl(u.h,v),oi(v,b,m)}function Er(u,m){u.H&&me(u.H,function(v,b){Qe(m,b,v)}),u.l&&me({},function(v,b){Qe(m,b,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let Ce=-1;for(;;){const mt=["count="+v];Ce==-1?v>0?(Ce=j[0].g,mt.push("ofs="+Ce)):Ce=0:mt.push("ofs="+Ce);let He=!0;for(let at=0;at<v;at++){var q=j[at].g;const xn=j[at].map;if(q-=Ce,q<0)Ce=Math.max(0,j[at].g-100),He=!1;else try{q="req"+q+"_"||"";try{var te=xn instanceof Map?xn:Object.entries(xn);for(const[Ei,Qn]of te){let Kn=Qn;g(Qn)&&(Kn=us(Qn)),mt.push(q+Ei+"="+encodeURIComponent(Kn))}}catch(Ei){throw mt.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(xn)}}if(He){te=mt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Se||w(),Ne||(Se(),Ne=!0),I.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),ys(this),fu(this))};function kl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=bt(u.na);Qe(m,"RID","rpc"),Qe(m,"SID",u.M),Qe(m,"AID",u.K),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(m,"TO",u.ia),Qe(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(bt(m)),v.u=null,v.R=!0,ta(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ys(this),Tr(this),vt(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){ca(u),kl(u),u.g=null;var b=2}else if(di(u.h,m))v=m.G,Al(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;b=ea(),Nt(b,new ri(b,v)),_i(u)}else hu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(b==1&&ua(u,m)||b==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const j=!b;b=new pn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(b,"https"),mr(b),j?Hn(b.toString(),v):Nl(b.toString(),v)}else vt(2);u.I=0,u.l&&u.l.pa(m),pu(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=wl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,v){var b=v instanceof pn?bt(v):new pn(v);if(b.g!="")m&&(b.g=m+"."+b.g),cs(b,b.u);else{var j=d.location;b=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const q=new pn(null);b&&Ut(q,b),m&&(q.g=m),j&&cs(q,j),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&Qe(b,v,m),Qe(b,"VER",u.ka),Er(u,b),b}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xe(new pi({ab:v})):new Xe(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _s(){}_s.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){_t.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}A(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ml(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=us(u),u=v);m.i.push(new Tt(m.Ya++,u)),m.I==3&&_i(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,nn.Z.N.call(this)};function vu(u){Pt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(vu,Pt);function Eu(){An.call(this),this.status=1}A(Eu,An);function Li(u){this.g=u}A(Li,_u),Li.prototype.ra=function(){Nt(this.g,"a")},Li.prototype.qa=function(u){Nt(this.g,new vu(u))},Li.prototype.pa=function(u){Nt(this.g,new Eu)},Li.prototype.oa=function(){Nt(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,oE=function(){return new _s},lE=function(){return ea()},aE=dt,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Uc=fr,vl.COMPLETE="complete",rE=vl,Jo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,To=Jo,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,sE=Xe}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const hv="@firebase/firestore",fv="4.9.3";let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let cl="12.7.0";const Qr=new vm("@firebase/firestore");function Ha(){return Qr.logLevel}function ae(r,...e){if(Qr.logLevel<=Ue.DEBUG){const i=e.map(Im);Qr.debug(`Firestore (${cl}): ${r}`,...i)}}function rs(r,...e){if(Qr.logLevel<=Ue.ERROR){const i=e.map(Im);Qr.error(`Firestore (${cl}): ${r}`,...i)}}function el(r,...e){if(Qr.logLevel<=Ue.WARN){const i=e.map(Im);Qr.warn(`Firestore (${cl}): ${r}`,...i)}}function Im(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ve(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,uE(r,a,i)}function uE(r,e,i){let a=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw rs(a),new Error(a)}function Ge(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||uE(e,o,a)}function we(r,e){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ls{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class cE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class mw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class pw{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ge(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Br,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Br)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ge(typeof a.accessToken=="string",31837,{l:a}),new cE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class gw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new gw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _w{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ge(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ge(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new dv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=vw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Le(r,e){return r<e?-1:r>e?1:0}function nm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return Bd(o)===Bd(c)?Le(o,c):Bd(o)?1:-1}return Le(r.length,e.length)}const Ew=55296,Tw=57343;function Bd(r){const e=r.charCodeAt(0);return e>=Ew&&e<=Tw}function tl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const mv="__name__";class wi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=wi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Le(e.length,i.length)}static compareSegments(e,i){const a=wi.isNumericId(e),o=wi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?wi.extractNumericId(e).compare(wi.extractNumericId(i)):nm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class st extends wi{construct(e,i,a){return new st(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new st(i)}static emptyPath(){return new st([])}}const bw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends wi{construct(e,i,a){return new Qt(e,i,a)}static isValidIdentifier(e){return bw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mv}static keyField(){return new Qt([mv])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new de($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new de($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new de($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new de($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return st.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}function hE(r,e,i){if(!i)throw new de($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Sw(r,e,i,a){if(e===!0&&a===!0)throw new de($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function pv(r){if(!ye.isDocumentKey(r))throw new de($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gv(r){if(ye.isDocumentKey(r))throw new de($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function Ws(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(r);throw new de($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function xt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Fo(r,e){if(!fE(r))throw new de($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de($.INVALID_ARGUMENT,i);return!0}const yv=-62135596800,_v=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*_v);return new rt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<yv)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fo(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:xt("string",rt._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new rt(0,0))}static max(){return new be(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mo=-1;function Aw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new rt(i+1,0):new rt(i,a));return new nr(o,ye.empty(),e)}function ww(r){return new nr(r.readTime,r.key,Mo)}class nr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new nr(be.min(),ye.empty(),Mo)}static max(){return new nr(be.max(),ye.empty(),Mo)}}function Rw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(r.documentKey,e.documentKey),i!==0?i:Le(r.largestBatchId,e.largestBatchId))}const Cw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hl(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==Cw)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((S=>{d[y]=S,++g,g===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Iw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fl(r){return r.name==="IndexedDbTransactionError"}class ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;const Om=-1;function gh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function Nw(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const dE="";function Dw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=vv(e)),e=Ow(r.get(i),e);return vv(e)}function Ow(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case dE:i+="";break;default:i+=c}}return i}function vv(r){return r+dE+""}function Ev(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Yr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function mE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ot{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new ot(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Gt.RED,this.left=o??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Gt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(e){return new Tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class Tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new ei([])}unionWith(e){let i=new Vt(Qt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new ei(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const Mw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const i=Mw.exec(r);if(Ge(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function sr(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}const gE="server_timestamp",yE="__type__",_E="__previous_value__",vE="__local_write_time__";function Mm(r){return(r?.mapValue?.fields||{})[yE]?.stringValue===gE}function yh(r){const e=r.mapValue.fields[_E];return Mm(e)?yh(e):e}function Vo(r){const e=ir(r.mapValue.fields[vE].timestampValue);return new rt(e.seconds,e.nanos)}class Vw{constructor(e,i,a,o,c,d,g,_,y,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S}}const Zc="(default)";class ko{constructor(e,i){this.projectId=e,this.database=i||Zc}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}const EE="__type__",kw="__max__",Cc={mapValue:{}},TE="__vector__",Jc="value";function rr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:Lw(r)?9007199254740991:Uw(r)?10:11:ve(28295,{value:r})}function Oi(r,e){if(r===e)return!0;const i=rr(r);if(i!==rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vo(r).isEqual(Vo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ir(o.timestampValue),g=ir(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return sr(o.bytesValue).isEqual(sr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return yt(o.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return yt(o.integerValue)===yt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=yt(o.doubleValue),g=yt(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return tl(r.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Ev(d)!==Ev(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Oi(d[_],g[_])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Uo(r,e){return(r.values||[]).find((i=>Oi(i,e)))!==void 0}function nl(r,e){if(r===e)return 0;const i=rr(r),a=rr(e);if(i!==a)return Le(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=yt(c.integerValue||c.doubleValue),_=yt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return bv(r.timestampValue,e.timestampValue);case 4:return bv(Vo(r),Vo(e));case 5:return nm(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=sr(c),_=sr(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const S=Le(g[y],_[y]);if(S!==0)return S}return Le(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Le(yt(c.latitude),yt(d.latitude));return g!==0?g:Le(yt(c.longitude),yt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Sv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Jc]?.arrayValue,S=_[Jc]?.arrayValue,A=Le(y?.values?.length||0,S?.values?.length||0);return A!==0?A:Sv(y,S)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let A=0;A<_.length&&A<S.length;++A){const N=nm(_[A],S[A]);if(N!==0)return N;const L=nl(g[_[A]],y[S[A]]);if(L!==0)return L}return Le(_.length,S.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function bv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const i=ir(r),a=ir(e),o=Le(i.seconds,a.seconds);return o!==0?o:Le(i.nanos,a.nanos)}function Sv(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=nl(i[o],a[o]);if(c)return c}return Le(i.length,a.length)}function il(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ir(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return sr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ye.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=im(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${im(i.fields[d])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function Lc(r){switch(rr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(r);return e?16+Lc(e):16;case 5:return 2*r.stringValue.length;case 6:return sr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Yr(a.fields,((c,d)=>{o+=c.length+Lc(d)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function sm(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function Av(r){return!!r&&"nullValue"in r}function wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function Uw(r){return(r?.mapValue?.fields||{})[EE]?.stringValue===TE}function Co(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Yr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Co(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Co(r.arrayValue.values[i]);return e}return{...r}}function Lw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kw}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Co(i)}setAll(e){let i=Qt.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Co(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Yr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Ln(Co(this.value))}}function bE(r){const e=[];return Yr(r.fields,((i,a)=>{const o=new Qt([i]);if(jc(a)){const c=bE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new ei(e)}class Wt{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),Ln.empty(),0)}static newFoundDocument(e,i,a,o){return new Wt(e,1,i,be.min(),a,o,0)}static newNoDocument(e,i){return new Wt(e,2,i,be.min(),be.min(),Ln.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,be.min(),be.min(),Ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(e,i){this.position=e,this.inclusive=i}}function Rv(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),i.key):a=nl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],e.position[i]))return!1;return!0}class eh{constructor(e,i="asc"){this.field=e,this.dir=i}}function jw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class SE{}class Ot extends SE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new zw(e,i,a):i==="array-contains"?new Hw(e,a):i==="in"?new Fw(e,a):i==="not-in"?new Gw(e,a):i==="array-contains-any"?new Qw(e,a):new Ot(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Bw(e,a):new qw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(nl(i,this.value)):i!==null&&rr(this.value)===rr(i)&&this.matchesComparison(nl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends SE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Mi(e,i)}matches(e){return AE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AE(r){return r.op==="and"}function wE(r){return Pw(r)&&AE(r)}function Pw(r){for(const e of r.filters)if(e instanceof Mi)return!1;return!0}function rm(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+il(r.value);if(wE(r))return r.filters.map((e=>rm(e))).join(",");{const e=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${e})`}}function RE(r,e){return r instanceof Ot?(function(a,o){return o instanceof Ot&&a.op===o.op&&a.field.isEqual(o.field)&&Oi(a.value,o.value)})(r,e):r instanceof Mi?(function(a,o){return o instanceof Mi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&RE(d,o.filters[g])),!0):!1})(r,e):void ve(19439)}function CE(r){return r instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${il(i.value)}`})(r):r instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(CE).join(" ,")+"}"})(r):"Filter"}class zw extends Ot{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class Bw extends Ot{constructor(e,i){super(e,"in",i),this.keys=xE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class qw extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=xE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function xE(r,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class Hw extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vm(i)&&Uo(i.arrayValue,this.value)}}class Fw extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Uo(this.value.arrayValue,i)}}class Gw extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Uo(this.value.arrayValue,i)}}class Qw extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Uo(this.value.arrayValue,a)))}}class Kw{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function xv(r,e=null,i=[],a=[],o=null,c=null,d=null){return new Kw(r,e,i,a,o,c,d)}function km(r){const e=we(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>il(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>il(a))).join(",")),e.Te=i}return e.Te}function Um(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!jw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!RE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Cv(r.startAt,e.startAt)&&Cv(r.endAt,e.endAt)}function am(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class _h{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yw(r,e,i,a,o,c,d,g){return new _h(r,e,i,a,o,c,d,g)}function Lm(r){return new _h(r)}function Iv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Xw(r){return r.collectionGroup!==null}function xo(r){const e=we(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Vt(Qt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eh(c,a))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new eh(Qt.keyField(),a))}return e.Ie}function xi(r){const e=we(r);return e.Ee||(e.Ee=$w(e,xo(r))),e.Ee}function $w(r,e){if(r.limitType==="F")return xv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eh(o.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return xv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function lm(r,e,i){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vh(r,e){return Um(xi(r),xi(e))&&r.limitType===e.limitType}function IE(r){return`${km(xi(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>CE(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>il(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>il(o))).join(",")),`Target(${a})`})(xi(r))}; limitType=${r.limitType})`}function Eh(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of xo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=Rv(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,xo(a),o)||a.endAt&&!(function(d,g,_){const y=Rv(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,xo(a),o))})(r,e)}function Zw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function NE(r){return(e,i)=>{let a=!1;for(const o of xo(r)){const c=Jw(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Jw(r,e,i){const a=r.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?nl(_,y):ve(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:r.dir})}}class Xr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}const Ww=new ot(ye.comparator);function as(){return Ww}const DE=new ot(ye.comparator);function bo(...r){let e=DE;for(const i of r)e=e.insert(i.key,i);return e}function OE(r){let e=DE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Pr(){return Io()}function ME(){return Io()}function Io(){return new Xr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const eR=new ot(ye.comparator),tR=new Vt(ye.comparator);function je(...r){let e=tR;for(const i of r)e=e.add(i);return e}const nR=new Vt(Le);function iR(){return nR}function jm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function VE(r){return{integerValue:""+r}}function sR(r,e){return Nw(e)?VE(e):jm(r,e)}class Th{constructor(){this._=void 0}}function rR(r,e,i){return r instanceof th?(function(o,c){const d={fields:{[yE]:{stringValue:gE},[vE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Mm(c)&&(c=yh(c)),c&&(d.fields[_E]=c),{mapValue:d}})(i,e):r instanceof Lo?UE(r,e):r instanceof jo?LE(r,e):(function(o,c){const d=kE(o,c),g=Nv(d)+Nv(o.Ae);return sm(d)&&sm(o.Ae)?VE(g):jm(o.serializer,g)})(r,e)}function aR(r,e,i){return r instanceof Lo?UE(r,e):r instanceof jo?LE(r,e):i}function kE(r,e){return r instanceof nh?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class th extends Th{}class Lo extends Th{constructor(e){super(),this.elements=e}}function UE(r,e){const i=jE(e);for(const a of r.elements)i.some((o=>Oi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class jo extends Th{constructor(e){super(),this.elements=e}}function LE(r,e){let i=jE(e);for(const a of r.elements)i=i.filter((o=>!Oi(o,a)));return{arrayValue:{values:i}}}class nh extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Nv(r){return yt(r.integerValue||r.doubleValue)}function jE(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function lR(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Lo&&o instanceof Lo||a instanceof jo&&o instanceof jo?tl(a.elements,o.elements,Oi):a instanceof nh&&o instanceof nh?Oi(a.Ae,o.Ae):a instanceof th&&o instanceof th})(r.transform,e.transform)}class oR{constructor(e,i){this.version=e,this.transformResults=i}}class ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bh{}function PE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Pm(r.key,ti.none()):new Go(r.key,r.data,ti.none());{const i=r.data,a=Ln.empty();let o=new Vt(Qt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new $r(r.key,a,new ei(o.toArray()),ti.none())}}function uR(r,e,i){r instanceof Go?(function(o,c,d){const g=o.value.clone(),_=Ov(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof $r?(function(o,c,d){if(!Pc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Ov(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(zE(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function No(r,e,i,a){return r instanceof Go?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),S=Mv(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,a):r instanceof $r?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=Mv(c.fieldTransforms,_,d),S=d.data;return S.setAll(zE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function cR(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=kE(a.transform,o||null);c!=null&&(i===null&&(i=Ln.empty()),i.set(a.field,c))}return i||null}function Dv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&tl(a,o,((c,d)=>lR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Go extends bh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $r extends bh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function Ov(r,e,i){const a=new Map;Ge(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,aR(d,g,i[o]))}return a}function Mv(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,rR(c,d,e))}return a}class Pm extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hR extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&uR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=No(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=No(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ME();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=PE(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),je())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,((i,a)=>Dv(i,a)))&&tl(this.baseMutations,e.baseMutations,((i,a)=>Dv(i,a)))}}class zm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ge(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return eR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new zm(e,i,a,o)}}class dR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ct,ze;function pR(r){switch(r){case $.OK:return ve(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function BE(r){if(r===void 0)return rs("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ct.OK:return $.OK;case Ct.CANCELLED:return $.CANCELLED;case Ct.UNKNOWN:return $.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return $.INTERNAL;case Ct.UNAVAILABLE:return $.UNAVAILABLE;case Ct.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ct.NOT_FOUND:return $.NOT_FOUND;case Ct.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ct.ABORTED:return $.ABORTED;case Ct.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ct.DATA_LOSS:return $.DATA_LOSS;default:return ve(39323,{code:r})}}(ze=Ct||(Ct={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function gR(){return new TextEncoder}const yR=new Js([4294967295,4294967295],0);function Vv(r){const e=gR().encode(r),i=new iE;return i.update(e),new Uint8Array(i.digest())}function kv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Js([i,a],0),new Js([o,c],0)]}class Bm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new So(`Invalid padding: ${i}`);if(a<0)throw new So(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new So(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Js.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Js.fromNumber(a)));return o.compare(yR)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Vv(e),[a,o]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Bm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Vv(e),[a,o]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Qo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Sh(be.min(),o,new ot(Le),as(),je())}}class Qo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Qo(a,i,je(),je(),je())}}class zc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class qE{constructor(e,i){this.targetId=e,this.Ce=i}}class HE{constructor(e,i,a=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Uv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),i=je(),a=je();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:c})}})),new Qo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Lv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _R{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.Je=xc(),this.He=xc(),this.Ye=new ot(Le)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(am(c))if(a===0){const d=new ye(c.path);this.et(i,d,Wt.newNoDocument(d,be.min()))}else Ge(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=sr(a).toUint8Array()}catch(_){if(_ instanceof pE)return el("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Bm(d,o,c)}catch(_){return el(_ instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const _=new ye(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Wt.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=je();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Sh(e,i,this.Ye,this.je,a);return this.je=as(),this.Je=xc(),this.He=xc(),this.Ye=new ot(Le),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Uv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Vt(Le),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Vt(Le),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Uv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function xc(){return new ot(ye.comparator)}function Lv(){return new ot(ye.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},ER={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TR={and:"AND",or:"OR"};class bR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function om(r,e){return r.useProto3Json||gh(e)?e:{value:e}}function ih(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function SR(r,e){return ih(r,e.toTimestamp())}function Ii(r){return Ge(!!r,49232),be.fromTimestamp((function(i){const a=ir(i);return new rt(a.seconds,a.nanos)})(r))}function qm(r,e){return um(r,e).canonicalString()}function um(r,e){const i=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function GE(r){const e=st.fromString(r);return Ge($E(e),10190,{key:e.toString()}),e}function cm(r,e){return qm(r.databaseId,e.path)}function qd(r,e){const i=GE(e);if(i.get(1)!==r.databaseId.projectId)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new de($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ye(KE(i))}function QE(r,e){return qm(r.databaseId,e)}function AR(r){const e=GE(r);return e.length===4?st.emptyPath():KE(e)}function hm(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KE(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jv(r,e,i){return{name:cm(r,e),fields:i.value.mapValue.fields}}function wR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Ge(S===void 0||typeof S=="string",58123),Kt.fromBase64String(S||"")):(Ge(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Kt.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?$.UNKNOWN:BE(y.code);return new de(S,y.message||"")})(d);i=new HE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=qd(r,a.document.name),c=Ii(a.document.updateTime),d=a.document.createTime?Ii(a.document.createTime):be.min(),g=new Ln({mapValue:{fields:a.document.fields}}),_=Wt.newFoundDocument(o,c,d,g),y=a.targetIds||[],S=a.removedTargetIds||[];i=new zc(y,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=qd(r,a.document),c=a.readTime?Ii(a.readTime):be.min(),d=Wt.newNoDocument(o,c),g=a.removedTargetIds||[];i=new zc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=qd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new mR(o,c),g=a.targetId;i=new qE(g,d)}}return i}function RR(r,e){let i;if(e instanceof Go)i={update:jv(r,e.key,e.value)};else if(e instanceof Pm)i={delete:cm(r,e.key)};else if(e instanceof $r)i={update:jv(r,e.key,e.data),updateMask:kR(e.fieldMask)};else{if(!(e instanceof hR))return ve(16599,{Vt:e.type});i={verify:cm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof jo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:SR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(r,e.precondition)),i}function CR(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Ii(o.updateTime):Ii(c);return d.isEqual(be.min())&&(d=Ii(c)),new oR(d,o.transformResults||[])})(i,e)))):[]}function xR(r,e){return{documents:[QE(r,e.path)]}}function IR(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=QE(r,o);const c=(function(y){if(y.length!==0)return XE(Mi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(N){return{field:Ga(N.field),direction:OR(N.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=om(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function NR(r){let e=AR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ge(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const N=YE(A);return N instanceof Mi&&wE(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(ee){return new eh(Qa(ee.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let N;return N=typeof A=="object"?A.value:A,gh(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(A){const N=!!A.before,L=A.values||[];return new Wc(L,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const N=!A.before,L=A.values||[];return new Wc(L,N)})(i.endAt)),Yw(e,o,d,c,g,"F",_,y)}function DR(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function YE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(i.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ot.create(Qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((a=>YE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(r):ve(30097,{filter:r})}function OR(r){return vR[r]}function MR(r){return ER[r]}function VR(r){return TR[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Qt.fromServerFormat(r.fieldPath)}function XE(r){return r instanceof Ot?(function(i){if(i.op==="=="){if(wv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(Av(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(Av(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:MR(i.op),value:i.value}}})(r):r instanceof Mi?(function(i){const a=i.getFilters().map((o=>XE(o)));return a.length===1?a[0]:{compositeFilter:{op:VR(i.op),filters:a}}})(r):ve(54877,{filter:r})}function kR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function $E(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ks{constructor(e,i,a,o,c=be.min(),d=be.min(),g=Kt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UR{constructor(e){this.yt=e}}function LR(r){const e=NR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(e,e.limit,"L"):e}class jR{constructor(){this.Cn=new PR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(nr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class PR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Vt(st.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Vt(st.comparator)).toArray()}}const Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(ZE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}const zv="LruGarbageCollector",zR=1048576;function Bv([r,e],[i,a]){const o=Le(r,i);return o===0?Le(e,a):o}class BR{constructor(e){this.Ir=e,this.buffer=new Vt(Bv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Bv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fl(i)?ae(zv,"Ignoring IndexedDB error during garbage collection: ",i):await hl(i)}await this.Vr(3e5)}))}}class HR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(ph.ce);const a=new BR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Pv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,_,y;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(y=Date.now(),Ha()<=Ue.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function FR(r,e){return new HR(r,e)}class GR{constructor(){this.changes=new Xr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class KR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&No(a.mutation,o,ei.empty(),rt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,je()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=je()){const o=Pr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=bo();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Pr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,je())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=as();const d=Io(),g=(function(){return Io()})();return i.forEach(((_,y)=>{const S=a.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof $r)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),No(S.mutation,y,S.mutation.getFieldMask(),rt.now())):d.set(y.key,ei.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new QR(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Io();let o=new ot(((d,g)=>d-g)),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=a.get(_)||ei.empty();S=g.applyToLocalView(y,S),a.set(_,S);const A=(o.get(g.batchId)||je()).add(_);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,S=_.value,A=ME();S.forEach((N=>{if(!c.has(N)){const L=PE(i.get(N),a.get(N));L!==null&&A.set(N,L),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Xw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(Pr());let g=Mo,_=c;return d.next((y=>X.forEach(y,((S,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((N=>{_=_.insert(S,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,je()))).next((S=>({batchId:g,changes:OE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let o=bo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=bo();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(_=>{const y=(function(A,N){return new _h(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((S=>{S.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Wt.newInvalidDocument(S)))}));let g=bo();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&No(S.mutation,y,ei.empty(),rt.now()),Eh(i,y)&&(g=g.insert(_,y))})),g}))}}class YR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:LR(o.bundledQuery),readTime:Ii(o.readTime)}})(i)),X.resolve()}}class XR{constructor(){this.overlays=new ot(ye.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Pr();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=Pr(),c=i.length+1,d=new ye(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new ot(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Pr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Pr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=o)););return X.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new dR(i,a));let c=this.qr.get(i);c===void 0&&(c=je(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class $R{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Hm{constructor(){this.Qr=new Vt(jt.$r),this.Ur=new Vt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new jt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new jt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new st([])),a=new jt(i,e),o=new jt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new st([])),a=new jt(i,e),o=new jt(i,e+1);let c=je();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new jt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class jt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||Le(e.Yr,i.Yr)}static Kr(e,i){return Le(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class ZR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(jt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new jt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Vt(Le);return i.forEach((o=>{const c=new jt(o,0),d=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new jt(new ye(c),0);let g=new Vt(Le);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ge(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new jt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new jt(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class JR{constructor(e){this.ri=e,this.docs=(function(){return new ot(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let a=as();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Wt.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=as();const d=i.path,g=new ye(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Rw(ww(S),a)<=0||(o.has(S.key)||Eh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ve(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new WR(this)}getSize(e){return X.resolve(this.size)}}class WR extends GR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class eC{constructor(e){this.persistence=e,this.si=new Xr((i=>km(i)),Um),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new sl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class JE{constructor(e,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new $R,this.referenceDelegate=e(this),this.Pi=new eC(this),this.indexManager=new jR,this.remoteDocumentCache=(function(o){return new JR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new UR(i),this.Ii=new YR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new XR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new ZR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new tC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class tC extends xw{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Ri=new Hm,this.Vi=null}static mi(e){return new Fm(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=ye.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class sh{constructor(e,i){this.persistence=e,this.pi=new Xr((a=>Dw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=FR(this,i)}static mi(e,i){return new sh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=je(),o=je();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Gm(e,i.fromCache,a,o)}}class nC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kb()?8:Iw(en())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new nC;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ha()<=Ue.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ha()<=Ue.DEBUG&&ae("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ha()<=Ue.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(i))):X.resolve())}ys(e,i){if(Iv(i))return X.resolve(null);let a=xi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=lm(i,null,"F"),a=xi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=je(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,lm(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,o){return Iv(i)||o.isEqual(be.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(Ha()<=Ue.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(i)),this.vs(e,d,i,Aw(o,Mo)).next((g=>g)))}))}Ds(e,i){let a=new Vt(NE(e));return i.forEach(((o,c)=>{Eh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Ha()<=Ue.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(e,i,nr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Qm="LocalStore",sC=3e8;class rC{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ot(Le),this.xs=new Xr((c=>km(c)),Um),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function aC(r,e,i,a){return new rC(r,e,i,a)}async function WE(r,e){const i=we(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=je();for(const y of o){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function lC(r,e){const i=we(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,S){const A=y.batch,N=A.keys();let L=X.resolve();return N.forEach((ee=>{L=L.next((()=>S.getEntry(_,ee))).next((se=>{const J=y.docVersions.get(ee);Ge(J!==null,48541),se.version.compareTo(J)<0&&(A.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),S.addEntry(se)))}))})),L.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=je();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function eT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function oC(r,e){const i=we(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((S,A)=>{const N=o.get(A);if(!N)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let L=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?L=L.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):S.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(S.resumeToken,a)),o=o.insert(A,L),(function(se,J,pe){return se.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=sC?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(N,L,S)&&g.push(i.Pi.updateTargetData(c,L))}));let _=as(),y=je();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(uC(c,d,e.documentUpdates).next((S=>{_=S.ks,y=S.qs}))),!a.isEqual(be.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function uC(r,e,i){let a=je(),o=je();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=as();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(be.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ae(Qm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function cC(r,e){const i=we(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Om),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function hC(r,e){const i=we(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Ks(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function fm(r,e,i){const a=we(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!fl(d))throw d;ae(Qm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function qv(r,e,i){const a=we(r);let o=be.min(),c=je();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const A=we(_),N=A.xs.get(S);return N!==void 0?X.resolve(A.Ms.get(N)):A.Pi.getTargetData(y,S)})(a,d,xi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:be.min(),i?c:je()))).next((g=>(fC(a,Zw(e),g),{documents:g,Qs:c})))))}function fC(r,e,i){let a=r.Os.get(e)||be.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class Hv{constructor(){this.activeTargetIds=iR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dC{constructor(){this.Mo=new Hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mC{Oo(e){}shutdown(){}}const Fv="ConnectivityMonitor";class Gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function dm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const Hd="RestConnection",pC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=dm(),g=this.zo(e,i.toUriEncodedString());ae(Hd,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(g),S=ll(y);return this.Jo(e,g,_,a,S).then((A=>(ae(Hd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw el(Hd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=pC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class yC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class _C extends gC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=dm();return new Promise(((g,_)=>{const y=new sE;y.setWithCredentials(!0),y.listenOnce(rE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const A=y.getResponseJson();ae(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Uc.TIMEOUT:ae(Xt,`RPC '${e}' ${d} timed out`),_(new de($.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const N=y.getStatus();if(ae(Xt,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const ee=L?.error;if(ee&&ee.status&&ee.message){const se=(function(pe){const he=pe.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(he)>=0?he:$.UNKNOWN})(ee.status);_(new de(se,ee.message))}else _(new de($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new de($.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(Xt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ae(Xt,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=oE(),g=lE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=c.join("");ae(Xt,`Creating RPC '${e}' stream ${o}: ${S}`,_);const A=d.createWebChannel(S,_);this.I_(A);let N=!1,L=!1;const ee=new yC({Yo:J=>{L?ae(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(N||(ae(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),N=!0),ae(Xt,`RPC '${e}' stream ${o} sending:`,J),A.send(J))},Zo:()=>A.close()}),se=(J,pe,he)=>{J.listen(pe,(ce=>{try{he(ce)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return se(A,To.EventType.OPEN,(()=>{L||(ae(Xt,`RPC '${e}' stream ${o} transport opened.`),ee.o_())})),se(A,To.EventType.CLOSE,(()=>{L||(L=!0,ae(Xt,`RPC '${e}' stream ${o} transport closed`),ee.a_(),this.E_(A))})),se(A,To.EventType.ERROR,(J=>{L||(L=!0,el(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),ee.a_(new de($.UNAVAILABLE,"The operation could not be completed")))})),se(A,To.EventType.MESSAGE,(J=>{if(!L){const pe=J.data[0];Ge(!!pe,16349);const he=pe,ce=he?.error||he[0]?.error;if(ce){ae(Xt,`RPC '${e}' stream ${o} received error:`,ce);const ue=ce.status;let Se=(function(w){const x=Ct[w];if(x!==void 0)return BE(x)})(ue),Ne=ce.message;Se===void 0&&(Se=$.INTERNAL,Ne="Unknown error status: "+ue+" with message "+ce.message),L=!0,ee.a_(new de(Se,Ne)),A.close()}else ae(Xt,`RPC '${e}' stream ${o} received:`,pe),ee.u_(pe)}})),se(g,aE.STAT_EVENT,(J=>{J.stat===tm.PROXY?ae(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===tm.NOPROXY&&ae(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Fd(){return typeof document<"u"?document:null}function Ah(r){return new bR(r,!0)}class tT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Qv="PersistentStream";class nT{constructor(e,i,a,o,c,d,g,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new de($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(Qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vC extends nT{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=wR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Ii(d.readTime):be.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=am(_)?{documents:xR(c,_)}:{query:IR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=FE(c,d.resumeToken);const y=om(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=om(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=DR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=hm(this.serializer),i.removeTarget=e,this.q_(i)}}class EC extends nT{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=CR(e.writeResults,e.commitTime),a=Ii(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>RR(this.serializer,a)))};this.q_(i)}}class TC{}class bC extends TC{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,um(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,um(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class AC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Zr(this)&&(ae(Kr,"Restarting streams for network reachability change."),await(async function(_){const y=we(_);y.Ea.add(4),await Ko(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new SC(a,o)}}async function wh(r){if(Zr(r))for(const e of r.da)await e(!0)}async function Ko(r){for(const e of r.da)await e(!1)}function iT(r,e){const i=we(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),$m(i)?Xm(i):dl(i).O_()&&Ym(i,e))}function Km(r,e){const i=we(r),a=dl(i);i.Ia.delete(e),a.O_()&&sT(i,e),i.Ia.size===0&&(a.O_()?a.L_():Zr(i)&&i.Ra.set("Unknown"))}function Ym(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}dl(r).Y_(e)}function sT(r,e){r.Va.Ue(e),dl(r).Z_(e)}function Xm(r){r.Va=new _R({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),dl(r).start(),r.Ra.ua()}function $m(r){return Zr(r)&&!dl(r).x_()&&r.Ia.size>0}function Zr(r){return we(r).Ea.size===0}function rT(r){r.Va=void 0}async function wC(r){r.Ra.set("Online")}async function RC(r){r.Ia.forEach(((e,i)=>{Ym(r,e)}))}async function CC(r,e){rT(r),$m(r)?(r.Ra.ha(e),Xm(r)):r.Ra.set("Unknown")}async function xC(r,e,i){if(r.Ra.set("Online"),e instanceof HE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(a){ae(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await rh(r,a)}else if(e instanceof zc?r.Va.Ze(e):e instanceof qE?r.Va.st(e):r.Va.tt(e),!i.isEqual(be.min()))try{const a=await eT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Kt.EMPTY_BYTE_STRING,S.snapshotVersion)),sT(c,_);const A=new Ks(S.target,_,y,S.sequenceNumber);Ym(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ae(Kr,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,e,i){if(!fl(e))throw e;r.Ea.add(1),await Ko(r),r.Ra.set("Offline"),i||(i=()=>eT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(Kr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function aT(r,e){return e().catch((i=>rh(r,i,e)))}async function Rh(r){const e=we(r),i=ar(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Om;for(;IC(e);)try{const o=await cC(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,NC(e,o)}catch(o){await rh(e,o)}lT(e)&&oT(e)}function IC(r){return Zr(r)&&r.Ta.length<10}function NC(r,e){r.Ta.push(e);const i=ar(r);i.O_()&&i.X_&&i.ea(e.mutations)}function lT(r){return Zr(r)&&!ar(r).x_()&&r.Ta.length>0}function oT(r){ar(r).start()}async function DC(r){ar(r).ra()}async function OC(r){const e=ar(r);for(const i of r.Ta)e.ea(i.mutations)}async function MC(r,e,i){const a=r.Ta.shift(),o=zm.from(a,e,i);await aT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rh(r)}async function VC(r,e){e&&ar(r).X_&&await(async function(a,o){if((function(d){return pR(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();ar(a).B_(),await aT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rh(a)}})(r,e),lT(r)&&oT(r)}async function Kv(r,e){const i=we(r);i.asyncQueue.verifyOperationInProgress(),ae(Kr,"RemoteStore received new credentials");const a=Zr(i);i.Ea.add(3),await Ko(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function kC(r,e){const i=we(r);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await Ko(i),i.Ra.set("Unknown"))}function dl(r){return r.ma||(r.ma=(function(i,a,o){const c=we(i);return c.sa(),new vC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:wC.bind(null,r),t_:RC.bind(null,r),r_:CC.bind(null,r),H_:xC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),$m(r)?Xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),rT(r))}))),r.ma}function ar(r){return r.fa||(r.fa=(function(i,a,o){const c=we(i);return c.sa(),new EC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:DC.bind(null,r),r_:VC.bind(null,r),ta:OC.bind(null,r),na:MC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(ae(Kr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zm{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new Zm(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,e){if(rs("AsyncQueue",`${e}: ${r}`),fl(r))return new de($.UNAVAILABLE,`${e}: ${r}`);throw r}class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=bo(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Za;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Yv{constructor(){this.ga=new ot(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class rl{constructor(e,i,a,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new rl(e,i,Za.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class UC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LC{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=Xv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new de($.ABORTED,"Firestore shutting down"))}}function Xv(){return new Xr((r=>IE(r)),vh)}async function jC(r,e){const i=we(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new UC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Jm(d,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Wm(i)}async function PC(r,e){const i=we(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function zC(r,e){const i=we(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Wm(i)}function BC(r,e,i){const a=we(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function Wm(r){r.Ca.forEach((e=>{e.next()}))}var mm,$v;($v=mm||(mm={})).Ma="default",$v.Cache="cache";class qC{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new rl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}class uT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class HC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=NE(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Yv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,A)=>{const N=o.get(S),L=Eh(this.query,A)?A:null,ee=!!N&&this.mutatedKeys.has(N.key),se=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let J=!1;N&&L?N.data.isEqual(L.data)?ee!==se&&(a.track({type:3,doc:L}),J=!0):this.su(N,L)||(a.track({type:2,doc:L}),J=!0,(_&&this.eu(L,_)>0||y&&this.eu(L,y)<0)&&(g=!0)):!N&&L?(a.track({type:0,doc:L}),J=!0):N&&!L&&(a.track({type:1,doc:N}),J=!0,(_||y)&&(g=!0)),J&&(L?(d=d.add(L),c=se?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(L,ee){const se=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:J})}};return se(L)-se(ee)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new rl(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new cT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new uT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=je();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ep="SyncEngine";class FC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class GC{constructor(e){this.key=e,this.hu=!1}}class QC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xr((g=>IE(g)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ye.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KC(r,e,i=!0){const a=gT(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await hT(a,e,i,!0),o}async function YC(r,e){const i=gT(r);await hT(i,e,!0,!1)}async function hT(r,e,i,a){const o=await hC(r.localStore,xi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await XC(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&iT(r.remoteStore,o),g}async function XC(r,e,i,a,o){r.pu=(A,N,L)=>(async function(se,J,pe,he){let ce=J.view.ru(pe);ce.Cs&&(ce=await qv(se.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,ce))));const ue=he&&he.targetChanges.get(J.targetId),Se=he&&he.targetMismatches.get(J.targetId)!=null,Ne=J.view.applyChanges(ce,se.isPrimaryClient,ue,Se);return Jv(se,J.targetId,Ne.au),Ne.snapshot})(r,A,N,L);const c=await qv(r.localStore,e,!0),d=new HC(e,c.Qs),g=d.ru(c.documents),_=Qo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,_);Jv(r,i,y.au);const S=new FC(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function $C(r,e,i){const a=we(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Km(a.remoteStore,o.targetId),pm(a,o.targetId)})).catch(hl)):(pm(a,o.targetId),await fm(a.localStore,o.targetId,!0))}async function ZC(r,e){const i=we(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function JC(r,e,i){const a=rx(r);try{const o=await(function(d,g){const _=we(d),y=rt.now(),S=g.reduce(((L,ee)=>L.add(ee.key)),je());let A,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let ee=as(),se=je();return _.Ns.getEntries(L,S).next((J=>{ee=J,ee.forEach(((pe,he)=>{he.isValidDocument()||(se=se.add(pe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(L,ee))).next((J=>{A=J;const pe=[];for(const he of g){const ce=cR(he,A.get(he.key).overlayedDocument);ce!=null&&pe.push(new $r(he.key,ce,bE(ce.value.mapValue),ti.exists(!0)))}return _.mutationQueue.addMutationBatch(L,y,pe,g)})).next((J=>{N=J;const pe=J.applyToLocalDocumentSet(A,se);return _.documentOverlayCache.saveOverlays(L,J.batchId,pe)}))})).then((()=>({batchId:N.batchId,changes:OE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ot(Le)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Yo(a,o.changes),await Rh(a.remoteStore)}catch(o){const c=Jm(o,"Failed to persist write");i.reject(c)}}async function fT(r,e){const i=we(r);try{const a=await oC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ge(d.hu,14607):o.removedDocuments.size>0&&(Ge(d.hu,42227),d.hu=!1))})),await Yo(i,a,e)}catch(a){await hl(a)}}function Zv(r,e,i){const a=we(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=we(d);_.onlineState=g;let y=!1;_.queries.forEach(((S,A)=>{for(const N of A.Sa)N.va(g)&&(y=!0)})),y&&Wm(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function WC(r,e,i){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new ot(ye.comparator);d=d.insert(c,Wt.newNoDocument(c,be.min()));const g=je().add(c),_=new Sh(be.min(),new Map,new ot(Le),d,g);await fT(a,_),a.du=a.du.remove(c),a.Au.delete(e),tp(a)}else await fm(a.localStore,e,!1).then((()=>pm(a,e,i))).catch(hl)}async function ex(r,e){const i=we(r),a=e.batch.batchId;try{const o=await lC(i.localStore,e);mT(i,a,null),dT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yo(i,o)}catch(o){await hl(o)}}async function tx(r,e,i){const a=we(r);try{const o=await(function(d,g){const _=we(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Ge(A!==null,37113),S=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(a.localStore,e);mT(a,e,i),dT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Yo(a,o)}catch(o){await hl(o)}}function dT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function mT(r,e,i){const a=we(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function pm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||pT(r,a)}))}function pT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Km(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),tp(r))}function Jv(r,e,i){for(const a of i)a instanceof uT?(r.Ru.addReference(a.key,e),nx(r,a)):a instanceof cT?(ae(ep,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||pT(r,a.key)):ve(19791,{wu:a})}function nx(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ae(ep,"New document in limbo: "+i),r.Eu.add(a),tp(r))}function tp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ye(st.fromString(e)),a=r.fu.next();r.Au.set(a,new GC(i)),r.du=r.du.insert(i,a),iT(r.remoteStore,new Ks(xi(Lm(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function Yo(r,e,i){const a=we(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Gm.As(_.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const S=we(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(N=>X.forEach(N.Es,(L=>S.persistence.referenceDelegate.addReference(A,N.targetId,L))).next((()=>X.forEach(N.ds,(L=>S.persistence.referenceDelegate.removeReference(A,N.targetId,L)))))))))}catch(A){if(!fl(A))throw A;ae(Qm,"Failed to update sequence numbers: "+A)}for(const A of y){const N=A.targetId;if(!A.fromCache){const L=S.Ms.get(N),ee=L.snapshotVersion,se=L.withLastLimboFreeSnapshotVersion(ee);S.Ms=S.Ms.insert(N,se)}}})(a.localStore,c))}async function ix(r,e){const i=we(r);if(!i.currentUser.isEqual(e)){ae(ep,"User change. New user:",e.toKey());const a=await WE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new de($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Yo(i,a.Ls)}}function sx(r,e){const i=we(r),a=i.Au.get(e);if(a&&a.hu)return je().add(a.key);{let o=je();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function gT(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WC.bind(null,e),e.Pu.H_=zC.bind(null,e.eventManager),e.Pu.yu=BC.bind(null,e.eventManager),e}function rx(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ex.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tx.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return aC(this.persistence,new iC,e.initialUser,this.serializer)}Cu(e){return new JE(Fm.mi,this.serializer)}Du(e){return new dC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class ax extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ge(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new qR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new JE((a=>sh.mi(a,i)),this.serializer)}}class gm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ix.bind(null,this.syncEngine),await kC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LC})()}createDatastore(e){const i=Ah(e.databaseInfo.databaseId),a=(function(c){return new _C(c)})(e.databaseInfo);return(function(c,d,g,_){return new bC(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new AC(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Zv(this.syncEngine,i,0)),(function(){return Gv.v()?new Gv:new mC})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,S){const A=new QC(o,c,d,g,_,y);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);ae(Kr,"RemoteStore shutting down."),a.Ea.add(5),await Ko(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class lx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const lr="FirestoreClient";class ox{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Gd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(lr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await WE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Wv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await ux(r);ae(lr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Kv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Kv(e.remoteStore,o))),r._onlineComponents=e}async function ux(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(lr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;el("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new ah)}}else ae(lr,"Using default OfflineComponentProvider"),await Gd(r,new ax(void 0));return r._offlineComponents}async function yT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(lr,"Using user provided OnlineComponentProvider"),await Wv(r,r._uninitializedComponentsProvider._online)):(ae(lr,"Using default OnlineComponentProvider"),await Wv(r,new gm))),r._onlineComponents}function cx(r){return yT(r).then((e=>e.syncEngine))}async function e0(r){const e=await yT(r),i=e.eventManager;return i.onListen=KC.bind(null,e.syncEngine),i.onUnlisten=$C.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=YC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ZC.bind(null,e.syncEngine),i}function _T(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const t0=new Map;const vT="firestore.googleapis.com",n0=!0;class i0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=n0}else this.host=e.host,this.ssl=e.ssl??n0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zR)throw new de($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new dw;switch(a.type){case"firstParty":return new yw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=t0.get(i);a&&(ae("ComponentProvider","Removing Datastore"),t0.delete(i),a.terminate())})(this),Promise.resolve()}}function hx(r,e,i,a={}){r=Ws(r,Ch);const o=ll(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(y0(`https://${g}`),_0("Firestore",!0)),c.host!==vT&&c.host!==g&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!Hr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=Jt.MOCK_USER;else{y=jb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new de($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Jt(A)}r._authCredentials=new mw(new cE(y,S))}}class xh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new xh(this.firestore,e,this._query)}}class Mt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Fo(i,Mt._jsonSchema))return new Mt(e,a||null,new ye(st.fromString(i.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:xt("string",Mt._jsonSchemaVersion),referencePath:xt("string")};class er extends xh{constructor(e,i,a){super(e,i,Lm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ye(e))}withConverter(e){return new er(this.firestore,e,this._path)}}function qs(r,e,...i){if(r=Sn(r),hE("collection","path",e),r instanceof Ch){const a=st.fromString(e,...i);return gv(a),new er(r,null,a)}{if(!(r instanceof Mt||r instanceof er))throw new de($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(st.fromString(e,...i));return gv(a),new er(r.firestore,null,a)}}function Wi(r,e,...i){if(r=Sn(r),arguments.length===1&&(e=Nm.newId()),hE("doc","path",e),r instanceof Ch){const a=st.fromString(e,...i);return pv(a),new Mt(r,null,new ye(a))}{if(!(r instanceof Mt||r instanceof er))throw new de($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(st.fromString(e,...i));return pv(a),new Mt(r.firestore,r instanceof er?r.converter:null,new ye(a))}}const s0="AsyncQueue";class r0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tT(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&ae(s0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;ae(s0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",a0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Zm.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:a0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function a0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function l0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class al extends Ch{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new r0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r0(e),this._firestoreClient=void 0,await e}}}function fx(r,e){const i=typeof r=="object"?r:b0(),a=typeof r=="string"?r:Zc,o=Tm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Ub("firestore");c&&hx(o,...c)}return o}function ET(r){if(r._terminated)throw new de($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dx(r),r._firestoreClient}function dx(r){const e=r._freezeSettings(),i=(function(o,c,d,g){return new Vw(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,_T(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ox(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Kt.fromBase64String(e))}catch(i){throw new de($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new jn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fo(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:xt("string",jn._jsonSchemaVersion),bytes:xt("string")};class np{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class TT{constructor(e){this._methodName=e}}class Ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(Fo(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:xt("string",Ni._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class Di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fo(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Di(e.vectorValues);throw new de($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:xt("string",Di._jsonSchemaVersion),vectorValues:xt("object")};const mx=/^__.*__$/;class px{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,i,this.fieldTransforms):new Go(e,this.data,i,this.fieldTransforms)}}function bT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class ip{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ip({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bT(this.Ac)&&mx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gx{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(e)}Cc(e,i,a,o=!1){return new ip({Ac:e,methodName:i,Dc:a,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ST(r){const e=r._freezeSettings(),i=Ah(r._databaseId);return new gx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function AT(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);xT("Data must be an object, but it was:",d,a);const g=RT(a,d);let _,y;if(c.merge)_=new ei(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const N=yx(e,A,i);if(!d.contains(N))throw new de($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);vx(S,N)||S.push(N)}_=new ei(S),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new px(new Ln(g),_,y)}function wT(r,e){if(CT(r=Sn(r)))return xT("Unsupported field value:",e,r),RT(r,e);if(r instanceof TT)return(function(a,o){if(!bT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=wT(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=rt.fromDate(a);return{timestampValue:ih(o.serializer,c)}}if(a instanceof rt){const c=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(a instanceof Ni)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:FE(o.serializer,a._byteString)};if(a instanceof Mt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Di)return(function(d,g){return{mapValue:{fields:{[EE]:{stringValue:TE},[Jc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return jm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Dm(a)}`)})(r,e)}function RT(r,e){const i={};return mE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(r,((a,o)=>{const c=wT(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function CT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Ni||r instanceof jn||r instanceof Mt||r instanceof TT||r instanceof Di)}function xT(r,e,i){if(!CT(i)||!fE(i)){const a=Dm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function yx(r,e,i){if((e=Sn(e))instanceof np)return e._internalPath;if(typeof e=="string")return IT(r,e);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const _x=new RegExp("[~\\*/\\[\\]]");function IT(r,e,i){if(e.search(_x)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new np(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new de($.INVALID_ARGUMENT,g+r+_)}function vx(r,e){return r.some((i=>i.isEqual(e)))}class NT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(DT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ex extends NT{data(){return super.data()}}function DT(r,e){return typeof e=="string"?IT(r,e):e instanceof np?e._internalPath:e._delegate._internalPath}function Tx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bx{convertValue(e,i="none"){switch(rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Yr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Jc].arrayValue?.values?.map((a=>yt(a.doubleValue)));return new Di(i)}convertGeoPoint(e){return new Ni(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vo(e));default:return null}}convertTimestamp(e){const i=ir(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=st.fromString(e);Ge($E(a),9688,{name:e});const o=new ko(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(i)||rs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function OT(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class Ao{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qr extends NT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(DT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:xt("string",qr._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Bc extends qr{data(e={}){return super.data(e)}}class Ja{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ao(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Ao(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ao(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ao(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:Sx(g.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:xt("string",Ja._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class MT extends bx{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,i)}}function Nc(r,e,i){r=Ws(r,Mt);const a=Ws(r.firestore,al),o=OT(r.converter,e,i);return sp(a,[AT(ST(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ti.none())])}function Dc(r){return sp(Ws(r.firestore,al),[new Pm(r._key,ti.none())])}function Zn(r,e){const i=Ws(r.firestore,al),a=Wi(r),o=OT(r.converter,e);return sp(i,[AT(ST(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,ti.exists(!1))]).then((()=>a))}function Ba(r,...e){r=Sn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||l0(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(l0(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof Mt)d=Ws(r.firestore,al),g=Lm(r._key.path),c={next:_=>{e[a]&&e[a](Ax(d,r,_))},error:e[a+1],complete:e[a+2]};else{const _=Ws(r,xh);d=Ws(_.firestore,al),g=_._query;const y=new MT(d);c={next:S=>{e[a]&&e[a](new Ja(d,y,_,S))},error:e[a+1],complete:e[a+2]},Tx(r._query)}return(function(y,S,A,N){const L=new lx(N),ee=new qC(S,L,A);return y.asyncQueue.enqueueAndForget((async()=>jC(await e0(y),ee))),()=>{L.Nu(),y.asyncQueue.enqueueAndForget((async()=>PC(await e0(y),ee)))}})(ET(d),g,o,c)}function sp(r,e){return(function(a,o){const c=new Br;return a.asyncQueue.enqueueAndForget((async()=>JC(await cx(a),o,c))),c.promise})(ET(r),e)}function Ax(r,e,i){const a=i.docs.get(e._key),o=new MT(r);return new qr(r,o,e._key,a,new Ao(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){cl=o})(ol),Wa(new Fr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new al(new pw(a.getProvider("auth-internal")),new _w(d,a.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(y.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(hv,fv,e),$s(hv,fv,"esm2020")})();const wx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),o0=r=>{const e=Rx(r);return e.charAt(0).toUpperCase()+e.slice(1)},VT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),Cx=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var xx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ix=De.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>De.createElement("svg",{ref:_,...xx,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:VT("lucide",o),...!c&&!Cx(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>De.createElement(y,S)),...Array.isArray(c)?c:[c]]));const It=(r,e)=>{const i=De.forwardRef(({className:a,...o},c)=>De.createElement(Ix,{ref:c,iconNode:e,className:VT(`lucide-${wx(o0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=o0(r),i};const Nx=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Dx=It("barcode",Nx);const Ox=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Mx=It("clipboard-list",Ox);const Vx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],u0=It("database",Vx);const kx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ux=It("download",kx);const Lx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],kT=It("file-spreadsheet",Lx);const jx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Px=It("history",jx);const zx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bx=It("lock",zx);const qx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hx=It("log-out",qx);const Fx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],UT=It("plus",Fx);const Gx=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Qx=It("printer",Gx);const Kx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yx=It("save",Kx);const Xx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$x=It("search",Xx);const Zx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rp=It("settings",Zx);const Jx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],LT=It("trash-2",Jx);const Wx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jT=It("triangle-alert",Wx);const eI=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],oh=It("truck",eI);const tI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nI=It("user",tI);const iI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sI=It("users",iI);const rI=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],PT=It("wrench",rI);const aI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ym=It("x",aI),lI={apiKey:"AIzaSyAWELn6lSPNa5WIjG_wFLv4nkzk1CaLxq8",authDomain:"tyre-tracker-ccbd1.firebaseapp.com",projectId:"tyre-tracker-ccbd1",storageBucket:"tyre-tracker-ccbd1.firebasestorage.app",messagingSenderId:"90986714992",appId:"1:90986714992:web:388e83080de978ec68e1b5",measurementId:"G-VEVZFGKE16"},zT=T0(lI),c0=hw(zT),$t=fx(zT),Zt="tyre-tracker-ccbd1",oI=()=>"8"+Math.floor(1e7+Math.random()*9e7).toString(),uI=r=>{if(!r||r.length!==4)return"Unknown Age";const e=parseInt(r.substring(0,2)),i=parseInt("20"+r.substring(2,4)),a=new Date,o=a.getFullYear(),c=Math.floor((a-new Date(o,0,1))/(10080*60*1e3));let d=(o-i)*52+(c-e);return d<0&&(d=0),d<52?`${d} weeks old`:`${(d/52).toFixed(1)} years old`},uh=r=>r.startsWith("F")?"front":r.startsWith("D")?"drive":r.startsWith("T")?"tag":r.startsWith("R")&&(r.includes("S")||r==="RL"||r==="RR")?"rear_steer":r.startsWith("R")?"rear":"front",cI=r=>{switch(r){case"front":return"Steer Axle";case"drive":return"Drive Axle";case"tag":return"Tag Axle";case"rear_steer":return"Rear Steer Axle";case"rear":return"Rear Axle";default:return"Axle"}},zr=r=>({FL:"Front Left",FR:"Front Right",RL:"Rear Left",RR:"Rear Right",RLO:"Rear Left Outer",RLI:"Rear Left Inner",RRO:"Rear Right Outer",RRI:"Rear Right Inner",DLO:"Drive Left Outer",DLI:"Drive Left Inner",DRO:"Drive Right Outer",DRI:"Drive Right Inner",RSL:"Rear Steer Left",RSR:"Rear Steer Right"})[r]||r,hI=[{id:"t1",brand:"Michelin",model:"X Multi Z",size:"295/80R22.5",barcode:"88239101",status:"In Stock",dot:"1023"},{id:"t2",brand:"Bridgestone",model:"R-Steer",size:"295/80R22.5",barcode:"88239103",status:"In Stock",dot:"4522"},{id:"t3",brand:"Michelin",model:"X Coach",size:"295/80R22.5",barcode:"88239105",status:"In Stock",dot:"0224"},{id:"t4",brand:"Continental",model:"VanContact",size:"235/65R16",barcode:"88239106",status:"In Stock",dot:"2023"},{id:"t5",brand:"Goodyear",model:"Cargo Vector",size:"235/65R16",barcode:"88239107",status:"In Stock",dot:"1523"}],fI=[{id:"v1",reg:"K26 CLN",type:"Luton Box Van",layout:"2-axle-dual",specs:{front:{torque:180,pressure:55},rear:{torque:180,pressure:60}},wheels:{}},{id:"v2",reg:"L10 NC",type:"2-Axle Coach",layout:"2-axle-dual",specs:{front:{torque:600,pressure:120},rear:{torque:600,pressure:115}},wheels:{}},{id:"v3",reg:"L1 CLN",type:"Tri-Axle Coach",layout:"3-axle-rear-steer",specs:{front:{torque:650,pressure:125},drive:{torque:600,pressure:115},rear_steer:{torque:650,pressure:125}},wheels:{}}],dI=[{id:"s1",name:"295/80R22.5"},{id:"s2",name:"315/80R22.5"},{id:"s3",name:"385/65R22.5"},{id:"s4",name:"235/65R16"},{id:"s5",name:"215/75R16"},{id:"s6",name:"205/65R16"}],mI=[{id:"u1",initials:"ADM",pin:"0000",role:"Admin"},{id:"u2",initials:"MGR",pin:"1111",role:"Manager"},{id:"u3",initials:"FIT",pin:"2222",role:"Fitter"}];function pI(){const[r,e]=De.useState(null),[i,a]=De.useState(null),[o,c]=De.useState("fit"),[d,g]=De.useState([]),[_,y]=De.useState([]),[S,A]=De.useState([]),[N,L]=De.useState([]),[ee,se]=De.useState([]),[J,pe]=De.useState([]);De.useEffect(()=>((async()=>{try{await YA(c0)}catch(me){console.error("Auth Failed:",me)}})(),e2(c0,e)),[]),De.useEffect(()=>{if(!r)return;const Z=re=>qs($t,"artifacts",Zt,"public","data",re),me=Ba(Z("inventory"),re=>g(re.docs.map(le=>({...le.data(),id:le.id}))),re=>console.error("Inv error",re)),Ee=Ba(Z("vehicles"),re=>y(re.docs.map(le=>({...le.data(),id:le.id}))),re=>console.error("Veh error",re)),D=Ba(Z("retorques"),re=>A(re.docs.map(le=>({...le.data(),id:le.id})).sort((le,Re)=>new Date(le.dueDate)-new Date(Re.dueDate))),re=>console.error("Ret error",re)),Q=Ba(Z("sizes"),re=>L(re.docs.map(le=>({...le.data(),id:le.id}))),re=>console.error("Sizes error",re)),W=Ba(Z("history"),re=>se(re.docs.map(le=>({...le.data(),id:le.id})).sort((le,Re)=>new Date(Re.fitDate)-new Date(le.fitDate))),re=>console.error("Hist error",re)),ie=Ba(Z("users"),re=>pe(re.docs.map(le=>({...le.data(),id:le.id}))),re=>console.error("Users error",re));return()=>{me(),Ee(),D(),Q(),W(),ie()}},[r]);const he=async()=>{if(!confirm("This will populate the database with demo data. Continue?"))return;const Z=[],me=Ee=>qs($t,"artifacts",Zt,"public","data",Ee);hI.forEach(Ee=>Z.push(Zn(me("inventory"),Ee))),fI.forEach(Ee=>Z.push(Zn(me("vehicles"),Ee))),dI.forEach(Ee=>Z.push(Zn(me("sizes"),Ee))),mI.forEach(Ee=>Z.push(Zn(me("users"),Ee))),await Promise.all(Z),alert("Database seeded!")},ce=async(Z,me)=>{const Ee=[],D=qs($t,"artifacts",Zt,"public","data","inventory");for(let Q=0;Q<me;Q++)Ee.push(Zn(D,{...Z,barcode:oI(),status:"In Stock"}));await Promise.all(Ee)},ue=async Z=>{window.prompt("Type 'DELETE' to confirm removing this record permanently.")==="DELETE"&&await Dc(Wi($t,"artifacts",Zt,"public","data","inventory",Z))},Se=async Z=>{await Zn(qs($t,"artifacts",Zt,"public","data","vehicles"),{...Z,wheels:{}})},Ne=async Z=>{const{id:me,...Ee}=Z;await Nc(Wi($t,"artifacts",Zt,"public","data","vehicles",me),Ee)},I=async Z=>{Z&&await Zn(qs($t,"artifacts",Zt,"public","data","sizes"),{name:Z})},w=async Z=>{window.confirm("Remove this size?")&&await Dc(Wi($t,"artifacts",Zt,"public","data","sizes",Z))},x=async Z=>{await Zn(qs($t,"artifacts",Zt,"public","data","users"),Z)},V=async Z=>{window.confirm("Remove this user?")&&await Dc(Wi($t,"artifacts",Zt,"public","data","users",Z))},M=async Z=>{const me=Wi($t,"artifacts",Zt,"public","data","retorques",Z);await Nc(me,{status:"Completed",completedDate:new Date().toISOString()},{merge:!0})},U=async(Z,me,Ee,D,Q)=>{const W=d.find(dn=>dn.barcode===Ee&&dn.status==="In Stock");if(!W){alert("Tyre not found or not in stock!");return}const ie=_.find(dn=>dn.id===Z),re=uh(me),le=ie.specs[re]||{torque:0},Re=ie.wheels[me],ft={...ie.wheels,[me]:{...W,dateFitted:D}};if(await Nc(Wi($t,"artifacts",Zt,"public","data","vehicles",Z),{wheels:ft},{merge:!0}),Re&&Re.id)try{await Dc(Wi($t,"artifacts",Zt,"public","data","inventory",Re.id))}catch(dn){console.log("Old tyre cleanup error",dn)}await Nc(Wi($t,"artifacts",Zt,"public","data","inventory",W.id),{status:"Fitted",vehicleId:Z,positionId:me,vehicleReg:ie.reg},{merge:!0}),await Zn(qs($t,"artifacts",Zt,"public","data","history"),{fitDate:D,barcode:W.barcode,brand:W.brand,model:W.model,size:W.size,dot:W.dot,vehicleReg:ie.reg,position:me,fitter:Q});const We=new Date(D).getTime(),ni=qs($t,"artifacts",Zt,"public","data","retorques");await Zn(ni,{vehicleReg:ie.reg,positionId:me,fitmentDate:D,dueDate:new Date(We+1800*1e3).toISOString(),status:"Pending",type:"30m Check",torqueSpec:le.torque,fitter:Q}),await Zn(ni,{vehicleReg:ie.reg,positionId:me,fitmentDate:D,dueDate:new Date(We+1440*60*1e3).toISOString(),status:"Pending",type:"24h Check",torqueSpec:le.torque,fitter:Q}),alert("Tyre fitted successfully! Database updated."),c("retorque")},R=S.filter(Z=>Z.status==="Pending").length;if(!r)return E.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-500",children:"Connecting..."});if(!i)return E.jsx(gI,{users:J,onLogin:a});const tt=["Admin","Manager"].includes(i.role),ut=["Admin","Manager"].includes(i.role),F=["Admin","Fitter"].includes(i.role),ne=i.role==="Admin";return E.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900",children:[E.jsxs("div",{className:"bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50",children:[E.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[E.jsxs("h1",{className:"text-xl font-bold flex items-center gap-3",children:[E.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:E.jsx(oh,{className:"w-6 h-6 text-white"})}),"CLion Workshop ",E.jsx("span",{className:"text-blue-400 font-light",children:"Tyre Tracker"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"text-right hidden md:block",children:[E.jsx("div",{className:"text-sm font-bold text-white",children:i.initials}),E.jsx("div",{className:"text-xs text-slate-400 uppercase",children:i.role})]}),E.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",title:"Logout",children:E.jsx(Hx,{className:"w-5 h-5"})})]})]}),E.jsx("div",{className:"max-w-6xl mx-auto mt-4",children:E.jsxs("nav",{className:"flex bg-slate-800 p-1 rounded-lg overflow-x-auto",children:[E.jsx(qa,{label:"Vehicles",icon:oh,active:o==="vehicles",onClick:()=>c("vehicles")}),F&&E.jsx(qa,{label:"Fit Tyre",icon:PT,active:o==="fit",onClick:()=>c("fit")}),E.jsx(qa,{label:"Inventory",icon:Mx,active:o==="inventory",onClick:()=>c("inventory")}),E.jsx(qa,{label:"Retorques",icon:jT,active:o==="retorque",onClick:()=>c("retorque"),badge:R}),ut&&E.jsx(qa,{label:"Reports",icon:kT,active:o==="reports",onClick:()=>c("reports")}),ne&&E.jsx(qa,{label:"Settings",icon:rp,active:o==="settings",onClick:()=>c("settings")})]})})]}),E.jsxs("main",{className:"max-w-6xl mx-auto p-4 md:p-6",children:[o==="vehicles"&&E.jsx(yI,{vehicles:_,onAdd:Se,onUpdate:Ne,retorqueRegister:S}),o==="fit"&&F&&E.jsx(_I,{vehicles:_,inventory:d,onFit:U,currentUser:i}),o==="inventory"&&E.jsx(vI,{inventory:d,onAddBatch:ce,onDelete:ue,availableSizes:N,canAdd:tt}),o==="retorque"&&E.jsx(EI,{tasks:S,onComplete:M}),o==="reports"&&ut&&E.jsx(TI,{history:ee,retorques:S}),o==="settings"&&ne&&E.jsx(bI,{sizes:N,onAddSize:I,onRemoveSize:w,onSeed:he,users:J,onAddUser:x,onRemoveUser:V})]})]})}function gI({users:r,onLogin:e}){const[i,a]=De.useState(""),[o,c]=De.useState(""),[d,g]=De.useState(""),_=y=>{if(y.preventDefault(),r.length===0&&i==="ADM"&&o==="0000"){e({initials:"ADM",role:"Admin"});return}const S=r.find(A=>A.initials.toUpperCase()===i.toUpperCase()&&A.pin===o);S?e(S):g("Invalid Credentials")};return E.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:E.jsx(oh,{className:"w-8 h-8 text-white"})}),E.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"CLion Workshop"}),E.jsx("p",{className:"text-slate-500",children:"Tyre Tracking System"})]}),E.jsxs("form",{onSubmit:_,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Initials"}),E.jsxs("div",{className:"relative",children:[E.jsx(nI,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),E.jsx("input",{autoFocus:!0,className:"w-full pl-10 p-3 border rounded-xl bg-slate-50 uppercase font-bold tracking-widest text-center",maxLength:3,value:i,onChange:y=>a(y.target.value.toUpperCase())})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"PIN"}),E.jsxs("div",{className:"relative",children:[E.jsx(Bx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),E.jsx("input",{type:"password",className:"w-full pl-10 p-3 border rounded-xl bg-slate-50 text-center font-bold tracking-widest",maxLength:4,value:o,onChange:y=>c(y.target.value)})]})]}),d&&E.jsx("div",{className:"text-red-500 text-sm text-center font-bold",children:d}),E.jsx("button",{className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-200 hover:bg-blue-700 transition",children:"LOGIN"})]}),E.jsx("p",{className:"text-center text-xs text-slate-300 mt-6",children:"Default: ADM / 0000"})]})})}function yI({vehicles:r,onAdd:e,onUpdate:i,retorqueRegister:a}){const[o,c]=De.useState(null),[d,g]=De.useState(null),[_,y]=De.useState(!1),[S,A]=De.useState(null),[N,L]=De.useState({reg:"",type:"Van",layout:"2-axle-dual"}),ee=ue=>{const Se={torque:600,pressure:120},Ne={torque:180,pressure:55};return ue.includes("van")||ue==="2-axle-single"?{front:Ne,rear:Ne}:ue==="3-axle-rigid"?{front:Se,drive:Se,tag:Se}:ue==="3-axle-rear-steer"?{front:Se,drive:Se,rear_steer:Se}:{front:Se,rear:Se}},se=ue=>{ue.preventDefault(),e({...N,specs:ee(N.layout)}),y(!1),L({reg:"",type:"Van",layout:"2-axle-dual"})},J=ue=>{A({...ue}),c(null)},pe=()=>{i(S),A(null)},he=(ue,Se,Ne)=>{A({...S,specs:{...S.specs,[ue]:{...S.specs[ue],[Se]:parseInt(Ne)||0}}})},ce=o&&d?{id:d,axleGroup:uh(d),spec:o.specs[uh(d)],tyre:o.wheels[d]}:null;return E.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"md:col-span-1 space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Fleet List"}),E.jsx("button",{onClick:()=>y(!_),className:"p-2 bg-blue-100 text-blue-700 rounded-lg",children:E.jsx(UT,{className:"w-5 h-5"})})]}),_&&E.jsxs("form",{onSubmit:se,className:"bg-white p-4 rounded-xl shadow space-y-3",children:[E.jsx("input",{required:!0,placeholder:"Reg",className:"w-full p-2 border rounded",value:N.reg,onChange:ue=>L({...N,reg:ue.target.value})}),E.jsxs("select",{className:"w-full p-2 border rounded",value:N.layout,onChange:ue=>L({...N,layout:ue.target.value}),children:[E.jsx("option",{value:"2-axle-dual",children:"2 Axle (Dual Rear)"}),E.jsx("option",{value:"3-axle-rear-steer",children:"3 Axle (Rear Steer)"}),E.jsx("option",{value:"3-axle-rigid",children:"3 Axle Rigid"}),E.jsx("option",{value:"2-axle-single",children:"2 Axle (Single Rear)"})]}),E.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded",children:"Save"})]}),E.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:r.map(ue=>E.jsxs("div",{onClick:()=>{c(ue),g(null),A(null)},className:`p-4 cursor-pointer flex justify-between items-center hover:bg-slate-50 ${o?.id===ue.id?"bg-blue-50 border-l-4 border-blue-500":""}`,children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-lg",children:ue.reg}),E.jsx("div",{className:"text-xs text-slate-500",children:ue.type})]}),E.jsx("button",{onClick:Se=>{Se.stopPropagation(),J(ue)},className:"p-2 text-slate-400 hover:text-blue-600",children:E.jsx(rp,{className:"w-5 h-5"})})]},ue.id))})]}),E.jsx("div",{className:"md:col-span-2 relative",children:S?E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col",children:[E.jsxs("div",{className:"flex justify-between mb-4",children:[E.jsxs("h2",{className:"text-xl font-bold",children:["Configure ",S.reg]}),E.jsx("button",{onClick:()=>A(null),children:E.jsx(ym,{className:"w-6 h-6 text-slate-400"})})]}),E.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{className:"border p-2 rounded",value:S.reg,onChange:ue=>A({...S,reg:ue.target.value})}),E.jsx("input",{className:"border p-2 rounded",value:S.type,onChange:ue=>A({...S,type:ue.target.value})})]}),E.jsx("div",{className:"space-y-4",children:Object.keys(S.specs).map(ue=>E.jsxs("div",{className:"bg-slate-50 p-4 rounded border",children:[E.jsx("h4",{className:"font-bold text-xs uppercase mb-2",children:cI(ue)}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-slate-500",children:"Torque (Nm)"}),E.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:S.specs[ue].torque,onChange:Se=>he(ue,"torque",Se.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-slate-500",children:"Pressure (PSI)"}),E.jsx("input",{type:"number",className:"w-full border p-1 rounded font-bold",value:S.specs[ue].pressure,onChange:Se=>he(ue,"pressure",Se.target.value)})]})]})]},ue))})]}),E.jsx("div",{className:"mt-4 pt-4 border-t text-right",children:E.jsxs("button",{onClick:pe,className:"bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2 ml-auto",children:[E.jsx(Yx,{className:"w-4 h-4"})," Save Changes"]})})]}):o?E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col",children:[E.jsxs("div",{className:"mb-4 border-b pb-4",children:[E.jsx("h2",{className:"text-2xl font-black",children:o.reg}),E.jsx("p",{className:"text-slate-500",children:o.type})]}),E.jsxs("div",{className:"flex-1 relative min-h-[400px]",children:[E.jsx(BT,{vehicle:o,retorques:a,mode:"view",onSelect:g}),ce&&E.jsxs("div",{className:"absolute top-10 right-0 md:right-10 w-72 bg-slate-800 text-white p-5 rounded-xl shadow-2xl z-20",children:[E.jsxs("div",{className:"flex justify-between mb-4",children:[E.jsx("h3",{className:"font-bold text-lg text-blue-400",children:zr(ce.id)}),E.jsx("button",{onClick:()=>g(null),children:E.jsx(ym,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-slate-700/50 p-3 rounded text-center grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-xs text-slate-400",children:"Torque"}),E.jsx("div",{className:"font-bold text-xl",children:ce.spec?.torque})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs text-slate-400",children:"Pressure"}),E.jsx("div",{className:"font-bold text-xl",children:ce.spec?.pressure})]})]}),ce.tyre?E.jsxs("div",{className:"text-sm space-y-1",children:[E.jsx("div",{className:"font-bold border-b border-slate-700 pb-1 mb-2",children:"FITTED TYRE"}),E.jsxs("div",{children:[ce.tyre.brand," ",ce.tyre.model]}),E.jsx("div",{className:"text-slate-400",children:ce.tyre.size}),E.jsx("div",{className:"bg-slate-900 p-2 rounded text-center font-mono text-xs mt-2",children:ce.tyre.barcode}),E.jsxs("div",{className:"text-xs mt-2 text-blue-300",children:["DOT: ",ce.tyre.dot]})]}):E.jsx("div",{className:"text-center text-slate-500 py-4 border-2 border-dashed border-slate-600 rounded",children:"Empty"})]})]})]})]}):E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 bg-slate-100 rounded-xl border-2 border-dashed border-slate-200 p-10",children:[E.jsx(oh,{className:"w-16 h-16 mb-4 opacity-50"}),E.jsx("p",{children:"Select a vehicle"})]})})]})}function _I({vehicles:r,inventory:e,onFit:i,currentUser:a}){const[o,c]=De.useState(1),[d,g]=De.useState(null),[_,y]=De.useState(null),[S,A]=De.useState(""),[N,L]=De.useState(a.initials),[ee,se]=De.useState(new Date().toISOString().slice(0,16)),J=d&&_?d.specs[uh(_)]:null,pe=()=>{const he=e.find(ce=>ce.status==="In Stock");he?A(he.barcode):alert("No stock available")};return E.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[E.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[E.jsx(Qd,{num:1,label:"Vehicle",active:o>=1}),E.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:E.jsx("div",{className:`h-full bg-blue-600 transition-all ${o>=2?"w-full":"w-0"}`})}),E.jsx(Qd,{num:2,label:"Wheel",active:o>=2}),E.jsx("div",{className:"h-1 flex-1 bg-slate-100 mx-4",children:E.jsx("div",{className:`h-full bg-blue-600 transition-all ${o>=3?"w-full":"w-0"}`})}),E.jsx(Qd,{num:3,label:"Details",active:o>=3})]}),E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-200 min-h-[400px]",children:[o===1&&E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.map(he=>E.jsxs("button",{onClick:()=>{g(he),c(2)},className:"p-6 text-left border-2 rounded-xl hover:border-blue-500 hover:bg-blue-50",children:[E.jsx("div",{className:"font-bold text-xl",children:he.reg}),E.jsx("div",{className:"text-sm text-slate-400",children:he.type})]},he.id))}),o===2&&E.jsxs("div",{className:"text-center",children:[E.jsx("h3",{className:"font-bold mb-6",children:"Select Wheel Position"}),E.jsx(BT,{vehicle:d,mode:"select",onSelect:he=>{y(he),c(3)}}),E.jsx("button",{onClick:()=>c(1),className:"mt-8 text-slate-400 underline",children:"Back"})]}),o===3&&E.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h3",{className:"text-xl font-bold",children:d.reg}),E.jsx("div",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-bold mt-2",children:zr(_)})]}),E.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 p-4 rounded-xl text-center grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-3xl font-black",children:J?.torque}),E.jsx("div",{className:"text-xs font-bold text-amber-700",children:"TORQUE (Nm)"})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-3xl font-black",children:J?.pressure}),E.jsx("div",{className:"text-xs font-bold text-amber-700",children:"PRESSURE (PSI)"})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{type:"datetime-local",value:ee,onChange:he=>se(he.target.value),className:"w-full p-3 border rounded"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{value:S,onChange:he=>A(he.target.value),className:"flex-1 p-3 border rounded font-mono",placeholder:"Scan Barcode"}),E.jsx("button",{onClick:pe,className:"bg-slate-200 px-4 rounded",children:E.jsx(Dx,{})})]}),E.jsx("input",{value:N,readOnly:!0,className:"w-full p-3 border rounded text-center uppercase tracking-widest font-bold bg-slate-100 text-slate-500",placeholder:"Fitter Initials"})]}),E.jsx("button",{onClick:()=>{i(d.id,_,S,ee,N),c(1),A("")},disabled:!S,className:"w-full bg-green-600 text-white p-4 rounded-xl font-bold hover:bg-green-700 disabled:opacity-50",children:"CONFIRM FITMENT"})]})]})]})}function vI({inventory:r,onAddBatch:e,onDelete:i,availableSizes:a,canAdd:o}){const[c,d]=De.useState({brand:"",model:"",size:a[0]?.name||"",qty:1,dot:""}),[g,_]=De.useState(""),[y,S]=De.useState(null),A=L=>{L.preventDefault(),e({brand:c.brand,model:c.model,size:c.size,dot:c.dot},parseInt(c.qty)),d({...c,qty:1,dot:""})},N=r.filter(L=>L.barcode.includes(g)||L.brand.toLowerCase().includes(g.toLowerCase())||L.size.includes(g));return E.jsxs("div",{className:"space-y-8",children:[o&&E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[E.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[E.jsx(UT,{className:"w-5 h-5 text-green-600"})," Batch Add Stock"]}),E.jsxs("form",{onSubmit:A,className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[E.jsx("input",{required:!0,placeholder:"Brand",className:"p-2 border rounded",value:c.brand,onChange:L=>d({...c,brand:L.target.value})}),E.jsx("input",{required:!0,placeholder:"Model",className:"p-2 border rounded",value:c.model,onChange:L=>d({...c,model:L.target.value})}),E.jsx("select",{required:!0,className:"p-2 border rounded bg-white",value:c.size,onChange:L=>d({...c,size:L.target.value}),children:a.map(L=>E.jsx("option",{value:L.name,children:L.name},L.id))}),E.jsx("input",{required:!0,placeholder:"DOT (e.g 1024)",maxLength:"4",className:"p-2 border rounded",value:c.dot,onChange:L=>d({...c,dot:L.target.value})}),E.jsx("input",{type:"number",min:"1",max:"50",required:!0,placeholder:"Qty",className:"p-2 border rounded",value:c.qty,onChange:L=>d({...c,qty:L.target.value})}),E.jsx("button",{className:"bg-slate-900 text-white rounded font-medium",children:"Add"})]})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[E.jsxs("div",{className:"p-4 bg-slate-50 border-b flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold",children:"Serialized Inventory"}),E.jsxs("div",{className:"relative",children:[E.jsx($x,{className:"absolute left-2 top-2 w-4 h-4 text-slate-400"}),E.jsx("input",{placeholder:"Search...",className:"pl-8 p-1 border rounded",value:g,onChange:L=>_(L.target.value)})]})]}),E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-3",children:"Barcode"}),E.jsx("th",{className:"p-3",children:"Details"}),E.jsx("th",{className:"p-3",children:"Age"}),E.jsx("th",{className:"p-3",children:"Status"}),E.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y",children:N.map(L=>E.jsxs("tr",{children:[E.jsx("td",{className:"p-3 font-mono font-bold",children:L.barcode}),E.jsxs("td",{className:"p-3",children:[E.jsxs("div",{className:"font-medium",children:[L.brand," ",L.model]}),E.jsx("div",{className:"text-xs text-slate-500",children:L.size})]}),E.jsxs("td",{className:"p-3",children:[E.jsx("div",{className:"text-xs",children:uI(L.dot)}),E.jsxs("div",{className:"text-xs text-slate-400",children:["DOT: ",L.dot]})]}),E.jsxs("td",{className:"p-3",children:[E.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${L.status==="In Stock"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"}`,children:L.status}),L.status==="Fitted"&&E.jsx("div",{className:"text-xs mt-1",children:L.vehicleReg})]}),E.jsx("td",{className:"p-3 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>S(L),className:"p-2 text-slate-400 hover:text-blue-600",children:E.jsx(Qx,{className:"w-4 h-4"})}),o&&E.jsx("button",{onClick:()=>i(L.id),className:"p-2 text-red-400 hover:text-red-600",children:E.jsx(LT,{className:"w-4 h-4"})})]})})]},L.id))})]})]}),y&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 text-center",children:[E.jsx("h3",{className:"font-bold text-xl mb-4",children:y.brand}),E.jsx("div",{className:"font-mono text-3xl font-black bg-slate-100 p-4 mb-4",children:y.barcode}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>S(null),className:"flex-1 py-2 border rounded",children:"Cancel"}),E.jsx("button",{onClick:()=>alert("Printing..."),className:"flex-1 py-2 bg-blue-600 text-white rounded",children:"Print"})]})]})})]})}function EI({tasks:r,onComplete:e}){return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[E.jsx(jT,{className:"w-5 h-5 text-amber-500"})," Outstanding"]}),r.filter(i=>i.status==="Pending").length===0?E.jsx("div",{className:"p-8 bg-green-50 text-green-800 text-center rounded",children:"All compliant"}):r.filter(i=>i.status==="Pending").map(i=>E.jsxs("div",{className:"bg-white p-4 rounded shadow border-l-4 border-amber-500 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex gap-2 mb-1",children:[E.jsx("span",{className:`px-2 text-xs font-bold rounded text-white ${i.type.includes("30")?"bg-red-500":"bg-blue-500"}`,children:i.type}),E.jsxs("span",{className:"text-xs text-slate-400",children:["Fitter: ",i.fitter]})]}),E.jsx("div",{className:"font-black",children:i.vehicleReg}),E.jsx("div",{className:"text-sm",children:zr(i.positionId)}),E.jsxs("div",{className:"text-xs font-bold text-amber-600 mt-1",children:["Due: ",new Date(i.dueDate).toLocaleString()]})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("div",{className:"text-xs text-slate-400 mb-2",children:[i.torqueSpec," Nm"]}),E.jsx("button",{onClick:()=>e(i.id),className:"bg-slate-900 text-white px-4 py-2 rounded text-sm hover:bg-slate-800",children:"Confirm"})]})]},i.id))]}),E.jsxs("div",{children:[E.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[E.jsx(Px,{className:"w-5 h-5"})," History"]}),E.jsx("div",{className:"bg-white rounded shadow overflow-hidden",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-3",children:"Completed"}),E.jsx("th",{className:"p-3",children:"Type"}),E.jsx("th",{className:"p-3",children:"Vehicle"}),E.jsx("th",{className:"p-3",children:"Fitter"}),E.jsx("th",{className:"p-3 text-right",children:"Status"})]})}),E.jsx("tbody",{children:r.filter(i=>i.status==="Completed").map(i=>E.jsxs("tr",{children:[E.jsx("td",{className:"p-3",children:new Date(i.completedDate).toLocaleDateString()}),E.jsx("td",{className:"p-3",children:i.type}),E.jsx("td",{className:"p-3 font-bold",children:i.vehicleReg}),E.jsx("td",{className:"p-3",children:i.fitter}),E.jsx("td",{className:"p-3 text-right text-green-600 font-bold",children:"VERIFIED"})]},i.id))})]})})]})]})}function TI({history:r,retorques:e}){const[i,a]=De.useState(new Date().toISOString().slice(0,10)),[o,c]=De.useState(new Date().toISOString().slice(0,10)),[d,g]=De.useState("fitment"),_=r.filter(A=>{const N=A.fitDate.split("T")[0];return N>=i&&N<=o}),y=e.filter(A=>{const N=A.fitmentDate.split("T")[0];return N>=i&&N<=o}),S=()=>{let A="";d==="fitment"?A=`Date,Barcode,Brand,Size,DOT,Vehicle,Pos,Fitter
`+_.map(L=>`${L.fitDate},${L.barcode},${L.brand},${L.size},${L.dot},${L.vehicleReg},${zr(L.position)},${L.fitter}`).join(`
`):A=`Fitment Date,Due Date,Type,Vehicle,Position,Status,Fitter
`+y.map(L=>`${L.fitmentDate},${L.dueDate},${L.type},${L.vehicleReg},${zr(L.positionId)},${L.status},${L.fitter}`).join(`
`);const N=document.createElement("a");N.href="data:text/csv;charset=utf-8,"+encodeURI(A),N.download=`${d}_report.csv`,N.click()};return E.jsxs("div",{className:"space-y-6 bg-white p-6 rounded shadow",children:[E.jsxs("div",{className:"flex items-center gap-4 border-b pb-4 mb-4",children:[E.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 flex-1",children:[E.jsx(kT,{className:"w-5 h-5 text-blue-600"})," Reports"]}),E.jsxs("div",{className:"flex bg-slate-100 p-1 rounded",children:[E.jsx("button",{onClick:()=>g("fitment"),className:`px-4 py-1 rounded text-sm font-medium transition ${d==="fitment"?"bg-white shadow text-blue-600":"text-slate-500"}`,children:"Fitment History"}),E.jsx("button",{onClick:()=>g("retorque"),className:`px-4 py-1 rounded text-sm font-medium transition ${d==="retorque"?"bg-white shadow text-blue-600":"text-slate-500"}`,children:"Retorque Logs"})]})]}),E.jsxs("div",{className:"flex gap-4 items-end mb-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"From"}),E.jsx("input",{type:"date",value:i,onChange:A=>a(A.target.value),className:"border p-2 rounded"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-500",children:"To"}),E.jsx("input",{type:"date",value:o,onChange:A=>c(A.target.value),className:"border p-2 rounded"})]}),E.jsxs("button",{onClick:S,className:"ml-auto bg-green-600 text-white px-4 py-2 rounded flex items-center gap-2",children:[E.jsx(Ux,{className:"w-4 h-4"})," Export CSV"]})]}),E.jsx("div",{className:"overflow-x-auto border rounded",children:d==="fitment"?E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-3",children:"Date"}),E.jsx("th",{className:"p-3",children:"Barcode"}),E.jsx("th",{className:"p-3",children:"Brand"}),E.jsx("th",{className:"p-3",children:"Size"}),E.jsx("th",{className:"p-3",children:"DOT"}),E.jsx("th",{className:"p-3",children:"Vehicle"}),E.jsx("th",{className:"p-3",children:"Pos"}),E.jsx("th",{className:"p-3",children:"Fitter"})]})}),E.jsx("tbody",{children:_.map(A=>E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"p-3",children:new Date(A.fitDate).toLocaleDateString()}),E.jsx("td",{className:"p-3 font-mono",children:A.barcode}),E.jsx("td",{className:"p-3",children:A.brand}),E.jsx("td",{className:"p-3",children:A.size}),E.jsx("td",{className:"p-3",children:A.dot}),E.jsx("td",{className:"p-3 font-bold",children:A.vehicleReg}),E.jsx("td",{className:"p-3",children:zr(A.position)}),E.jsx("td",{className:"p-3 font-bold",children:A.fitter})]},A.id))})]}):E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-3",children:"Fit Date"}),E.jsx("th",{className:"p-3",children:"Due Date"}),E.jsx("th",{className:"p-3",children:"Type"}),E.jsx("th",{className:"p-3",children:"Vehicle"}),E.jsx("th",{className:"p-3",children:"Position"}),E.jsx("th",{className:"p-3",children:"Status"}),E.jsx("th",{className:"p-3",children:"Completed"}),E.jsx("th",{className:"p-3",children:"Fitter"})]})}),E.jsx("tbody",{children:y.map(A=>E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"p-3 text-slate-500",children:new Date(A.fitmentDate).toLocaleDateString()}),E.jsx("td",{className:"p-3 font-bold",children:new Date(A.dueDate).toLocaleString()}),E.jsx("td",{className:"p-3",children:E.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold text-white ${A.type.includes("30")?"bg-blue-500":"bg-purple-500"}`,children:A.type})}),E.jsx("td",{className:"p-3 font-bold",children:A.vehicleReg}),E.jsx("td",{className:"p-3",children:zr(A.positionId)}),E.jsx("td",{className:"p-3",children:E.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${A.status==="Completed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:A.status})}),E.jsx("td",{className:"p-3",children:A.completedDate?new Date(A.completedDate).toLocaleString():"-"}),E.jsx("td",{className:"p-3 font-bold",children:A.fitter})]},A.id))})]})})]})}function bI({sizes:r,onAddSize:e,onRemoveSize:i,onSeed:a,users:o,onAddUser:c,onRemoveUser:d}){const[g,_]=De.useState(""),[y,S]=De.useState({initials:"",pin:"",role:"Fitter"}),A=N=>{N.preventDefault(),y.initials&&y.pin&&(c({...y,initials:y.initials.toUpperCase()}),S({initials:"",pin:"",role:"Fitter"}))};return E.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[E.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[E.jsx(rp,{className:"w-5 h-5"})," Tyre Configuration"]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h4",{className:"font-bold text-sm mb-2",children:"Tyre Sizes"}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map(N=>E.jsxs("span",{className:"bg-slate-100 px-3 py-1 rounded-full text-sm flex gap-2 items-center",children:[N.name,E.jsx("button",{onClick:()=>i(N.id),className:"text-red-400 hover:text-red-600",children:E.jsx(ym,{className:"w-3 h-3"})})]},N.id))}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{className:"border p-2 rounded flex-1",placeholder:"New Size",value:g,onChange:N=>_(N.target.value)}),E.jsx("button",{onClick:()=>{e(g),_("")},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add"})]})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[E.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[E.jsx(u0,{className:"w-5 h-5"})," System Actions"]}),E.jsx("p",{className:"text-xs text-red-600 font-bold mb-4",children:"If you are not Dale - DO NOT press this button"}),E.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-slate-800 text-white px-4 py-2 rounded hover:bg-slate-900 w-full justify-center",children:[E.jsx(u0,{className:"w-4 h-4"})," Initialize Database"]})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded shadow h-fit",children:[E.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[E.jsx(sI,{className:"w-5 h-5"})," User Management"]}),E.jsxs("form",{onSubmit:A,className:"bg-slate-50 p-4 rounded mb-6 border",children:[E.jsx("h4",{className:"font-bold text-sm mb-3",children:"Add New User"}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[E.jsx("input",{className:"border p-2 rounded uppercase",placeholder:"Initials",maxLength:3,value:y.initials,onChange:N=>S({...y,initials:N.target.value}),required:!0}),E.jsx("input",{className:"border p-2 rounded",placeholder:"PIN",maxLength:4,type:"password",value:y.pin,onChange:N=>S({...y,pin:N.target.value}),required:!0})]}),E.jsxs("select",{className:"w-full border p-2 rounded mb-2",value:y.role,onChange:N=>S({...y,role:N.target.value}),children:[E.jsx("option",{value:"Admin",children:"Admin"}),E.jsx("option",{value:"Manager",children:"Manager"}),E.jsx("option",{value:"Fitter",children:"Fitter"})]}),E.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded font-bold",children:"Create User"})]}),E.jsx("div",{className:"space-y-2",children:o.map(N=>E.jsxs("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-slate-50",children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-bold",children:N.initials}),E.jsx("div",{className:"text-xs text-slate-500",children:N.role})]}),E.jsx("button",{onClick:()=>d(N.id),className:"text-red-400 hover:text-red-600",children:E.jsx(LT,{className:"w-4 h-4"})})]},N.id))})]})]})}function BT({vehicle:r,retorques:e=[],mode:i="view",onSelect:a}){const{layout:o,wheels:c}=r,d=(_,y)=>{const S=c[_],A=e.find(N=>N.vehicleReg===r.reg&&N.positionId===_&&N.status==="Pending");return E.jsxs("button",{onClick:a?()=>a(_):void 0,className:`relative flex flex-col items-center p-2 rounded border-2 transition-all w-24 hover:scale-105 hover:border-blue-500 ${S?"bg-slate-50 border-slate-300":"bg-slate-100 border-dashed"} ${A?"ring-2 ring-amber-500":""}`,children:[E.jsx("div",{className:`w-8 h-12 rounded bg-gradient-to-r from-slate-700 to-slate-900 mb-2 border-l-2 border-r-2 border-slate-600 ${!S&&"opacity-20"}`}),E.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:y}),i==="view"&&A&&E.jsx("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white rounded-full p-1 animate-pulse",children:E.jsx(PT,{className:"w-3 h-3"})})]},_)},g=_=>E.jsxs("div",{className:"flex justify-between items-center w-full max-w-lg mx-auto my-4 relative px-4",children:[E.jsx("div",{className:"h-2 bg-slate-300 absolute w-full top-1/2 -translate-y-1/2 -z-10 rounded left-0"}),_]});return E.jsxs("div",{className:"flex flex-col items-center py-8",children:[E.jsxs("div",{className:"mb-4 text-slate-300 flex flex-col items-center",children:[E.jsx("div",{className:"w-0 h-0 border-l-[20px] border-l-transparent border-r-[20px] border-r-transparent border-b-[30px] border-b-slate-200"}),E.jsx("span",{className:"text-xs font-bold mt-1",children:"FRONT"})]}),g([d("FL","Front L"),d("FR","Front R")]),E.jsx("div",{className:"h-16 border-l-4 border-slate-200 border-dashed my-2"}),o==="2-axle-dual"&&g([E.jsxs("div",{className:"flex gap-1",children:[d("RLO","Outer"),d("RLI","Inner")]},"al"),E.jsxs("div",{className:"flex gap-1",children:[d("RRI","Inner"),d("RRO","Outer")]},"ar")]),o==="2-axle-single"&&g([d("RL","Rear L"),d("RR","Rear R")]),o==="3-axle-rigid"&&E.jsxs(E.Fragment,{children:[g([E.jsxs("div",{className:"flex gap-1",children:[d("DLO","Dr L-Out"),d("DLI","Dr L-In")]},"dl"),E.jsxs("div",{className:"flex gap-1",children:[d("DRI","Dr R-In"),d("DRO","Dr R-Out")]},"dr")]),E.jsx("div",{className:"h-8 border-l-4 border-slate-200 border-dashed my-2"}),g([d("TL","Tag L"),d("TR","Tag R")])]}),o==="3-axle-rear-steer"&&E.jsxs(E.Fragment,{children:[g([E.jsxs("div",{className:"flex gap-1",children:[d("DLO","Dr L-Out"),d("DLI","Dr L-In")]},"dl"),E.jsxs("div",{className:"flex gap-1",children:[d("DRI","Dr R-In"),d("DRO","Dr R-Out")]},"dr")]),g([d("RSL","R-Steer L"),d("RSR","R-Steer R")])]})]})}const qa=({label:r,icon:e,active:i,onClick:a,badge:o})=>E.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-4 py-2 rounded-md transition text-sm font-medium whitespace-nowrap ${i?"bg-slate-700 text-white shadow":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[E.jsxs("div",{className:"relative",children:[E.jsx(e,{className:"w-4 h-4"}),o>0&&E.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full",children:o})]}),E.jsx("span",{className:"hidden md:inline",children:r})]}),Qd=({num:r,label:e,active:i})=>E.jsxs("div",{className:`flex items-center gap-2 ${i?"text-blue-600":"text-slate-300"}`,children:[E.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 ${i?"border-blue-600 bg-blue-50":"border-slate-200"}`,children:r}),E.jsx("span",{className:"hidden md:inline font-medium text-sm",children:e})]});Cb.createRoot(document.getElementById("root")).render(E.jsx(De.StrictMode,{children:E.jsx(pI,{})}));
